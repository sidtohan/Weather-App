/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/main.css":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/main.css ***!
  \************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
// Imports



var ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! ./assets/hills1.svg */ "./src/assets/hills1.svg"), __webpack_require__.b);
var ___CSS_LOADER_URL_IMPORT_1___ = new URL(/* asset import */ __webpack_require__(/*! ./assets/hills2.svg */ "./src/assets/hills2.svg"), __webpack_require__.b);
var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
___CSS_LOADER_EXPORT___.push([module.id, "@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap);"]);
___CSS_LOADER_EXPORT___.push([module.id, "@import url(https://fonts.googleapis.com/css2?family=M+PLUS+2:wght@500;700&display=swap);"]);
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);
var ___CSS_LOADER_URL_REPLACEMENT_1___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_1___);
// Module
___CSS_LOADER_EXPORT___.push([module.id, "/* RESET CSS  */\n\n* {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n\n/* HTML5 display-role reset for older browsers */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nbody {\n  line-height: 1;\n}\nol,\nul {\n  list-style: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: \"\";\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\n/* LOADER  */\n.loader {\n  width: 60px;\n  height: 60px;\n  background-color: white;\n  animation: spin 0.8s ease-in-out infinite;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(-180deg);\n  }\n  50% {\n    transform: translateY(-30px);\n  }\n  70% {\n    transform: translateY(0);\n  }\n  75% {\n    transform: translateY(-10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n/* PARTICLES */\n#tsparticles {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  padding: 0;\n  margin: 0;\n  z-index: -1;\n}\n\ncanvas {\n  height: 800px !important;\n  width: 100% !important;\n}\n\n/* ERROR  */\n.display-error {\n  position: absolute;\n  transform: translateY(-100%);\n  animation: error-pop-in 3s ease-in-out forwards;\n\n  color: white;\n  font-weight: 500;\n  font-size: 20px;\n\n  background-color: rgb(255, 30, 30);\n  padding: 10px 20px;\n  border-radius: 0 0 10px 10px;\n}\n\n@keyframes error-pop-in {\n  0% {\n    transform: translateY(-100%);\n  }\n  25% {\n    transform: translateY(0);\n  }\n  50% {\n    transform: translateY(0);\n  }\n  75% {\n    transform: translateY(0);\n  }\n  100% {\n    transform: translateY(-100%);\n  }\n}\n\n/* HEADER */\nheader {\n  display: flex;\n  justify-content: center;\n  width: min(1000px, 80%);\n  margin-top: 70px;\n}\n\nheader > h1 {\n  margin: 0;\n  color: white;\n  font-weight: 700;\n  font-size: 52px;\n  padding: 36px 0;\n}\n\n.user-input {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 80%;\n}\n\n.city-name {\n  background: #fff;\n  border-radius: 50px;\n  border-bottom-right-radius: 0;\n  border-top-right-radius: 0;\n  padding: 5px;\n  text-align: center;\n  font-size: 35px;\n  font-weight: 700;\n  color: #4d4b4b;\n  font-family: \"Poppins\", Verdana, Geneva, Tahoma, sans-serif;\n\n  border: none;\n  width: 90%;\n}\n\n.city-name:focus {\n  outline: none;\n}\n\n::placeholder {\n  font-weight: 700;\n  color: #4d4b4b;\n  opacity: 1;\n  font-size: 35px;\n\n  text-align: center;\n  font-family: \"Poppins\", Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.city-name:focus::placeholder {\n  color: transparent;\n}\n\n.user-input > button {\n  cursor: pointer;\n  background-color: white;\n  font-family: \"Poppins\";\n  font-size: 35px;\n\n  padding: 3px 10px;\n  font-weight: 700;\n  border: none;\n  border-top-right-radius: 35px;\n  border: solid 2px white;\n  border-bottom-right-radius: 35px;\n  border-left-width: 0;\n\n  width: 10%;\n  height: 100%;\n  min-width: 70px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.user-input img {\n  vertical-align: middle;\n  height: 30px;\n  width: auto;\n  position: relative;\n  bottom: 2px;\n}\n\n/* WEATHER DISPLAY */\n.weather-display {\n  display: flex;\n  width: 70%;\n  opacity: 1;\n  justify-content: center;\n  color: #fff;\n\n  font-size: 50px;\n  padding: 80px 20px;\n  gap: 50px;\n}\n\n.temp-info {\n  display: flex;\n  flex-direction: column;\n  font-size: 50px;\n  gap: 10px;\n  justify-content: center;\n}\n\n.temp-data {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 15px;\n}\n\n.display-city-name {\n  font-size: 45px;\n  font-weight: 500;\n}\n\n.display-condition {\n  font-size: 40px;\n  font-weight: 500;\n  letter-spacing: 0.1em;\n}\n\n.display-current-temp {\n  padding-right: 10px;\n  font-weight: 700;\n  line-height: 40px;\n  border-right: 5px solid #fff;\n}\n\n@keyframes slide-in {\n  from {\n    opacity: 0;\n    transform: translateY(-100px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.info-display {\n  font-size: 30px;\n  font-weight: 500;\n  font-family: \"M PLUS 2\", Verdana, Geneva, Tahoma, sans-serif;\n  color: white;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  gap: 20px;\n  transition: all 0.7s ease-in-out;\n}\n\n.white-block {\n  height: 70px;\n  width: 7px;\n  background-color: #fff;\n}\n\n.info {\n  display: flex;\n  justify-content: center;\n  gap: 100px;\n}\n\n.info-holder {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 450px;\n}\n\n.max-temp,\n.min-temp {\n  font-size: 25px;\n  font-weight: 500;\n}\n\n.max-temp-logo,\n.min-temp-logo {\n  height: 20px;\n  margin-left: 7px;\n  display: inline-block;\n}\n\n.cast-temp {\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  gap: 2px;\n}\n\n.humidity {\n  display: flex;\n  gap: 5px;\n}\n\n.humidity > img {\n  display: inline-block;\n}\n\n.cast {\n  text-align: center;\n  font-weight: 700;\n  letter-spacing: 2px;\n}\n\n.misc {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 5px;\n}\n\n.wind {\n  display: flex;\n  align-items: center;\n  gap: 2px;\n}\n\n.wind > img {\n  display: inline-block;\n}\n\n/* LOADING */\n.loading-begin {\n  color: white;\n  font-family: \"Poppins\", Verdana, Geneva, Tahoma, sans-serif;\n  font-size: 60px;\n  font-weight: 500;\n  width: 100%;\n  text-align: center;\n\n  position: fixed;\n  min-height: 100%;\n  height: 100vh;\n  width: 100%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #01223aef;\n  z-index: 10;\n}\n\n/* WEATHER EFFECTs */\n.sun {\n  background-color: #ffff00;\n  background-size: cover;\n  height: 150px;\n  width: 150px;\n  z-index: -2;\n\n  border: none;\n  border-radius: 50%;\n  box-shadow: 0 0 60px 10px rgb(255 255 0);\n  display: block;\n  transform: scale(0);\n  animation: show-in 0.4s ease-in-out forwards;\n\n  backface-visibility: hidden;\n}\n\n@keyframes show-in {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n.hills-container {\n  min-height: 400px;\n  height: 45vh;\n  width: 100%;\n\n  position: relative;\n  overflow: clip;\n}\n\n.hills1,\n.hills2 {\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: absolute;\n  bottom: -1px;\n\n  width: 100%;\n  height: 100%;\n}\n.hills1 {\n  background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ");\n  height: 70%;\n  z-index: 9;\n}\n\n.hills2 {\n  background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_1___ + ");\n  z-index: 8;\n}\n\n/* BODY */\nbody,\nhtml {\n  font-family: \"Poppins\", sans-serif, Verdana, Geneva, Tahoma;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  min-height: 100%;\n  height: 100%;\n}\n\nbody::-webkit-scrollbar {\n  display: none;\n}\nbody {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  box-sizing: border-box;\n  background: #0095ff;\n  background-repeat: no-repeat !important;\n  background-attachment: fixed !important;\n\n  -ms-overflow-style: none;\n  scrollbar-width: 20px;\n}\n\n* {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nfooter {\n  background-color: #003000;\n  width: 100%;\n  height: 100%;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  color: white;\n  font-size: 30px;\n}\n\n.credits {\n  padding: 30px;\n}\n\n/* MEDIA QUERIES */\n@media screen and (max-width: 768px) {\n  /* HEADER  */\n  header {\n    width: 85%;\n  }\n\n  .city-name,\n  *::placeholder,\n  .user-input > button {\n    font-size: 30px;\n  }\n\n  .city-name {\n    width: 85%;\n  }\n  .user-input > button {\n    width: 15%;\n    min-width: 50px;\n  }\n  /* WEATHER DISPLAY  */\n  .weather-display {\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .display-current-temp,\n  .display-condition,\n  .display-city-name {\n    text-align: center;\n    font-size: 36px;\n  }\n\n  /* CREDITS  */\n  .credits {\n    text-align: center;\n    font-size: 25px;\n  }\n\n  /* LOADING  */\n  .loading-begin {\n    font-size: 50px;\n  }\n}\n\n@media screen and (max-width: 440px) {\n  /* ERROR  */\n  .display-error {\n    width: 75%;\n  }\n\n  /* HEADER  */\n  header {\n    width: 95%;\n  }\n\n  /* WEATHER DISPLAY */\n  .display-current-temp {\n    font-size: 45px;\n    border-right: none;\n    padding: 0;\n  }\n\n  .temp-data {\n    flex-direction: column;\n    gap: 10px;\n  }\n\n  .city-name,\n  *::placeholder,\n  .user-input > button {\n    font-size: 23px;\n  }\n\n  .user-input > button {\n    width: 10%;\n    min-width: 40px;\n  }\n  .city-name {\n    width: 90%;\n  }\n  .user-input img {\n    height: 22px;\n  }\n  /* LOADING  */\n  .loading-begin {\n    font-size: 45px;\n  }\n}\n", "",{"version":3,"sources":["webpack://./src/main.css"],"names":[],"mappings":"AAGA,eAAe;;AAEf;EACE,SAAS;EACT,UAAU;EACV,SAAS;EACT,eAAe;EACf,aAAa;EACb,wBAAwB;AAC1B;;AAEA,gDAAgD;AAChD;;;;;;;;;;;EAWE,cAAc;AAChB;AACA;EACE,cAAc;AAChB;AACA;;EAEE,gBAAgB;AAClB;AACA;;EAEE,YAAY;AACd;AACA;;;;EAIE,WAAW;EACX,aAAa;AACf;AACA;EACE,yBAAyB;EACzB,iBAAiB;AACnB;;AAEA,YAAY;AACZ;EACE,WAAW;EACX,YAAY;EACZ,uBAAuB;EACvB,yCAAyC;AAC3C;;AAEA;EACE;IACE,0BAA0B;EAC5B;EACA;IACE,4BAA4B;EAC9B;EACA;IACE,wBAAwB;EAC1B;EACA;IACE,4BAA4B;EAC9B;EACA;IACE,wBAAwB;EAC1B;AACF;AACA,cAAc;AACd;EACE,eAAe;EACf,MAAM;EACN,OAAO;EACP,SAAS;EACT,QAAQ;EACR,UAAU;EACV,SAAS;EACT,WAAW;AACb;;AAEA;EACE,wBAAwB;EACxB,sBAAsB;AACxB;;AAEA,WAAW;AACX;EACE,kBAAkB;EAClB,4BAA4B;EAC5B,+CAA+C;;EAE/C,YAAY;EACZ,gBAAgB;EAChB,eAAe;;EAEf,kCAAkC;EAClC,kBAAkB;EAClB,4BAA4B;AAC9B;;AAEA;EACE;IACE,4BAA4B;EAC9B;EACA;IACE,wBAAwB;EAC1B;EACA;IACE,wBAAwB;EAC1B;EACA;IACE,wBAAwB;EAC1B;EACA;IACE,4BAA4B;EAC9B;AACF;;AAEA,WAAW;AACX;EACE,aAAa;EACb,uBAAuB;EACvB,uBAAuB;EACvB,gBAAgB;AAClB;;AAEA;EACE,SAAS;EACT,YAAY;EACZ,gBAAgB;EAChB,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,UAAU;AACZ;;AAEA;EACE,gBAAgB;EAChB,mBAAmB;EACnB,6BAA6B;EAC7B,0BAA0B;EAC1B,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,gBAAgB;EAChB,cAAc;EACd,2DAA2D;;EAE3D,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,gBAAgB;EAChB,cAAc;EACd,UAAU;EACV,eAAe;;EAEf,kBAAkB;EAClB,2DAA2D;AAC7D;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,uBAAuB;EACvB,sBAAsB;EACtB,eAAe;;EAEf,iBAAiB;EACjB,gBAAgB;EAChB,YAAY;EACZ,6BAA6B;EAC7B,uBAAuB;EACvB,gCAAgC;EAChC,oBAAoB;;EAEpB,UAAU;EACV,YAAY;EACZ,eAAe;EACf,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,sBAAsB;EACtB,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,WAAW;AACb;;AAEA,oBAAoB;AACpB;EACE,aAAa;EACb,UAAU;EACV,UAAU;EACV,uBAAuB;EACvB,WAAW;;EAEX,eAAe;EACf,kBAAkB;EAClB,SAAS;AACX;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,eAAe;EACf,SAAS;EACT,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,2BAA2B;EAC3B,mBAAmB;EACnB,SAAS;AACX;;AAEA;EACE,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,qBAAqB;AACvB;;AAEA;EACE,mBAAmB;EACnB,gBAAgB;EAChB,iBAAiB;EACjB,4BAA4B;AAC9B;;AAEA;EACE;IACE,UAAU;IACV,6BAA6B;EAC/B;EACA;IACE,UAAU;IACV,wBAAwB;EAC1B;AACF;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,4DAA4D;EAC5D,YAAY;EACZ,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,SAAS;EACT,gCAAgC;AAClC;;AAEA;EACE,YAAY;EACZ,UAAU;EACV,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;AACd;;AAEA;;EAEE,eAAe;EACf,gBAAgB;AAClB;;AAEA;;EAEE,YAAY;EACZ,gBAAgB;EAChB,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,gBAAgB;EAChB,QAAQ;AACV;;AAEA;EACE,aAAa;EACb,QAAQ;AACV;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,QAAQ;AACV;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;AACV;;AAEA;EACE,qBAAqB;AACvB;;AAEA,YAAY;AACZ;EACE,YAAY;EACZ,2DAA2D;EAC3D,eAAe;EACf,gBAAgB;EAChB,WAAW;EACX,kBAAkB;;EAElB,eAAe;EACf,gBAAgB;EAChB,aAAa;EACb,WAAW;;EAEX,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,2BAA2B;EAC3B,WAAW;AACb;;AAEA,oBAAoB;AACpB;EACE,yBAAyB;EACzB,sBAAsB;EACtB,aAAa;EACb,YAAY;EACZ,WAAW;;EAEX,YAAY;EACZ,kBAAkB;EAClB,wCAAwC;EACxC,cAAc;EACd,mBAAmB;EACnB,4CAA4C;;EAE5C,2BAA2B;AAC7B;;AAEA;EACE;IACE,mBAAmB;EACrB;EACA;IACE,qBAAqB;EACvB;EACA;IACE,mBAAmB;EACrB;AACF;;AAEA;EACE,iBAAiB;EACjB,YAAY;EACZ,WAAW;;EAEX,kBAAkB;EAClB,cAAc;AAChB;;AAEA;;EAEE,sBAAsB;EACtB,4BAA4B;EAC5B,kBAAkB;EAClB,YAAY;;EAEZ,WAAW;EACX,YAAY;AACd;AACA;EACE,yDAA4C;EAC5C,WAAW;EACX,UAAU;AACZ;;AAEA;EACE,yDAA4C;EAC5C,UAAU;AACZ;;AAEA,SAAS;AACT;;EAEE,2DAA2D;EAC3D,SAAS;EACT,UAAU;EACV,WAAW;EACX,gBAAgB;EAChB,YAAY;AACd;;AAEA;EACE,aAAa;AACf;AACA;EACE,kBAAkB;EAClB,aAAa;EACb,sBAAsB;EACtB,mBAAmB;;EAEnB,sBAAsB;EACtB,mBAAmB;EACnB,uCAAuC;EACvC,uCAAuC;;EAEvC,wBAAwB;EACxB,qBAAqB;AACvB;;AAEA;EACE,6CAA6C;AAC/C;;AAEA;EACE,yBAAyB;EACzB,WAAW;EACX,YAAY;;EAEZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;;EAEvB,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,aAAa;AACf;;AAEA,kBAAkB;AAClB;EACE,YAAY;EACZ;IACE,UAAU;EACZ;;EAEA;;;IAGE,eAAe;EACjB;;EAEA;IACE,UAAU;EACZ;EACA;IACE,UAAU;IACV,eAAe;EACjB;EACA,qBAAqB;EACrB;IACE,sBAAsB;IACtB,mBAAmB;EACrB;;EAEA;;;IAGE,kBAAkB;IAClB,eAAe;EACjB;;EAEA,aAAa;EACb;IACE,kBAAkB;IAClB,eAAe;EACjB;;EAEA,aAAa;EACb;IACE,eAAe;EACjB;AACF;;AAEA;EACE,WAAW;EACX;IACE,UAAU;EACZ;;EAEA,YAAY;EACZ;IACE,UAAU;EACZ;;EAEA,oBAAoB;EACpB;IACE,eAAe;IACf,kBAAkB;IAClB,UAAU;EACZ;;EAEA;IACE,sBAAsB;IACtB,SAAS;EACX;;EAEA;;;IAGE,eAAe;EACjB;;EAEA;IACE,UAAU;IACV,eAAe;EACjB;EACA;IACE,UAAU;EACZ;EACA;IACE,YAAY;EACd;EACA,aAAa;EACb;IACE,eAAe;EACjB;AACF","sourcesContent":["@import url(\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=M+PLUS+2:wght@500;700&display=swap\");\n\n/* RESET CSS  */\n\n* {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n\n/* HTML5 display-role reset for older browsers */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nbody {\n  line-height: 1;\n}\nol,\nul {\n  list-style: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: \"\";\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\n/* LOADER  */\n.loader {\n  width: 60px;\n  height: 60px;\n  background-color: white;\n  animation: spin 0.8s ease-in-out infinite;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(-180deg);\n  }\n  50% {\n    transform: translateY(-30px);\n  }\n  70% {\n    transform: translateY(0);\n  }\n  75% {\n    transform: translateY(-10px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n/* PARTICLES */\n#tsparticles {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  padding: 0;\n  margin: 0;\n  z-index: -1;\n}\n\ncanvas {\n  height: 800px !important;\n  width: 100% !important;\n}\n\n/* ERROR  */\n.display-error {\n  position: absolute;\n  transform: translateY(-100%);\n  animation: error-pop-in 3s ease-in-out forwards;\n\n  color: white;\n  font-weight: 500;\n  font-size: 20px;\n\n  background-color: rgb(255, 30, 30);\n  padding: 10px 20px;\n  border-radius: 0 0 10px 10px;\n}\n\n@keyframes error-pop-in {\n  0% {\n    transform: translateY(-100%);\n  }\n  25% {\n    transform: translateY(0);\n  }\n  50% {\n    transform: translateY(0);\n  }\n  75% {\n    transform: translateY(0);\n  }\n  100% {\n    transform: translateY(-100%);\n  }\n}\n\n/* HEADER */\nheader {\n  display: flex;\n  justify-content: center;\n  width: min(1000px, 80%);\n  margin-top: 70px;\n}\n\nheader > h1 {\n  margin: 0;\n  color: white;\n  font-weight: 700;\n  font-size: 52px;\n  padding: 36px 0;\n}\n\n.user-input {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 80%;\n}\n\n.city-name {\n  background: #fff;\n  border-radius: 50px;\n  border-bottom-right-radius: 0;\n  border-top-right-radius: 0;\n  padding: 5px;\n  text-align: center;\n  font-size: 35px;\n  font-weight: 700;\n  color: #4d4b4b;\n  font-family: \"Poppins\", Verdana, Geneva, Tahoma, sans-serif;\n\n  border: none;\n  width: 90%;\n}\n\n.city-name:focus {\n  outline: none;\n}\n\n::placeholder {\n  font-weight: 700;\n  color: #4d4b4b;\n  opacity: 1;\n  font-size: 35px;\n\n  text-align: center;\n  font-family: \"Poppins\", Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.city-name:focus::placeholder {\n  color: transparent;\n}\n\n.user-input > button {\n  cursor: pointer;\n  background-color: white;\n  font-family: \"Poppins\";\n  font-size: 35px;\n\n  padding: 3px 10px;\n  font-weight: 700;\n  border: none;\n  border-top-right-radius: 35px;\n  border: solid 2px white;\n  border-bottom-right-radius: 35px;\n  border-left-width: 0;\n\n  width: 10%;\n  height: 100%;\n  min-width: 70px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.user-input img {\n  vertical-align: middle;\n  height: 30px;\n  width: auto;\n  position: relative;\n  bottom: 2px;\n}\n\n/* WEATHER DISPLAY */\n.weather-display {\n  display: flex;\n  width: 70%;\n  opacity: 1;\n  justify-content: center;\n  color: #fff;\n\n  font-size: 50px;\n  padding: 80px 20px;\n  gap: 50px;\n}\n\n.temp-info {\n  display: flex;\n  flex-direction: column;\n  font-size: 50px;\n  gap: 10px;\n  justify-content: center;\n}\n\n.temp-data {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 15px;\n}\n\n.display-city-name {\n  font-size: 45px;\n  font-weight: 500;\n}\n\n.display-condition {\n  font-size: 40px;\n  font-weight: 500;\n  letter-spacing: 0.1em;\n}\n\n.display-current-temp {\n  padding-right: 10px;\n  font-weight: 700;\n  line-height: 40px;\n  border-right: 5px solid #fff;\n}\n\n@keyframes slide-in {\n  from {\n    opacity: 0;\n    transform: translateY(-100px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.info-display {\n  font-size: 30px;\n  font-weight: 500;\n  font-family: \"M PLUS 2\", Verdana, Geneva, Tahoma, sans-serif;\n  color: white;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  gap: 20px;\n  transition: all 0.7s ease-in-out;\n}\n\n.white-block {\n  height: 70px;\n  width: 7px;\n  background-color: #fff;\n}\n\n.info {\n  display: flex;\n  justify-content: center;\n  gap: 100px;\n}\n\n.info-holder {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 450px;\n}\n\n.max-temp,\n.min-temp {\n  font-size: 25px;\n  font-weight: 500;\n}\n\n.max-temp-logo,\n.min-temp-logo {\n  height: 20px;\n  margin-left: 7px;\n  display: inline-block;\n}\n\n.cast-temp {\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  gap: 2px;\n}\n\n.humidity {\n  display: flex;\n  gap: 5px;\n}\n\n.humidity > img {\n  display: inline-block;\n}\n\n.cast {\n  text-align: center;\n  font-weight: 700;\n  letter-spacing: 2px;\n}\n\n.misc {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 5px;\n}\n\n.wind {\n  display: flex;\n  align-items: center;\n  gap: 2px;\n}\n\n.wind > img {\n  display: inline-block;\n}\n\n/* LOADING */\n.loading-begin {\n  color: white;\n  font-family: \"Poppins\", Verdana, Geneva, Tahoma, sans-serif;\n  font-size: 60px;\n  font-weight: 500;\n  width: 100%;\n  text-align: center;\n\n  position: fixed;\n  min-height: 100%;\n  height: 100vh;\n  width: 100%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #01223aef;\n  z-index: 10;\n}\n\n/* WEATHER EFFECTs */\n.sun {\n  background-color: #ffff00;\n  background-size: cover;\n  height: 150px;\n  width: 150px;\n  z-index: -2;\n\n  border: none;\n  border-radius: 50%;\n  box-shadow: 0 0 60px 10px rgb(255 255 0);\n  display: block;\n  transform: scale(0);\n  animation: show-in 0.4s ease-in-out forwards;\n\n  backface-visibility: hidden;\n}\n\n@keyframes show-in {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n.hills-container {\n  min-height: 400px;\n  height: 45vh;\n  width: 100%;\n\n  position: relative;\n  overflow: clip;\n}\n\n.hills1,\n.hills2 {\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: absolute;\n  bottom: -1px;\n\n  width: 100%;\n  height: 100%;\n}\n.hills1 {\n  background-image: url(\"./assets/hills1.svg\");\n  height: 70%;\n  z-index: 9;\n}\n\n.hills2 {\n  background-image: url(\"./assets/hills2.svg\");\n  z-index: 8;\n}\n\n/* BODY */\nbody,\nhtml {\n  font-family: \"Poppins\", sans-serif, Verdana, Geneva, Tahoma;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  min-height: 100%;\n  height: 100%;\n}\n\nbody::-webkit-scrollbar {\n  display: none;\n}\nbody {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  box-sizing: border-box;\n  background: #0095ff;\n  background-repeat: no-repeat !important;\n  background-attachment: fixed !important;\n\n  -ms-overflow-style: none;\n  scrollbar-width: 20px;\n}\n\n* {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nfooter {\n  background-color: #003000;\n  width: 100%;\n  height: 100%;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  color: white;\n  font-size: 30px;\n}\n\n.credits {\n  padding: 30px;\n}\n\n/* MEDIA QUERIES */\n@media screen and (max-width: 768px) {\n  /* HEADER  */\n  header {\n    width: 85%;\n  }\n\n  .city-name,\n  *::placeholder,\n  .user-input > button {\n    font-size: 30px;\n  }\n\n  .city-name {\n    width: 85%;\n  }\n  .user-input > button {\n    width: 15%;\n    min-width: 50px;\n  }\n  /* WEATHER DISPLAY  */\n  .weather-display {\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .display-current-temp,\n  .display-condition,\n  .display-city-name {\n    text-align: center;\n    font-size: 36px;\n  }\n\n  /* CREDITS  */\n  .credits {\n    text-align: center;\n    font-size: 25px;\n  }\n\n  /* LOADING  */\n  .loading-begin {\n    font-size: 50px;\n  }\n}\n\n@media screen and (max-width: 440px) {\n  /* ERROR  */\n  .display-error {\n    width: 75%;\n  }\n\n  /* HEADER  */\n  header {\n    width: 95%;\n  }\n\n  /* WEATHER DISPLAY */\n  .display-current-temp {\n    font-size: 45px;\n    border-right: none;\n    padding: 0;\n  }\n\n  .temp-data {\n    flex-direction: column;\n    gap: 10px;\n  }\n\n  .city-name,\n  *::placeholder,\n  .user-input > button {\n    font-size: 23px;\n  }\n\n  .user-input > button {\n    width: 10%;\n    min-width: 40px;\n  }\n  .city-name {\n    width: 90%;\n  }\n  .user-input img {\n    height: 22px;\n  }\n  /* LOADING  */\n  .loading-begin {\n    font-size: 45px;\n  }\n}\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {



/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";

      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }

      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }

      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }

      content += cssWithMappingToString(item);

      if (needLayer) {
        content += "}";
      }

      if (item[2]) {
        content += "}";
      }

      if (item[4]) {
        content += "}";
      }

      return content;
    }).join("");
  }; // import a list of modules into the list


  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }

      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }

      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }

      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }

      list.push(item);
    }
  };

  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/***/ ((module) => {



module.exports = function (url, options) {
  if (!options) {
    options = {};
  }

  if (!url) {
    return url;
  }

  url = String(url.__esModule ? url.default : url); // If url is already wrapped in quotes, remove them

  if (/^['"].*['"]$/.test(url)) {
    url = url.slice(1, -1);
  }

  if (options.hash) {
    url += options.hash;
  } // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls


  if (/["'() \t\n]|(%20)/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, "\\n"), "\"");
  }

  return url;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {



module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || "").concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join("\n");
  }

  return [content].join("\n");
};

/***/ }),

/***/ "./src/main.css":
/*!**********************!*\
  !*** ./src/main.css ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./main.css */ "./node_modules/css-loader/dist/cjs.js!./src/main.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {



var stylesInDOM = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };

    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);

  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }

      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };

  return updater;
}

module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();

        stylesInDOM.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {



var memo = {};
/* istanbul ignore next  */

function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }

    memo[target] = styleTarget;
  }

  return memo[target];
}
/* istanbul ignore next  */


function insertBySelector(insert, style) {
  var target = getTarget(insert);

  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }

  target.appendChild(style);
}

module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}

module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;

  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}

module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";

  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }

  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }

  var needLayer = typeof obj.layer !== "undefined";

  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }

  css += obj.css;

  if (needLayer) {
    css += "}";
  }

  if (obj.media) {
    css += "}";
  }

  if (obj.supports) {
    css += "}";
  }

  var sourceMap = obj.sourceMap;

  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  options.styleTagTransform(css, styleElement, options.options);
}

function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }

  styleElement.parentNode.removeChild(styleElement);
}
/* istanbul ignore next  */


function domAPI(options) {
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}

module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }

    styleElement.appendChild(document.createTextNode(css));
  }
}

module.exports = styleTagTransform;

/***/ }),

/***/ "./node_modules/tsparticles/Core/Canvas.js":
/*!*************************************************!*\
  !*** ./node_modules/tsparticles/Core/Canvas.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Canvas = void 0;
const Utils_1 = __webpack_require__(/*! ../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Utils_2 = __webpack_require__(/*! ../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Canvas {
    constructor(container) {
        this.container = container;
        this.size = {
            height: 0,
            width: 0,
        };
        this.context = null;
        this.generatedCanvas = false;
    }
    init() {
        this.resize();
        this.initStyle();
        this.initCover();
        this.initTrail();
        this.initBackground();
        this.paint();
    }
    loadCanvas(canvas, generatedCanvas) {
        var _a;
        if (!canvas.className) {
            canvas.className = Utils_1.Constants.canvasClass;
        }
        if (this.generatedCanvas) {
            (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();
        }
        this.generatedCanvas = generatedCanvas !== null && generatedCanvas !== void 0 ? generatedCanvas : this.generatedCanvas;
        this.element = canvas;
        this.originalStyle = (0, Utils_1.deepExtend)({}, this.element.style);
        this.size.height = canvas.offsetHeight;
        this.size.width = canvas.offsetWidth;
        this.context = this.element.getContext("2d");
        this.container.retina.init();
        this.initBackground();
    }
    destroy() {
        var _a;
        if (this.generatedCanvas) {
            (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();
        }
        this.draw((ctx) => {
            (0, Utils_2.clear)(ctx, this.size);
        });
    }
    paint() {
        const options = this.container.actualOptions;
        this.draw((ctx) => {
            if (options.backgroundMask.enable && options.backgroundMask.cover && this.coverColor) {
                (0, Utils_2.clear)(ctx, this.size);
                this.paintBase((0, Utils_1.getStyleFromRgb)(this.coverColor, this.coverColor.a));
            }
            else {
                this.paintBase();
            }
        });
    }
    clear() {
        const options = this.container.actualOptions;
        const trail = options.particles.move.trail;
        if (options.backgroundMask.enable) {
            this.paint();
        }
        else if (trail.enable && trail.length > 0 && this.trailFillColor) {
            this.paintBase((0, Utils_1.getStyleFromRgb)(this.trailFillColor, 1 / trail.length));
        }
        else {
            this.draw((ctx) => {
                (0, Utils_2.clear)(ctx, this.size);
            });
        }
    }
    windowResize() {
        if (!this.element) {
            return;
        }
        const container = this.container;
        this.resize();
        const needsRefresh = container.updateActualOptions();
        container.particles.setDensity();
        for (const [, plugin] of container.plugins) {
            if (plugin.resize !== undefined) {
                plugin.resize();
            }
        }
        if (needsRefresh) {
            container.refresh();
        }
    }
    resize() {
        if (!this.element) {
            return;
        }
        const container = this.container;
        const pxRatio = container.retina.pixelRatio;
        const size = container.canvas.size;
        const oldSize = {
            width: size.width,
            height: size.height,
        };
        size.width = this.element.offsetWidth * pxRatio;
        size.height = this.element.offsetHeight * pxRatio;
        this.element.width = size.width;
        this.element.height = size.height;
        if (this.container.started) {
            this.resizeFactor = {
                width: size.width / oldSize.width,
                height: size.height / oldSize.height,
            };
        }
    }
    drawConnectLine(p1, p2) {
        this.draw((ctx) => {
            var _a;
            const lineStyle = this.lineStyle(p1, p2);
            if (!lineStyle) {
                return;
            }
            const pos1 = p1.getPosition();
            const pos2 = p2.getPosition();
            (0, Utils_1.drawConnectLine)(ctx, (_a = p1.retina.linksWidth) !== null && _a !== void 0 ? _a : this.container.retina.linksWidth, lineStyle, pos1, pos2);
        });
    }
    drawGrabLine(particle, lineColor, opacity, mousePos) {
        const container = this.container;
        this.draw((ctx) => {
            var _a;
            const beginPos = particle.getPosition();
            (0, Utils_1.drawGrabLine)(ctx, (_a = particle.retina.linksWidth) !== null && _a !== void 0 ? _a : container.retina.linksWidth, beginPos, mousePos, lineColor, opacity);
        });
    }
    drawParticle(particle, delta) {
        var _a, _b, _c, _d, _e, _f;
        if (particle.spawning || particle.destroyed) {
            return;
        }
        const pfColor = particle.getFillColor();
        const psColor = (_a = particle.getStrokeColor()) !== null && _a !== void 0 ? _a : pfColor;
        if (!pfColor && !psColor) {
            return;
        }
        let [fColor, sColor] = this.getPluginParticleColors(particle);
        const pOptions = particle.options;
        const twinkle = pOptions.twinkle.particles;
        const twinkling = twinkle.enable && Math.random() < twinkle.frequency;
        if (!fColor || !sColor) {
            const twinkleRgb = (0, Utils_1.colorToHsl)(twinkle.color);
            if (!fColor) {
                fColor = twinkling && twinkleRgb !== undefined ? twinkleRgb : pfColor ? pfColor : undefined;
            }
            if (!sColor) {
                sColor = twinkling && twinkleRgb !== undefined ? twinkleRgb : psColor ? psColor : undefined;
            }
        }
        const options = this.container.actualOptions;
        const zIndexOptions = particle.options.zIndex;
        const zOpacityFactor = (1 - particle.zIndexFactor) ** zIndexOptions.opacityRate;
        const radius = particle.getRadius();
        const opacity = twinkling ? twinkle.opacity : (_d = (_b = particle.bubble.opacity) !== null && _b !== void 0 ? _b : (_c = particle.opacity) === null || _c === void 0 ? void 0 : _c.value) !== null && _d !== void 0 ? _d : 1;
        const strokeOpacity = (_f = (_e = particle.stroke) === null || _e === void 0 ? void 0 : _e.opacity) !== null && _f !== void 0 ? _f : opacity;
        const zOpacity = opacity * zOpacityFactor;
        const fillColorValue = fColor ? (0, Utils_1.getStyleFromHsl)(fColor, zOpacity) : undefined;
        if (!fillColorValue && !sColor) {
            return;
        }
        this.draw((ctx) => {
            const zSizeFactor = (1 - particle.zIndexFactor) ** zIndexOptions.sizeRate;
            const zStrokeOpacity = strokeOpacity * zOpacityFactor;
            const strokeColorValue = sColor ? (0, Utils_1.getStyleFromHsl)(sColor, zStrokeOpacity) : fillColorValue;
            if (radius <= 0) {
                return;
            }
            const container = this.container;
            for (const updater of container.particles.updaters) {
                if (updater.beforeDraw) {
                    updater.beforeDraw(particle);
                }
            }
            (0, Utils_1.drawParticle)(this.container, ctx, particle, delta, fillColorValue, strokeColorValue, options.backgroundMask.enable, options.backgroundMask.composite, radius * zSizeFactor, zOpacity, particle.options.shadow, particle.gradient);
            for (const updater of container.particles.updaters) {
                if (updater.afterDraw) {
                    updater.afterDraw(particle);
                }
            }
        });
    }
    drawPlugin(plugin, delta) {
        this.draw((ctx) => {
            (0, Utils_1.drawPlugin)(ctx, plugin, delta);
        });
    }
    drawParticlePlugin(plugin, particle, delta) {
        this.draw((ctx) => {
            (0, Utils_1.drawParticlePlugin)(ctx, plugin, particle, delta);
        });
    }
    initBackground() {
        const options = this.container.actualOptions;
        const background = options.background;
        const element = this.element;
        const elementStyle = element === null || element === void 0 ? void 0 : element.style;
        if (!elementStyle) {
            return;
        }
        if (background.color) {
            const color = (0, Utils_1.colorToRgb)(background.color);
            elementStyle.backgroundColor = color ? (0, Utils_1.getStyleFromRgb)(color, background.opacity) : "";
        }
        else {
            elementStyle.backgroundColor = "";
        }
        elementStyle.backgroundImage = background.image || "";
        elementStyle.backgroundPosition = background.position || "";
        elementStyle.backgroundRepeat = background.repeat || "";
        elementStyle.backgroundSize = background.size || "";
    }
    draw(cb) {
        if (!this.context) {
            return;
        }
        return cb(this.context);
    }
    initCover() {
        const options = this.container.actualOptions;
        const cover = options.backgroundMask.cover;
        const color = cover.color;
        const coverRgb = (0, Utils_1.colorToRgb)(color);
        if (coverRgb) {
            this.coverColor = {
                r: coverRgb.r,
                g: coverRgb.g,
                b: coverRgb.b,
                a: cover.opacity,
            };
        }
    }
    initTrail() {
        const options = this.container.actualOptions;
        const trail = options.particles.move.trail;
        const fillColor = (0, Utils_1.colorToRgb)(trail.fillColor);
        if (fillColor) {
            const trail = options.particles.move.trail;
            this.trailFillColor = {
                r: fillColor.r,
                g: fillColor.g,
                b: fillColor.b,
                a: 1 / trail.length,
            };
        }
    }
    getPluginParticleColors(particle) {
        let fColor;
        let sColor;
        for (const [, plugin] of this.container.plugins) {
            if (!fColor && plugin.particleFillColor) {
                fColor = (0, Utils_1.colorToHsl)(plugin.particleFillColor(particle));
            }
            if (!sColor && plugin.particleStrokeColor) {
                sColor = (0, Utils_1.colorToHsl)(plugin.particleStrokeColor(particle));
            }
            if (fColor && sColor) {
                break;
            }
        }
        return [fColor, sColor];
    }
    initStyle() {
        const element = this.element, options = this.container.actualOptions;
        if (!element) {
            return;
        }
        const originalStyle = this.originalStyle;
        if (options.fullScreen.enable) {
            this.originalStyle = (0, Utils_1.deepExtend)({}, element.style);
            element.style.position = "fixed";
            element.style.zIndex = options.fullScreen.zIndex.toString(10);
            element.style.top = "0";
            element.style.left = "0";
            element.style.width = "100%";
            element.style.height = "100%";
        }
        else if (originalStyle) {
            element.style.position = originalStyle.position;
            element.style.zIndex = originalStyle.zIndex;
            element.style.top = originalStyle.top;
            element.style.left = originalStyle.left;
            element.style.width = originalStyle.width;
            element.style.height = originalStyle.height;
        }
    }
    paintBase(baseColor) {
        this.draw((ctx) => {
            (0, Utils_1.paintBase)(ctx, this.size, baseColor);
        });
    }
    lineStyle(p1, p2) {
        return this.draw((ctx) => {
            const options = this.container.actualOptions;
            const connectOptions = options.interactivity.modes.connect;
            return (0, Utils_1.gradient)(ctx, p1, p2, connectOptions.links.opacity);
        });
    }
}
exports.Canvas = Canvas;


/***/ }),

/***/ "./node_modules/tsparticles/Core/Container.js":
/*!****************************************************!*\
  !*** ./node_modules/tsparticles/Core/Container.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Container = void 0;
const Canvas_1 = __webpack_require__(/*! ./Canvas */ "./node_modules/tsparticles/Core/Canvas.js");
const Particles_1 = __webpack_require__(/*! ./Particles */ "./node_modules/tsparticles/Core/Particles.js");
const Retina_1 = __webpack_require__(/*! ./Retina */ "./node_modules/tsparticles/Core/Retina.js");
const FrameManager_1 = __webpack_require__(/*! ./FrameManager */ "./node_modules/tsparticles/Core/FrameManager.js");
const Options_1 = __webpack_require__(/*! ../Options/Classes/Options */ "./node_modules/tsparticles/Options/Classes/Options.js");
const Utils_1 = __webpack_require__(/*! ../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Vector_1 = __webpack_require__(/*! ./Particle/Vector */ "./node_modules/tsparticles/Core/Particle/Vector.js");
class Container {
    constructor(id, sourceOptions, ...presets) {
        this.id = id;
        this.fpsLimit = 60;
        this.duration = 0;
        this.lifeTime = 0;
        this.firstStart = true;
        this.started = false;
        this.destroyed = false;
        this.paused = true;
        this.lastFrameTime = 0;
        this.zLayers = 100;
        this.pageHidden = false;
        this._sourceOptions = sourceOptions;
        this._initialSourceOptions = sourceOptions;
        this.retina = new Retina_1.Retina(this);
        this.canvas = new Canvas_1.Canvas(this);
        this.particles = new Particles_1.Particles(this);
        this.drawer = new FrameManager_1.FrameManager(this);
        this.presets = presets;
        this.pathGenerator = {
            generate: () => {
                const v = Vector_1.Vector.create(0, 0);
                v.length = Math.random();
                v.angle = Math.random() * Math.PI * 2;
                return v;
            },
            init: () => {
            },
            update: () => {
            },
        };
        this.interactivity = {
            mouse: {
                clicking: false,
                inside: false,
            },
        };
        this.bubble = {};
        this.repulse = { particles: [] };
        this.attract = { particles: [] };
        this.plugins = new Map();
        this.drawers = new Map();
        this.density = 1;
        this._options = new Options_1.Options();
        this.actualOptions = new Options_1.Options();
        this.eventListeners = new Utils_1.EventListeners(this);
        if (typeof IntersectionObserver !== "undefined" && IntersectionObserver) {
            this.intersectionObserver = new IntersectionObserver((entries) => this.intersectionManager(entries));
        }
    }
    get options() {
        return this._options;
    }
    get sourceOptions() {
        return this._sourceOptions;
    }
    play(force) {
        const needsUpdate = this.paused || force;
        if (this.firstStart && !this.actualOptions.autoPlay) {
            this.firstStart = false;
            return;
        }
        if (this.paused) {
            this.paused = false;
        }
        if (needsUpdate) {
            for (const [, plugin] of this.plugins) {
                if (plugin.play) {
                    plugin.play();
                }
            }
        }
        this.draw(needsUpdate || false);
    }
    pause() {
        if (this.drawAnimationFrame !== undefined) {
            (0, Utils_1.cancelAnimation)()(this.drawAnimationFrame);
            delete this.drawAnimationFrame;
        }
        if (this.paused) {
            return;
        }
        for (const [, plugin] of this.plugins) {
            if (plugin.pause) {
                plugin.pause();
            }
        }
        if (!this.pageHidden) {
            this.paused = true;
        }
    }
    draw(force) {
        let refreshTime = force;
        this.drawAnimationFrame = (0, Utils_1.animate)()((timestamp) => {
            if (refreshTime) {
                this.lastFrameTime = undefined;
                refreshTime = false;
            }
            this.drawer.nextFrame(timestamp);
        });
    }
    getAnimationStatus() {
        return !this.paused && !this.pageHidden;
    }
    setNoise(noiseOrGenerator, init, update) {
        this.setPath(noiseOrGenerator, init, update);
    }
    setPath(pathOrGenerator, init, update) {
        if (!pathOrGenerator) {
            return;
        }
        if (typeof pathOrGenerator === "function") {
            this.pathGenerator.generate = pathOrGenerator;
            if (init) {
                this.pathGenerator.init = init;
            }
            if (update) {
                this.pathGenerator.update = update;
            }
        }
        else {
            if (pathOrGenerator.generate) {
                this.pathGenerator.generate = pathOrGenerator.generate;
            }
            if (pathOrGenerator.init) {
                this.pathGenerator.init = pathOrGenerator.init;
            }
            if (pathOrGenerator.update) {
                this.pathGenerator.update = pathOrGenerator.update;
            }
        }
    }
    destroy() {
        this.stop();
        this.canvas.destroy();
        for (const [, drawer] of this.drawers) {
            if (drawer.destroy) {
                drawer.destroy(this);
            }
        }
        for (const key of this.drawers.keys()) {
            this.drawers.delete(key);
        }
        this.destroyed = true;
    }
    exportImg(callback) {
        this.exportImage(callback);
    }
    exportImage(callback, type, quality) {
        var _a;
        return (_a = this.canvas.element) === null || _a === void 0 ? void 0 : _a.toBlob(callback, type !== null && type !== void 0 ? type : "image/png", quality);
    }
    exportConfiguration() {
        return JSON.stringify(this.actualOptions, undefined, 2);
    }
    refresh() {
        this.stop();
        return this.start();
    }
    reset() {
        this._options = new Options_1.Options();
        return this.refresh();
    }
    stop() {
        if (!this.started) {
            return;
        }
        this.firstStart = true;
        this.started = false;
        this.eventListeners.removeListeners();
        this.pause();
        this.particles.clear();
        this.canvas.clear();
        if (this.interactivity.element instanceof HTMLElement && this.intersectionObserver) {
            this.intersectionObserver.observe(this.interactivity.element);
        }
        for (const [, plugin] of this.plugins) {
            if (plugin.stop) {
                plugin.stop();
            }
        }
        for (const key of this.plugins.keys()) {
            this.plugins.delete(key);
        }
        this.particles.linksColors = new Map();
        delete this.particles.grabLineColor;
        delete this.particles.linksColor;
        this._sourceOptions = this._options;
    }
    async loadTheme(name) {
        this.currentTheme = name;
        await this.refresh();
    }
    async start() {
        if (this.started) {
            return;
        }
        await this.init();
        this.started = true;
        this.eventListeners.addListeners();
        if (this.interactivity.element instanceof HTMLElement && this.intersectionObserver) {
            this.intersectionObserver.observe(this.interactivity.element);
        }
        for (const [, plugin] of this.plugins) {
            if (plugin.startAsync !== undefined) {
                await plugin.startAsync();
            }
            else if (plugin.start !== undefined) {
                plugin.start();
            }
        }
        this.play();
    }
    addClickHandler(callback) {
        const el = this.interactivity.element;
        if (!el) {
            return;
        }
        const clickOrTouchHandler = (e, pos, radius) => {
            if (this.destroyed) {
                return;
            }
            const pxRatio = this.retina.pixelRatio, posRetina = {
                x: pos.x * pxRatio,
                y: pos.y * pxRatio,
            }, particles = this.particles.quadTree.queryCircle(posRetina, radius * pxRatio);
            callback(e, particles);
        };
        const clickHandler = (e) => {
            if (this.destroyed) {
                return;
            }
            const mouseEvent = e;
            const pos = {
                x: mouseEvent.offsetX || mouseEvent.clientX,
                y: mouseEvent.offsetY || mouseEvent.clientY,
            };
            clickOrTouchHandler(e, pos, 1);
        };
        const touchStartHandler = () => {
            if (this.destroyed) {
                return;
            }
            touched = true;
            touchMoved = false;
        };
        const touchMoveHandler = () => {
            if (this.destroyed) {
                return;
            }
            touchMoved = true;
        };
        const touchEndHandler = (e) => {
            var _a, _b, _c;
            if (this.destroyed) {
                return;
            }
            if (touched && !touchMoved) {
                const touchEvent = e;
                let lastTouch = touchEvent.touches[touchEvent.touches.length - 1];
                if (!lastTouch) {
                    lastTouch = touchEvent.changedTouches[touchEvent.changedTouches.length - 1];
                    if (!lastTouch) {
                        return;
                    }
                }
                const canvasRect = (_a = this.canvas.element) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();
                const pos = {
                    x: lastTouch.clientX - ((_b = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.left) !== null && _b !== void 0 ? _b : 0),
                    y: lastTouch.clientY - ((_c = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.top) !== null && _c !== void 0 ? _c : 0),
                };
                clickOrTouchHandler(e, pos, Math.max(lastTouch.radiusX, lastTouch.radiusY));
            }
            touched = false;
            touchMoved = false;
        };
        const touchCancelHandler = () => {
            if (this.destroyed) {
                return;
            }
            touched = false;
            touchMoved = false;
        };
        let touched = false;
        let touchMoved = false;
        el.addEventListener("click", clickHandler);
        el.addEventListener("touchstart", touchStartHandler);
        el.addEventListener("touchmove", touchMoveHandler);
        el.addEventListener("touchend", touchEndHandler);
        el.addEventListener("touchcancel", touchCancelHandler);
    }
    updateActualOptions() {
        this.actualOptions.responsive = [];
        const newMaxWidth = this.actualOptions.setResponsive(this.canvas.size.width, this.retina.pixelRatio, this._options);
        this.actualOptions.setTheme(this.currentTheme);
        if (this.responsiveMaxWidth != newMaxWidth) {
            this.responsiveMaxWidth = newMaxWidth;
            return true;
        }
        return false;
    }
    async init() {
        this._options = new Options_1.Options();
        for (const preset of this.presets) {
            this._options.load(Utils_1.Plugins.getPreset(preset));
        }
        const shapes = Utils_1.Plugins.getSupportedShapes();
        for (const type of shapes) {
            const drawer = Utils_1.Plugins.getShapeDrawer(type);
            if (drawer) {
                this.drawers.set(type, drawer);
            }
        }
        this._options.load(this._initialSourceOptions);
        this._options.load(this._sourceOptions);
        this.actualOptions = new Options_1.Options();
        this.actualOptions.load(this._options);
        this.retina.init();
        this.canvas.init();
        this.updateActualOptions();
        this.canvas.initBackground();
        this.canvas.resize();
        this.zLayers = this.actualOptions.zLayers;
        this.duration = (0, Utils_1.getRangeValue)(this.actualOptions.duration);
        this.lifeTime = 0;
        this.fpsLimit = this.actualOptions.fpsLimit > 0 ? this.actualOptions.fpsLimit : 60;
        const availablePlugins = Utils_1.Plugins.getAvailablePlugins(this);
        for (const [id, plugin] of availablePlugins) {
            this.plugins.set(id, plugin);
        }
        for (const [, drawer] of this.drawers) {
            if (drawer.init) {
                await drawer.init(this);
            }
        }
        for (const [, plugin] of this.plugins) {
            if (plugin.init) {
                plugin.init(this.actualOptions);
            }
            else if (plugin.initAsync !== undefined) {
                await plugin.initAsync(this.actualOptions);
            }
        }
        const pathOptions = this.actualOptions.particles.move.path;
        if (pathOptions.generator) {
            const customGenerator = Utils_1.Plugins.getPathGenerator(pathOptions.generator);
            if (customGenerator) {
                if (customGenerator.init) {
                    this.pathGenerator.init = customGenerator.init;
                }
                if (customGenerator.generate) {
                    this.pathGenerator.generate = customGenerator.generate;
                }
                if (customGenerator.update) {
                    this.pathGenerator.update = customGenerator.update;
                }
            }
        }
        this.particles.init();
        this.particles.setDensity();
        for (const [, plugin] of this.plugins) {
            if (plugin.particlesSetup !== undefined) {
                plugin.particlesSetup();
            }
        }
    }
    intersectionManager(entries) {
        if (!this.actualOptions.pauseOnOutsideViewport) {
            return;
        }
        for (const entry of entries) {
            if (entry.target !== this.interactivity.element) {
                continue;
            }
            if (entry.isIntersecting) {
                this.play();
            }
            else {
                this.pause();
            }
        }
    }
}
exports.Container = Container;


/***/ }),

/***/ "./node_modules/tsparticles/Core/ExternalInteractorBase.js":
/*!*****************************************************************!*\
  !*** ./node_modules/tsparticles/Core/ExternalInteractorBase.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExternalInteractorBase = void 0;
const Enums_1 = __webpack_require__(/*! ../Enums */ "./node_modules/tsparticles/Enums/index.js");
class ExternalInteractorBase {
    constructor(container) {
        this.container = container;
        this.type = Enums_1.InteractorType.External;
    }
}
exports.ExternalInteractorBase = ExternalInteractorBase;


/***/ }),

/***/ "./node_modules/tsparticles/Core/FrameManager.js":
/*!*******************************************************!*\
  !*** ./node_modules/tsparticles/Core/FrameManager.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FrameManager = void 0;
class FrameManager {
    constructor(container) {
        this.container = container;
    }
    nextFrame(timestamp) {
        var _a;
        try {
            const container = this.container;
            if (container.lastFrameTime !== undefined &&
                timestamp < container.lastFrameTime + 1000 / container.fpsLimit) {
                container.draw(false);
                return;
            }
            (_a = container.lastFrameTime) !== null && _a !== void 0 ? _a : (container.lastFrameTime = timestamp);
            const deltaValue = timestamp - container.lastFrameTime;
            const delta = {
                value: deltaValue,
                factor: (60 * deltaValue) / 1000,
            };
            container.lifeTime += delta.value;
            container.lastFrameTime = timestamp;
            if (deltaValue > 1000) {
                container.draw(false);
                return;
            }
            container.particles.draw(delta);
            if (container.duration > 0 && container.lifeTime > container.duration) {
                container.destroy();
                return;
            }
            if (container.getAnimationStatus()) {
                container.draw(false);
            }
        }
        catch (e) {
            console.error("tsParticles error in animation loop", e);
        }
    }
}
exports.FrameManager = FrameManager;


/***/ }),

/***/ "./node_modules/tsparticles/Core/InteractionManager.js":
/*!*************************************************************!*\
  !*** ./node_modules/tsparticles/Core/InteractionManager.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InteractionManager = void 0;
const Utils_1 = __webpack_require__(/*! ../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../Enums */ "./node_modules/tsparticles/Enums/index.js");
class InteractionManager {
    constructor(container) {
        this.container = container;
        this.externalInteractors = [];
        this.particleInteractors = [];
        this.init();
    }
    init() {
        const interactors = Utils_1.Plugins.getInteractors(this.container, true);
        for (const interactor of interactors) {
            switch (interactor.type) {
                case Enums_1.InteractorType.External:
                    this.externalInteractors.push(interactor);
                    break;
                case Enums_1.InteractorType.Particles:
                    this.particleInteractors.push(interactor);
                    break;
            }
        }
    }
    externalInteract(delta) {
        for (const interactor of this.externalInteractors) {
            if (interactor.isEnabled()) {
                interactor.interact(delta);
            }
        }
    }
    particlesInteract(particle, delta) {
        for (const interactor of this.externalInteractors) {
            interactor.reset(particle);
        }
        for (const interactor of this.particleInteractors) {
            if (interactor.isEnabled(particle)) {
                interactor.interact(particle, delta);
            }
        }
    }
}
exports.InteractionManager = InteractionManager;


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/Colors.js":
/*!************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/Colors.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/Gradients.js":
/*!***************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/Gradients.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IAttract.js":
/*!**************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IAttract.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IBounds.js":
/*!*************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IBounds.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IBubble.js":
/*!*************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IBubble.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IBubbleParticleData.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IBubbleParticleData.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/ICircleBouncer.js":
/*!********************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/ICircleBouncer.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IContainerInteractivity.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IContainerInteractivity.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IContainerPlugin.js":
/*!**********************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IContainerPlugin.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/ICoordinates.js":
/*!******************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/ICoordinates.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IDelta.js":
/*!************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IDelta.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IDimension.js":
/*!****************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IDimension.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IDistance.js":
/*!***************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IDistance.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IExternalInteractor.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IExternalInteractor.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IInteractor.js":
/*!*****************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IInteractor.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IMouseData.js":
/*!****************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IMouseData.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IMovePathGenerator.js":
/*!************************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IMovePathGenerator.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IParticle.js":
/*!***************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IParticle.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IParticleGradientAnimation.js":
/*!********************************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IParticleGradientAnimation.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IParticleGradientColorAnimation.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IParticleGradientColorAnimation.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IParticleHslAnimation.js":
/*!***************************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IParticleHslAnimation.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IParticleLife.js":
/*!*******************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IParticleLife.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IParticleLoops.js":
/*!********************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IParticleLoops.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IParticleRetinaProps.js":
/*!**************************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IParticleRetinaProps.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IParticleSpin.js":
/*!*******************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IParticleSpin.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IParticleUpdater.js":
/*!**********************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IParticleUpdater.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IParticleValueAnimation.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IParticleValueAnimation.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IParticlesInteractor.js":
/*!**************************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IParticlesInteractor.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IPlugin.js":
/*!*************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IPlugin.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IRangeValue.js":
/*!*****************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IRangeValue.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IRectSideResult.js":
/*!*********************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IRectSideResult.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IRepulse.js":
/*!**************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IRepulse.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IShapeDrawer.js":
/*!******************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IShapeDrawer.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/IShapeValues.js":
/*!******************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/IShapeValues.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Core/Interfaces/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/tsparticles/Core/Interfaces/index.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./Colors */ "./node_modules/tsparticles/Core/Interfaces/Colors.js"), exports);
__exportStar(__webpack_require__(/*! ./Gradients */ "./node_modules/tsparticles/Core/Interfaces/Gradients.js"), exports);
__exportStar(__webpack_require__(/*! ./IAttract */ "./node_modules/tsparticles/Core/Interfaces/IAttract.js"), exports);
__exportStar(__webpack_require__(/*! ./IBounds */ "./node_modules/tsparticles/Core/Interfaces/IBounds.js"), exports);
__exportStar(__webpack_require__(/*! ./IBubble */ "./node_modules/tsparticles/Core/Interfaces/IBubble.js"), exports);
__exportStar(__webpack_require__(/*! ./IBubbleParticleData */ "./node_modules/tsparticles/Core/Interfaces/IBubbleParticleData.js"), exports);
__exportStar(__webpack_require__(/*! ./ICircleBouncer */ "./node_modules/tsparticles/Core/Interfaces/ICircleBouncer.js"), exports);
__exportStar(__webpack_require__(/*! ./IContainerInteractivity */ "./node_modules/tsparticles/Core/Interfaces/IContainerInteractivity.js"), exports);
__exportStar(__webpack_require__(/*! ./IContainerPlugin */ "./node_modules/tsparticles/Core/Interfaces/IContainerPlugin.js"), exports);
__exportStar(__webpack_require__(/*! ./ICoordinates */ "./node_modules/tsparticles/Core/Interfaces/ICoordinates.js"), exports);
__exportStar(__webpack_require__(/*! ./IDelta */ "./node_modules/tsparticles/Core/Interfaces/IDelta.js"), exports);
__exportStar(__webpack_require__(/*! ./IDimension */ "./node_modules/tsparticles/Core/Interfaces/IDimension.js"), exports);
__exportStar(__webpack_require__(/*! ./IDistance */ "./node_modules/tsparticles/Core/Interfaces/IDistance.js"), exports);
__exportStar(__webpack_require__(/*! ./IExternalInteractor */ "./node_modules/tsparticles/Core/Interfaces/IExternalInteractor.js"), exports);
__exportStar(__webpack_require__(/*! ./IInteractor */ "./node_modules/tsparticles/Core/Interfaces/IInteractor.js"), exports);
__exportStar(__webpack_require__(/*! ./IMouseData */ "./node_modules/tsparticles/Core/Interfaces/IMouseData.js"), exports);
__exportStar(__webpack_require__(/*! ./IMovePathGenerator */ "./node_modules/tsparticles/Core/Interfaces/IMovePathGenerator.js"), exports);
__exportStar(__webpack_require__(/*! ./IParticle */ "./node_modules/tsparticles/Core/Interfaces/IParticle.js"), exports);
__exportStar(__webpack_require__(/*! ./IParticleGradientAnimation */ "./node_modules/tsparticles/Core/Interfaces/IParticleGradientAnimation.js"), exports);
__exportStar(__webpack_require__(/*! ./IParticleGradientColorAnimation */ "./node_modules/tsparticles/Core/Interfaces/IParticleGradientColorAnimation.js"), exports);
__exportStar(__webpack_require__(/*! ./IParticleHslAnimation */ "./node_modules/tsparticles/Core/Interfaces/IParticleHslAnimation.js"), exports);
__exportStar(__webpack_require__(/*! ./IParticleLife */ "./node_modules/tsparticles/Core/Interfaces/IParticleLife.js"), exports);
__exportStar(__webpack_require__(/*! ./IParticleLoops */ "./node_modules/tsparticles/Core/Interfaces/IParticleLoops.js"), exports);
__exportStar(__webpack_require__(/*! ./IParticleRetinaProps */ "./node_modules/tsparticles/Core/Interfaces/IParticleRetinaProps.js"), exports);
__exportStar(__webpack_require__(/*! ./IParticleSpin */ "./node_modules/tsparticles/Core/Interfaces/IParticleSpin.js"), exports);
__exportStar(__webpack_require__(/*! ./IParticleUpdater */ "./node_modules/tsparticles/Core/Interfaces/IParticleUpdater.js"), exports);
__exportStar(__webpack_require__(/*! ./IParticleValueAnimation */ "./node_modules/tsparticles/Core/Interfaces/IParticleValueAnimation.js"), exports);
__exportStar(__webpack_require__(/*! ./IParticlesInteractor */ "./node_modules/tsparticles/Core/Interfaces/IParticlesInteractor.js"), exports);
__exportStar(__webpack_require__(/*! ./IPlugin */ "./node_modules/tsparticles/Core/Interfaces/IPlugin.js"), exports);
__exportStar(__webpack_require__(/*! ./IRangeValue */ "./node_modules/tsparticles/Core/Interfaces/IRangeValue.js"), exports);
__exportStar(__webpack_require__(/*! ./IRectSideResult */ "./node_modules/tsparticles/Core/Interfaces/IRectSideResult.js"), exports);
__exportStar(__webpack_require__(/*! ./IRepulse */ "./node_modules/tsparticles/Core/Interfaces/IRepulse.js"), exports);
__exportStar(__webpack_require__(/*! ./IShapeDrawer */ "./node_modules/tsparticles/Core/Interfaces/IShapeDrawer.js"), exports);
__exportStar(__webpack_require__(/*! ./IShapeValues */ "./node_modules/tsparticles/Core/Interfaces/IShapeValues.js"), exports);


/***/ }),

/***/ "./node_modules/tsparticles/Core/Loader.js":
/*!*************************************************!*\
  !*** ./node_modules/tsparticles/Core/Loader.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Loader = void 0;
const Container_1 = __webpack_require__(/*! ./Container */ "./node_modules/tsparticles/Core/Container.js");
const Utils_1 = __webpack_require__(/*! ../Utils */ "./node_modules/tsparticles/Utils/index.js");
const tsParticlesDom = [];
function fetchError(statusCode) {
    console.error(`Error tsParticles - fetch status: ${statusCode}`);
    console.error("Error tsParticles - File config not found");
}
class Loader {
    static dom() {
        return tsParticlesDom;
    }
    static domItem(index) {
        const dom = Loader.dom();
        const item = dom[index];
        if (item && !item.destroyed) {
            return item;
        }
        dom.splice(index, 1);
    }
    static async loadOptions(params) {
        var _a, _b, _c;
        const tagId = (_a = params.tagId) !== null && _a !== void 0 ? _a : `tsparticles${Math.floor(Math.random() * 10000)}`;
        const { options, index } = params;
        let domContainer = (_b = params.element) !== null && _b !== void 0 ? _b : document.getElementById(tagId);
        if (!domContainer) {
            domContainer = document.createElement("div");
            domContainer.id = tagId;
            (_c = document.querySelector("body")) === null || _c === void 0 ? void 0 : _c.append(domContainer);
        }
        const currentOptions = options instanceof Array ? (0, Utils_1.itemFromArray)(options, index) : options;
        const dom = Loader.dom();
        const oldIndex = dom.findIndex((v) => v.id === tagId);
        if (oldIndex >= 0) {
            const old = Loader.domItem(oldIndex);
            if (old && !old.destroyed) {
                old.destroy();
                dom.splice(oldIndex, 1);
            }
        }
        let canvasEl;
        let generatedCanvas;
        if (domContainer.tagName.toLowerCase() === "canvas") {
            canvasEl = domContainer;
            generatedCanvas = false;
        }
        else {
            const existingCanvases = domContainer.getElementsByTagName("canvas");
            if (existingCanvases.length) {
                canvasEl = existingCanvases[0];
                if (!canvasEl.className) {
                    canvasEl.className = Utils_1.Constants.canvasClass;
                }
                generatedCanvas = false;
            }
            else {
                generatedCanvas = true;
                canvasEl = document.createElement("canvas");
                canvasEl.className = Utils_1.Constants.canvasClass;
                canvasEl.style.width = "100%";
                canvasEl.style.height = "100%";
                domContainer.appendChild(canvasEl);
            }
        }
        const newItem = new Container_1.Container(tagId, currentOptions);
        if (oldIndex >= 0) {
            dom.splice(oldIndex, 0, newItem);
        }
        else {
            dom.push(newItem);
        }
        newItem.canvas.loadCanvas(canvasEl, generatedCanvas);
        await newItem.start();
        return newItem;
    }
    static async loadRemoteOptions(params) {
        const { url: jsonUrl, index } = params;
        const url = jsonUrl instanceof Array ? (0, Utils_1.itemFromArray)(jsonUrl, index) : jsonUrl;
        if (!url) {
            return;
        }
        const response = await fetch(url);
        if (!response.ok) {
            fetchError(response.status);
            return;
        }
        const data = await response.json();
        return await Loader.loadOptions({
            tagId: params.tagId,
            element: params.element,
            index,
            options: data,
        });
    }
    static load(tagId, options, index) {
        const params = { index };
        if (typeof tagId === "string") {
            params.tagId = tagId;
        }
        else {
            params.options = tagId;
        }
        if (typeof options === "number") {
            params.index = options !== null && options !== void 0 ? options : params.index;
        }
        else {
            params.options = options !== null && options !== void 0 ? options : params.options;
        }
        return this.loadOptions(params);
    }
    static async set(id, domContainer, options, index) {
        const params = { index };
        if (typeof id === "string") {
            params.tagId = id;
        }
        else {
            params.element = id;
        }
        if (domContainer instanceof HTMLElement) {
            params.element = domContainer;
        }
        else {
            params.options = domContainer;
        }
        if (typeof options === "number") {
            params.index = options;
        }
        else {
            params.options = options !== null && options !== void 0 ? options : params.options;
        }
        return this.loadOptions(params);
    }
    static async loadJSON(tagId, jsonUrl, index) {
        let url, id;
        if (typeof jsonUrl === "number" || jsonUrl === undefined) {
            url = tagId;
        }
        else {
            id = tagId;
            url = jsonUrl;
        }
        return await Loader.loadRemoteOptions({ tagId: id, url, index });
    }
    static async setJSON(id, domContainer, jsonUrl, index) {
        let url, newId, newIndex, element;
        if (id instanceof HTMLElement) {
            element = id;
            url = domContainer;
            newIndex = jsonUrl;
        }
        else {
            newId = id;
            element = domContainer;
            url = jsonUrl;
            newIndex = index;
        }
        return await Loader.loadRemoteOptions({ tagId: newId, url, index: newIndex, element });
    }
    static setOnClickHandler(callback) {
        const dom = Loader.dom();
        if (dom.length === 0) {
            throw new Error("Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()");
        }
        for (const domItem of dom) {
            domItem.addClickHandler(callback);
        }
    }
}
exports.Loader = Loader;


/***/ }),

/***/ "./node_modules/tsparticles/Core/Particle.js":
/*!***************************************************!*\
  !*** ./node_modules/tsparticles/Core/Particle.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Particle = void 0;
const ParticlesOptions_1 = __webpack_require__(/*! ../Options/Classes/Particles/ParticlesOptions */ "./node_modules/tsparticles/Options/Classes/Particles/ParticlesOptions.js");
const Shape_1 = __webpack_require__(/*! ../Options/Classes/Particles/Shape/Shape */ "./node_modules/tsparticles/Options/Classes/Particles/Shape/Shape.js");
const Enums_1 = __webpack_require__(/*! ../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Vector_1 = __webpack_require__(/*! ./Particle/Vector */ "./node_modules/tsparticles/Core/Particle/Vector.js");
const Vector3d_1 = __webpack_require__(/*! ./Particle/Vector3d */ "./node_modules/tsparticles/Core/Particle/Vector3d.js");
const fixOutMode = (data) => {
    if ((0, Utils_1.isInArray)(data.outMode, data.checkModes) || (0, Utils_1.isInArray)(data.outMode, data.checkModes)) {
        if (data.coord > data.maxCoord - data.radius * 2) {
            data.setCb(-data.radius);
        }
        else if (data.coord < data.radius * 2) {
            data.setCb(data.radius);
        }
    }
};
class Particle {
    constructor(id, container, position, overrideOptions, group) {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j;
        this.id = id;
        this.container = container;
        this.group = group;
        this.fill = true;
        this.close = true;
        this.lastPathTime = 0;
        this.destroyed = false;
        this.unbreakable = false;
        this.splitCount = 0;
        this.misplaced = false;
        this.retina = {
            maxDistance: {},
        };
        const pxRatio = container.retina.pixelRatio;
        const mainOptions = container.actualOptions;
        const particlesOptions = new ParticlesOptions_1.ParticlesOptions();
        particlesOptions.load(mainOptions.particles);
        const shapeType = particlesOptions.shape.type;
        const reduceDuplicates = particlesOptions.reduceDuplicates;
        this.shape = shapeType instanceof Array ? (0, Utils_1.itemFromArray)(shapeType, this.id, reduceDuplicates) : shapeType;
        if (overrideOptions === null || overrideOptions === void 0 ? void 0 : overrideOptions.shape) {
            if (overrideOptions.shape.type) {
                const overrideShapeType = overrideOptions.shape.type;
                this.shape =
                    overrideShapeType instanceof Array
                        ? (0, Utils_1.itemFromArray)(overrideShapeType, this.id, reduceDuplicates)
                        : overrideShapeType;
            }
            const shapeOptions = new Shape_1.Shape();
            shapeOptions.load(overrideOptions.shape);
            if (this.shape) {
                this.shapeData = this.loadShapeData(shapeOptions, reduceDuplicates);
            }
        }
        else {
            this.shapeData = this.loadShapeData(particlesOptions.shape, reduceDuplicates);
        }
        if (overrideOptions !== undefined) {
            particlesOptions.load(overrideOptions);
        }
        if (((_a = this.shapeData) === null || _a === void 0 ? void 0 : _a.particles) !== undefined) {
            particlesOptions.load((_b = this.shapeData) === null || _b === void 0 ? void 0 : _b.particles);
        }
        this.fill = (_d = (_c = this.shapeData) === null || _c === void 0 ? void 0 : _c.fill) !== null && _d !== void 0 ? _d : this.fill;
        this.close = (_f = (_e = this.shapeData) === null || _e === void 0 ? void 0 : _e.close) !== null && _f !== void 0 ? _f : this.close;
        this.options = particlesOptions;
        this.pathDelay = (0, Utils_1.getValue)(this.options.move.path.delay) * 1000;
        const zIndexValue = (0, Utils_1.getRangeValue)(this.options.zIndex.value);
        container.retina.initParticle(this);
        const sizeOptions = this.options.size, sizeRange = sizeOptions.value;
        this.size = {
            enable: sizeOptions.animation.enable,
            value: (0, Utils_1.getValue)(sizeOptions) * container.retina.pixelRatio,
            max: (0, Utils_1.getRangeMax)(sizeRange) * pxRatio,
            min: (0, Utils_1.getRangeMin)(sizeRange) * pxRatio,
            loops: 0,
            maxLoops: sizeOptions.animation.count,
        };
        const sizeAnimation = sizeOptions.animation;
        if (sizeAnimation.enable) {
            this.size.status = Enums_1.AnimationStatus.increasing;
            switch (sizeAnimation.startValue) {
                case Enums_1.StartValueType.min:
                    this.size.value = this.size.min;
                    this.size.status = Enums_1.AnimationStatus.increasing;
                    break;
                case Enums_1.StartValueType.random:
                    this.size.value = (0, Utils_1.randomInRange)(this.size) * pxRatio;
                    this.size.status = Math.random() >= 0.5 ? Enums_1.AnimationStatus.increasing : Enums_1.AnimationStatus.decreasing;
                    break;
                case Enums_1.StartValueType.max:
                default:
                    this.size.value = this.size.max;
                    this.size.status = Enums_1.AnimationStatus.decreasing;
                    break;
            }
            this.size.velocity =
                (((_g = this.retina.sizeAnimationSpeed) !== null && _g !== void 0 ? _g : container.retina.sizeAnimationSpeed) / 100) *
                    container.retina.reduceFactor;
            if (!sizeAnimation.sync) {
                this.size.velocity *= Math.random();
            }
        }
        this.direction = (0, Utils_1.getParticleDirectionAngle)(this.options.move.direction);
        this.bubble = {
            inRange: false,
        };
        this.initialVelocity = this.calculateVelocity();
        this.velocity = this.initialVelocity.copy();
        this.moveDecay = 1 - (0, Utils_1.getRangeValue)(this.options.move.decay);
        this.position = this.calcPosition(container, position, (0, Utils_1.clamp)(zIndexValue, 0, container.zLayers));
        this.initialPosition = this.position.copy();
        this.offset = Vector_1.Vector.origin;
        const particles = container.particles;
        particles.needsSort = particles.needsSort || particles.lastZIndex < this.position.z;
        particles.lastZIndex = this.position.z;
        this.zIndexFactor = this.position.z / container.zLayers;
        this.sides = 24;
        let drawer = container.drawers.get(this.shape);
        if (!drawer) {
            drawer = Utils_1.Plugins.getShapeDrawer(this.shape);
            if (drawer) {
                container.drawers.set(this.shape, drawer);
            }
        }
        if (drawer === null || drawer === void 0 ? void 0 : drawer.loadShape) {
            drawer === null || drawer === void 0 ? void 0 : drawer.loadShape(this);
        }
        const sideCountFunc = drawer === null || drawer === void 0 ? void 0 : drawer.getSidesCount;
        if (sideCountFunc) {
            this.sides = sideCountFunc(this);
        }
        this.life = this.loadLife();
        this.spawning = this.life.delay > 0;
        if (this.options.move.spin.enable) {
            const spinPos = (_h = this.options.move.spin.position) !== null && _h !== void 0 ? _h : { x: 50, y: 50 };
            const spinCenter = {
                x: (spinPos.x / 100) * container.canvas.size.width,
                y: (spinPos.y / 100) * container.canvas.size.height,
            };
            const pos = this.getPosition();
            const distance = (0, Utils_1.getDistance)(pos, spinCenter);
            this.spin = {
                center: spinCenter,
                direction: this.velocity.x >= 0 ? Enums_1.RotateDirection.clockwise : Enums_1.RotateDirection.counterClockwise,
                angle: this.velocity.angle,
                radius: distance,
                acceleration: (_j = this.retina.spinAcceleration) !== null && _j !== void 0 ? _j : (0, Utils_1.getRangeValue)(this.options.move.spin.acceleration),
            };
        }
        this.shadowColor = (0, Utils_1.colorToRgb)(this.options.shadow.color);
        for (const updater of container.particles.updaters) {
            if (updater.init) {
                updater.init(this);
            }
        }
        if (drawer && drawer.particleInit) {
            drawer.particleInit(container, this);
        }
        for (const [, plugin] of container.plugins) {
            if (plugin.particleCreated) {
                plugin.particleCreated(this);
            }
        }
    }
    isVisible() {
        return !this.destroyed && !this.spawning && this.isInsideCanvas();
    }
    isInsideCanvas() {
        const radius = this.getRadius();
        const canvasSize = this.container.canvas.size;
        return (this.position.x >= -radius &&
            this.position.y >= -radius &&
            this.position.y <= canvasSize.height + radius &&
            this.position.x <= canvasSize.width + radius);
    }
    draw(delta) {
        const container = this.container;
        for (const [, plugin] of container.plugins) {
            container.canvas.drawParticlePlugin(plugin, this, delta);
        }
        container.canvas.drawParticle(this, delta);
    }
    getPosition() {
        return {
            x: this.position.x + this.offset.x,
            y: this.position.y + this.offset.y,
            z: this.position.z,
        };
    }
    getRadius() {
        var _a;
        return (_a = this.bubble.radius) !== null && _a !== void 0 ? _a : this.size.value;
    }
    getMass() {
        return (this.getRadius() ** 2 * Math.PI) / 2;
    }
    getFillColor() {
        var _a, _b, _c;
        const color = (_a = this.bubble.color) !== null && _a !== void 0 ? _a : (0, Utils_1.getHslFromAnimation)(this.color);
        if (color && this.roll && (this.backColor || this.roll.alter)) {
            const rolled = Math.floor(((_c = (_b = this.roll) === null || _b === void 0 ? void 0 : _b.angle) !== null && _c !== void 0 ? _c : 0) / (Math.PI / 2)) % 2;
            if (rolled) {
                if (this.backColor) {
                    return this.backColor;
                }
                if (this.roll.alter) {
                    return (0, Utils_1.alterHsl)(color, this.roll.alter.type, this.roll.alter.value);
                }
            }
        }
        return color;
    }
    getStrokeColor() {
        var _a, _b;
        return (_b = (_a = this.bubble.color) !== null && _a !== void 0 ? _a : (0, Utils_1.getHslFromAnimation)(this.strokeColor)) !== null && _b !== void 0 ? _b : this.getFillColor();
    }
    destroy(override) {
        this.destroyed = true;
        this.bubble.inRange = false;
        if (this.unbreakable) {
            return;
        }
        this.destroyed = true;
        this.bubble.inRange = false;
        for (const [, plugin] of this.container.plugins) {
            if (plugin.particleDestroyed) {
                plugin.particleDestroyed(this, override);
            }
        }
        if (override) {
            return;
        }
        const destroyOptions = this.options.destroy;
        if (destroyOptions.mode === Enums_1.DestroyMode.split) {
            this.split();
        }
    }
    reset() {
        if (this.opacity) {
            this.opacity.loops = 0;
        }
        this.size.loops = 0;
    }
    split() {
        const splitOptions = this.options.destroy.split;
        if (splitOptions.count >= 0 && this.splitCount++ > splitOptions.count) {
            return;
        }
        const rate = (0, Utils_1.getRangeValue)(splitOptions.rate.value);
        for (let i = 0; i < rate; i++) {
            this.container.particles.addSplitParticle(this);
        }
    }
    calcPosition(container, position, zIndex, tryCount = 0) {
        var _a, _b, _c, _d, _e, _f;
        for (const [, plugin] of container.plugins) {
            const pluginPos = plugin.particlePosition !== undefined ? plugin.particlePosition(position, this) : undefined;
            if (pluginPos !== undefined) {
                return Vector3d_1.Vector3d.create(pluginPos.x, pluginPos.y, zIndex);
            }
        }
        const canvasSize = container.canvas.size;
        const pos = Vector3d_1.Vector3d.create((_a = position === null || position === void 0 ? void 0 : position.x) !== null && _a !== void 0 ? _a : Math.random() * canvasSize.width, (_b = position === null || position === void 0 ? void 0 : position.y) !== null && _b !== void 0 ? _b : Math.random() * canvasSize.height, zIndex);
        const radius = this.getRadius();
        const outModes = this.options.move.outModes, fixHorizontal = (outMode) => {
            fixOutMode({
                outMode,
                checkModes: [Enums_1.OutMode.bounce, Enums_1.OutMode.bounceHorizontal],
                coord: pos.x,
                maxCoord: container.canvas.size.width,
                setCb: (value) => (pos.x += value),
                radius,
            });
        }, fixVertical = (outMode) => {
            fixOutMode({
                outMode,
                checkModes: [Enums_1.OutMode.bounce, Enums_1.OutMode.bounceVertical],
                coord: pos.y,
                maxCoord: container.canvas.size.height,
                setCb: (value) => (pos.y += value),
                radius,
            });
        };
        fixHorizontal((_c = outModes.left) !== null && _c !== void 0 ? _c : outModes.default);
        fixHorizontal((_d = outModes.right) !== null && _d !== void 0 ? _d : outModes.default);
        fixVertical((_e = outModes.top) !== null && _e !== void 0 ? _e : outModes.default);
        fixVertical((_f = outModes.bottom) !== null && _f !== void 0 ? _f : outModes.default);
        if (this.checkOverlap(pos, tryCount)) {
            return this.calcPosition(container, undefined, zIndex, tryCount + 1);
        }
        return pos;
    }
    checkOverlap(pos, tryCount = 0) {
        const collisionsOptions = this.options.collisions;
        const radius = this.getRadius();
        if (!collisionsOptions.enable) {
            return false;
        }
        const overlapOptions = collisionsOptions.overlap;
        if (overlapOptions.enable) {
            return false;
        }
        const retries = overlapOptions.retries;
        if (retries >= 0 && tryCount > retries) {
            throw new Error("Particle is overlapping and can't be placed");
        }
        let overlaps = false;
        for (const particle of this.container.particles.array) {
            if ((0, Utils_1.getDistance)(pos, particle.position) < radius + particle.getRadius()) {
                overlaps = true;
                break;
            }
        }
        return overlaps;
    }
    calculateVelocity() {
        const baseVelocity = (0, Utils_1.getParticleBaseVelocity)(this.direction);
        const res = baseVelocity.copy();
        const moveOptions = this.options.move;
        const rad = (Math.PI / 180) * moveOptions.angle.value;
        const radOffset = (Math.PI / 180) * moveOptions.angle.offset;
        const range = {
            left: radOffset - rad / 2,
            right: radOffset + rad / 2,
        };
        if (!moveOptions.straight) {
            res.angle += (0, Utils_1.randomInRange)((0, Utils_1.setRangeValue)(range.left, range.right));
        }
        if (moveOptions.random && typeof moveOptions.speed === "number") {
            res.length *= Math.random();
        }
        return res;
    }
    loadShapeData(shapeOptions, reduceDuplicates) {
        const shapeData = shapeOptions.options[this.shape];
        if (shapeData) {
            return (0, Utils_1.deepExtend)({}, shapeData instanceof Array ? (0, Utils_1.itemFromArray)(shapeData, this.id, reduceDuplicates) : shapeData);
        }
    }
    loadLife() {
        const container = this.container;
        const particlesOptions = this.options;
        const lifeOptions = particlesOptions.life;
        const life = {
            delay: container.retina.reduceFactor
                ? (((0, Utils_1.getRangeValue)(lifeOptions.delay.value) * (lifeOptions.delay.sync ? 1 : Math.random())) /
                    container.retina.reduceFactor) *
                    1000
                : 0,
            delayTime: 0,
            duration: container.retina.reduceFactor
                ? (((0, Utils_1.getRangeValue)(lifeOptions.duration.value) * (lifeOptions.duration.sync ? 1 : Math.random())) /
                    container.retina.reduceFactor) *
                    1000
                : 0,
            time: 0,
            count: particlesOptions.life.count,
        };
        if (life.duration <= 0) {
            life.duration = -1;
        }
        if (life.count <= 0) {
            life.count = -1;
        }
        return life;
    }
}
exports.Particle = Particle;


/***/ }),

/***/ "./node_modules/tsparticles/Core/Particle/Mover.js":
/*!*********************************************************!*\
  !*** ./node_modules/tsparticles/Core/Particle/Mover.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Mover = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
function applyDistance(particle) {
    const initialPosition = particle.initialPosition;
    const { dx, dy } = (0, Utils_1.getDistances)(initialPosition, particle.position);
    const dxFixed = Math.abs(dx), dyFixed = Math.abs(dy);
    const hDistance = particle.retina.maxDistance.horizontal;
    const vDistance = particle.retina.maxDistance.vertical;
    if (!hDistance && !vDistance) {
        return;
    }
    if (((hDistance && dxFixed >= hDistance) || (vDistance && dyFixed >= vDistance)) && !particle.misplaced) {
        particle.misplaced = (!!hDistance && dxFixed > hDistance) || (!!vDistance && dyFixed > vDistance);
        if (hDistance) {
            particle.velocity.x = particle.velocity.y / 2 - particle.velocity.x;
        }
        if (vDistance) {
            particle.velocity.y = particle.velocity.x / 2 - particle.velocity.y;
        }
    }
    else if ((!hDistance || dxFixed < hDistance) && (!vDistance || dyFixed < vDistance) && particle.misplaced) {
        particle.misplaced = false;
    }
    else if (particle.misplaced) {
        const pos = particle.position, vel = particle.velocity;
        if (hDistance && ((pos.x < initialPosition.x && vel.x < 0) || (pos.x > initialPosition.x && vel.x > 0))) {
            vel.x *= -Math.random();
        }
        if (vDistance && ((pos.y < initialPosition.y && vel.y < 0) || (pos.y > initialPosition.y && vel.y > 0))) {
            vel.y *= -Math.random();
        }
    }
}
class Mover {
    constructor(container) {
        this.container = container;
    }
    move(particle, delta) {
        if (particle.destroyed) {
            return;
        }
        this.moveParticle(particle, delta);
        this.moveParallax(particle);
    }
    moveParticle(particle, delta) {
        var _a, _b, _c;
        var _d, _e;
        const particleOptions = particle.options;
        const moveOptions = particleOptions.move;
        if (!moveOptions.enable) {
            return;
        }
        const container = this.container, slowFactor = this.getProximitySpeedFactor(particle), baseSpeed = ((_a = (_d = particle.retina).moveSpeed) !== null && _a !== void 0 ? _a : (_d.moveSpeed = (0, Utils_1.getRangeValue)(moveOptions.speed) * container.retina.pixelRatio)) *
            container.retina.reduceFactor, moveDrift = ((_b = (_e = particle.retina).moveDrift) !== null && _b !== void 0 ? _b : (_e.moveDrift = (0, Utils_1.getRangeValue)(particle.options.move.drift) * container.retina.pixelRatio)), maxSize = (0, Utils_1.getRangeMax)(particleOptions.size.value) * container.retina.pixelRatio, sizeFactor = moveOptions.size ? particle.getRadius() / maxSize : 1, diffFactor = 2, speedFactor = (sizeFactor * slowFactor * (delta.factor || 1)) / diffFactor, moveSpeed = baseSpeed * speedFactor;
        this.applyPath(particle, delta);
        const gravityOptions = moveOptions.gravity;
        const gravityFactor = gravityOptions.enable && gravityOptions.inverse ? -1 : 1;
        if (gravityOptions.enable && moveSpeed) {
            particle.velocity.y += (gravityFactor * (gravityOptions.acceleration * delta.factor)) / (60 * moveSpeed);
        }
        if (moveDrift && moveSpeed) {
            particle.velocity.x += (moveDrift * delta.factor) / (60 * moveSpeed);
        }
        const decay = particle.moveDecay;
        if (decay != 1) {
            particle.velocity.multTo(decay);
        }
        const velocity = particle.velocity.mult(moveSpeed);
        const maxSpeed = (_c = particle.retina.maxSpeed) !== null && _c !== void 0 ? _c : container.retina.maxSpeed;
        if (gravityOptions.enable &&
            gravityOptions.maxSpeed > 0 &&
            ((!gravityOptions.inverse && velocity.y >= 0 && velocity.y >= maxSpeed) ||
                (gravityOptions.inverse && velocity.y <= 0 && velocity.y <= -maxSpeed))) {
            velocity.y = gravityFactor * maxSpeed;
            if (moveSpeed) {
                particle.velocity.y = velocity.y / moveSpeed;
            }
        }
        const zIndexOptions = particle.options.zIndex, zVelocityFactor = (1 - particle.zIndexFactor) ** zIndexOptions.velocityRate;
        if (moveOptions.spin.enable) {
            this.spin(particle, moveSpeed);
        }
        else {
            if (zVelocityFactor != 1) {
                velocity.multTo(zVelocityFactor);
            }
            particle.position.addTo(velocity);
            if (moveOptions.vibrate) {
                particle.position.x += Math.sin(particle.position.x * Math.cos(particle.position.y));
                particle.position.y += Math.cos(particle.position.y * Math.sin(particle.position.x));
            }
        }
        applyDistance(particle);
    }
    spin(particle, moveSpeed) {
        const container = this.container;
        if (!particle.spin) {
            return;
        }
        const updateFunc = {
            x: particle.spin.direction === Enums_1.RotateDirection.clockwise ? Math.cos : Math.sin,
            y: particle.spin.direction === Enums_1.RotateDirection.clockwise ? Math.sin : Math.cos,
        };
        particle.position.x = particle.spin.center.x + particle.spin.radius * updateFunc.x(particle.spin.angle);
        particle.position.y = particle.spin.center.y + particle.spin.radius * updateFunc.y(particle.spin.angle);
        particle.spin.radius += particle.spin.acceleration;
        const maxCanvasSize = Math.max(container.canvas.size.width, container.canvas.size.height);
        if (particle.spin.radius > maxCanvasSize / 2) {
            particle.spin.radius = maxCanvasSize / 2;
            particle.spin.acceleration *= -1;
        }
        else if (particle.spin.radius < 0) {
            particle.spin.radius = 0;
            particle.spin.acceleration *= -1;
        }
        particle.spin.angle += (moveSpeed / 100) * (1 - particle.spin.radius / maxCanvasSize);
    }
    applyPath(particle, delta) {
        const particlesOptions = particle.options;
        const pathOptions = particlesOptions.move.path;
        const pathEnabled = pathOptions.enable;
        if (!pathEnabled) {
            return;
        }
        const container = this.container;
        if (particle.lastPathTime <= particle.pathDelay) {
            particle.lastPathTime += delta.value;
            return;
        }
        const path = container.pathGenerator.generate(particle);
        particle.velocity.addTo(path);
        if (pathOptions.clamp) {
            particle.velocity.x = (0, Utils_1.clamp)(particle.velocity.x, -1, 1);
            particle.velocity.y = (0, Utils_1.clamp)(particle.velocity.y, -1, 1);
        }
        particle.lastPathTime -= particle.pathDelay;
    }
    moveParallax(particle) {
        const container = this.container;
        const options = container.actualOptions;
        if ((0, Utils_1.isSsr)() || !options.interactivity.events.onHover.parallax.enable) {
            return;
        }
        const parallaxForce = options.interactivity.events.onHover.parallax.force;
        const mousePos = container.interactivity.mouse.position;
        if (!mousePos) {
            return;
        }
        const canvasCenter = {
            x: container.canvas.size.width / 2,
            y: container.canvas.size.height / 2,
        };
        const parallaxSmooth = options.interactivity.events.onHover.parallax.smooth;
        const factor = particle.getRadius() / parallaxForce;
        const tmp = {
            x: (mousePos.x - canvasCenter.x) * factor,
            y: (mousePos.y - canvasCenter.y) * factor,
        };
        particle.offset.x += (tmp.x - particle.offset.x) / parallaxSmooth;
        particle.offset.y += (tmp.y - particle.offset.y) / parallaxSmooth;
    }
    getProximitySpeedFactor(particle) {
        const container = this.container;
        const options = container.actualOptions;
        const active = (0, Utils_1.isInArray)(Enums_1.HoverMode.slow, options.interactivity.events.onHover.mode);
        if (!active) {
            return 1;
        }
        const mousePos = this.container.interactivity.mouse.position;
        if (!mousePos) {
            return 1;
        }
        const particlePos = particle.getPosition();
        const dist = (0, Utils_1.getDistance)(mousePos, particlePos);
        const radius = container.retina.slowModeRadius;
        if (dist > radius) {
            return 1;
        }
        const proximityFactor = dist / radius || 0;
        const slowFactor = options.interactivity.modes.slow.factor;
        return proximityFactor / slowFactor;
    }
}
exports.Mover = Mover;


/***/ }),

/***/ "./node_modules/tsparticles/Core/Particle/Vector.js":
/*!**********************************************************!*\
  !*** ./node_modules/tsparticles/Core/Particle/Vector.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Vector = void 0;
class Vector {
    constructor(x, y) {
        let defX, defY;
        if (y === undefined) {
            if (typeof x === "number") {
                throw new Error("tsParticles - Vector not initialized correctly");
            }
            const coords = x;
            [defX, defY] = [coords.x, coords.y];
        }
        else {
            [defX, defY] = [x, y];
        }
        this.x = defX;
        this.y = defY;
    }
    static clone(source) {
        return Vector.create(source.x, source.y);
    }
    static create(x, y) {
        return new Vector(x, y);
    }
    static get origin() {
        return Vector.create(0, 0);
    }
    get angle() {
        return Math.atan2(this.y, this.x);
    }
    set angle(angle) {
        this.updateFromAngle(angle, this.length);
    }
    get length() {
        return Math.sqrt(this.x ** 2 + this.y ** 2);
    }
    set length(length) {
        this.updateFromAngle(this.angle, length);
    }
    add(v) {
        return Vector.create(this.x + v.x, this.y + v.y);
    }
    addTo(v) {
        this.x += v.x;
        this.y += v.y;
    }
    sub(v) {
        return Vector.create(this.x - v.x, this.y - v.y);
    }
    subFrom(v) {
        this.x -= v.x;
        this.y -= v.y;
    }
    mult(n) {
        return Vector.create(this.x * n, this.y * n);
    }
    multTo(n) {
        this.x *= n;
        this.y *= n;
    }
    div(n) {
        return Vector.create(this.x / n, this.y / n);
    }
    divTo(n) {
        this.x /= n;
        this.y /= n;
    }
    distanceTo(v) {
        return this.sub(v).length;
    }
    getLengthSq() {
        return this.x ** 2 + this.y ** 2;
    }
    distanceToSq(v) {
        return this.sub(v).getLengthSq();
    }
    manhattanDistanceTo(v) {
        return Math.abs(v.x - this.x) + Math.abs(v.y - this.y);
    }
    copy() {
        return Vector.clone(this);
    }
    setTo(velocity) {
        this.x = velocity.x;
        this.y = velocity.y;
    }
    rotate(angle) {
        return Vector.create(this.x * Math.cos(angle) - this.y * Math.sin(angle), this.x * Math.sin(angle) + this.y * Math.cos(angle));
    }
    updateFromAngle(angle, length) {
        this.x = Math.cos(angle) * length;
        this.y = Math.sin(angle) * length;
    }
}
exports.Vector = Vector;


/***/ }),

/***/ "./node_modules/tsparticles/Core/Particle/Vector3d.js":
/*!************************************************************!*\
  !*** ./node_modules/tsparticles/Core/Particle/Vector3d.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Vector3d = void 0;
const Vector_1 = __webpack_require__(/*! ./Vector */ "./node_modules/tsparticles/Core/Particle/Vector.js");
class Vector3d extends Vector_1.Vector {
    constructor(x, y, z) {
        super(x, y);
        this.z = z === undefined ? x.z : z;
    }
    static clone(source) {
        return Vector3d.create(source.x, source.y, source.z);
    }
    static create(x, y, z) {
        return new Vector3d(x, y, z);
    }
    add(v) {
        return v instanceof Vector3d ? Vector3d.create(this.x + v.x, this.y + v.y, this.z + v.z) : super.add(v);
    }
    addTo(v) {
        super.addTo(v);
        if (v instanceof Vector3d) {
            this.z += v.z;
        }
    }
    sub(v) {
        return v instanceof Vector3d ? Vector3d.create(this.x - v.x, this.y - v.y, this.z - v.z) : super.sub(v);
    }
    subFrom(v) {
        super.subFrom(v);
        if (v instanceof Vector3d) {
            this.z -= v.z;
        }
    }
    mult(n) {
        return Vector3d.create(this.x * n, this.y * n, this.z * n);
    }
    multTo(n) {
        super.multTo(n);
        this.z *= n;
    }
    div(n) {
        return Vector3d.create(this.x / n, this.y / n, this.z / n);
    }
    divTo(n) {
        super.divTo(n);
        this.z /= n;
    }
    copy() {
        return Vector3d.clone(this);
    }
    setTo(v) {
        super.setTo(v);
        if (v instanceof Vector3d) {
            this.z = v.z;
        }
    }
}
exports.Vector3d = Vector3d;


/***/ }),

/***/ "./node_modules/tsparticles/Core/Particles.js":
/*!****************************************************!*\
  !*** ./node_modules/tsparticles/Core/Particles.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Particles = void 0;
const Particle_1 = __webpack_require__(/*! ./Particle */ "./node_modules/tsparticles/Core/Particle.js");
const Utils_1 = __webpack_require__(/*! ../Utils */ "./node_modules/tsparticles/Utils/index.js");
const InteractionManager_1 = __webpack_require__(/*! ./InteractionManager */ "./node_modules/tsparticles/Core/InteractionManager.js");
const ParticlesOptions_1 = __webpack_require__(/*! ../Options/Classes/Particles/ParticlesOptions */ "./node_modules/tsparticles/Options/Classes/Particles/ParticlesOptions.js");
const Mover_1 = __webpack_require__(/*! ./Particle/Mover */ "./node_modules/tsparticles/Core/Particle/Mover.js");
class Particles {
    constructor(container) {
        this.container = container;
        this.nextId = 0;
        this.array = [];
        this.zArray = [];
        this.mover = new Mover_1.Mover(container);
        this.limit = 0;
        this.needsSort = false;
        this.lastZIndex = 0;
        this.freqs = {
            links: new Map(),
            triangles: new Map(),
        };
        this.interactionManager = new InteractionManager_1.InteractionManager(container);
        const canvasSize = this.container.canvas.size;
        this.linksColors = new Map();
        this.quadTree = new Utils_1.QuadTree(new Utils_1.Rectangle(-canvasSize.width / 4, -canvasSize.height / 4, (canvasSize.width * 3) / 2, (canvasSize.height * 3) / 2), 4);
        this.updaters = Utils_1.Plugins.getUpdaters(container, true);
    }
    get count() {
        return this.array.length;
    }
    init() {
        var _a;
        const container = this.container;
        const options = container.actualOptions;
        this.lastZIndex = 0;
        this.needsSort = false;
        this.freqs.links = new Map();
        this.freqs.triangles = new Map();
        let handled = false;
        this.updaters = Utils_1.Plugins.getUpdaters(container, true);
        this.interactionManager.init();
        for (const [, plugin] of container.plugins) {
            if (plugin.particlesInitialization !== undefined) {
                handled = plugin.particlesInitialization();
            }
            if (handled) {
                break;
            }
        }
        this.addManualParticles();
        if (!handled) {
            for (const group in options.particles.groups) {
                const groupOptions = options.particles.groups[group];
                for (let i = this.count, j = 0; j < ((_a = groupOptions.number) === null || _a === void 0 ? void 0 : _a.value) && i < options.particles.number.value; i++, j++) {
                    this.addParticle(undefined, groupOptions, group);
                }
            }
            for (let i = this.count; i < options.particles.number.value; i++) {
                this.addParticle();
            }
        }
        container.pathGenerator.init(container);
    }
    redraw() {
        this.clear();
        this.init();
        this.draw({ value: 0, factor: 0 });
    }
    removeAt(index, quantity = 1, group, override) {
        if (!(index >= 0 && index <= this.count)) {
            return;
        }
        let deleted = 0;
        for (let i = index; deleted < quantity && i < this.count; i++) {
            const particle = this.array[i];
            if (!particle || particle.group !== group) {
                continue;
            }
            particle.destroy(override);
            this.array.splice(i--, 1);
            const zIdx = this.zArray.indexOf(particle);
            this.zArray.splice(zIdx, 1);
            deleted++;
        }
    }
    remove(particle, group, override) {
        this.removeAt(this.array.indexOf(particle), undefined, group, override);
    }
    update(delta) {
        const container = this.container;
        const particlesToDelete = [];
        container.pathGenerator.update();
        for (const [, plugin] of container.plugins) {
            if (plugin.update !== undefined) {
                plugin.update(delta);
            }
        }
        for (const particle of this.array) {
            const resizeFactor = container.canvas.resizeFactor;
            if (resizeFactor) {
                particle.position.x *= resizeFactor.width;
                particle.position.y *= resizeFactor.height;
            }
            particle.bubble.inRange = false;
            for (const [, plugin] of this.container.plugins) {
                if (particle.destroyed) {
                    break;
                }
                if (plugin.particleUpdate) {
                    plugin.particleUpdate(particle, delta);
                }
            }
            this.mover.move(particle, delta);
            if (particle.destroyed) {
                particlesToDelete.push(particle);
                continue;
            }
            this.quadTree.insert(new Utils_1.Point(particle.getPosition(), particle));
        }
        for (const particle of particlesToDelete) {
            this.remove(particle);
        }
        this.interactionManager.externalInteract(delta);
        for (const particle of container.particles.array) {
            for (const updater of this.updaters) {
                updater.update(particle, delta);
            }
            if (!particle.destroyed && !particle.spawning) {
                this.interactionManager.particlesInteract(particle, delta);
            }
        }
        delete container.canvas.resizeFactor;
    }
    draw(delta) {
        const container = this.container;
        container.canvas.clear();
        const canvasSize = this.container.canvas.size;
        this.quadTree = new Utils_1.QuadTree(new Utils_1.Rectangle(-canvasSize.width / 4, -canvasSize.height / 4, (canvasSize.width * 3) / 2, (canvasSize.height * 3) / 2), 4);
        this.update(delta);
        if (this.needsSort) {
            this.zArray.sort((a, b) => b.position.z - a.position.z || a.id - b.id);
            this.lastZIndex = this.zArray[this.zArray.length - 1].position.z;
            this.needsSort = false;
        }
        for (const [, plugin] of container.plugins) {
            container.canvas.drawPlugin(plugin, delta);
        }
        for (const p of this.zArray) {
            p.draw(delta);
        }
    }
    clear() {
        this.array = [];
        this.zArray = [];
    }
    push(nb, mouse, overrideOptions, group) {
        this.pushing = true;
        for (let i = 0; i < nb; i++) {
            this.addParticle(mouse === null || mouse === void 0 ? void 0 : mouse.position, overrideOptions, group);
        }
        this.pushing = false;
    }
    addParticle(position, overrideOptions, group) {
        const container = this.container;
        const options = container.actualOptions;
        const limit = options.particles.number.limit * container.density;
        if (limit > 0) {
            const countToRemove = this.count + 1 - limit;
            if (countToRemove > 0) {
                this.removeQuantity(countToRemove);
            }
        }
        return this.pushParticle(position, overrideOptions, group);
    }
    addSplitParticle(parent) {
        const splitOptions = parent.options.destroy.split;
        const options = new ParticlesOptions_1.ParticlesOptions();
        options.load(parent.options);
        const factor = (0, Utils_1.getRangeValue)(splitOptions.factor.value);
        options.color.load({
            value: {
                hsl: parent.getFillColor(),
            },
        });
        if (typeof options.size.value === "number") {
            options.size.value /= factor;
        }
        else {
            options.size.value.min /= factor;
            options.size.value.max /= factor;
        }
        options.load(splitOptions.particles);
        const offset = splitOptions.sizeOffset ? (0, Utils_1.setRangeValue)(-parent.size.value, parent.size.value) : 0;
        const position = {
            x: parent.position.x + (0, Utils_1.randomInRange)(offset),
            y: parent.position.y + (0, Utils_1.randomInRange)(offset),
        };
        return this.pushParticle(position, options, parent.group, (particle) => {
            if (particle.size.value < 0.5) {
                return false;
            }
            particle.velocity.length = (0, Utils_1.randomInRange)((0, Utils_1.setRangeValue)(parent.velocity.length, particle.velocity.length));
            particle.splitCount = parent.splitCount + 1;
            particle.unbreakable = true;
            setTimeout(() => {
                particle.unbreakable = false;
            }, 500);
            return true;
        });
    }
    removeQuantity(quantity, group) {
        this.removeAt(0, quantity, group);
    }
    getLinkFrequency(p1, p2) {
        const key = `${Math.min(p1.id, p2.id)}_${Math.max(p1.id, p2.id)}`;
        let res = this.freqs.links.get(key);
        if (res === undefined) {
            res = Math.random();
            this.freqs.links.set(key, res);
        }
        return res;
    }
    getTriangleFrequency(p1, p2, p3) {
        let [id1, id2, id3] = [p1.id, p2.id, p3.id];
        if (id1 > id2) {
            [id2, id1] = [id1, id2];
        }
        if (id2 > id3) {
            [id3, id2] = [id2, id3];
        }
        if (id1 > id3) {
            [id3, id1] = [id1, id3];
        }
        const key = `${id1}_${id2}_${id3}`;
        let res = this.freqs.triangles.get(key);
        if (res === undefined) {
            res = Math.random();
            this.freqs.triangles.set(key, res);
        }
        return res;
    }
    addManualParticles() {
        const container = this.container;
        const options = container.actualOptions;
        for (const particle of options.manualParticles) {
            const pos = particle.position
                ? {
                    x: (particle.position.x * container.canvas.size.width) / 100,
                    y: (particle.position.y * container.canvas.size.height) / 100,
                }
                : undefined;
            this.addParticle(pos, particle.options);
        }
    }
    setDensity() {
        const options = this.container.actualOptions;
        for (const group in options.particles.groups) {
            this.applyDensity(options.particles.groups[group], 0, group);
        }
        this.applyDensity(options.particles, options.manualParticles.length);
    }
    applyDensity(options, manualCount, group) {
        var _a;
        if (!((_a = options.number.density) === null || _a === void 0 ? void 0 : _a.enable)) {
            return;
        }
        const numberOptions = options.number;
        const densityFactor = this.initDensityFactor(numberOptions.density);
        const optParticlesNumber = numberOptions.value;
        const optParticlesLimit = numberOptions.limit > 0 ? numberOptions.limit : optParticlesNumber;
        const particlesNumber = Math.min(optParticlesNumber, optParticlesLimit) * densityFactor + manualCount;
        const particlesCount = Math.min(this.count, this.array.filter((t) => t.group === group).length);
        this.limit = numberOptions.limit * densityFactor;
        if (particlesCount < particlesNumber) {
            this.push(Math.abs(particlesNumber - particlesCount), undefined, options, group);
        }
        else if (particlesCount > particlesNumber) {
            this.removeQuantity(particlesCount - particlesNumber, group);
        }
    }
    initDensityFactor(densityOptions) {
        const container = this.container;
        if (!container.canvas.element || !densityOptions.enable) {
            return 1;
        }
        const canvas = container.canvas.element;
        const pxRatio = container.retina.pixelRatio;
        return (canvas.width * canvas.height) / (densityOptions.factor * pxRatio ** 2 * densityOptions.area);
    }
    pushParticle(position, overrideOptions, group, initializer) {
        try {
            const particle = new Particle_1.Particle(this.nextId, this.container, position, overrideOptions, group);
            let canAdd = true;
            if (initializer) {
                canAdd = initializer(particle);
            }
            if (!canAdd) {
                return;
            }
            this.array.push(particle);
            this.zArray.push(particle);
            this.nextId++;
            return particle;
        }
        catch (e) {
            console.warn(`error adding particle: ${e}`);
            return;
        }
    }
}
exports.Particles = Particles;


/***/ }),

/***/ "./node_modules/tsparticles/Core/ParticlesInteractorBase.js":
/*!******************************************************************!*\
  !*** ./node_modules/tsparticles/Core/ParticlesInteractorBase.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ParticlesInteractorBase = void 0;
const Enums_1 = __webpack_require__(/*! ../Enums */ "./node_modules/tsparticles/Enums/index.js");
class ParticlesInteractorBase {
    constructor(container) {
        this.container = container;
        this.type = Enums_1.InteractorType.Particles;
    }
}
exports.ParticlesInteractorBase = ParticlesInteractorBase;


/***/ }),

/***/ "./node_modules/tsparticles/Core/Retina.js":
/*!*************************************************!*\
  !*** ./node_modules/tsparticles/Core/Retina.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Retina = void 0;
const Utils_1 = __webpack_require__(/*! ../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Retina {
    constructor(container) {
        this.container = container;
    }
    init() {
        const container = this.container;
        const options = container.actualOptions;
        this.pixelRatio = !options.detectRetina || (0, Utils_1.isSsr)() ? 1 : window.devicePixelRatio;
        const motionOptions = this.container.actualOptions.motion;
        if (motionOptions && (motionOptions.disable || motionOptions.reduce.value)) {
            if ((0, Utils_1.isSsr)() || typeof matchMedia === "undefined" || !matchMedia) {
                this.reduceFactor = 1;
            }
            else {
                const mediaQuery = matchMedia("(prefers-reduced-motion: reduce)");
                if (mediaQuery) {
                    this.handleMotionChange(mediaQuery);
                    const handleChange = () => {
                        this.handleMotionChange(mediaQuery);
                        container.refresh().catch(() => {
                        });
                    };
                    if (mediaQuery.addEventListener !== undefined) {
                        mediaQuery.addEventListener("change", handleChange);
                    }
                    else if (mediaQuery.addListener !== undefined) {
                        mediaQuery.addListener(handleChange);
                    }
                }
            }
        }
        else {
            this.reduceFactor = 1;
        }
        const ratio = this.pixelRatio;
        if (container.canvas.element) {
            const element = container.canvas.element;
            container.canvas.size.width = element.offsetWidth * ratio;
            container.canvas.size.height = element.offsetHeight * ratio;
        }
        const particles = options.particles;
        this.attractDistance = particles.move.attract.distance * ratio;
        this.linksDistance = particles.links.distance * ratio;
        this.linksWidth = particles.links.width * ratio;
        this.sizeAnimationSpeed = particles.size.animation.speed * ratio;
        this.maxSpeed = particles.move.gravity.maxSpeed * ratio;
        if (particles.orbit.radius !== undefined) {
            this.orbitRadius = particles.orbit.radius * this.container.retina.pixelRatio;
        }
        const modes = options.interactivity.modes;
        this.connectModeDistance = modes.connect.distance * ratio;
        this.connectModeRadius = modes.connect.radius * ratio;
        this.grabModeDistance = modes.grab.distance * ratio;
        this.repulseModeDistance = modes.repulse.distance * ratio;
        this.bounceModeDistance = modes.bounce.distance * ratio;
        this.attractModeDistance = modes.attract.distance * ratio;
        this.slowModeRadius = modes.slow.radius * ratio;
        this.bubbleModeDistance = modes.bubble.distance * ratio;
        if (modes.bubble.size) {
            this.bubbleModeSize = modes.bubble.size * ratio;
        }
    }
    initParticle(particle) {
        const options = particle.options;
        const ratio = this.pixelRatio;
        const moveDistance = options.move.distance;
        const props = particle.retina;
        props.attractDistance = options.move.attract.distance * ratio;
        props.linksDistance = options.links.distance * ratio;
        props.linksWidth = options.links.width * ratio;
        props.moveDrift = (0, Utils_1.getRangeValue)(options.move.drift) * ratio;
        props.moveSpeed = (0, Utils_1.getRangeValue)(options.move.speed) * ratio;
        props.sizeAnimationSpeed = options.size.animation.speed * ratio;
        if (particle.spin) {
            props.spinAcceleration = (0, Utils_1.getRangeValue)(options.move.spin.acceleration) * ratio;
        }
        const maxDistance = props.maxDistance;
        maxDistance.horizontal = moveDistance.horizontal !== undefined ? moveDistance.horizontal * ratio : undefined;
        maxDistance.vertical = moveDistance.vertical !== undefined ? moveDistance.vertical * ratio : undefined;
        props.maxSpeed = options.move.gravity.maxSpeed * ratio;
    }
    handleMotionChange(mediaQuery) {
        const options = this.container.actualOptions;
        if (mediaQuery.matches) {
            const motion = options.motion;
            this.reduceFactor = motion.disable ? 0 : motion.reduce.value ? 1 / motion.reduce.factor : 1;
        }
        else {
            this.reduceFactor = 1;
        }
    }
}
exports.Retina = Retina;


/***/ }),

/***/ "./node_modules/tsparticles/Enums/AnimationStatus.js":
/*!***********************************************************!*\
  !*** ./node_modules/tsparticles/Enums/AnimationStatus.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AnimationStatus = void 0;
var AnimationStatus;
(function (AnimationStatus) {
    AnimationStatus[AnimationStatus["increasing"] = 0] = "increasing";
    AnimationStatus[AnimationStatus["decreasing"] = 1] = "decreasing";
})(AnimationStatus = exports.AnimationStatus || (exports.AnimationStatus = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Directions/MoveDirection.js":
/*!********************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Directions/MoveDirection.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MoveDirection = void 0;
var MoveDirection;
(function (MoveDirection) {
    MoveDirection["bottom"] = "bottom";
    MoveDirection["bottomLeft"] = "bottom-left";
    MoveDirection["bottomRight"] = "bottom-right";
    MoveDirection["left"] = "left";
    MoveDirection["none"] = "none";
    MoveDirection["right"] = "right";
    MoveDirection["top"] = "top";
    MoveDirection["topLeft"] = "top-left";
    MoveDirection["topRight"] = "top-right";
})(MoveDirection = exports.MoveDirection || (exports.MoveDirection = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Directions/OutModeDirection.js":
/*!***********************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Directions/OutModeDirection.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OutModeDirection = void 0;
var OutModeDirection;
(function (OutModeDirection) {
    OutModeDirection["bottom"] = "bottom";
    OutModeDirection["left"] = "left";
    OutModeDirection["right"] = "right";
    OutModeDirection["top"] = "top";
})(OutModeDirection = exports.OutModeDirection || (exports.OutModeDirection = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Directions/RotateDirection.js":
/*!**********************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Directions/RotateDirection.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RotateDirection = void 0;
var RotateDirection;
(function (RotateDirection) {
    RotateDirection["clockwise"] = "clockwise";
    RotateDirection["counterClockwise"] = "counter-clockwise";
    RotateDirection["random"] = "random";
})(RotateDirection = exports.RotateDirection || (exports.RotateDirection = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Directions/TiltDirection.js":
/*!********************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Directions/TiltDirection.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TiltDirection = void 0;
var TiltDirection;
(function (TiltDirection) {
    TiltDirection["clockwise"] = "clockwise";
    TiltDirection["counterClockwise"] = "counter-clockwise";
    TiltDirection["random"] = "random";
})(TiltDirection = exports.TiltDirection || (exports.TiltDirection = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Directions/index.js":
/*!************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Directions/index.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./MoveDirection */ "./node_modules/tsparticles/Enums/Directions/MoveDirection.js"), exports);
__exportStar(__webpack_require__(/*! ./RotateDirection */ "./node_modules/tsparticles/Enums/Directions/RotateDirection.js"), exports);
__exportStar(__webpack_require__(/*! ./OutModeDirection */ "./node_modules/tsparticles/Enums/Directions/OutModeDirection.js"), exports);
__exportStar(__webpack_require__(/*! ./TiltDirection */ "./node_modules/tsparticles/Enums/Directions/TiltDirection.js"), exports);


/***/ }),

/***/ "./node_modules/tsparticles/Enums/InteractivityDetect.js":
/*!***************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/InteractivityDetect.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InteractivityDetect = void 0;
var InteractivityDetect;
(function (InteractivityDetect) {
    InteractivityDetect["canvas"] = "canvas";
    InteractivityDetect["parent"] = "parent";
    InteractivityDetect["window"] = "window";
})(InteractivityDetect = exports.InteractivityDetect || (exports.InteractivityDetect = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Modes/ClickMode.js":
/*!***********************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Modes/ClickMode.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ClickMode = void 0;
var ClickMode;
(function (ClickMode) {
    ClickMode["attract"] = "attract";
    ClickMode["bubble"] = "bubble";
    ClickMode["push"] = "push";
    ClickMode["remove"] = "remove";
    ClickMode["repulse"] = "repulse";
    ClickMode["pause"] = "pause";
    ClickMode["trail"] = "trail";
})(ClickMode = exports.ClickMode || (exports.ClickMode = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Modes/CollisionMode.js":
/*!***************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Modes/CollisionMode.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CollisionMode = void 0;
var CollisionMode;
(function (CollisionMode) {
    CollisionMode["absorb"] = "absorb";
    CollisionMode["bounce"] = "bounce";
    CollisionMode["destroy"] = "destroy";
})(CollisionMode = exports.CollisionMode || (exports.CollisionMode = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Modes/DestroyMode.js":
/*!*************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Modes/DestroyMode.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DestroyMode = void 0;
var DestroyMode;
(function (DestroyMode) {
    DestroyMode["none"] = "none";
    DestroyMode["split"] = "split";
})(DestroyMode = exports.DestroyMode || (exports.DestroyMode = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Modes/DivMode.js":
/*!*********************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Modes/DivMode.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DivMode = void 0;
var DivMode;
(function (DivMode) {
    DivMode["bounce"] = "bounce";
    DivMode["bubble"] = "bubble";
    DivMode["repulse"] = "repulse";
})(DivMode = exports.DivMode || (exports.DivMode = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Modes/HoverMode.js":
/*!***********************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Modes/HoverMode.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HoverMode = void 0;
var HoverMode;
(function (HoverMode) {
    HoverMode["attract"] = "attract";
    HoverMode["bounce"] = "bounce";
    HoverMode["bubble"] = "bubble";
    HoverMode["connect"] = "connect";
    HoverMode["grab"] = "grab";
    HoverMode["light"] = "light";
    HoverMode["repulse"] = "repulse";
    HoverMode["slow"] = "slow";
    HoverMode["trail"] = "trail";
})(HoverMode = exports.HoverMode || (exports.HoverMode = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Modes/OutMode.js":
/*!*********************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Modes/OutMode.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OutMode = void 0;
var OutMode;
(function (OutMode) {
    OutMode["bounce"] = "bounce";
    OutMode["bounceHorizontal"] = "bounce-horizontal";
    OutMode["bounceVertical"] = "bounce-vertical";
    OutMode["none"] = "none";
    OutMode["out"] = "out";
    OutMode["destroy"] = "destroy";
    OutMode["split"] = "split";
})(OutMode = exports.OutMode || (exports.OutMode = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Modes/ResponsiveMode.js":
/*!****************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Modes/ResponsiveMode.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ResponsiveMode = void 0;
var ResponsiveMode;
(function (ResponsiveMode) {
    ResponsiveMode["screen"] = "screen";
    ResponsiveMode["canvas"] = "canvas";
})(ResponsiveMode = exports.ResponsiveMode || (exports.ResponsiveMode = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Modes/RollMode.js":
/*!**********************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Modes/RollMode.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RollMode = void 0;
var RollMode;
(function (RollMode) {
    RollMode["both"] = "both";
    RollMode["horizontal"] = "horizontal";
    RollMode["vertical"] = "vertical";
})(RollMode = exports.RollMode || (exports.RollMode = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Modes/SizeMode.js":
/*!**********************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Modes/SizeMode.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SizeMode = void 0;
var SizeMode;
(function (SizeMode) {
    SizeMode["precise"] = "precise";
    SizeMode["percent"] = "percent";
})(SizeMode = exports.SizeMode || (exports.SizeMode = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Modes/ThemeMode.js":
/*!***********************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Modes/ThemeMode.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ThemeMode = void 0;
var ThemeMode;
(function (ThemeMode) {
    ThemeMode["any"] = "any";
    ThemeMode["dark"] = "dark";
    ThemeMode["light"] = "light";
})(ThemeMode = exports.ThemeMode || (exports.ThemeMode = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Modes/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Modes/index.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./ClickMode */ "./node_modules/tsparticles/Enums/Modes/ClickMode.js"), exports);
__exportStar(__webpack_require__(/*! ./DestroyMode */ "./node_modules/tsparticles/Enums/Modes/DestroyMode.js"), exports);
__exportStar(__webpack_require__(/*! ./DivMode */ "./node_modules/tsparticles/Enums/Modes/DivMode.js"), exports);
__exportStar(__webpack_require__(/*! ./HoverMode */ "./node_modules/tsparticles/Enums/Modes/HoverMode.js"), exports);
__exportStar(__webpack_require__(/*! ./CollisionMode */ "./node_modules/tsparticles/Enums/Modes/CollisionMode.js"), exports);
__exportStar(__webpack_require__(/*! ./OutMode */ "./node_modules/tsparticles/Enums/Modes/OutMode.js"), exports);
__exportStar(__webpack_require__(/*! ./RollMode */ "./node_modules/tsparticles/Enums/Modes/RollMode.js"), exports);
__exportStar(__webpack_require__(/*! ./SizeMode */ "./node_modules/tsparticles/Enums/Modes/SizeMode.js"), exports);
__exportStar(__webpack_require__(/*! ./ThemeMode */ "./node_modules/tsparticles/Enums/Modes/ThemeMode.js"), exports);
__exportStar(__webpack_require__(/*! ./ResponsiveMode */ "./node_modules/tsparticles/Enums/Modes/ResponsiveMode.js"), exports);


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Types/AlterType.js":
/*!***********************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Types/AlterType.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AlterType = void 0;
var AlterType;
(function (AlterType) {
    AlterType["darken"] = "darken";
    AlterType["enlighten"] = "enlighten";
})(AlterType = exports.AlterType || (exports.AlterType = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Types/DestroyType.js":
/*!*************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Types/DestroyType.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DestroyType = void 0;
var DestroyType;
(function (DestroyType) {
    DestroyType["none"] = "none";
    DestroyType["max"] = "max";
    DestroyType["min"] = "min";
})(DestroyType = exports.DestroyType || (exports.DestroyType = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Types/DivType.js":
/*!*********************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Types/DivType.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DivType = void 0;
var DivType;
(function (DivType) {
    DivType["circle"] = "circle";
    DivType["rectangle"] = "rectangle";
})(DivType = exports.DivType || (exports.DivType = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Types/EasingType.js":
/*!************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Types/EasingType.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EasingType = void 0;
var EasingType;
(function (EasingType) {
    EasingType["easeOutBack"] = "ease-out-back";
    EasingType["easeOutCirc"] = "ease-out-circ";
    EasingType["easeOutCubic"] = "ease-out-cubic";
    EasingType["easeOutQuad"] = "ease-out-quad";
    EasingType["easeOutQuart"] = "ease-out-quart";
    EasingType["easeOutQuint"] = "ease-out-quint";
    EasingType["easeOutExpo"] = "ease-out-expo";
    EasingType["easeOutSine"] = "ease-out-sine";
})(EasingType = exports.EasingType || (exports.EasingType = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Types/GradientType.js":
/*!**************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Types/GradientType.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GradientType = void 0;
var GradientType;
(function (GradientType) {
    GradientType["linear"] = "linear";
    GradientType["radial"] = "radial";
    GradientType["random"] = "random";
})(GradientType = exports.GradientType || (exports.GradientType = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Types/InteractorType.js":
/*!****************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Types/InteractorType.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InteractorType = void 0;
var InteractorType;
(function (InteractorType) {
    InteractorType[InteractorType["External"] = 0] = "External";
    InteractorType[InteractorType["Particles"] = 1] = "Particles";
})(InteractorType = exports.InteractorType || (exports.InteractorType = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Types/OrbitType.js":
/*!***********************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Types/OrbitType.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OrbitType = void 0;
var OrbitType;
(function (OrbitType) {
    OrbitType["front"] = "front";
    OrbitType["back"] = "back";
})(OrbitType = exports.OrbitType || (exports.OrbitType = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Types/ShapeType.js":
/*!***********************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Types/ShapeType.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ShapeType = void 0;
var ShapeType;
(function (ShapeType) {
    ShapeType["char"] = "char";
    ShapeType["character"] = "character";
    ShapeType["circle"] = "circle";
    ShapeType["edge"] = "edge";
    ShapeType["image"] = "image";
    ShapeType["images"] = "images";
    ShapeType["line"] = "line";
    ShapeType["polygon"] = "polygon";
    ShapeType["square"] = "square";
    ShapeType["star"] = "star";
    ShapeType["triangle"] = "triangle";
})(ShapeType = exports.ShapeType || (exports.ShapeType = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Types/StartValueType.js":
/*!****************************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Types/StartValueType.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StartValueType = void 0;
var StartValueType;
(function (StartValueType) {
    StartValueType["max"] = "max";
    StartValueType["min"] = "min";
    StartValueType["random"] = "random";
})(StartValueType = exports.StartValueType || (exports.StartValueType = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Enums/Types/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/tsparticles/Enums/Types/index.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./AlterType */ "./node_modules/tsparticles/Enums/Types/AlterType.js"), exports);
__exportStar(__webpack_require__(/*! ./DestroyType */ "./node_modules/tsparticles/Enums/Types/DestroyType.js"), exports);
__exportStar(__webpack_require__(/*! ./GradientType */ "./node_modules/tsparticles/Enums/Types/GradientType.js"), exports);
__exportStar(__webpack_require__(/*! ./InteractorType */ "./node_modules/tsparticles/Enums/Types/InteractorType.js"), exports);
__exportStar(__webpack_require__(/*! ./ShapeType */ "./node_modules/tsparticles/Enums/Types/ShapeType.js"), exports);
__exportStar(__webpack_require__(/*! ./StartValueType */ "./node_modules/tsparticles/Enums/Types/StartValueType.js"), exports);
__exportStar(__webpack_require__(/*! ./DivType */ "./node_modules/tsparticles/Enums/Types/DivType.js"), exports);
__exportStar(__webpack_require__(/*! ./EasingType */ "./node_modules/tsparticles/Enums/Types/EasingType.js"), exports);
__exportStar(__webpack_require__(/*! ./OrbitType */ "./node_modules/tsparticles/Enums/Types/OrbitType.js"), exports);


/***/ }),

/***/ "./node_modules/tsparticles/Enums/index.js":
/*!*************************************************!*\
  !*** ./node_modules/tsparticles/Enums/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./Directions */ "./node_modules/tsparticles/Enums/Directions/index.js"), exports);
__exportStar(__webpack_require__(/*! ./Modes */ "./node_modules/tsparticles/Enums/Modes/index.js"), exports);
__exportStar(__webpack_require__(/*! ./AnimationStatus */ "./node_modules/tsparticles/Enums/AnimationStatus.js"), exports);
__exportStar(__webpack_require__(/*! ./Types */ "./node_modules/tsparticles/Enums/Types/index.js"), exports);
__exportStar(__webpack_require__(/*! ./InteractivityDetect */ "./node_modules/tsparticles/Enums/InteractivityDetect.js"), exports);


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Attract/Attractor.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Attract/Attractor.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Attractor = void 0;
const Enums_1 = __webpack_require__(/*! ../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const ExternalInteractorBase_1 = __webpack_require__(/*! ../../../Core/ExternalInteractorBase */ "./node_modules/tsparticles/Core/ExternalInteractorBase.js");
const Vector_1 = __webpack_require__(/*! ../../../Core/Particle/Vector */ "./node_modules/tsparticles/Core/Particle/Vector.js");
class Attractor extends ExternalInteractorBase_1.ExternalInteractorBase {
    constructor(container) {
        super(container);
    }
    isEnabled() {
        const container = this.container, options = container.actualOptions, mouse = container.interactivity.mouse, events = options.interactivity.events;
        if ((!mouse.position || !events.onHover.enable) && (!mouse.clickPosition || !events.onClick.enable)) {
            return false;
        }
        const hoverMode = events.onHover.mode, clickMode = events.onClick.mode;
        return (0, Utils_1.isInArray)(Enums_1.HoverMode.attract, hoverMode) || (0, Utils_1.isInArray)(Enums_1.ClickMode.attract, clickMode);
    }
    reset() {
    }
    interact() {
        const container = this.container, options = container.actualOptions, mouseMoveStatus = container.interactivity.status === Utils_1.Constants.mouseMoveEvent, events = options.interactivity.events, hoverEnabled = events.onHover.enable, hoverMode = events.onHover.mode, clickEnabled = events.onClick.enable, clickMode = events.onClick.mode;
        if (mouseMoveStatus && hoverEnabled && (0, Utils_1.isInArray)(Enums_1.HoverMode.attract, hoverMode)) {
            this.hoverAttract();
        }
        else if (clickEnabled && (0, Utils_1.isInArray)(Enums_1.ClickMode.attract, clickMode)) {
            this.clickAttract();
        }
    }
    hoverAttract() {
        const container = this.container;
        const mousePos = container.interactivity.mouse.position;
        if (!mousePos) {
            return;
        }
        const attractRadius = container.retina.attractModeDistance;
        this.processAttract(mousePos, attractRadius, new Utils_1.Circle(mousePos.x, mousePos.y, attractRadius));
    }
    processAttract(position, attractRadius, area) {
        const container = this.container;
        const attractOptions = container.actualOptions.interactivity.modes.attract;
        const query = container.particles.quadTree.query(area);
        for (const particle of query) {
            const { dx, dy, distance } = (0, Utils_1.getDistances)(particle.position, position);
            const velocity = attractOptions.speed * attractOptions.factor;
            const attractFactor = (0, Utils_1.clamp)((0, Utils_1.calcEasing)(1 - distance / attractRadius, attractOptions.easing) * velocity, 0, attractOptions.maxSpeed);
            const normVec = Vector_1.Vector.create(distance === 0 ? velocity : (dx / distance) * attractFactor, distance === 0 ? velocity : (dy / distance) * attractFactor);
            particle.position.subFrom(normVec);
        }
    }
    clickAttract() {
        const container = this.container;
        if (!container.attract.finish) {
            if (!container.attract.count) {
                container.attract.count = 0;
            }
            container.attract.count++;
            if (container.attract.count === container.particles.count) {
                container.attract.finish = true;
            }
        }
        if (container.attract.clicking) {
            const mousePos = container.interactivity.mouse.clickPosition;
            if (!mousePos) {
                return;
            }
            const attractRadius = container.retina.attractModeDistance;
            this.processAttract(mousePos, attractRadius, new Utils_1.Circle(mousePos.x, mousePos.y, attractRadius));
        }
        else if (container.attract.clicking === false) {
            container.attract.particles = [];
        }
        return;
    }
}
exports.Attractor = Attractor;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Attract/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Attract/index.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadExternalAttractInteraction = void 0;
const Attractor_1 = __webpack_require__(/*! ./Attractor */ "./node_modules/tsparticles/Interactions/External/Attract/Attractor.js");
async function loadExternalAttractInteraction(tsParticles) {
    await tsParticles.addInteractor("externalAttract", (container) => new Attractor_1.Attractor(container));
}
exports.loadExternalAttractInteraction = loadExternalAttractInteraction;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Bounce/Bouncer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Bounce/Bouncer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Bouncer = void 0;
const Utils_1 = __webpack_require__(/*! ../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Vector_1 = __webpack_require__(/*! ../../../Core/Particle/Vector */ "./node_modules/tsparticles/Core/Particle/Vector.js");
const ExternalInteractorBase_1 = __webpack_require__(/*! ../../../Core/ExternalInteractorBase */ "./node_modules/tsparticles/Core/ExternalInteractorBase.js");
class Bouncer extends ExternalInteractorBase_1.ExternalInteractorBase {
    constructor(container) {
        super(container);
    }
    isEnabled() {
        const container = this.container, options = container.actualOptions, mouse = container.interactivity.mouse, events = options.interactivity.events, divs = events.onDiv;
        return ((mouse.position && events.onHover.enable && (0, Utils_1.isInArray)(Enums_1.HoverMode.bounce, events.onHover.mode)) ||
            (0, Utils_1.isDivModeEnabled)(Enums_1.DivMode.bounce, divs));
    }
    interact() {
        const container = this.container, options = container.actualOptions, events = options.interactivity.events, mouseMoveStatus = container.interactivity.status === Utils_1.Constants.mouseMoveEvent, hoverEnabled = events.onHover.enable, hoverMode = events.onHover.mode, divs = events.onDiv;
        if (mouseMoveStatus && hoverEnabled && (0, Utils_1.isInArray)(Enums_1.HoverMode.bounce, hoverMode)) {
            this.processMouseBounce();
        }
        else {
            (0, Utils_1.divModeExecute)(Enums_1.DivMode.bounce, divs, (selector, div) => this.singleSelectorBounce(selector, div));
        }
    }
    reset() {
    }
    processMouseBounce() {
        const container = this.container, pxRatio = container.retina.pixelRatio, tolerance = 10 * pxRatio, mousePos = container.interactivity.mouse.position, radius = container.retina.bounceModeDistance;
        if (mousePos) {
            this.processBounce(mousePos, radius, new Utils_1.Circle(mousePos.x, mousePos.y, radius + tolerance));
        }
    }
    singleSelectorBounce(selector, div) {
        const container = this.container;
        const query = document.querySelectorAll(selector);
        if (!query.length) {
            return;
        }
        query.forEach((item) => {
            const elem = item, pxRatio = container.retina.pixelRatio, pos = {
                x: (elem.offsetLeft + elem.offsetWidth / 2) * pxRatio,
                y: (elem.offsetTop + elem.offsetHeight / 2) * pxRatio,
            }, radius = (elem.offsetWidth / 2) * pxRatio, tolerance = 10 * pxRatio;
            const area = div.type === Enums_1.DivType.circle
                ? new Utils_1.Circle(pos.x, pos.y, radius + tolerance)
                : new Utils_1.Rectangle(elem.offsetLeft * pxRatio - tolerance, elem.offsetTop * pxRatio - tolerance, elem.offsetWidth * pxRatio + tolerance * 2, elem.offsetHeight * pxRatio + tolerance * 2);
            this.processBounce(pos, radius, area);
        });
    }
    processBounce(position, radius, area) {
        const query = this.container.particles.quadTree.query(area);
        for (const particle of query) {
            if (area instanceof Utils_1.Circle) {
                (0, Utils_1.circleBounce)((0, Utils_1.circleBounceDataFromParticle)(particle), {
                    position,
                    radius,
                    mass: (radius ** 2 * Math.PI) / 2,
                    velocity: Vector_1.Vector.origin,
                    factor: Vector_1.Vector.origin,
                });
            }
            else if (area instanceof Utils_1.Rectangle) {
                (0, Utils_1.rectBounce)(particle, (0, Utils_1.calculateBounds)(position, radius));
            }
        }
    }
}
exports.Bouncer = Bouncer;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Bounce/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Bounce/index.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadExternalBounceInteraction = void 0;
const Bouncer_1 = __webpack_require__(/*! ./Bouncer */ "./node_modules/tsparticles/Interactions/External/Bounce/Bouncer.js");
async function loadExternalBounceInteraction(tsParticles) {
    await tsParticles.addInteractor("externalBounce", (container) => new Bouncer_1.Bouncer(container));
}
exports.loadExternalBounceInteraction = loadExternalBounceInteraction;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Bubble/Bubbler.js":
/*!**************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Bubble/Bubbler.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Bubbler = void 0;
const Utils_1 = __webpack_require__(/*! ../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const ExternalInteractorBase_1 = __webpack_require__(/*! ../../../Core/ExternalInteractorBase */ "./node_modules/tsparticles/Core/ExternalInteractorBase.js");
const ProcessBubbleType_1 = __webpack_require__(/*! ./ProcessBubbleType */ "./node_modules/tsparticles/Interactions/External/Bubble/ProcessBubbleType.js");
function calculateBubbleValue(particleValue, modeValue, optionsValue, ratio) {
    if (modeValue >= optionsValue) {
        const value = particleValue + (modeValue - optionsValue) * ratio;
        return (0, Utils_1.clamp)(value, particleValue, modeValue);
    }
    else if (modeValue < optionsValue) {
        const value = particleValue - (optionsValue - modeValue) * ratio;
        return (0, Utils_1.clamp)(value, modeValue, particleValue);
    }
}
class Bubbler extends ExternalInteractorBase_1.ExternalInteractorBase {
    constructor(container) {
        super(container);
    }
    isEnabled() {
        const container = this.container, options = container.actualOptions, mouse = container.interactivity.mouse, events = options.interactivity.events, divs = events.onDiv, divBubble = (0, Utils_1.isDivModeEnabled)(Enums_1.DivMode.bubble, divs);
        if (!(divBubble || (events.onHover.enable && mouse.position) || (events.onClick.enable && mouse.clickPosition))) {
            return false;
        }
        const hoverMode = events.onHover.mode;
        const clickMode = events.onClick.mode;
        return (0, Utils_1.isInArray)(Enums_1.HoverMode.bubble, hoverMode) || (0, Utils_1.isInArray)(Enums_1.ClickMode.bubble, clickMode) || divBubble;
    }
    reset(particle, force) {
        if (!(!particle.bubble.inRange || force)) {
            return;
        }
        delete particle.bubble.div;
        delete particle.bubble.opacity;
        delete particle.bubble.radius;
        delete particle.bubble.color;
    }
    interact() {
        const options = this.container.actualOptions, events = options.interactivity.events, onHover = events.onHover, onClick = events.onClick, hoverEnabled = onHover.enable, hoverMode = onHover.mode, clickEnabled = onClick.enable, clickMode = onClick.mode, divs = events.onDiv;
        if (hoverEnabled && (0, Utils_1.isInArray)(Enums_1.HoverMode.bubble, hoverMode)) {
            this.hoverBubble();
        }
        else if (clickEnabled && (0, Utils_1.isInArray)(Enums_1.ClickMode.bubble, clickMode)) {
            this.clickBubble();
        }
        else {
            (0, Utils_1.divModeExecute)(Enums_1.DivMode.bubble, divs, (selector, div) => this.singleSelectorHover(selector, div));
        }
    }
    singleSelectorHover(selector, div) {
        const container = this.container, selectors = document.querySelectorAll(selector);
        if (!selectors.length) {
            return;
        }
        selectors.forEach((item) => {
            const elem = item, pxRatio = container.retina.pixelRatio, pos = {
                x: (elem.offsetLeft + elem.offsetWidth / 2) * pxRatio,
                y: (elem.offsetTop + elem.offsetHeight / 2) * pxRatio,
            }, repulseRadius = (elem.offsetWidth / 2) * pxRatio, area = div.type === Enums_1.DivType.circle
                ? new Utils_1.Circle(pos.x, pos.y, repulseRadius)
                : new Utils_1.Rectangle(elem.offsetLeft * pxRatio, elem.offsetTop * pxRatio, elem.offsetWidth * pxRatio, elem.offsetHeight * pxRatio), query = container.particles.quadTree.query(area);
            for (const particle of query) {
                if (!area.contains(particle.getPosition())) {
                    continue;
                }
                particle.bubble.inRange = true;
                const divs = container.actualOptions.interactivity.modes.bubble.divs;
                const divBubble = (0, Utils_1.divMode)(divs, elem);
                if (!particle.bubble.div || particle.bubble.div !== elem) {
                    this.reset(particle, true);
                    particle.bubble.div = elem;
                }
                this.hoverBubbleSize(particle, 1, divBubble);
                this.hoverBubbleOpacity(particle, 1, divBubble);
                this.hoverBubbleColor(particle, 1, divBubble);
            }
        });
    }
    process(particle, distMouse, timeSpent, data) {
        const container = this.container, bubbleParam = data.bubbleObj.optValue;
        if (bubbleParam === undefined) {
            return;
        }
        const options = container.actualOptions, bubbleDuration = options.interactivity.modes.bubble.duration, bubbleDistance = container.retina.bubbleModeDistance, particlesParam = data.particlesObj.optValue, pObjBubble = data.bubbleObj.value, pObj = data.particlesObj.value || 0, type = data.type;
        if (bubbleParam === particlesParam) {
            return;
        }
        if (!container.bubble.durationEnd) {
            if (distMouse <= bubbleDistance) {
                const obj = pObjBubble !== null && pObjBubble !== void 0 ? pObjBubble : pObj;
                if (obj !== bubbleParam) {
                    const value = pObj - (timeSpent * (pObj - bubbleParam)) / bubbleDuration;
                    if (type === ProcessBubbleType_1.ProcessBubbleType.size) {
                        particle.bubble.radius = value;
                    }
                    if (type === ProcessBubbleType_1.ProcessBubbleType.opacity) {
                        particle.bubble.opacity = value;
                    }
                }
            }
            else {
                if (type === ProcessBubbleType_1.ProcessBubbleType.size) {
                    delete particle.bubble.radius;
                }
                if (type === ProcessBubbleType_1.ProcessBubbleType.opacity) {
                    delete particle.bubble.opacity;
                }
            }
        }
        else if (pObjBubble) {
            if (type === ProcessBubbleType_1.ProcessBubbleType.size) {
                delete particle.bubble.radius;
            }
            if (type === ProcessBubbleType_1.ProcessBubbleType.opacity) {
                delete particle.bubble.opacity;
            }
        }
    }
    clickBubble() {
        var _a, _b;
        const container = this.container, options = container.actualOptions, mouseClickPos = container.interactivity.mouse.clickPosition;
        if (!mouseClickPos) {
            return;
        }
        const distance = container.retina.bubbleModeDistance, query = container.particles.quadTree.queryCircle(mouseClickPos, distance);
        for (const particle of query) {
            if (!container.bubble.clicking) {
                continue;
            }
            particle.bubble.inRange = !container.bubble.durationEnd;
            const pos = particle.getPosition(), distMouse = (0, Utils_1.getDistance)(pos, mouseClickPos), timeSpent = (new Date().getTime() - (container.interactivity.mouse.clickTime || 0)) / 1000;
            if (timeSpent > options.interactivity.modes.bubble.duration) {
                container.bubble.durationEnd = true;
            }
            if (timeSpent > options.interactivity.modes.bubble.duration * 2) {
                container.bubble.clicking = false;
                container.bubble.durationEnd = false;
            }
            const sizeData = {
                bubbleObj: {
                    optValue: container.retina.bubbleModeSize,
                    value: particle.bubble.radius,
                },
                particlesObj: {
                    optValue: (0, Utils_1.getRangeMax)(particle.options.size.value) * container.retina.pixelRatio,
                    value: particle.size.value,
                },
                type: ProcessBubbleType_1.ProcessBubbleType.size,
            };
            this.process(particle, distMouse, timeSpent, sizeData);
            const opacityData = {
                bubbleObj: {
                    optValue: options.interactivity.modes.bubble.opacity,
                    value: particle.bubble.opacity,
                },
                particlesObj: {
                    optValue: (0, Utils_1.getRangeMax)(particle.options.opacity.value),
                    value: (_b = (_a = particle.opacity) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : 1,
                },
                type: ProcessBubbleType_1.ProcessBubbleType.opacity,
            };
            this.process(particle, distMouse, timeSpent, opacityData);
            if (!container.bubble.durationEnd) {
                if (distMouse <= container.retina.bubbleModeDistance) {
                    this.hoverBubbleColor(particle, distMouse);
                }
                else {
                    delete particle.bubble.color;
                }
            }
            else {
                delete particle.bubble.color;
            }
        }
    }
    hoverBubble() {
        const container = this.container, mousePos = container.interactivity.mouse.position;
        if (mousePos === undefined) {
            return;
        }
        const distance = container.retina.bubbleModeDistance, query = container.particles.quadTree.queryCircle(mousePos, distance);
        for (const particle of query) {
            particle.bubble.inRange = true;
            const pos = particle.getPosition(), pointDistance = (0, Utils_1.getDistance)(pos, mousePos), ratio = 1 - pointDistance / distance;
            if (pointDistance <= distance) {
                if (ratio >= 0 && container.interactivity.status === Utils_1.Constants.mouseMoveEvent) {
                    this.hoverBubbleSize(particle, ratio);
                    this.hoverBubbleOpacity(particle, ratio);
                    this.hoverBubbleColor(particle, ratio);
                }
            }
            else {
                this.reset(particle);
            }
            if (container.interactivity.status === Utils_1.Constants.mouseLeaveEvent) {
                this.reset(particle);
            }
        }
    }
    hoverBubbleSize(particle, ratio, divBubble) {
        const container = this.container, modeSize = (divBubble === null || divBubble === void 0 ? void 0 : divBubble.size) ? divBubble.size * container.retina.pixelRatio : container.retina.bubbleModeSize;
        if (modeSize === undefined) {
            return;
        }
        const optSize = (0, Utils_1.getRangeMax)(particle.options.size.value) * container.retina.pixelRatio;
        const pSize = particle.size.value;
        const size = calculateBubbleValue(pSize, modeSize, optSize, ratio);
        if (size !== undefined) {
            particle.bubble.radius = size;
        }
    }
    hoverBubbleOpacity(particle, ratio, divBubble) {
        var _a, _b, _c;
        const container = this.container, options = container.actualOptions, modeOpacity = (_a = divBubble === null || divBubble === void 0 ? void 0 : divBubble.opacity) !== null && _a !== void 0 ? _a : options.interactivity.modes.bubble.opacity;
        if (!modeOpacity) {
            return;
        }
        const optOpacity = particle.options.opacity.value;
        const pOpacity = (_c = (_b = particle.opacity) === null || _b === void 0 ? void 0 : _b.value) !== null && _c !== void 0 ? _c : 1;
        const opacity = calculateBubbleValue(pOpacity, modeOpacity, (0, Utils_1.getRangeMax)(optOpacity), ratio);
        if (opacity !== undefined) {
            particle.bubble.opacity = opacity;
        }
    }
    hoverBubbleColor(particle, ratio, divBubble) {
        const options = this.container.actualOptions;
        const bubbleOptions = divBubble !== null && divBubble !== void 0 ? divBubble : options.interactivity.modes.bubble;
        if (!particle.bubble.finalColor) {
            const modeColor = bubbleOptions.color;
            if (!modeColor) {
                return;
            }
            const bubbleColor = modeColor instanceof Array ? (0, Utils_1.itemFromArray)(modeColor) : modeColor;
            particle.bubble.finalColor = (0, Utils_1.colorToHsl)(bubbleColor);
        }
        if (!particle.bubble.finalColor) {
            return;
        }
        if (bubbleOptions.mix) {
            particle.bubble.color = undefined;
            const pColor = particle.getFillColor();
            particle.bubble.color = pColor
                ? (0, Utils_1.rgbToHsl)((0, Utils_1.colorMix)(pColor, particle.bubble.finalColor, 1 - ratio, ratio))
                : particle.bubble.finalColor;
        }
        else {
            particle.bubble.color = particle.bubble.finalColor;
        }
    }
}
exports.Bubbler = Bubbler;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Bubble/ProcessBubbleType.js":
/*!************************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Bubble/ProcessBubbleType.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ProcessBubbleType = void 0;
var ProcessBubbleType;
(function (ProcessBubbleType) {
    ProcessBubbleType["color"] = "color";
    ProcessBubbleType["opacity"] = "opacity";
    ProcessBubbleType["size"] = "size";
})(ProcessBubbleType = exports.ProcessBubbleType || (exports.ProcessBubbleType = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Bubble/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Bubble/index.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadExternalBubbleInteraction = void 0;
const Bubbler_1 = __webpack_require__(/*! ./Bubbler */ "./node_modules/tsparticles/Interactions/External/Bubble/Bubbler.js");
async function loadExternalBubbleInteraction(tsParticles) {
    await tsParticles.addInteractor("externalBubble", (container) => new Bubbler_1.Bubbler(container));
}
exports.loadExternalBubbleInteraction = loadExternalBubbleInteraction;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Connect/Connector.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Connect/Connector.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Connector = void 0;
const Utils_1 = __webpack_require__(/*! ../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const ExternalInteractorBase_1 = __webpack_require__(/*! ../../../Core/ExternalInteractorBase */ "./node_modules/tsparticles/Core/ExternalInteractorBase.js");
class Connector extends ExternalInteractorBase_1.ExternalInteractorBase {
    constructor(container) {
        super(container);
    }
    isEnabled() {
        const container = this.container, mouse = container.interactivity.mouse, events = container.actualOptions.interactivity.events;
        if (!(events.onHover.enable && mouse.position)) {
            return false;
        }
        return (0, Utils_1.isInArray)(Enums_1.HoverMode.connect, events.onHover.mode);
    }
    reset() {
    }
    interact() {
        const container = this.container, options = container.actualOptions;
        if (options.interactivity.events.onHover.enable && container.interactivity.status === "mousemove") {
            const mousePos = container.interactivity.mouse.position;
            if (!mousePos) {
                return;
            }
            const distance = Math.abs(container.retina.connectModeRadius), query = container.particles.quadTree.queryCircle(mousePos, distance);
            let i = 0;
            for (const p1 of query) {
                const pos1 = p1.getPosition();
                for (const p2 of query.slice(i + 1)) {
                    const pos2 = p2.getPosition(), distMax = Math.abs(container.retina.connectModeDistance), xDiff = Math.abs(pos1.x - pos2.x), yDiff = Math.abs(pos1.y - pos2.y);
                    if (xDiff < distMax && yDiff < distMax) {
                        container.canvas.drawConnectLine(p1, p2);
                    }
                }
                ++i;
            }
        }
    }
}
exports.Connector = Connector;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Connect/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Connect/index.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadExternalConnectInteraction = void 0;
const Connector_1 = __webpack_require__(/*! ./Connector */ "./node_modules/tsparticles/Interactions/External/Connect/Connector.js");
async function loadExternalConnectInteraction(tsParticles) {
    await tsParticles.addInteractor("externalConnect", (container) => new Connector_1.Connector(container));
}
exports.loadExternalConnectInteraction = loadExternalConnectInteraction;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Grab/Grabber.js":
/*!************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Grab/Grabber.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Grabber = void 0;
const Utils_1 = __webpack_require__(/*! ../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const ExternalInteractorBase_1 = __webpack_require__(/*! ../../../Core/ExternalInteractorBase */ "./node_modules/tsparticles/Core/ExternalInteractorBase.js");
class Grabber extends ExternalInteractorBase_1.ExternalInteractorBase {
    constructor(container) {
        super(container);
    }
    isEnabled() {
        const container = this.container, mouse = container.interactivity.mouse, events = container.actualOptions.interactivity.events;
        return events.onHover.enable && !!mouse.position && (0, Utils_1.isInArray)(Enums_1.HoverMode.grab, events.onHover.mode);
    }
    reset() {
    }
    interact() {
        var _a;
        const container = this.container, options = container.actualOptions, interactivity = options.interactivity;
        if (interactivity.events.onHover.enable && container.interactivity.status === Utils_1.Constants.mouseMoveEvent) {
            const mousePos = container.interactivity.mouse.position;
            if (!mousePos) {
                return;
            }
            const distance = container.retina.grabModeDistance, query = container.particles.quadTree.queryCircle(mousePos, distance);
            for (const particle of query) {
                const pos = particle.getPosition(), pointDistance = (0, Utils_1.getDistance)(pos, mousePos);
                if (pointDistance <= distance) {
                    const grabLineOptions = interactivity.modes.grab.links, lineOpacity = grabLineOptions.opacity, opacityLine = lineOpacity - (pointDistance * lineOpacity) / distance;
                    if (opacityLine <= 0) {
                        continue;
                    }
                    const optColor = (_a = grabLineOptions.color) !== null && _a !== void 0 ? _a : particle.options.links.color;
                    if (!container.particles.grabLineColor) {
                        const linksOptions = options.interactivity.modes.grab.links;
                        container.particles.grabLineColor = (0, Utils_1.getLinkRandomColor)(optColor, linksOptions.blink, linksOptions.consent);
                    }
                    const colorLine = (0, Utils_1.getLinkColor)(particle, undefined, container.particles.grabLineColor);
                    if (!colorLine) {
                        return;
                    }
                    container.canvas.drawGrabLine(particle, colorLine, opacityLine, mousePos);
                }
            }
        }
    }
}
exports.Grabber = Grabber;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Grab/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Grab/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadExternalGrabInteraction = void 0;
const Grabber_1 = __webpack_require__(/*! ./Grabber */ "./node_modules/tsparticles/Interactions/External/Grab/Grabber.js");
async function loadExternalGrabInteraction(tsParticles) {
    await tsParticles.addInteractor("externalGrab", (container) => new Grabber_1.Grabber(container));
}
exports.loadExternalGrabInteraction = loadExternalGrabInteraction;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Repulse/Repulser.js":
/*!****************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Repulse/Repulser.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Repulser = void 0;
const Enums_1 = __webpack_require__(/*! ../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Vector_1 = __webpack_require__(/*! ../../../Core/Particle/Vector */ "./node_modules/tsparticles/Core/Particle/Vector.js");
const ExternalInteractorBase_1 = __webpack_require__(/*! ../../../Core/ExternalInteractorBase */ "./node_modules/tsparticles/Core/ExternalInteractorBase.js");
class Repulser extends ExternalInteractorBase_1.ExternalInteractorBase {
    constructor(container) {
        super(container);
    }
    isEnabled() {
        const container = this.container, options = container.actualOptions, mouse = container.interactivity.mouse, events = options.interactivity.events, divs = events.onDiv, divRepulse = (0, Utils_1.isDivModeEnabled)(Enums_1.DivMode.repulse, divs);
        if (!(divRepulse || (events.onHover.enable && mouse.position) || (events.onClick.enable && mouse.clickPosition))) {
            return false;
        }
        const hoverMode = events.onHover.mode, clickMode = events.onClick.mode;
        return (0, Utils_1.isInArray)(Enums_1.HoverMode.repulse, hoverMode) || (0, Utils_1.isInArray)(Enums_1.ClickMode.repulse, clickMode) || divRepulse;
    }
    reset() {
    }
    interact() {
        const container = this.container, options = container.actualOptions, mouseMoveStatus = container.interactivity.status === Utils_1.Constants.mouseMoveEvent, events = options.interactivity.events, hoverEnabled = events.onHover.enable, hoverMode = events.onHover.mode, clickEnabled = events.onClick.enable, clickMode = events.onClick.mode, divs = events.onDiv;
        if (mouseMoveStatus && hoverEnabled && (0, Utils_1.isInArray)(Enums_1.HoverMode.repulse, hoverMode)) {
            this.hoverRepulse();
        }
        else if (clickEnabled && (0, Utils_1.isInArray)(Enums_1.ClickMode.repulse, clickMode)) {
            this.clickRepulse();
        }
        else {
            (0, Utils_1.divModeExecute)(Enums_1.DivMode.repulse, divs, (selector, div) => this.singleSelectorRepulse(selector, div));
        }
    }
    singleSelectorRepulse(selector, div) {
        const container = this.container, query = document.querySelectorAll(selector);
        if (!query.length) {
            return;
        }
        query.forEach((item) => {
            const elem = item, pxRatio = container.retina.pixelRatio, pos = {
                x: (elem.offsetLeft + elem.offsetWidth / 2) * pxRatio,
                y: (elem.offsetTop + elem.offsetHeight / 2) * pxRatio,
            }, repulseRadius = (elem.offsetWidth / 2) * pxRatio, area = div.type === Enums_1.DivType.circle
                ? new Utils_1.Circle(pos.x, pos.y, repulseRadius)
                : new Utils_1.Rectangle(elem.offsetLeft * pxRatio, elem.offsetTop * pxRatio, elem.offsetWidth * pxRatio, elem.offsetHeight * pxRatio), divs = container.actualOptions.interactivity.modes.repulse.divs, divRepulse = (0, Utils_1.divMode)(divs, elem);
            this.processRepulse(pos, repulseRadius, area, divRepulse);
        });
    }
    hoverRepulse() {
        const container = this.container, mousePos = container.interactivity.mouse.position;
        if (!mousePos) {
            return;
        }
        const repulseRadius = container.retina.repulseModeDistance;
        this.processRepulse(mousePos, repulseRadius, new Utils_1.Circle(mousePos.x, mousePos.y, repulseRadius));
    }
    processRepulse(position, repulseRadius, area, divRepulse) {
        var _a;
        const container = this.container, query = container.particles.quadTree.query(area), repulseOptions = container.actualOptions.interactivity.modes.repulse;
        for (const particle of query) {
            const { dx, dy, distance } = (0, Utils_1.getDistances)(particle.position, position), velocity = ((_a = divRepulse === null || divRepulse === void 0 ? void 0 : divRepulse.speed) !== null && _a !== void 0 ? _a : repulseOptions.speed) * repulseOptions.factor, repulseFactor = (0, Utils_1.clamp)((0, Utils_1.calcEasing)(1 - distance / repulseRadius, repulseOptions.easing) * velocity, 0, repulseOptions.maxSpeed), normVec = Vector_1.Vector.create(distance === 0 ? velocity : (dx / distance) * repulseFactor, distance === 0 ? velocity : (dy / distance) * repulseFactor);
            particle.position.addTo(normVec);
        }
    }
    clickRepulse() {
        const container = this.container;
        if (!container.repulse.finish) {
            if (!container.repulse.count) {
                container.repulse.count = 0;
            }
            container.repulse.count++;
            if (container.repulse.count === container.particles.count) {
                container.repulse.finish = true;
            }
        }
        if (container.repulse.clicking) {
            const repulseDistance = container.retina.repulseModeDistance, repulseRadius = Math.pow(repulseDistance / 6, 3), mouseClickPos = container.interactivity.mouse.clickPosition;
            if (mouseClickPos === undefined) {
                return;
            }
            const range = new Utils_1.Circle(mouseClickPos.x, mouseClickPos.y, repulseRadius), query = container.particles.quadTree.query(range);
            for (const particle of query) {
                const { dx, dy, distance } = (0, Utils_1.getDistances)(mouseClickPos, particle.position), d = distance ** 2, velocity = container.actualOptions.interactivity.modes.repulse.speed, force = (-repulseRadius * velocity) / d;
                if (d <= repulseRadius) {
                    container.repulse.particles.push(particle);
                    const vect = Vector_1.Vector.create(dx, dy);
                    vect.length = force;
                    particle.velocity.setTo(vect);
                }
            }
        }
        else if (container.repulse.clicking === false) {
            for (const particle of container.repulse.particles) {
                particle.velocity.setTo(particle.initialVelocity);
            }
            container.repulse.particles = [];
        }
    }
}
exports.Repulser = Repulser;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Repulse/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Repulse/index.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadExternalRepulseInteraction = void 0;
const Repulser_1 = __webpack_require__(/*! ./Repulser */ "./node_modules/tsparticles/Interactions/External/Repulse/Repulser.js");
async function loadExternalRepulseInteraction(tsParticles) {
    await tsParticles.addInteractor("externalRepulse", (container) => new Repulser_1.Repulser(container));
}
exports.loadExternalRepulseInteraction = loadExternalRepulseInteraction;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Trail/TrailMaker.js":
/*!****************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Trail/TrailMaker.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TrailMaker = void 0;
const Utils_1 = __webpack_require__(/*! ../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const ExternalInteractorBase_1 = __webpack_require__(/*! ../../../Core/ExternalInteractorBase */ "./node_modules/tsparticles/Core/ExternalInteractorBase.js");
class TrailMaker extends ExternalInteractorBase_1.ExternalInteractorBase {
    constructor(container) {
        super(container);
        this.delay = 0;
    }
    interact(delta) {
        var _a, _b, _c, _d;
        if (!this.container.retina.reduceFactor) {
            return;
        }
        const container = this.container, options = container.actualOptions, trailOptions = options.interactivity.modes.trail, optDelay = (trailOptions.delay * 1000) / this.container.retina.reduceFactor;
        if (this.delay < optDelay) {
            this.delay += delta.value;
        }
        if (this.delay < optDelay) {
            return;
        }
        let canEmit = true;
        if (trailOptions.pauseOnStop) {
            if (container.interactivity.mouse.position === this.lastPosition ||
                (((_a = container.interactivity.mouse.position) === null || _a === void 0 ? void 0 : _a.x) === ((_b = this.lastPosition) === null || _b === void 0 ? void 0 : _b.x) &&
                    ((_c = container.interactivity.mouse.position) === null || _c === void 0 ? void 0 : _c.y) === ((_d = this.lastPosition) === null || _d === void 0 ? void 0 : _d.y))) {
                canEmit = false;
            }
        }
        if (container.interactivity.mouse.position) {
            this.lastPosition = {
                x: container.interactivity.mouse.position.x,
                y: container.interactivity.mouse.position.y,
            };
        }
        else {
            delete this.lastPosition;
        }
        if (canEmit) {
            container.particles.push(trailOptions.quantity, container.interactivity.mouse, trailOptions.particles);
        }
        this.delay -= optDelay;
    }
    isEnabled() {
        const container = this.container, options = container.actualOptions, mouse = container.interactivity.mouse, events = options.interactivity.events;
        return ((mouse.clicking && mouse.inside && !!mouse.position && (0, Utils_1.isInArray)(Enums_1.ClickMode.trail, events.onClick.mode)) ||
            (mouse.inside && !!mouse.position && (0, Utils_1.isInArray)(Enums_1.HoverMode.trail, events.onHover.mode)));
    }
    reset() {
    }
}
exports.TrailMaker = TrailMaker;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/External/Trail/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/External/Trail/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadExternalTrailInteraction = void 0;
const TrailMaker_1 = __webpack_require__(/*! ./TrailMaker */ "./node_modules/tsparticles/Interactions/External/Trail/TrailMaker.js");
async function loadExternalTrailInteraction(tsParticles) {
    await tsParticles.addInteractor("externalTrail", (container) => new TrailMaker_1.TrailMaker(container));
}
exports.loadExternalTrailInteraction = loadExternalTrailInteraction;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/Particles/Attract/Attractor.js":
/*!******************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/Particles/Attract/Attractor.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Attractor = void 0;
const Utils_1 = __webpack_require__(/*! ../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const ParticlesInteractorBase_1 = __webpack_require__(/*! ../../../Core/ParticlesInteractorBase */ "./node_modules/tsparticles/Core/ParticlesInteractorBase.js");
class Attractor extends ParticlesInteractorBase_1.ParticlesInteractorBase {
    constructor(container) {
        super(container);
    }
    interact(p1) {
        var _a;
        const container = this.container, distance = (_a = p1.retina.attractDistance) !== null && _a !== void 0 ? _a : container.retina.attractDistance, pos1 = p1.getPosition(), query = container.particles.quadTree.queryCircle(pos1, distance);
        for (const p2 of query) {
            if (p1 === p2 || !p2.options.move.attract.enable || p2.destroyed || p2.spawning) {
                continue;
            }
            const pos2 = p2.getPosition(), { dx, dy } = (0, Utils_1.getDistances)(pos1, pos2), rotate = p1.options.move.attract.rotate, ax = dx / (rotate.x * 1000), ay = dy / (rotate.y * 1000), p1Factor = p2.size.value / p1.size.value, p2Factor = 1 / p1Factor;
            p1.velocity.x -= ax * p1Factor;
            p1.velocity.y -= ay * p1Factor;
            p2.velocity.x += ax * p2Factor;
            p2.velocity.y += ay * p2Factor;
        }
    }
    isEnabled(particle) {
        return particle.options.move.attract.enable;
    }
    reset() {
    }
}
exports.Attractor = Attractor;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/Particles/Attract/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/Particles/Attract/index.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadParticlesAttractInteraction = void 0;
const Attractor_1 = __webpack_require__(/*! ./Attractor */ "./node_modules/tsparticles/Interactions/Particles/Attract/Attractor.js");
async function loadParticlesAttractInteraction(tsParticles) {
    await tsParticles.addInteractor("particlesAttract", (container) => new Attractor_1.Attractor(container));
}
exports.loadParticlesAttractInteraction = loadParticlesAttractInteraction;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/Particles/Collisions/Collider.js":
/*!********************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/Particles/Collisions/Collider.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Collider = void 0;
const Enums_1 = __webpack_require__(/*! ../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const ParticlesInteractorBase_1 = __webpack_require__(/*! ../../../Core/ParticlesInteractorBase */ "./node_modules/tsparticles/Core/ParticlesInteractorBase.js");
function bounce(p1, p2) {
    (0, Utils_1.circleBounce)((0, Utils_1.circleBounceDataFromParticle)(p1), (0, Utils_1.circleBounceDataFromParticle)(p2));
}
function destroy(p1, p2) {
    if (!p1.unbreakable && !p2.unbreakable) {
        bounce(p1, p2);
    }
    if (p1.getRadius() === undefined && p2.getRadius() !== undefined) {
        p1.destroy();
    }
    else if (p1.getRadius() !== undefined && p2.getRadius() === undefined) {
        p2.destroy();
    }
    else if (p1.getRadius() !== undefined && p2.getRadius() !== undefined) {
        if (p1.getRadius() >= p2.getRadius()) {
            p2.destroy();
        }
        else {
            p1.destroy();
        }
    }
}
class Collider extends ParticlesInteractorBase_1.ParticlesInteractorBase {
    constructor(container) {
        super(container);
    }
    isEnabled(particle) {
        return particle.options.collisions.enable;
    }
    reset() {
    }
    interact(p1) {
        const container = this.container;
        const pos1 = p1.getPosition();
        const radius1 = p1.getRadius();
        const query = container.particles.quadTree.queryCircle(pos1, radius1 * 2);
        for (const p2 of query) {
            if (p1 === p2 ||
                !p2.options.collisions.enable ||
                p1.options.collisions.mode !== p2.options.collisions.mode ||
                p2.destroyed ||
                p2.spawning) {
                continue;
            }
            const pos2 = p2.getPosition();
            if (Math.round(pos1.z) !== Math.round(pos2.z)) {
                continue;
            }
            const dist = (0, Utils_1.getDistance)(pos1, pos2);
            const radius2 = p2.getRadius();
            const distP = radius1 + radius2;
            if (dist <= distP) {
                this.resolveCollision(p1, p2);
            }
        }
    }
    resolveCollision(p1, p2) {
        switch (p1.options.collisions.mode) {
            case Enums_1.CollisionMode.absorb: {
                this.absorb(p1, p2);
                break;
            }
            case Enums_1.CollisionMode.bounce: {
                bounce(p1, p2);
                break;
            }
            case Enums_1.CollisionMode.destroy: {
                destroy(p1, p2);
                break;
            }
        }
    }
    absorb(p1, p2) {
        const container = this.container;
        const fps = container.fpsLimit / 1000;
        if (p1.getRadius() === undefined && p2.getRadius() !== undefined) {
            p1.destroy();
        }
        else if (p1.getRadius() !== undefined && p2.getRadius() === undefined) {
            p2.destroy();
        }
        else if (p1.getRadius() !== undefined && p2.getRadius() !== undefined) {
            if (p1.getRadius() >= p2.getRadius()) {
                const factor = (0, Utils_1.clamp)(p1.getRadius() / p2.getRadius(), 0, p2.getRadius()) * fps;
                p1.size.value += factor;
                p2.size.value -= factor;
                if (p2.getRadius() <= container.retina.pixelRatio) {
                    p2.size.value = 0;
                    p2.destroy();
                }
            }
            else {
                const factor = (0, Utils_1.clamp)(p2.getRadius() / p1.getRadius(), 0, p1.getRadius()) * fps;
                p1.size.value -= factor;
                p2.size.value += factor;
                if (p1.getRadius() <= container.retina.pixelRatio) {
                    p1.size.value = 0;
                    p1.destroy();
                }
            }
        }
    }
}
exports.Collider = Collider;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/Particles/Collisions/index.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/Particles/Collisions/index.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadParticlesCollisionsInteraction = void 0;
const Collider_1 = __webpack_require__(/*! ./Collider */ "./node_modules/tsparticles/Interactions/Particles/Collisions/Collider.js");
async function loadParticlesCollisionsInteraction(tsParticles) {
    await tsParticles.addInteractor("particlesCollisions", (container) => new Collider_1.Collider(container));
}
exports.loadParticlesCollisionsInteraction = loadParticlesCollisionsInteraction;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/Particles/Links/LinkInstance.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/Particles/Links/LinkInstance.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LinkInstance = void 0;
const Utils_1 = __webpack_require__(/*! ../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class LinkInstance {
    constructor(container) {
        this.container = container;
    }
    particleCreated(particle) {
        const linkParticle = particle;
        linkParticle.links = [];
    }
    particleDestroyed(particle) {
        const linkParticle = particle;
        linkParticle.links = [];
    }
    drawParticle(context, particle) {
        const linkParticle = particle;
        const container = this.container;
        const particles = container.particles;
        const pOptions = particle.options;
        if (linkParticle.links.length > 0) {
            context.save();
            const p1Links = linkParticle.links.filter((l) => {
                const linkFreq = container.particles.getLinkFrequency(linkParticle, l.destination);
                return linkFreq <= pOptions.links.frequency;
            });
            for (const link of p1Links) {
                const p2 = link.destination;
                if (pOptions.links.triangles.enable) {
                    const links = p1Links.map((l) => l.destination);
                    const vertices = p2.links.filter((t) => {
                        const linkFreq = container.particles.getLinkFrequency(p2, t.destination);
                        return linkFreq <= p2.options.links.frequency && links.indexOf(t.destination) >= 0;
                    });
                    if (vertices.length) {
                        for (const vertex of vertices) {
                            const p3 = vertex.destination;
                            const triangleFreq = particles.getTriangleFrequency(linkParticle, p2, p3);
                            if (triangleFreq > pOptions.links.triangles.frequency) {
                                continue;
                            }
                            this.drawLinkTriangle(linkParticle, link, vertex);
                        }
                    }
                }
                if (link.opacity > 0 && container.retina.linksWidth > 0) {
                    this.drawLinkLine(linkParticle, link);
                }
            }
            context.restore();
        }
    }
    drawLinkTriangle(p1, link1, link2) {
        var _a;
        const container = this.container;
        const options = container.actualOptions;
        const p2 = link1.destination;
        const p3 = link2.destination;
        const triangleOptions = p1.options.links.triangles;
        const opacityTriangle = (_a = triangleOptions.opacity) !== null && _a !== void 0 ? _a : (link1.opacity + link2.opacity) / 2;
        if (opacityTriangle <= 0) {
            return;
        }
        const pos1 = p1.getPosition();
        const pos2 = p2.getPosition();
        const pos3 = p3.getPosition();
        container.canvas.draw((ctx) => {
            if ((0, Utils_1.getDistance)(pos1, pos2) > container.retina.linksDistance ||
                (0, Utils_1.getDistance)(pos3, pos2) > container.retina.linksDistance ||
                (0, Utils_1.getDistance)(pos3, pos1) > container.retina.linksDistance) {
                return;
            }
            let colorTriangle = (0, Utils_1.colorToRgb)(triangleOptions.color);
            if (!colorTriangle) {
                const linksOptions = p1.options.links;
                const linkColor = linksOptions.id !== undefined
                    ? container.particles.linksColors.get(linksOptions.id)
                    : container.particles.linksColor;
                colorTriangle = (0, Utils_1.getLinkColor)(p1, p2, linkColor);
            }
            if (!colorTriangle) {
                return;
            }
            (0, Utils_1.drawLinkTriangle)(ctx, pos1, pos2, pos3, options.backgroundMask.enable, options.backgroundMask.composite, colorTriangle, opacityTriangle);
        });
    }
    drawLinkLine(p1, link) {
        const container = this.container;
        const options = container.actualOptions;
        const p2 = link.destination;
        let opacity = link.opacity;
        const pos1 = p1.getPosition();
        const pos2 = p2.getPosition();
        container.canvas.draw((ctx) => {
            var _a, _b;
            let colorLine;
            const twinkle = p1.options.twinkle.lines;
            if (twinkle.enable) {
                const twinkleFreq = twinkle.frequency;
                const twinkleRgb = (0, Utils_1.colorToRgb)(twinkle.color);
                const twinkling = Math.random() < twinkleFreq;
                if (twinkling && twinkleRgb !== undefined) {
                    colorLine = twinkleRgb;
                    opacity = twinkle.opacity;
                }
            }
            if (!colorLine) {
                const linksOptions = p1.options.links;
                const linkColor = linksOptions.id !== undefined
                    ? container.particles.linksColors.get(linksOptions.id)
                    : container.particles.linksColor;
                colorLine = (0, Utils_1.getLinkColor)(p1, p2, linkColor);
            }
            if (!colorLine) {
                return;
            }
            const width = (_a = p1.retina.linksWidth) !== null && _a !== void 0 ? _a : container.retina.linksWidth;
            const maxDistance = (_b = p1.retina.linksDistance) !== null && _b !== void 0 ? _b : container.retina.linksDistance;
            (0, Utils_1.drawLinkLine)(ctx, width, pos1, pos2, maxDistance, container.canvas.size, p1.options.links.warp, options.backgroundMask.enable, options.backgroundMask.composite, colorLine, opacity, p1.options.links.shadow);
        });
    }
}
exports.LinkInstance = LinkInstance;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/Particles/Links/Linker.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/Particles/Links/Linker.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Linker = void 0;
const Utils_1 = __webpack_require__(/*! ../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const ParticlesInteractorBase_1 = __webpack_require__(/*! ../../../Core/ParticlesInteractorBase */ "./node_modules/tsparticles/Core/ParticlesInteractorBase.js");
function getLinkDistance(pos1, pos2, optDistance, canvasSize, warp) {
    let distance = (0, Utils_1.getDistance)(pos1, pos2);
    if (!warp || distance <= optDistance) {
        return distance;
    }
    const pos2NE = {
        x: pos2.x - canvasSize.width,
        y: pos2.y,
    };
    distance = (0, Utils_1.getDistance)(pos1, pos2NE);
    if (distance <= optDistance) {
        return distance;
    }
    const pos2SE = {
        x: pos2.x - canvasSize.width,
        y: pos2.y - canvasSize.height,
    };
    distance = (0, Utils_1.getDistance)(pos1, pos2SE);
    if (distance <= optDistance) {
        return distance;
    }
    const pos2SW = {
        x: pos2.x,
        y: pos2.y - canvasSize.height,
    };
    distance = (0, Utils_1.getDistance)(pos1, pos2SW);
    return distance;
}
class Linker extends ParticlesInteractorBase_1.ParticlesInteractorBase {
    constructor(container) {
        super(container);
    }
    isEnabled(particle) {
        return particle.options.links.enable;
    }
    reset() {
    }
    interact(p1) {
        var _a;
        p1.links = [];
        const pos1 = p1.getPosition();
        const container = this.container;
        const canvasSize = container.canvas.size;
        if (pos1.x < 0 || pos1.y < 0 || pos1.x > canvasSize.width || pos1.y > canvasSize.height) {
            return;
        }
        const linkOpt1 = p1.options.links;
        const optOpacity = linkOpt1.opacity;
        const optDistance = (_a = p1.retina.linksDistance) !== null && _a !== void 0 ? _a : container.retina.linksDistance;
        const warp = linkOpt1.warp;
        const range = warp
            ? new Utils_1.CircleWarp(pos1.x, pos1.y, optDistance, canvasSize)
            : new Utils_1.Circle(pos1.x, pos1.y, optDistance);
        const query = container.particles.quadTree.query(range);
        for (const p2 of query) {
            const linkOpt2 = p2.options.links;
            if (p1 === p2 ||
                !linkOpt2.enable ||
                linkOpt1.id !== linkOpt2.id ||
                p2.spawning ||
                p2.destroyed ||
                p1.links.map((t) => t.destination).indexOf(p2) !== -1 ||
                p2.links.map((t) => t.destination).indexOf(p1) !== -1) {
                continue;
            }
            const pos2 = p2.getPosition();
            if (pos2.x < 0 || pos2.y < 0 || pos2.x > canvasSize.width || pos2.y > canvasSize.height) {
                continue;
            }
            const distance = getLinkDistance(pos1, pos2, optDistance, canvasSize, warp && linkOpt2.warp);
            if (distance > optDistance) {
                return;
            }
            const opacityLine = (1 - distance / optDistance) * optOpacity;
            this.setColor(p1);
            p1.links.push({
                destination: p2,
                opacity: opacityLine,
            });
        }
    }
    setColor(p1) {
        const container = this.container;
        const linksOptions = p1.options.links;
        let linkColor = linksOptions.id === undefined
            ? container.particles.linksColor
            : container.particles.linksColors.get(linksOptions.id);
        if (!linkColor) {
            const optColor = linksOptions.color;
            linkColor = (0, Utils_1.getLinkRandomColor)(optColor, linksOptions.blink, linksOptions.consent);
            if (linksOptions.id === undefined) {
                container.particles.linksColor = linkColor;
            }
            else {
                container.particles.linksColors.set(linksOptions.id, linkColor);
            }
        }
    }
}
exports.Linker = Linker;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/Particles/Links/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/Particles/Links/index.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadParticlesLinksInteraction = exports.loadInteraction = void 0;
const Linker_1 = __webpack_require__(/*! ./Linker */ "./node_modules/tsparticles/Interactions/Particles/Links/Linker.js");
const plugin_1 = __webpack_require__(/*! ./plugin */ "./node_modules/tsparticles/Interactions/Particles/Links/plugin.js");
async function loadInteraction(tsParticles) {
    await tsParticles.addInteractor("particlesLinks", (container) => new Linker_1.Linker(container));
}
exports.loadInteraction = loadInteraction;
async function loadParticlesLinksInteraction(tsParticles) {
    await loadInteraction(tsParticles);
    await (0, plugin_1.loadPlugin)(tsParticles);
}
exports.loadParticlesLinksInteraction = loadParticlesLinksInteraction;


/***/ }),

/***/ "./node_modules/tsparticles/Interactions/Particles/Links/plugin.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Interactions/Particles/Links/plugin.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadPlugin = void 0;
const LinkInstance_1 = __webpack_require__(/*! ./LinkInstance */ "./node_modules/tsparticles/Interactions/Particles/Links/LinkInstance.js");
class Plugin {
    constructor() {
        this.id = "links";
    }
    getPlugin(container) {
        return new LinkInstance_1.LinkInstance(container);
    }
    needsPlugin() {
        return true;
    }
    loadOptions() {
    }
}
async function loadPlugin(tsParticles) {
    const plugin = new Plugin();
    await tsParticles.addPlugin(plugin);
}
exports.loadPlugin = loadPlugin;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/AnimatableColor.js":
/*!*********************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/AnimatableColor.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AnimatableColor = void 0;
const OptionsColor_1 = __webpack_require__(/*! ./OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
const HslAnimation_1 = __webpack_require__(/*! ./HslAnimation */ "./node_modules/tsparticles/Options/Classes/HslAnimation.js");
class AnimatableColor extends OptionsColor_1.OptionsColor {
    constructor() {
        super();
        this.animation = new HslAnimation_1.HslAnimation();
    }
    static create(source, data) {
        const color = new AnimatableColor();
        color.load(source);
        if (data !== undefined) {
            if (typeof data === "string" || data instanceof Array) {
                color.load({ value: data });
            }
            else {
                color.load(data);
            }
        }
        return color;
    }
    load(data) {
        super.load(data);
        if (!data) {
            return;
        }
        const colorAnimation = data.animation;
        if (colorAnimation !== undefined) {
            if (colorAnimation.enable !== undefined) {
                this.animation.h.load(colorAnimation);
            }
            else {
                this.animation.load(data.animation);
            }
        }
    }
}
exports.AnimatableColor = AnimatableColor;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/AnimatableGradient.js":
/*!************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/AnimatableGradient.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GradientColorOpacityAnimation = exports.GradientAngleAnimation = exports.AnimatableGradientColor = exports.GradientColorOpacity = exports.GradientAngle = exports.AnimatableGradient = void 0;
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const AnimatableColor_1 = __webpack_require__(/*! ./AnimatableColor */ "./node_modules/tsparticles/Options/Classes/AnimatableColor.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class AnimatableGradient {
    constructor() {
        this.angle = new GradientAngle();
        this.colors = [];
        this.type = Enums_1.GradientType.random;
    }
    load(data) {
        if (!data) {
            return;
        }
        this.angle.load(data.angle);
        if (data.colors !== undefined) {
            this.colors = data.colors.map((s) => {
                const tmp = new AnimatableGradientColor();
                tmp.load(s);
                return tmp;
            });
        }
        if (data.type !== undefined) {
            this.type = data.type;
        }
    }
}
exports.AnimatableGradient = AnimatableGradient;
class GradientAngle {
    constructor() {
        this.value = 0;
        this.animation = new GradientAngleAnimation();
        this.direction = Enums_1.RotateDirection.clockwise;
    }
    load(data) {
        if (!data) {
            return;
        }
        this.animation.load(data.animation);
        if (data.value !== undefined) {
            this.value = data.value;
        }
        if (data.direction !== undefined) {
            this.direction = data.direction;
        }
    }
}
exports.GradientAngle = GradientAngle;
class GradientColorOpacity {
    constructor() {
        this.value = 0;
        this.animation = new GradientColorOpacityAnimation();
    }
    load(data) {
        if (!data) {
            return;
        }
        this.animation.load(data.animation);
        if (data.value !== undefined) {
            this.value = (0, Utils_1.setRangeValue)(data.value);
        }
    }
}
exports.GradientColorOpacity = GradientColorOpacity;
class AnimatableGradientColor {
    constructor() {
        this.stop = 0;
        this.value = new AnimatableColor_1.AnimatableColor();
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.stop !== undefined) {
            this.stop = data.stop;
        }
        this.value = AnimatableColor_1.AnimatableColor.create(this.value, data.value);
        if (data.opacity !== undefined) {
            this.opacity = new GradientColorOpacity();
            if (typeof data.opacity === "number") {
                this.opacity.value = data.opacity;
            }
            else {
                this.opacity.load(data.opacity);
            }
        }
    }
}
exports.AnimatableGradientColor = AnimatableGradientColor;
class GradientAngleAnimation {
    constructor() {
        this.count = 0;
        this.enable = false;
        this.speed = 0;
        this.sync = false;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.count !== undefined) {
            this.count = data.count;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.speed !== undefined) {
            this.speed = data.speed;
        }
        if (data.sync !== undefined) {
            this.sync = data.sync;
        }
    }
}
exports.GradientAngleAnimation = GradientAngleAnimation;
class GradientColorOpacityAnimation {
    constructor() {
        this.count = 0;
        this.enable = false;
        this.speed = 0;
        this.sync = false;
        this.startValue = Enums_1.StartValueType.random;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.count !== undefined) {
            this.count = data.count;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.speed !== undefined) {
            this.speed = data.speed;
        }
        if (data.sync !== undefined) {
            this.sync = data.sync;
        }
        if (data.startValue !== undefined) {
            this.startValue = data.startValue;
        }
    }
}
exports.GradientColorOpacityAnimation = GradientColorOpacityAnimation;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/AnimationOptions.js":
/*!**********************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/AnimationOptions.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AnimationOptions = void 0;
class AnimationOptions {
    constructor() {
        this.count = 0;
        this.enable = false;
        this.speed = 1;
        this.sync = false;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.count !== undefined) {
            this.count = data.count;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.speed !== undefined) {
            this.speed = data.speed;
        }
        if (data.sync !== undefined) {
            this.sync = data.sync;
        }
    }
}
exports.AnimationOptions = AnimationOptions;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Background/Background.js":
/*!***************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Background/Background.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Background = void 0;
const OptionsColor_1 = __webpack_require__(/*! ../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class Background {
    constructor() {
        this.color = new OptionsColor_1.OptionsColor();
        this.color.value = "";
        this.image = "";
        this.position = "";
        this.repeat = "";
        this.size = "";
        this.opacity = 1;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.color !== undefined) {
            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);
        }
        if (data.image !== undefined) {
            this.image = data.image;
        }
        if (data.position !== undefined) {
            this.position = data.position;
        }
        if (data.repeat !== undefined) {
            this.repeat = data.repeat;
        }
        if (data.size !== undefined) {
            this.size = data.size;
        }
        if (data.opacity !== undefined) {
            this.opacity = data.opacity;
        }
    }
}
exports.Background = Background;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/BackgroundMask/BackgroundMask.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/BackgroundMask/BackgroundMask.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BackgroundMask = void 0;
const BackgroundMaskCover_1 = __webpack_require__(/*! ./BackgroundMaskCover */ "./node_modules/tsparticles/Options/Classes/BackgroundMask/BackgroundMaskCover.js");
class BackgroundMask {
    constructor() {
        this.composite = "destination-out";
        this.cover = new BackgroundMaskCover_1.BackgroundMaskCover();
        this.enable = false;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.composite !== undefined) {
            this.composite = data.composite;
        }
        if (data.cover !== undefined) {
            const cover = data.cover;
            const color = (typeof data.cover === "string" ? { color: data.cover } : data.cover);
            this.cover.load(cover.color !== undefined ? cover : { color: color });
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
    }
}
exports.BackgroundMask = BackgroundMask;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/BackgroundMask/BackgroundMaskCover.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/BackgroundMask/BackgroundMaskCover.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BackgroundMaskCover = void 0;
const OptionsColor_1 = __webpack_require__(/*! ../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class BackgroundMaskCover {
    constructor() {
        this.color = new OptionsColor_1.OptionsColor();
        this.opacity = 1;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.color !== undefined) {
            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);
        }
        if (data.opacity !== undefined) {
            this.opacity = data.opacity;
        }
    }
}
exports.BackgroundMaskCover = BackgroundMaskCover;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/ColorAnimation.js":
/*!********************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/ColorAnimation.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ColorAnimation = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class ColorAnimation {
    constructor() {
        this.count = 0;
        this.enable = false;
        this.offset = 0;
        this.speed = 1;
        this.sync = true;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.count !== undefined) {
            this.count = data.count;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.offset !== undefined) {
            this.offset = (0, Utils_1.setRangeValue)(data.offset);
        }
        if (data.speed !== undefined) {
            this.speed = data.speed;
        }
        if (data.sync !== undefined) {
            this.sync = data.sync;
        }
    }
}
exports.ColorAnimation = ColorAnimation;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/FullScreen/FullScreen.js":
/*!***************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/FullScreen/FullScreen.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FullScreen = void 0;
class FullScreen {
    constructor() {
        this.enable = true;
        this.zIndex = 0;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.zIndex !== undefined) {
            this.zIndex = data.zIndex;
        }
    }
}
exports.FullScreen = FullScreen;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/HslAnimation.js":
/*!******************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/HslAnimation.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HslAnimation = void 0;
const ColorAnimation_1 = __webpack_require__(/*! ./ColorAnimation */ "./node_modules/tsparticles/Options/Classes/ColorAnimation.js");
class HslAnimation {
    constructor() {
        this.h = new ColorAnimation_1.ColorAnimation();
        this.s = new ColorAnimation_1.ColorAnimation();
        this.l = new ColorAnimation_1.ColorAnimation();
    }
    load(data) {
        if (!data) {
            return;
        }
        this.h.load(data.h);
        this.s.load(data.s);
        this.l.load(data.l);
    }
}
exports.HslAnimation = HslAnimation;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Events/ClickEvent.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Events/ClickEvent.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ClickEvent = void 0;
class ClickEvent {
    constructor() {
        this.enable = false;
        this.mode = [];
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.mode !== undefined) {
            this.mode = data.mode;
        }
    }
}
exports.ClickEvent = ClickEvent;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Events/DivEvent.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Events/DivEvent.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DivEvent = void 0;
const Enums_1 = __webpack_require__(/*! ../../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
class DivEvent {
    constructor() {
        this.selectors = [];
        this.enable = false;
        this.mode = [];
        this.type = Enums_1.DivType.circle;
    }
    get elementId() {
        return this.ids;
    }
    set elementId(value) {
        this.ids = value;
    }
    get el() {
        return this.elementId;
    }
    set el(value) {
        this.elementId = value;
    }
    get ids() {
        return this.selectors instanceof Array
            ? this.selectors.map((t) => t.replace("#", ""))
            : this.selectors.replace("#", "");
    }
    set ids(value) {
        this.selectors = value instanceof Array ? value.map((t) => `#${t}`) : `#${value}`;
    }
    load(data) {
        var _a, _b;
        if (data === undefined) {
            return;
        }
        const ids = (_b = (_a = data.ids) !== null && _a !== void 0 ? _a : data.elementId) !== null && _b !== void 0 ? _b : data.el;
        if (ids !== undefined) {
            this.ids = ids;
        }
        if (data.selectors !== undefined) {
            this.selectors = data.selectors;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.mode !== undefined) {
            this.mode = data.mode;
        }
        if (data.type !== undefined) {
            this.type = data.type;
        }
    }
}
exports.DivEvent = DivEvent;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Events/Events.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Events/Events.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Events = void 0;
const ClickEvent_1 = __webpack_require__(/*! ./ClickEvent */ "./node_modules/tsparticles/Options/Classes/Interactivity/Events/ClickEvent.js");
const DivEvent_1 = __webpack_require__(/*! ./DivEvent */ "./node_modules/tsparticles/Options/Classes/Interactivity/Events/DivEvent.js");
const HoverEvent_1 = __webpack_require__(/*! ./HoverEvent */ "./node_modules/tsparticles/Options/Classes/Interactivity/Events/HoverEvent.js");
class Events {
    constructor() {
        this.onClick = new ClickEvent_1.ClickEvent();
        this.onDiv = new DivEvent_1.DivEvent();
        this.onHover = new HoverEvent_1.HoverEvent();
        this.resize = true;
    }
    get onclick() {
        return this.onClick;
    }
    set onclick(value) {
        this.onClick = value;
    }
    get ondiv() {
        return this.onDiv;
    }
    set ondiv(value) {
        this.onDiv = value;
    }
    get onhover() {
        return this.onHover;
    }
    set onhover(value) {
        this.onHover = value;
    }
    load(data) {
        var _a, _b, _c;
        if (data === undefined) {
            return;
        }
        this.onClick.load((_a = data.onClick) !== null && _a !== void 0 ? _a : data.onclick);
        const onDiv = (_b = data.onDiv) !== null && _b !== void 0 ? _b : data.ondiv;
        if (onDiv !== undefined) {
            if (onDiv instanceof Array) {
                this.onDiv = onDiv.map((div) => {
                    const tmp = new DivEvent_1.DivEvent();
                    tmp.load(div);
                    return tmp;
                });
            }
            else {
                this.onDiv = new DivEvent_1.DivEvent();
                this.onDiv.load(onDiv);
            }
        }
        this.onHover.load((_c = data.onHover) !== null && _c !== void 0 ? _c : data.onhover);
        if (data.resize !== undefined) {
            this.resize = data.resize;
        }
    }
}
exports.Events = Events;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Events/HoverEvent.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Events/HoverEvent.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HoverEvent = void 0;
const Parallax_1 = __webpack_require__(/*! ./Parallax */ "./node_modules/tsparticles/Options/Classes/Interactivity/Events/Parallax.js");
class HoverEvent {
    constructor() {
        this.enable = false;
        this.mode = [];
        this.parallax = new Parallax_1.Parallax();
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.mode !== undefined) {
            this.mode = data.mode;
        }
        this.parallax.load(data.parallax);
    }
}
exports.HoverEvent = HoverEvent;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Events/Parallax.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Events/Parallax.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Parallax = void 0;
class Parallax {
    constructor() {
        this.enable = false;
        this.force = 2;
        this.smooth = 10;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.force !== undefined) {
            this.force = data.force;
        }
        if (data.smooth !== undefined) {
            this.smooth = data.smooth;
        }
    }
}
exports.Parallax = Parallax;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Interactivity.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Interactivity.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Interactivity = void 0;
const Enums_1 = __webpack_require__(/*! ../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Events_1 = __webpack_require__(/*! ./Events/Events */ "./node_modules/tsparticles/Options/Classes/Interactivity/Events/Events.js");
const Modes_1 = __webpack_require__(/*! ./Modes/Modes */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Modes.js");
class Interactivity {
    constructor() {
        this.detectsOn = Enums_1.InteractivityDetect.window;
        this.events = new Events_1.Events();
        this.modes = new Modes_1.Modes();
    }
    get detect_on() {
        return this.detectsOn;
    }
    set detect_on(value) {
        this.detectsOn = value;
    }
    load(data) {
        var _a, _b, _c;
        if (data === undefined) {
            return;
        }
        const detectsOn = (_a = data.detectsOn) !== null && _a !== void 0 ? _a : data.detect_on;
        if (detectsOn !== undefined) {
            this.detectsOn = detectsOn;
        }
        this.events.load(data.events);
        this.modes.load(data.modes);
        if (((_c = (_b = data.modes) === null || _b === void 0 ? void 0 : _b.slow) === null || _c === void 0 ? void 0 : _c.active) === true) {
            if (this.events.onHover.mode instanceof Array) {
                if (this.events.onHover.mode.indexOf(Enums_1.HoverMode.slow) < 0) {
                    this.events.onHover.mode.push(Enums_1.HoverMode.slow);
                }
            }
            else if (this.events.onHover.mode !== Enums_1.HoverMode.slow) {
                this.events.onHover.mode = [this.events.onHover.mode, Enums_1.HoverMode.slow];
            }
        }
    }
}
exports.Interactivity = Interactivity;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Attract.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Attract.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Attract = void 0;
const Enums_1 = __webpack_require__(/*! ../../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
class Attract {
    constructor() {
        this.distance = 200;
        this.duration = 0.4;
        this.easing = Enums_1.EasingType.easeOutQuad;
        this.factor = 1;
        this.maxSpeed = 50;
        this.speed = 1;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.distance !== undefined) {
            this.distance = data.distance;
        }
        if (data.duration !== undefined) {
            this.duration = data.duration;
        }
        if (data.easing !== undefined) {
            this.easing = data.easing;
        }
        if (data.factor !== undefined) {
            this.factor = data.factor;
        }
        if (data.maxSpeed !== undefined) {
            this.maxSpeed = data.maxSpeed;
        }
        if (data.speed !== undefined) {
            this.speed = data.speed;
        }
    }
}
exports.Attract = Attract;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Bounce.js":
/*!********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Bounce.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Bounce = void 0;
class Bounce {
    constructor() {
        this.distance = 200;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.distance !== undefined) {
            this.distance = data.distance;
        }
    }
}
exports.Bounce = Bounce;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Bubble.js":
/*!********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Bubble.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Bubble = void 0;
const BubbleDiv_1 = __webpack_require__(/*! ./BubbleDiv */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/BubbleDiv.js");
const BubbleBase_1 = __webpack_require__(/*! ./BubbleBase */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/BubbleBase.js");
class Bubble extends BubbleBase_1.BubbleBase {
    load(data) {
        super.load(data);
        if (!(data !== undefined && data.divs !== undefined)) {
            return;
        }
        if (data.divs instanceof Array) {
            this.divs = data.divs.map((s) => {
                const tmp = new BubbleDiv_1.BubbleDiv();
                tmp.load(s);
                return tmp;
            });
        }
        else {
            if (this.divs instanceof Array || !this.divs) {
                this.divs = new BubbleDiv_1.BubbleDiv();
            }
            this.divs.load(data.divs);
        }
    }
}
exports.Bubble = Bubble;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/BubbleBase.js":
/*!************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/BubbleBase.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BubbleBase = void 0;
const OptionsColor_1 = __webpack_require__(/*! ../../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class BubbleBase {
    constructor() {
        this.distance = 200;
        this.duration = 0.4;
        this.mix = false;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.distance !== undefined) {
            this.distance = data.distance;
        }
        if (data.duration !== undefined) {
            this.duration = data.duration;
        }
        if (data.mix !== undefined) {
            this.mix = data.mix;
        }
        if (data.opacity !== undefined) {
            this.opacity = data.opacity;
        }
        if (data.color !== undefined) {
            if (data.color instanceof Array) {
                this.color = data.color.map((s) => OptionsColor_1.OptionsColor.create(undefined, s));
            }
            else {
                if (this.color instanceof Array) {
                    this.color = new OptionsColor_1.OptionsColor();
                }
                this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);
            }
        }
        if (data.size !== undefined) {
            this.size = data.size;
        }
    }
}
exports.BubbleBase = BubbleBase;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/BubbleDiv.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/BubbleDiv.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BubbleDiv = void 0;
const BubbleBase_1 = __webpack_require__(/*! ./BubbleBase */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/BubbleBase.js");
class BubbleDiv extends BubbleBase_1.BubbleBase {
    constructor() {
        super();
        this.selectors = [];
    }
    get ids() {
        return this.selectors instanceof Array
            ? this.selectors.map((t) => t.replace("#", ""))
            : this.selectors.replace("#", "");
    }
    set ids(value) {
        this.selectors = value instanceof Array ? value.map((t) => `#${t}`) : `#${value}`;
    }
    load(data) {
        super.load(data);
        if (data === undefined) {
            return;
        }
        if (data.ids !== undefined) {
            this.ids = data.ids;
        }
        if (data.selectors !== undefined) {
            this.selectors = data.selectors;
        }
    }
}
exports.BubbleDiv = BubbleDiv;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Connect.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Connect.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Connect = void 0;
const ConnectLinks_1 = __webpack_require__(/*! ./ConnectLinks */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/ConnectLinks.js");
class Connect {
    constructor() {
        this.distance = 80;
        this.links = new ConnectLinks_1.ConnectLinks();
        this.radius = 60;
    }
    get line_linked() {
        return this.links;
    }
    set line_linked(value) {
        this.links = value;
    }
    get lineLinked() {
        return this.links;
    }
    set lineLinked(value) {
        this.links = value;
    }
    load(data) {
        var _a, _b;
        if (data === undefined) {
            return;
        }
        if (data.distance !== undefined) {
            this.distance = data.distance;
        }
        this.links.load((_b = (_a = data.links) !== null && _a !== void 0 ? _a : data.lineLinked) !== null && _b !== void 0 ? _b : data.line_linked);
        if (data.radius !== undefined) {
            this.radius = data.radius;
        }
    }
}
exports.Connect = Connect;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/ConnectLinks.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/ConnectLinks.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ConnectLinks = void 0;
class ConnectLinks {
    constructor() {
        this.opacity = 0.5;
    }
    load(data) {
        if (!(data !== undefined && data.opacity !== undefined)) {
            return;
        }
        this.opacity = data.opacity;
    }
}
exports.ConnectLinks = ConnectLinks;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Grab.js":
/*!******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Grab.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Grab = void 0;
const GrabLinks_1 = __webpack_require__(/*! ./GrabLinks */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/GrabLinks.js");
class Grab {
    constructor() {
        this.distance = 100;
        this.links = new GrabLinks_1.GrabLinks();
    }
    get line_linked() {
        return this.links;
    }
    set line_linked(value) {
        this.links = value;
    }
    get lineLinked() {
        return this.links;
    }
    set lineLinked(value) {
        this.links = value;
    }
    load(data) {
        var _a, _b;
        if (data === undefined) {
            return;
        }
        if (data.distance !== undefined) {
            this.distance = data.distance;
        }
        this.links.load((_b = (_a = data.links) !== null && _a !== void 0 ? _a : data.lineLinked) !== null && _b !== void 0 ? _b : data.line_linked);
    }
}
exports.Grab = Grab;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/GrabLinks.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/GrabLinks.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GrabLinks = void 0;
const OptionsColor_1 = __webpack_require__(/*! ../../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class GrabLinks {
    constructor() {
        this.blink = false;
        this.consent = false;
        this.opacity = 1;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.blink !== undefined) {
            this.blink = data.blink;
        }
        if (data.color !== undefined) {
            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);
        }
        if (data.consent !== undefined) {
            this.consent = data.consent;
        }
        if (data.opacity !== undefined) {
            this.opacity = data.opacity;
        }
    }
}
exports.GrabLinks = GrabLinks;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Light.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Light.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Light = void 0;
const LightArea_1 = __webpack_require__(/*! ./LightArea */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/LightArea.js");
const LightShadow_1 = __webpack_require__(/*! ./LightShadow */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/LightShadow.js");
class Light {
    constructor() {
        this.area = new LightArea_1.LightArea();
        this.shadow = new LightShadow_1.LightShadow();
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        this.area.load(data.area);
        this.shadow.load(data.shadow);
    }
}
exports.Light = Light;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/LightArea.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/LightArea.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LightArea = void 0;
const LightGradient_1 = __webpack_require__(/*! ./LightGradient */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/LightGradient.js");
class LightArea {
    constructor() {
        this.gradient = new LightGradient_1.LightGradient();
        this.radius = 1000;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        this.gradient.load(data.gradient);
        if (data.radius !== undefined) {
            this.radius = data.radius;
        }
    }
}
exports.LightArea = LightArea;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/LightGradient.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/LightGradient.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LightGradient = void 0;
const OptionsColor_1 = __webpack_require__(/*! ../../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class LightGradient {
    constructor() {
        this.start = new OptionsColor_1.OptionsColor();
        this.stop = new OptionsColor_1.OptionsColor();
        this.start.value = "#ffffff";
        this.stop.value = "#000000";
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        this.start = OptionsColor_1.OptionsColor.create(this.start, data.start);
        this.stop = OptionsColor_1.OptionsColor.create(this.stop, data.stop);
    }
}
exports.LightGradient = LightGradient;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/LightShadow.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/LightShadow.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LightShadow = void 0;
const OptionsColor_1 = __webpack_require__(/*! ../../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class LightShadow {
    constructor() {
        this.color = new OptionsColor_1.OptionsColor();
        this.color.value = "#000000";
        this.length = 2000;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);
        if (data.length !== undefined) {
            this.length = data.length;
        }
    }
}
exports.LightShadow = LightShadow;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Modes.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Modes.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Modes = void 0;
const Bubble_1 = __webpack_require__(/*! ./Bubble */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Bubble.js");
const Connect_1 = __webpack_require__(/*! ./Connect */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Connect.js");
const Grab_1 = __webpack_require__(/*! ./Grab */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Grab.js");
const Remove_1 = __webpack_require__(/*! ./Remove */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Remove.js");
const Push_1 = __webpack_require__(/*! ./Push */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Push.js");
const Repulse_1 = __webpack_require__(/*! ./Repulse */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Repulse.js");
const Slow_1 = __webpack_require__(/*! ./Slow */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Slow.js");
const Trail_1 = __webpack_require__(/*! ./Trail */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Trail.js");
const Attract_1 = __webpack_require__(/*! ./Attract */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Attract.js");
const Light_1 = __webpack_require__(/*! ./Light */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Light.js");
const Bounce_1 = __webpack_require__(/*! ./Bounce */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Bounce.js");
class Modes {
    constructor() {
        this.attract = new Attract_1.Attract();
        this.bounce = new Bounce_1.Bounce();
        this.bubble = new Bubble_1.Bubble();
        this.connect = new Connect_1.Connect();
        this.grab = new Grab_1.Grab();
        this.light = new Light_1.Light();
        this.push = new Push_1.Push();
        this.remove = new Remove_1.Remove();
        this.repulse = new Repulse_1.Repulse();
        this.slow = new Slow_1.Slow();
        this.trail = new Trail_1.Trail();
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        this.attract.load(data.attract);
        this.bubble.load(data.bubble);
        this.connect.load(data.connect);
        this.grab.load(data.grab);
        this.light.load(data.light);
        this.push.load(data.push);
        this.remove.load(data.remove);
        this.repulse.load(data.repulse);
        this.slow.load(data.slow);
        this.trail.load(data.trail);
    }
}
exports.Modes = Modes;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Push.js":
/*!******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Push.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Push = void 0;
class Push {
    constructor() {
        this.default = true;
        this.groups = [];
        this.quantity = 4;
    }
    get particles_nb() {
        return this.quantity;
    }
    set particles_nb(value) {
        this.quantity = value;
    }
    load(data) {
        var _a;
        if (data === undefined) {
            return;
        }
        if (data.default !== undefined) {
            this.default = data.default;
        }
        if (data.groups !== undefined) {
            this.groups = data.groups.map((t) => t);
        }
        if (!this.groups.length) {
            this.default = true;
        }
        const quantity = (_a = data.quantity) !== null && _a !== void 0 ? _a : data.particles_nb;
        if (quantity !== undefined) {
            this.quantity = quantity;
        }
    }
}
exports.Push = Push;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Remove.js":
/*!********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Remove.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Remove = void 0;
class Remove {
    constructor() {
        this.quantity = 2;
    }
    get particles_nb() {
        return this.quantity;
    }
    set particles_nb(value) {
        this.quantity = value;
    }
    load(data) {
        var _a;
        if (data === undefined) {
            return;
        }
        const quantity = (_a = data.quantity) !== null && _a !== void 0 ? _a : data.particles_nb;
        if (quantity !== undefined) {
            this.quantity = quantity;
        }
    }
}
exports.Remove = Remove;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Repulse.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Repulse.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Repulse = void 0;
const RepulseDiv_1 = __webpack_require__(/*! ./RepulseDiv */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/RepulseDiv.js");
const RepulseBase_1 = __webpack_require__(/*! ./RepulseBase */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/RepulseBase.js");
class Repulse extends RepulseBase_1.RepulseBase {
    load(data) {
        super.load(data);
        if ((data === null || data === void 0 ? void 0 : data.divs) === undefined) {
            return;
        }
        if (data.divs instanceof Array) {
            this.divs = data.divs.map((s) => {
                const tmp = new RepulseDiv_1.RepulseDiv();
                tmp.load(s);
                return tmp;
            });
        }
        else {
            if (this.divs instanceof Array || !this.divs) {
                this.divs = new RepulseDiv_1.RepulseDiv();
            }
            this.divs.load(data.divs);
        }
    }
}
exports.Repulse = Repulse;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/RepulseBase.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/RepulseBase.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RepulseBase = void 0;
const Enums_1 = __webpack_require__(/*! ../../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
class RepulseBase {
    constructor() {
        this.distance = 200;
        this.duration = 0.4;
        this.factor = 100;
        this.speed = 1;
        this.maxSpeed = 50;
        this.easing = Enums_1.EasingType.easeOutQuad;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.distance !== undefined) {
            this.distance = data.distance;
        }
        if (data.duration !== undefined) {
            this.duration = data.duration;
        }
        if (data.easing !== undefined) {
            this.easing = data.easing;
        }
        if (data.factor !== undefined) {
            this.factor = data.factor;
        }
        if (data.speed !== undefined) {
            this.speed = data.speed;
        }
        if (data.maxSpeed !== undefined) {
            this.maxSpeed = data.maxSpeed;
        }
    }
}
exports.RepulseBase = RepulseBase;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/RepulseDiv.js":
/*!************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/RepulseDiv.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RepulseDiv = void 0;
const RepulseBase_1 = __webpack_require__(/*! ./RepulseBase */ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/RepulseBase.js");
class RepulseDiv extends RepulseBase_1.RepulseBase {
    constructor() {
        super();
        this.selectors = [];
    }
    get ids() {
        if (this.selectors instanceof Array) {
            return this.selectors.map((t) => t.replace("#", ""));
        }
        else {
            return this.selectors.replace("#", "");
        }
    }
    set ids(value) {
        if (value instanceof Array) {
            this.selectors = value.map(() => `#${value}`);
        }
        else {
            this.selectors = `#${value}`;
        }
    }
    load(data) {
        super.load(data);
        if (data === undefined) {
            return;
        }
        if (data.ids !== undefined) {
            this.ids = data.ids;
        }
        if (data.selectors !== undefined) {
            this.selectors = data.selectors;
        }
    }
}
exports.RepulseDiv = RepulseDiv;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Slow.js":
/*!******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Slow.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Slow = void 0;
class Slow {
    constructor() {
        this.factor = 3;
        this.radius = 200;
    }
    get active() {
        return false;
    }
    set active(_value) {
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.factor !== undefined) {
            this.factor = data.factor;
        }
        if (data.radius !== undefined) {
            this.radius = data.radius;
        }
    }
}
exports.Slow = Slow;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Trail.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Interactivity/Modes/Trail.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Trail = void 0;
const Utils_1 = __webpack_require__(/*! ../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Trail {
    constructor() {
        this.delay = 1;
        this.pauseOnStop = false;
        this.quantity = 1;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.delay !== undefined) {
            this.delay = data.delay;
        }
        if (data.quantity !== undefined) {
            this.quantity = data.quantity;
        }
        if (data.particles !== undefined) {
            this.particles = (0, Utils_1.deepExtend)({}, data.particles);
        }
        if (data.pauseOnStop !== undefined) {
            this.pauseOnStop = data.pauseOnStop;
        }
    }
}
exports.Trail = Trail;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/ManualParticle.js":
/*!********************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/ManualParticle.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ManualParticle = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class ManualParticle {
    load(data) {
        var _a, _b;
        if (!data) {
            return;
        }
        if (data.position !== undefined) {
            this.position = {
                x: (_a = data.position.x) !== null && _a !== void 0 ? _a : 50,
                y: (_b = data.position.y) !== null && _b !== void 0 ? _b : 50,
            };
        }
        if (data.options !== undefined) {
            this.options = (0, Utils_1.deepExtend)({}, data.options);
        }
    }
}
exports.ManualParticle = ManualParticle;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Motion/Motion.js":
/*!*******************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Motion/Motion.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Motion = void 0;
const MotionReduce_1 = __webpack_require__(/*! ./MotionReduce */ "./node_modules/tsparticles/Options/Classes/Motion/MotionReduce.js");
class Motion {
    constructor() {
        this.disable = false;
        this.reduce = new MotionReduce_1.MotionReduce();
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.disable !== undefined) {
            this.disable = data.disable;
        }
        this.reduce.load(data.reduce);
    }
}
exports.Motion = Motion;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Motion/MotionReduce.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Motion/MotionReduce.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MotionReduce = void 0;
class MotionReduce {
    constructor() {
        this.factor = 4;
        this.value = true;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.factor !== undefined) {
            this.factor = data.factor;
        }
        if (data.value !== undefined) {
            this.value = data.value;
        }
    }
}
exports.MotionReduce = MotionReduce;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Options.js":
/*!*************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Options.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var _Options_instances, _Options_findDefaultTheme;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Options = void 0;
const Interactivity_1 = __webpack_require__(/*! ./Interactivity/Interactivity */ "./node_modules/tsparticles/Options/Classes/Interactivity/Interactivity.js");
const ParticlesOptions_1 = __webpack_require__(/*! ./Particles/ParticlesOptions */ "./node_modules/tsparticles/Options/Classes/Particles/ParticlesOptions.js");
const BackgroundMask_1 = __webpack_require__(/*! ./BackgroundMask/BackgroundMask */ "./node_modules/tsparticles/Options/Classes/BackgroundMask/BackgroundMask.js");
const Background_1 = __webpack_require__(/*! ./Background/Background */ "./node_modules/tsparticles/Options/Classes/Background/Background.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Theme_1 = __webpack_require__(/*! ./Theme/Theme */ "./node_modules/tsparticles/Options/Classes/Theme/Theme.js");
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const FullScreen_1 = __webpack_require__(/*! ./FullScreen/FullScreen */ "./node_modules/tsparticles/Options/Classes/FullScreen/FullScreen.js");
const Motion_1 = __webpack_require__(/*! ./Motion/Motion */ "./node_modules/tsparticles/Options/Classes/Motion/Motion.js");
const ManualParticle_1 = __webpack_require__(/*! ./ManualParticle */ "./node_modules/tsparticles/Options/Classes/ManualParticle.js");
const Responsive_1 = __webpack_require__(/*! ./Responsive */ "./node_modules/tsparticles/Options/Classes/Responsive.js");
class Options {
    constructor() {
        _Options_instances.add(this);
        this.autoPlay = true;
        this.background = new Background_1.Background();
        this.backgroundMask = new BackgroundMask_1.BackgroundMask();
        this.fullScreen = new FullScreen_1.FullScreen();
        this.detectRetina = true;
        this.duration = 0;
        this.fpsLimit = 60;
        this.interactivity = new Interactivity_1.Interactivity();
        this.manualParticles = [];
        this.motion = new Motion_1.Motion();
        this.particles = new ParticlesOptions_1.ParticlesOptions();
        this.pauseOnBlur = true;
        this.pauseOnOutsideViewport = true;
        this.responsive = [];
        this.themes = [];
        this.zLayers = 100;
    }
    get fps_limit() {
        return this.fpsLimit;
    }
    set fps_limit(value) {
        this.fpsLimit = value;
    }
    get retina_detect() {
        return this.detectRetina;
    }
    set retina_detect(value) {
        this.detectRetina = value;
    }
    get backgroundMode() {
        return this.fullScreen;
    }
    set backgroundMode(value) {
        this.fullScreen.load(value);
    }
    load(data) {
        var _a, _b, _c, _d, _e;
        if (data === undefined) {
            return;
        }
        if (data.preset !== undefined) {
            if (data.preset instanceof Array) {
                for (const preset of data.preset) {
                    this.importPreset(preset);
                }
            }
            else {
                this.importPreset(data.preset);
            }
        }
        if (data.autoPlay !== undefined) {
            this.autoPlay = data.autoPlay;
        }
        const detectRetina = (_a = data.detectRetina) !== null && _a !== void 0 ? _a : data.retina_detect;
        if (detectRetina !== undefined) {
            this.detectRetina = detectRetina;
        }
        if (data.duration !== undefined) {
            this.duration = data.duration;
        }
        const fpsLimit = (_b = data.fpsLimit) !== null && _b !== void 0 ? _b : data.fps_limit;
        if (fpsLimit !== undefined) {
            this.fpsLimit = fpsLimit;
        }
        if (data.pauseOnBlur !== undefined) {
            this.pauseOnBlur = data.pauseOnBlur;
        }
        if (data.pauseOnOutsideViewport !== undefined) {
            this.pauseOnOutsideViewport = data.pauseOnOutsideViewport;
        }
        if (data.zLayers !== undefined) {
            this.zLayers = data.zLayers;
        }
        this.background.load(data.background);
        const fullScreen = (_c = data.fullScreen) !== null && _c !== void 0 ? _c : data.backgroundMode;
        if (typeof fullScreen === "boolean") {
            this.fullScreen.enable = fullScreen;
        }
        else {
            this.fullScreen.load(fullScreen);
        }
        this.backgroundMask.load(data.backgroundMask);
        this.interactivity.load(data.interactivity);
        if (data.manualParticles !== undefined) {
            this.manualParticles = data.manualParticles.map((t) => {
                const tmp = new ManualParticle_1.ManualParticle();
                tmp.load(t);
                return tmp;
            });
        }
        this.motion.load(data.motion);
        this.particles.load(data.particles);
        Utils_1.Plugins.loadOptions(this, data);
        if (data.responsive !== undefined) {
            for (const responsive of data.responsive) {
                const optResponsive = new Responsive_1.Responsive();
                optResponsive.load(responsive);
                this.responsive.push(optResponsive);
            }
        }
        this.responsive.sort((a, b) => a.maxWidth - b.maxWidth);
        if (data.themes !== undefined) {
            for (const theme of data.themes) {
                const optTheme = new Theme_1.Theme();
                optTheme.load(theme);
                this.themes.push(optTheme);
            }
        }
        this.defaultDarkTheme = (_d = __classPrivateFieldGet(this, _Options_instances, "m", _Options_findDefaultTheme).call(this, Enums_1.ThemeMode.dark)) === null || _d === void 0 ? void 0 : _d.name;
        this.defaultLightTheme = (_e = __classPrivateFieldGet(this, _Options_instances, "m", _Options_findDefaultTheme).call(this, Enums_1.ThemeMode.light)) === null || _e === void 0 ? void 0 : _e.name;
    }
    setTheme(name) {
        if (name) {
            const chosenTheme = this.themes.find((theme) => theme.name === name);
            if (chosenTheme) {
                this.load(chosenTheme.options);
            }
        }
        else {
            const mediaMatch = typeof matchMedia !== "undefined" && matchMedia("(prefers-color-scheme: dark)"), clientDarkMode = mediaMatch && mediaMatch.matches, defaultTheme = __classPrivateFieldGet(this, _Options_instances, "m", _Options_findDefaultTheme).call(this, clientDarkMode ? Enums_1.ThemeMode.dark : Enums_1.ThemeMode.light);
            if (defaultTheme) {
                this.load(defaultTheme.options);
            }
        }
    }
    setResponsive(width, pxRatio, defaultOptions) {
        this.load(defaultOptions);
        const responsiveOptions = this.responsive.find((t) => t.mode === Enums_1.ResponsiveMode.screen && screen
            ? t.maxWidth * pxRatio > screen.availWidth
            : t.maxWidth * pxRatio > width);
        this.load(responsiveOptions === null || responsiveOptions === void 0 ? void 0 : responsiveOptions.options);
        return responsiveOptions === null || responsiveOptions === void 0 ? void 0 : responsiveOptions.maxWidth;
    }
    importPreset(preset) {
        this.load(Utils_1.Plugins.getPreset(preset));
    }
}
exports.Options = Options;
_Options_instances = new WeakSet(), _Options_findDefaultTheme = function _Options_findDefaultTheme(mode) {
    var _a;
    return ((_a = this.themes.find((theme) => theme.default.value && theme.default.mode === mode)) !== null && _a !== void 0 ? _a : this.themes.find((theme) => theme.default.value && theme.default.mode === Enums_1.ThemeMode.any));
};


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/OptionsColor.js":
/*!******************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/OptionsColor.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OptionsColor = void 0;
class OptionsColor {
    constructor() {
        this.value = "#fff";
    }
    static create(source, data) {
        const color = new OptionsColor();
        color.load(source);
        if (data !== undefined) {
            if (typeof data === "string" || data instanceof Array) {
                color.load({ value: data });
            }
            else {
                color.load(data);
            }
        }
        return color;
    }
    load(data) {
        if ((data === null || data === void 0 ? void 0 : data.value) === undefined) {
            return;
        }
        this.value = data.value;
    }
}
exports.OptionsColor = OptionsColor;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Bounce/Bounce.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Bounce/Bounce.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Bounce = void 0;
const BounceFactor_1 = __webpack_require__(/*! ./BounceFactor */ "./node_modules/tsparticles/Options/Classes/Particles/Bounce/BounceFactor.js");
class Bounce {
    constructor() {
        this.horizontal = new BounceFactor_1.BounceFactor();
        this.vertical = new BounceFactor_1.BounceFactor();
    }
    load(data) {
        if (!data) {
            return;
        }
        this.horizontal.load(data.horizontal);
        this.vertical.load(data.vertical);
    }
}
exports.Bounce = Bounce;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Bounce/BounceFactor.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Bounce/BounceFactor.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BounceFactor = void 0;
const ValueWithRandom_1 = __webpack_require__(/*! ../../ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
class BounceFactor extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
        this.random.minimumValue = 0.1;
        this.value = 1;
    }
}
exports.BounceFactor = BounceFactor;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Collisions/Collisions.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Collisions/Collisions.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Collisions = void 0;
const Enums_1 = __webpack_require__(/*! ../../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Bounce_1 = __webpack_require__(/*! ../Bounce/Bounce */ "./node_modules/tsparticles/Options/Classes/Particles/Bounce/Bounce.js");
const CollisionsOverlap_1 = __webpack_require__(/*! ./CollisionsOverlap */ "./node_modules/tsparticles/Options/Classes/Particles/Collisions/CollisionsOverlap.js");
class Collisions {
    constructor() {
        this.bounce = new Bounce_1.Bounce();
        this.enable = false;
        this.mode = Enums_1.CollisionMode.bounce;
        this.overlap = new CollisionsOverlap_1.CollisionsOverlap();
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        this.bounce.load(data.bounce);
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.mode !== undefined) {
            this.mode = data.mode;
        }
        this.overlap.load(data.overlap);
    }
}
exports.Collisions = Collisions;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Collisions/CollisionsOverlap.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Collisions/CollisionsOverlap.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CollisionsOverlap = void 0;
class CollisionsOverlap {
    constructor() {
        this.enable = true;
        this.retries = 0;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.retries !== undefined) {
            this.retries = data.retries;
        }
    }
}
exports.CollisionsOverlap = CollisionsOverlap;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Destroy/Destroy.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Destroy/Destroy.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Destroy = void 0;
const Enums_1 = __webpack_require__(/*! ../../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Split_1 = __webpack_require__(/*! ./Split */ "./node_modules/tsparticles/Options/Classes/Particles/Destroy/Split.js");
class Destroy {
    constructor() {
        this.mode = Enums_1.DestroyMode.none;
        this.split = new Split_1.Split();
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.mode !== undefined) {
            this.mode = data.mode;
        }
        this.split.load(data.split);
    }
}
exports.Destroy = Destroy;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Destroy/Split.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Destroy/Split.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Split = void 0;
const SplitFactor_1 = __webpack_require__(/*! ./SplitFactor */ "./node_modules/tsparticles/Options/Classes/Particles/Destroy/SplitFactor.js");
const SplitRate_1 = __webpack_require__(/*! ./SplitRate */ "./node_modules/tsparticles/Options/Classes/Particles/Destroy/SplitRate.js");
const Utils_1 = __webpack_require__(/*! ../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Split {
    constructor() {
        this.count = 1;
        this.factor = new SplitFactor_1.SplitFactor();
        this.rate = new SplitRate_1.SplitRate();
        this.sizeOffset = true;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.count !== undefined) {
            this.count = data.count;
        }
        this.factor.load(data.factor);
        this.rate.load(data.rate);
        if (data.particles !== undefined) {
            this.particles = (0, Utils_1.deepExtend)({}, data.particles);
        }
        if (data.sizeOffset !== undefined) {
            this.sizeOffset = data.sizeOffset;
        }
    }
}
exports.Split = Split;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Destroy/SplitFactor.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Destroy/SplitFactor.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SplitFactor = void 0;
const ValueWithRandom_1 = __webpack_require__(/*! ../../ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
class SplitFactor extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
        this.value = 3;
    }
}
exports.SplitFactor = SplitFactor;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Destroy/SplitRate.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Destroy/SplitRate.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SplitRate = void 0;
const ValueWithRandom_1 = __webpack_require__(/*! ../../ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
class SplitRate extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
        this.value = { min: 4, max: 9 };
    }
}
exports.SplitRate = SplitRate;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Life/Life.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Life/Life.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Life = void 0;
const LifeDelay_1 = __webpack_require__(/*! ./LifeDelay */ "./node_modules/tsparticles/Options/Classes/Particles/Life/LifeDelay.js");
const LifeDuration_1 = __webpack_require__(/*! ./LifeDuration */ "./node_modules/tsparticles/Options/Classes/Particles/Life/LifeDuration.js");
class Life {
    constructor() {
        this.count = 0;
        this.delay = new LifeDelay_1.LifeDelay();
        this.duration = new LifeDuration_1.LifeDuration();
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.count !== undefined) {
            this.count = data.count;
        }
        this.delay.load(data.delay);
        this.duration.load(data.duration);
    }
}
exports.Life = Life;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Life/LifeDelay.js":
/*!******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Life/LifeDelay.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LifeDelay = void 0;
const ValueWithRandom_1 = __webpack_require__(/*! ../../ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
class LifeDelay extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
        this.sync = false;
    }
    load(data) {
        if (!data) {
            return;
        }
        super.load(data);
        if (data.sync !== undefined) {
            this.sync = data.sync;
        }
    }
}
exports.LifeDelay = LifeDelay;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Life/LifeDuration.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Life/LifeDuration.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LifeDuration = void 0;
const ValueWithRandom_1 = __webpack_require__(/*! ../../ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
class LifeDuration extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
        this.random.minimumValue = 0.0001;
        this.sync = false;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        super.load(data);
        if (data.sync !== undefined) {
            this.sync = data.sync;
        }
    }
}
exports.LifeDuration = LifeDuration;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Links/Links.js":
/*!***************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Links/Links.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Links = void 0;
const LinksShadow_1 = __webpack_require__(/*! ./LinksShadow */ "./node_modules/tsparticles/Options/Classes/Particles/Links/LinksShadow.js");
const LinksTriangle_1 = __webpack_require__(/*! ./LinksTriangle */ "./node_modules/tsparticles/Options/Classes/Particles/Links/LinksTriangle.js");
const OptionsColor_1 = __webpack_require__(/*! ../../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class Links {
    constructor() {
        this.blink = false;
        this.color = new OptionsColor_1.OptionsColor();
        this.consent = false;
        this.distance = 100;
        this.enable = false;
        this.frequency = 1;
        this.opacity = 1;
        this.shadow = new LinksShadow_1.LinksShadow();
        this.triangles = new LinksTriangle_1.LinksTriangle();
        this.width = 1;
        this.warp = false;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.id !== undefined) {
            this.id = data.id;
        }
        if (data.blink !== undefined) {
            this.blink = data.blink;
        }
        this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);
        if (data.consent !== undefined) {
            this.consent = data.consent;
        }
        if (data.distance !== undefined) {
            this.distance = data.distance;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.frequency !== undefined) {
            this.frequency = data.frequency;
        }
        if (data.opacity !== undefined) {
            this.opacity = data.opacity;
        }
        this.shadow.load(data.shadow);
        this.triangles.load(data.triangles);
        if (data.width !== undefined) {
            this.width = data.width;
        }
        if (data.warp !== undefined) {
            this.warp = data.warp;
        }
    }
}
exports.Links = Links;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Links/LinksShadow.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Links/LinksShadow.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LinksShadow = void 0;
const OptionsColor_1 = __webpack_require__(/*! ../../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class LinksShadow {
    constructor() {
        this.blur = 5;
        this.color = new OptionsColor_1.OptionsColor();
        this.enable = false;
        this.color.value = "#00ff00";
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.blur !== undefined) {
            this.blur = data.blur;
        }
        this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
    }
}
exports.LinksShadow = LinksShadow;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Links/LinksTriangle.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Links/LinksTriangle.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LinksTriangle = void 0;
const OptionsColor_1 = __webpack_require__(/*! ../../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class LinksTriangle {
    constructor() {
        this.enable = false;
        this.frequency = 1;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.color !== undefined) {
            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.frequency !== undefined) {
            this.frequency = data.frequency;
        }
        if (data.opacity !== undefined) {
            this.opacity = data.opacity;
        }
    }
}
exports.LinksTriangle = LinksTriangle;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Move/Attract.js":
/*!****************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Move/Attract.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Attract = void 0;
class Attract {
    constructor() {
        this.distance = 200;
        this.enable = false;
        this.rotate = {
            x: 3000,
            y: 3000,
        };
    }
    get rotateX() {
        return this.rotate.x;
    }
    set rotateX(value) {
        this.rotate.x = value;
    }
    get rotateY() {
        return this.rotate.y;
    }
    set rotateY(value) {
        this.rotate.y = value;
    }
    load(data) {
        var _a, _b, _c, _d;
        if (!data) {
            return;
        }
        if (data.distance !== undefined) {
            this.distance = data.distance;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        const rotateX = (_b = (_a = data.rotate) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : data.rotateX;
        if (rotateX !== undefined) {
            this.rotate.x = rotateX;
        }
        const rotateY = (_d = (_c = data.rotate) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : data.rotateY;
        if (rotateY !== undefined) {
            this.rotate.y = rotateY;
        }
    }
}
exports.Attract = Attract;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Move/Move.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Move/Move.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Move = void 0;
const Attract_1 = __webpack_require__(/*! ./Attract */ "./node_modules/tsparticles/Options/Classes/Particles/Move/Attract.js");
const Enums_1 = __webpack_require__(/*! ../../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Trail_1 = __webpack_require__(/*! ./Trail */ "./node_modules/tsparticles/Options/Classes/Particles/Move/Trail.js");
const Path_1 = __webpack_require__(/*! ./Path/Path */ "./node_modules/tsparticles/Options/Classes/Particles/Move/Path/Path.js");
const MoveAngle_1 = __webpack_require__(/*! ./MoveAngle */ "./node_modules/tsparticles/Options/Classes/Particles/Move/MoveAngle.js");
const MoveGravity_1 = __webpack_require__(/*! ./MoveGravity */ "./node_modules/tsparticles/Options/Classes/Particles/Move/MoveGravity.js");
const OutModes_1 = __webpack_require__(/*! ./OutModes */ "./node_modules/tsparticles/Options/Classes/Particles/Move/OutModes.js");
const Utils_1 = __webpack_require__(/*! ../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Spin_1 = __webpack_require__(/*! ./Spin */ "./node_modules/tsparticles/Options/Classes/Particles/Move/Spin.js");
class Move {
    constructor() {
        this.angle = new MoveAngle_1.MoveAngle();
        this.attract = new Attract_1.Attract();
        this.decay = 0;
        this.distance = {};
        this.direction = Enums_1.MoveDirection.none;
        this.drift = 0;
        this.enable = false;
        this.gravity = new MoveGravity_1.MoveGravity();
        this.path = new Path_1.Path();
        this.outModes = new OutModes_1.OutModes();
        this.random = false;
        this.size = false;
        this.speed = 2;
        this.spin = new Spin_1.Spin();
        this.straight = false;
        this.trail = new Trail_1.Trail();
        this.vibrate = false;
        this.warp = false;
    }
    get collisions() {
        return false;
    }
    set collisions(value) {
    }
    get bounce() {
        return this.collisions;
    }
    set bounce(value) {
        this.collisions = value;
    }
    get out_mode() {
        return this.outMode;
    }
    set out_mode(value) {
        this.outMode = value;
    }
    get outMode() {
        return this.outModes.default;
    }
    set outMode(value) {
        this.outModes.default = value;
    }
    get noise() {
        return this.path;
    }
    set noise(value) {
        this.path = value;
    }
    load(data) {
        var _a, _b, _c;
        if (data === undefined) {
            return;
        }
        if (data.angle !== undefined) {
            if (typeof data.angle === "number") {
                this.angle.value = data.angle;
            }
            else {
                this.angle.load(data.angle);
            }
        }
        this.attract.load(data.attract);
        if (data.decay !== undefined) {
            this.decay = data.decay;
        }
        if (data.direction !== undefined) {
            this.direction = data.direction;
        }
        if (data.distance !== undefined) {
            this.distance =
                typeof data.distance === "number"
                    ? {
                        horizontal: data.distance,
                        vertical: data.distance,
                    }
                    : (0, Utils_1.deepExtend)({}, data.distance);
        }
        if (data.drift !== undefined) {
            this.drift = (0, Utils_1.setRangeValue)(data.drift);
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        this.gravity.load(data.gravity);
        const outMode = (_a = data.outMode) !== null && _a !== void 0 ? _a : data.out_mode;
        if (data.outModes !== undefined || outMode !== undefined) {
            if (typeof data.outModes === "string" || (data.outModes === undefined && outMode !== undefined)) {
                this.outModes.load({
                    default: (_b = data.outModes) !== null && _b !== void 0 ? _b : outMode,
                });
            }
            else {
                this.outModes.load(data.outModes);
            }
        }
        this.path.load((_c = data.path) !== null && _c !== void 0 ? _c : data.noise);
        if (data.random !== undefined) {
            this.random = data.random;
        }
        if (data.size !== undefined) {
            this.size = data.size;
        }
        if (data.speed !== undefined) {
            this.speed = (0, Utils_1.setRangeValue)(data.speed);
        }
        this.spin.load(data.spin);
        if (data.straight !== undefined) {
            this.straight = data.straight;
        }
        this.trail.load(data.trail);
        if (data.vibrate !== undefined) {
            this.vibrate = data.vibrate;
        }
        if (data.warp !== undefined) {
            this.warp = data.warp;
        }
    }
}
exports.Move = Move;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Move/MoveAngle.js":
/*!******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Move/MoveAngle.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MoveAngle = void 0;
class MoveAngle {
    constructor() {
        this.offset = 0;
        this.value = 90;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.offset !== undefined) {
            this.offset = data.offset;
        }
        if (data.value !== undefined) {
            this.value = data.value;
        }
    }
}
exports.MoveAngle = MoveAngle;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Move/MoveGravity.js":
/*!********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Move/MoveGravity.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MoveGravity = void 0;
class MoveGravity {
    constructor() {
        this.acceleration = 9.81;
        this.enable = false;
        this.inverse = false;
        this.maxSpeed = 50;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.acceleration !== undefined) {
            this.acceleration = data.acceleration;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.inverse !== undefined) {
            this.inverse = data.inverse;
        }
        if (data.maxSpeed !== undefined) {
            this.maxSpeed = data.maxSpeed;
        }
    }
}
exports.MoveGravity = MoveGravity;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Move/OutModes.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Move/OutModes.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OutModes = void 0;
const Modes_1 = __webpack_require__(/*! ../../../../Enums/Modes */ "./node_modules/tsparticles/Enums/Modes/index.js");
class OutModes {
    constructor() {
        this.default = Modes_1.OutMode.out;
    }
    load(data) {
        var _a, _b, _c, _d;
        if (!data) {
            return;
        }
        if (data.default !== undefined) {
            this.default = data.default;
        }
        this.bottom = (_a = data.bottom) !== null && _a !== void 0 ? _a : data.default;
        this.left = (_b = data.left) !== null && _b !== void 0 ? _b : data.default;
        this.right = (_c = data.right) !== null && _c !== void 0 ? _c : data.default;
        this.top = (_d = data.top) !== null && _d !== void 0 ? _d : data.default;
    }
}
exports.OutModes = OutModes;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Move/Path/Path.js":
/*!******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Move/Path/Path.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Path = void 0;
const PathDelay_1 = __webpack_require__(/*! ./PathDelay */ "./node_modules/tsparticles/Options/Classes/Particles/Move/Path/PathDelay.js");
const Utils_1 = __webpack_require__(/*! ../../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Path {
    constructor() {
        this.clamp = true;
        this.delay = new PathDelay_1.PathDelay();
        this.enable = false;
        this.options = {};
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.clamp !== undefined) {
            this.clamp = data.clamp;
        }
        this.delay.load(data.delay);
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        this.generator = data.generator;
        if (data.options) {
            this.options = (0, Utils_1.deepExtend)(this.options, data.options);
        }
    }
}
exports.Path = Path;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Move/Path/PathDelay.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Move/Path/PathDelay.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PathDelay = void 0;
const ValueWithRandom_1 = __webpack_require__(/*! ../../../ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
class PathDelay extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
    }
}
exports.PathDelay = PathDelay;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Move/Spin.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Move/Spin.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Spin = void 0;
const Utils_1 = __webpack_require__(/*! ../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Spin {
    constructor() {
        this.acceleration = 0;
        this.enable = false;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.acceleration !== undefined) {
            this.acceleration = (0, Utils_1.setRangeValue)(data.acceleration);
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        this.position = data.position ? (0, Utils_1.deepExtend)({}, data.position) : undefined;
    }
}
exports.Spin = Spin;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Move/Trail.js":
/*!**************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Move/Trail.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Trail = void 0;
const OptionsColor_1 = __webpack_require__(/*! ../../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class Trail {
    constructor() {
        this.enable = false;
        this.length = 10;
        this.fillColor = new OptionsColor_1.OptionsColor();
        this.fillColor.value = "#000000";
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        this.fillColor = OptionsColor_1.OptionsColor.create(this.fillColor, data.fillColor);
        if (data.length !== undefined) {
            this.length = data.length;
        }
    }
}
exports.Trail = Trail;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Number/Density.js":
/*!******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Number/Density.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Density = void 0;
class Density {
    constructor() {
        this.enable = false;
        this.area = 800;
        this.factor = 1000;
    }
    get value_area() {
        return this.area;
    }
    set value_area(value) {
        this.area = value;
    }
    load(data) {
        var _a;
        if (data === undefined) {
            return;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        const area = (_a = data.area) !== null && _a !== void 0 ? _a : data.value_area;
        if (area !== undefined) {
            this.area = area;
        }
        if (data.factor !== undefined) {
            this.factor = data.factor;
        }
    }
}
exports.Density = Density;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Number/ParticlesNumber.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Number/ParticlesNumber.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ParticlesNumber = void 0;
const Density_1 = __webpack_require__(/*! ./Density */ "./node_modules/tsparticles/Options/Classes/Particles/Number/Density.js");
class ParticlesNumber {
    constructor() {
        this.density = new Density_1.Density();
        this.limit = 0;
        this.value = 100;
    }
    get max() {
        return this.limit;
    }
    set max(value) {
        this.limit = value;
    }
    load(data) {
        var _a;
        if (data === undefined) {
            return;
        }
        this.density.load(data.density);
        const limit = (_a = data.limit) !== null && _a !== void 0 ? _a : data.max;
        if (limit !== undefined) {
            this.limit = limit;
        }
        if (data.value !== undefined) {
            this.value = data.value;
        }
    }
}
exports.ParticlesNumber = ParticlesNumber;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Opacity/Opacity.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Opacity/Opacity.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Opacity = void 0;
const OpacityAnimation_1 = __webpack_require__(/*! ./OpacityAnimation */ "./node_modules/tsparticles/Options/Classes/Particles/Opacity/OpacityAnimation.js");
const ValueWithRandom_1 = __webpack_require__(/*! ../../ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
const Utils_1 = __webpack_require__(/*! ../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Opacity extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
        this.animation = new OpacityAnimation_1.OpacityAnimation();
        this.random.minimumValue = 0.1;
        this.value = 1;
    }
    get anim() {
        return this.animation;
    }
    set anim(value) {
        this.animation = value;
    }
    load(data) {
        var _a;
        if (!data) {
            return;
        }
        super.load(data);
        const animation = (_a = data.animation) !== null && _a !== void 0 ? _a : data.anim;
        if (animation !== undefined) {
            this.animation.load(animation);
            this.value = (0, Utils_1.setRangeValue)(this.value, this.animation.enable ? this.animation.minimumValue : undefined);
        }
    }
}
exports.Opacity = Opacity;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Opacity/OpacityAnimation.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Opacity/OpacityAnimation.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OpacityAnimation = void 0;
const Enums_1 = __webpack_require__(/*! ../../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const AnimationOptions_1 = __webpack_require__(/*! ../../AnimationOptions */ "./node_modules/tsparticles/Options/Classes/AnimationOptions.js");
class OpacityAnimation extends AnimationOptions_1.AnimationOptions {
    constructor() {
        super();
        this.destroy = Enums_1.DestroyType.none;
        this.enable = false;
        this.speed = 2;
        this.startValue = Enums_1.StartValueType.random;
        this.sync = false;
    }
    get opacity_min() {
        return this.minimumValue;
    }
    set opacity_min(value) {
        this.minimumValue = value;
    }
    load(data) {
        var _a;
        if (data === undefined) {
            return;
        }
        super.load(data);
        if (data.destroy !== undefined) {
            this.destroy = data.destroy;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        this.minimumValue = (_a = data.minimumValue) !== null && _a !== void 0 ? _a : data.opacity_min;
        if (data.speed !== undefined) {
            this.speed = data.speed;
        }
        if (data.startValue !== undefined) {
            this.startValue = data.startValue;
        }
        if (data.sync !== undefined) {
            this.sync = data.sync;
        }
    }
}
exports.OpacityAnimation = OpacityAnimation;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Orbit/Orbit.js":
/*!***************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Orbit/Orbit.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Orbit = void 0;
const OrbitRotation_1 = __webpack_require__(/*! ./OrbitRotation */ "./node_modules/tsparticles/Options/Classes/Particles/Orbit/OrbitRotation.js");
const OptionsColor_1 = __webpack_require__(/*! ../../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
const AnimationOptions_1 = __webpack_require__(/*! ../../AnimationOptions */ "./node_modules/tsparticles/Options/Classes/AnimationOptions.js");
class Orbit {
    constructor() {
        this.animation = new AnimationOptions_1.AnimationOptions();
        this.enable = false;
        this.opacity = 1;
        this.rotation = new OrbitRotation_1.OrbitRotation();
        this.width = 1;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        this.animation.load(data.animation);
        this.rotation.load(data.rotation);
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.opacity !== undefined) {
            this.opacity = data.opacity;
        }
        if (data.width !== undefined) {
            this.width = data.width;
        }
        if (data.radius !== undefined) {
            this.radius = data.radius;
        }
        if (data.color !== undefined) {
            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);
        }
    }
}
exports.Orbit = Orbit;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Orbit/OrbitRotation.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Orbit/OrbitRotation.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OrbitRotation = void 0;
const ValueWithRandom_1 = __webpack_require__(/*! ../../ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
class OrbitRotation extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
        this.value = 45;
        this.random.enable = false;
        this.random.minimumValue = 0;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        super.load(data);
    }
}
exports.OrbitRotation = OrbitRotation;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/ParticlesOptions.js":
/*!********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/ParticlesOptions.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ParticlesOptions = void 0;
const Links_1 = __webpack_require__(/*! ./Links/Links */ "./node_modules/tsparticles/Options/Classes/Particles/Links/Links.js");
const Move_1 = __webpack_require__(/*! ./Move/Move */ "./node_modules/tsparticles/Options/Classes/Particles/Move/Move.js");
const ParticlesNumber_1 = __webpack_require__(/*! ./Number/ParticlesNumber */ "./node_modules/tsparticles/Options/Classes/Particles/Number/ParticlesNumber.js");
const Opacity_1 = __webpack_require__(/*! ./Opacity/Opacity */ "./node_modules/tsparticles/Options/Classes/Particles/Opacity/Opacity.js");
const Shape_1 = __webpack_require__(/*! ./Shape/Shape */ "./node_modules/tsparticles/Options/Classes/Particles/Shape/Shape.js");
const Size_1 = __webpack_require__(/*! ./Size/Size */ "./node_modules/tsparticles/Options/Classes/Particles/Size/Size.js");
const Rotate_1 = __webpack_require__(/*! ./Rotate/Rotate */ "./node_modules/tsparticles/Options/Classes/Particles/Rotate/Rotate.js");
const Shadow_1 = __webpack_require__(/*! ./Shadow */ "./node_modules/tsparticles/Options/Classes/Particles/Shadow.js");
const Stroke_1 = __webpack_require__(/*! ./Stroke */ "./node_modules/tsparticles/Options/Classes/Particles/Stroke.js");
const Collisions_1 = __webpack_require__(/*! ./Collisions/Collisions */ "./node_modules/tsparticles/Options/Classes/Particles/Collisions/Collisions.js");
const Twinkle_1 = __webpack_require__(/*! ./Twinkle/Twinkle */ "./node_modules/tsparticles/Options/Classes/Particles/Twinkle/Twinkle.js");
const AnimatableColor_1 = __webpack_require__(/*! ../AnimatableColor */ "./node_modules/tsparticles/Options/Classes/AnimatableColor.js");
const Life_1 = __webpack_require__(/*! ./Life/Life */ "./node_modules/tsparticles/Options/Classes/Particles/Life/Life.js");
const Bounce_1 = __webpack_require__(/*! ./Bounce/Bounce */ "./node_modules/tsparticles/Options/Classes/Particles/Bounce/Bounce.js");
const Destroy_1 = __webpack_require__(/*! ./Destroy/Destroy */ "./node_modules/tsparticles/Options/Classes/Particles/Destroy/Destroy.js");
const Wobble_1 = __webpack_require__(/*! ./Wobble/Wobble */ "./node_modules/tsparticles/Options/Classes/Particles/Wobble/Wobble.js");
const Tilt_1 = __webpack_require__(/*! ./Tilt/Tilt */ "./node_modules/tsparticles/Options/Classes/Particles/Tilt/Tilt.js");
const Roll_1 = __webpack_require__(/*! ./Roll/Roll */ "./node_modules/tsparticles/Options/Classes/Particles/Roll/Roll.js");
const ZIndex_1 = __webpack_require__(/*! ./ZIndex/ZIndex */ "./node_modules/tsparticles/Options/Classes/Particles/ZIndex/ZIndex.js");
const Utils_1 = __webpack_require__(/*! ../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Orbit_1 = __webpack_require__(/*! ./Orbit/Orbit */ "./node_modules/tsparticles/Options/Classes/Particles/Orbit/Orbit.js");
const Repulse_1 = __webpack_require__(/*! ./Repulse/Repulse */ "./node_modules/tsparticles/Options/Classes/Particles/Repulse/Repulse.js");
const AnimatableGradient_1 = __webpack_require__(/*! ../AnimatableGradient */ "./node_modules/tsparticles/Options/Classes/AnimatableGradient.js");
class ParticlesOptions {
    constructor() {
        this.bounce = new Bounce_1.Bounce();
        this.collisions = new Collisions_1.Collisions();
        this.color = new AnimatableColor_1.AnimatableColor();
        this.destroy = new Destroy_1.Destroy();
        this.gradient = [];
        this.groups = {};
        this.life = new Life_1.Life();
        this.links = new Links_1.Links();
        this.move = new Move_1.Move();
        this.number = new ParticlesNumber_1.ParticlesNumber();
        this.opacity = new Opacity_1.Opacity();
        this.orbit = new Orbit_1.Orbit();
        this.reduceDuplicates = false;
        this.repulse = new Repulse_1.Repulse();
        this.roll = new Roll_1.Roll();
        this.rotate = new Rotate_1.Rotate();
        this.shadow = new Shadow_1.Shadow();
        this.shape = new Shape_1.Shape();
        this.size = new Size_1.Size();
        this.stroke = new Stroke_1.Stroke();
        this.tilt = new Tilt_1.Tilt();
        this.twinkle = new Twinkle_1.Twinkle();
        this.wobble = new Wobble_1.Wobble();
        this.zIndex = new ZIndex_1.ZIndex();
    }
    get line_linked() {
        return this.links;
    }
    set line_linked(value) {
        this.links = value;
    }
    get lineLinked() {
        return this.links;
    }
    set lineLinked(value) {
        this.links = value;
    }
    load(data) {
        var _a, _b, _c, _d, _e, _f, _g, _h;
        if (data === undefined) {
            return;
        }
        this.bounce.load(data.bounce);
        this.color.load(AnimatableColor_1.AnimatableColor.create(this.color, data.color));
        this.destroy.load(data.destroy);
        this.life.load(data.life);
        const links = (_b = (_a = data.links) !== null && _a !== void 0 ? _a : data.lineLinked) !== null && _b !== void 0 ? _b : data.line_linked;
        if (links !== undefined) {
            this.links.load(links);
        }
        if (data.groups !== undefined) {
            for (const group in data.groups) {
                const item = data.groups[group];
                if (item !== undefined) {
                    this.groups[group] = (0, Utils_1.deepExtend)((_c = this.groups[group]) !== null && _c !== void 0 ? _c : {}, item);
                }
            }
        }
        this.move.load(data.move);
        this.number.load(data.number);
        this.opacity.load(data.opacity);
        this.orbit.load(data.orbit);
        if (data.reduceDuplicates !== undefined) {
            this.reduceDuplicates = data.reduceDuplicates;
        }
        this.repulse.load(data.repulse);
        this.roll.load(data.roll);
        this.rotate.load(data.rotate);
        this.shape.load(data.shape);
        this.size.load(data.size);
        this.shadow.load(data.shadow);
        this.tilt.load(data.tilt);
        this.twinkle.load(data.twinkle);
        this.wobble.load(data.wobble);
        this.zIndex.load(data.zIndex);
        const collisions = (_e = (_d = data.move) === null || _d === void 0 ? void 0 : _d.collisions) !== null && _e !== void 0 ? _e : (_f = data.move) === null || _f === void 0 ? void 0 : _f.bounce;
        if (collisions !== undefined) {
            this.collisions.enable = collisions;
        }
        this.collisions.load(data.collisions);
        const strokeToLoad = (_g = data.stroke) !== null && _g !== void 0 ? _g : (_h = data.shape) === null || _h === void 0 ? void 0 : _h.stroke;
        if (strokeToLoad) {
            if (strokeToLoad instanceof Array) {
                this.stroke = strokeToLoad.map((s) => {
                    const tmp = new Stroke_1.Stroke();
                    tmp.load(s);
                    return tmp;
                });
            }
            else {
                if (this.stroke instanceof Array) {
                    this.stroke = new Stroke_1.Stroke();
                }
                this.stroke.load(strokeToLoad);
            }
        }
        const gradientToLoad = data.gradient;
        if (gradientToLoad) {
            if (gradientToLoad instanceof Array) {
                this.gradient = gradientToLoad.map((s) => {
                    const tmp = new AnimatableGradient_1.AnimatableGradient();
                    tmp.load(s);
                    return tmp;
                });
            }
            else {
                if (this.gradient instanceof Array) {
                    this.gradient = new AnimatableGradient_1.AnimatableGradient();
                }
                this.gradient.load(gradientToLoad);
            }
        }
    }
}
exports.ParticlesOptions = ParticlesOptions;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Repulse/Repulse.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Repulse/Repulse.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Repulse = void 0;
const ValueWithRandom_1 = __webpack_require__(/*! ../../ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
class Repulse extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
        this.enabled = false;
        this.distance = 1;
        this.duration = 1;
        this.factor = 1;
        this.speed = 1;
    }
    load(data) {
        super.load(data);
        if (!data) {
            return;
        }
        if (data.enabled !== undefined) {
            this.enabled = data.enabled;
        }
        if (data.distance !== undefined) {
            this.distance = data.distance;
        }
        if (data.duration !== undefined) {
            this.duration = data.duration;
        }
        if (data.factor !== undefined) {
            this.factor = data.factor;
        }
        if (data.speed !== undefined) {
            this.speed = data.speed;
        }
    }
}
exports.Repulse = Repulse;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Roll/Roll.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Roll/Roll.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Roll = void 0;
const OptionsColor_1 = __webpack_require__(/*! ../../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
const RollLight_1 = __webpack_require__(/*! ./RollLight */ "./node_modules/tsparticles/Options/Classes/Particles/Roll/RollLight.js");
const Utils_1 = __webpack_require__(/*! ../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
class Roll {
    constructor() {
        this.darken = new RollLight_1.RollLight();
        this.enable = false;
        this.enlighten = new RollLight_1.RollLight();
        this.mode = Enums_1.RollMode.vertical;
        this.speed = 25;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.backColor !== undefined) {
            this.backColor = OptionsColor_1.OptionsColor.create(this.backColor, data.backColor);
        }
        this.darken.load(data.darken);
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        this.enlighten.load(data.enlighten);
        if (data.mode !== undefined) {
            this.mode = data.mode;
        }
        if (data.speed !== undefined) {
            this.speed = (0, Utils_1.setRangeValue)(data.speed);
        }
    }
}
exports.Roll = Roll;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Roll/RollLight.js":
/*!******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Roll/RollLight.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RollLight = void 0;
class RollLight {
    constructor() {
        this.enable = false;
        this.value = 0;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.value !== undefined) {
            this.value = data.value;
        }
    }
}
exports.RollLight = RollLight;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Rotate/Rotate.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Rotate/Rotate.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Rotate = void 0;
const RotateAnimation_1 = __webpack_require__(/*! ./RotateAnimation */ "./node_modules/tsparticles/Options/Classes/Particles/Rotate/RotateAnimation.js");
const Enums_1 = __webpack_require__(/*! ../../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const ValueWithRandom_1 = __webpack_require__(/*! ../../ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
class Rotate extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
        this.animation = new RotateAnimation_1.RotateAnimation();
        this.direction = Enums_1.RotateDirection.clockwise;
        this.path = false;
        this.value = 0;
    }
    load(data) {
        if (!data) {
            return;
        }
        super.load(data);
        if (data.direction !== undefined) {
            this.direction = data.direction;
        }
        this.animation.load(data.animation);
        if (data.path !== undefined) {
            this.path = data.path;
        }
    }
}
exports.Rotate = Rotate;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Rotate/RotateAnimation.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Rotate/RotateAnimation.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RotateAnimation = void 0;
class RotateAnimation {
    constructor() {
        this.enable = false;
        this.speed = 0;
        this.sync = false;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.speed !== undefined) {
            this.speed = data.speed;
        }
        if (data.sync !== undefined) {
            this.sync = data.sync;
        }
    }
}
exports.RotateAnimation = RotateAnimation;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Shadow.js":
/*!**********************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Shadow.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Shadow = void 0;
const OptionsColor_1 = __webpack_require__(/*! ../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class Shadow {
    constructor() {
        this.blur = 0;
        this.color = new OptionsColor_1.OptionsColor();
        this.enable = false;
        this.offset = {
            x: 0,
            y: 0,
        };
        this.color.value = "#000000";
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.blur !== undefined) {
            this.blur = data.blur;
        }
        this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.offset === undefined) {
            return;
        }
        if (data.offset.x !== undefined) {
            this.offset.x = data.offset.x;
        }
        if (data.offset.y !== undefined) {
            this.offset.y = data.offset.y;
        }
    }
}
exports.Shadow = Shadow;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Shape/Shape.js":
/*!***************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Shape/Shape.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Shape = void 0;
const Enums_1 = __webpack_require__(/*! ../../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Shape {
    constructor() {
        this.options = {};
        this.type = Enums_1.ShapeType.circle;
    }
    get image() {
        var _a;
        return ((_a = this.options[Enums_1.ShapeType.image]) !== null && _a !== void 0 ? _a : this.options[Enums_1.ShapeType.images]);
    }
    set image(value) {
        this.options[Enums_1.ShapeType.image] = value;
        this.options[Enums_1.ShapeType.images] = value;
    }
    get custom() {
        return this.options;
    }
    set custom(value) {
        this.options = value;
    }
    get images() {
        return this.image;
    }
    set images(value) {
        this.image = value;
    }
    get stroke() {
        return [];
    }
    set stroke(_value) {
    }
    get character() {
        var _a;
        return ((_a = this.options[Enums_1.ShapeType.character]) !== null && _a !== void 0 ? _a : this.options[Enums_1.ShapeType.char]);
    }
    set character(value) {
        this.options[Enums_1.ShapeType.character] = value;
        this.options[Enums_1.ShapeType.char] = value;
    }
    get polygon() {
        var _a;
        return ((_a = this.options[Enums_1.ShapeType.polygon]) !== null && _a !== void 0 ? _a : this.options[Enums_1.ShapeType.star]);
    }
    set polygon(value) {
        this.options[Enums_1.ShapeType.polygon] = value;
        this.options[Enums_1.ShapeType.star] = value;
    }
    load(data) {
        var _a, _b, _c;
        if (data === undefined) {
            return;
        }
        const options = (_a = data.options) !== null && _a !== void 0 ? _a : data.custom;
        if (options !== undefined) {
            for (const shape in options) {
                const item = options[shape];
                if (item !== undefined) {
                    this.options[shape] = (0, Utils_1.deepExtend)((_b = this.options[shape]) !== null && _b !== void 0 ? _b : {}, item);
                }
            }
        }
        this.loadShape(data.character, Enums_1.ShapeType.character, Enums_1.ShapeType.char, true);
        this.loadShape(data.polygon, Enums_1.ShapeType.polygon, Enums_1.ShapeType.star, false);
        this.loadShape((_c = data.image) !== null && _c !== void 0 ? _c : data.images, Enums_1.ShapeType.image, Enums_1.ShapeType.images, true);
        if (data.type !== undefined) {
            this.type = data.type;
        }
    }
    loadShape(item, mainKey, altKey, altOverride) {
        var _a, _b, _c, _d;
        if (item === undefined) {
            return;
        }
        if (item instanceof Array) {
            if (!(this.options[mainKey] instanceof Array)) {
                this.options[mainKey] = [];
                if (!this.options[altKey] || altOverride) {
                    this.options[altKey] = [];
                }
            }
            this.options[mainKey] = (0, Utils_1.deepExtend)((_a = this.options[mainKey]) !== null && _a !== void 0 ? _a : [], item);
            if (!this.options[altKey] || altOverride) {
                this.options[altKey] = (0, Utils_1.deepExtend)((_b = this.options[altKey]) !== null && _b !== void 0 ? _b : [], item);
            }
        }
        else {
            if (this.options[mainKey] instanceof Array) {
                this.options[mainKey] = {};
                if (!this.options[altKey] || altOverride) {
                    this.options[altKey] = {};
                }
            }
            this.options[mainKey] = (0, Utils_1.deepExtend)((_c = this.options[mainKey]) !== null && _c !== void 0 ? _c : {}, item);
            if (!this.options[altKey] || altOverride) {
                this.options[altKey] = (0, Utils_1.deepExtend)((_d = this.options[altKey]) !== null && _d !== void 0 ? _d : {}, item);
            }
        }
    }
}
exports.Shape = Shape;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Size/Size.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Size/Size.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Size = void 0;
const SizeAnimation_1 = __webpack_require__(/*! ./SizeAnimation */ "./node_modules/tsparticles/Options/Classes/Particles/Size/SizeAnimation.js");
const ValueWithRandom_1 = __webpack_require__(/*! ../../ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
const Utils_1 = __webpack_require__(/*! ../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Size extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
        this.animation = new SizeAnimation_1.SizeAnimation();
        this.random.minimumValue = 1;
        this.value = 3;
    }
    get anim() {
        return this.animation;
    }
    set anim(value) {
        this.animation = value;
    }
    load(data) {
        var _a;
        if (!data) {
            return;
        }
        super.load(data);
        const animation = (_a = data.animation) !== null && _a !== void 0 ? _a : data.anim;
        if (animation !== undefined) {
            this.animation.load(animation);
            this.value = (0, Utils_1.setRangeValue)(this.value, this.animation.enable ? this.animation.minimumValue : undefined);
        }
    }
}
exports.Size = Size;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Size/SizeAnimation.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Size/SizeAnimation.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SizeAnimation = void 0;
const Enums_1 = __webpack_require__(/*! ../../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const AnimationOptions_1 = __webpack_require__(/*! ../../AnimationOptions */ "./node_modules/tsparticles/Options/Classes/AnimationOptions.js");
class SizeAnimation extends AnimationOptions_1.AnimationOptions {
    constructor() {
        super();
        this.destroy = Enums_1.DestroyType.none;
        this.enable = false;
        this.speed = 5;
        this.startValue = Enums_1.StartValueType.random;
        this.sync = false;
    }
    get size_min() {
        return this.minimumValue;
    }
    set size_min(value) {
        this.minimumValue = value;
    }
    load(data) {
        var _a;
        if (data === undefined) {
            return;
        }
        super.load(data);
        if (data.destroy !== undefined) {
            this.destroy = data.destroy;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        this.minimumValue = (_a = data.minimumValue) !== null && _a !== void 0 ? _a : data.size_min;
        if (data.speed !== undefined) {
            this.speed = data.speed;
        }
        if (data.startValue !== undefined) {
            this.startValue = data.startValue;
        }
        if (data.sync !== undefined) {
            this.sync = data.sync;
        }
    }
}
exports.SizeAnimation = SizeAnimation;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Stroke.js":
/*!**********************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Stroke.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Stroke = void 0;
const AnimatableColor_1 = __webpack_require__(/*! ../AnimatableColor */ "./node_modules/tsparticles/Options/Classes/AnimatableColor.js");
class Stroke {
    constructor() {
        this.width = 0;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.color !== undefined) {
            this.color = AnimatableColor_1.AnimatableColor.create(this.color, data.color);
        }
        if (data.width !== undefined) {
            this.width = data.width;
        }
        if (data.opacity !== undefined) {
            this.opacity = data.opacity;
        }
    }
}
exports.Stroke = Stroke;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Tilt/Tilt.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Tilt/Tilt.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Tilt = void 0;
const TiltAnimation_1 = __webpack_require__(/*! ./TiltAnimation */ "./node_modules/tsparticles/Options/Classes/Particles/Tilt/TiltAnimation.js");
const Enums_1 = __webpack_require__(/*! ../../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const ValueWithRandom_1 = __webpack_require__(/*! ../../ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
class Tilt extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
        this.animation = new TiltAnimation_1.TiltAnimation();
        this.direction = Enums_1.TiltDirection.clockwise;
        this.enable = false;
        this.value = 0;
    }
    load(data) {
        if (!data) {
            return;
        }
        super.load(data);
        this.animation.load(data.animation);
        if (data.direction !== undefined) {
            this.direction = data.direction;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
    }
}
exports.Tilt = Tilt;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Tilt/TiltAnimation.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Tilt/TiltAnimation.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TiltAnimation = void 0;
class TiltAnimation {
    constructor() {
        this.enable = false;
        this.speed = 0;
        this.sync = false;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.speed !== undefined) {
            this.speed = data.speed;
        }
        if (data.sync !== undefined) {
            this.sync = data.sync;
        }
    }
}
exports.TiltAnimation = TiltAnimation;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Twinkle/Twinkle.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Twinkle/Twinkle.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Twinkle = void 0;
const TwinkleValues_1 = __webpack_require__(/*! ./TwinkleValues */ "./node_modules/tsparticles/Options/Classes/Particles/Twinkle/TwinkleValues.js");
class Twinkle {
    constructor() {
        this.lines = new TwinkleValues_1.TwinkleValues();
        this.particles = new TwinkleValues_1.TwinkleValues();
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        this.lines.load(data.lines);
        this.particles.load(data.particles);
    }
}
exports.Twinkle = Twinkle;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Twinkle/TwinkleValues.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Twinkle/TwinkleValues.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TwinkleValues = void 0;
const OptionsColor_1 = __webpack_require__(/*! ../../OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class TwinkleValues {
    constructor() {
        this.enable = false;
        this.frequency = 0.05;
        this.opacity = 1;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.color !== undefined) {
            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.frequency !== undefined) {
            this.frequency = data.frequency;
        }
        if (data.opacity !== undefined) {
            this.opacity = data.opacity;
        }
    }
}
exports.TwinkleValues = TwinkleValues;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/Wobble/Wobble.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/Wobble/Wobble.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Wobble = void 0;
const Utils_1 = __webpack_require__(/*! ../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Wobble {
    constructor() {
        this.distance = 5;
        this.enable = false;
        this.speed = 50;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.distance !== undefined) {
            this.distance = (0, Utils_1.setRangeValue)(data.distance);
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.speed !== undefined) {
            this.speed = (0, Utils_1.setRangeValue)(data.speed);
        }
    }
}
exports.Wobble = Wobble;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Particles/ZIndex/ZIndex.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Particles/ZIndex/ZIndex.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ZIndex = void 0;
const ValueWithRandom_1 = __webpack_require__(/*! ../../ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
class ZIndex extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
        this.opacityRate = 1;
        this.sizeRate = 1;
        this.velocityRate = 1;
    }
    load(data) {
        super.load(data);
        if (!data) {
            return;
        }
        if (data.opacityRate !== undefined) {
            this.opacityRate = data.opacityRate;
        }
        if (data.sizeRate !== undefined) {
            this.sizeRate = data.sizeRate;
        }
        if (data.velocityRate !== undefined) {
            this.velocityRate = data.velocityRate;
        }
    }
}
exports.ZIndex = ZIndex;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Random.js":
/*!************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Random.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Random = void 0;
class Random {
    constructor() {
        this.enable = false;
        this.minimumValue = 0;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.enable !== undefined) {
            this.enable = data.enable;
        }
        if (data.minimumValue !== undefined) {
            this.minimumValue = data.minimumValue;
        }
    }
}
exports.Random = Random;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Responsive.js":
/*!****************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Responsive.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Responsive = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
class Responsive {
    constructor() {
        this.maxWidth = Infinity;
        this.options = {};
        this.mode = Enums_1.ResponsiveMode.canvas;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.maxWidth !== undefined) {
            this.maxWidth = data.maxWidth;
        }
        if (data.mode !== undefined) {
            if (data.mode === Enums_1.ResponsiveMode.screen) {
                this.mode = Enums_1.ResponsiveMode.screen;
            }
            else {
                this.mode = Enums_1.ResponsiveMode.canvas;
            }
        }
        if (data.options !== undefined) {
            this.options = (0, Utils_1.deepExtend)({}, data.options);
        }
    }
}
exports.Responsive = Responsive;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Theme/Theme.js":
/*!*****************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Theme/Theme.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Theme = void 0;
const Utils_1 = __webpack_require__(/*! ../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const ThemeDefault_1 = __webpack_require__(/*! ./ThemeDefault */ "./node_modules/tsparticles/Options/Classes/Theme/ThemeDefault.js");
class Theme {
    constructor() {
        this.name = "";
        this.default = new ThemeDefault_1.ThemeDefault();
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.name !== undefined) {
            this.name = data.name;
        }
        this.default.load(data.default);
        if (data.options !== undefined) {
            this.options = (0, Utils_1.deepExtend)({}, data.options);
        }
    }
}
exports.Theme = Theme;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/Theme/ThemeDefault.js":
/*!************************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/Theme/ThemeDefault.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ThemeDefault = void 0;
const Enums_1 = __webpack_require__(/*! ../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
class ThemeDefault {
    constructor() {
        this.auto = false;
        this.mode = Enums_1.ThemeMode.any;
        this.value = false;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.auto !== undefined) {
            this.auto = data.auto;
        }
        if (data.mode !== undefined) {
            this.mode = data.mode;
        }
        if (data.value !== undefined) {
            this.value = data.value;
        }
    }
}
exports.ThemeDefault = ThemeDefault;


/***/ }),

/***/ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js":
/*!*********************************************************************!*\
  !*** ./node_modules/tsparticles/Options/Classes/ValueWithRandom.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ValueWithRandom = void 0;
const Random_1 = __webpack_require__(/*! ./Random */ "./node_modules/tsparticles/Options/Classes/Random.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class ValueWithRandom {
    constructor() {
        this.random = new Random_1.Random();
        this.value = 0;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (typeof data.random === "boolean") {
            this.random.enable = data.random;
        }
        else {
            this.random.load(data.random);
        }
        if (data.value !== undefined) {
            this.value = (0, Utils_1.setRangeValue)(data.value, this.random.enable ? this.random.minimumValue : undefined);
        }
    }
}
exports.ValueWithRandom = ValueWithRandom;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Absorbers/AbsorberInstance.js":
/*!************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Absorbers/AbsorberInstance.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AbsorberInstance = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Vector_1 = __webpack_require__(/*! ../../Core/Particle/Vector */ "./node_modules/tsparticles/Core/Particle/Vector.js");
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
class AbsorberInstance {
    constructor(absorbers, container, options, position) {
        var _a, _b, _c, _d, _e;
        this.absorbers = absorbers;
        this.container = container;
        this.initialPosition = position ? Vector_1.Vector.create(position.x, position.y) : undefined;
        this.options = options;
        this.dragging = false;
        this.name = this.options.name;
        this.opacity = this.options.opacity;
        this.size = (0, Utils_1.getRangeValue)(options.size.value) * container.retina.pixelRatio;
        this.mass = this.size * options.size.density * container.retina.reduceFactor;
        const limit = options.size.limit;
        this.limit =
            typeof limit === "number"
                ? {
                    radius: limit * container.retina.pixelRatio * container.retina.reduceFactor,
                    mass: 0,
                }
                : {
                    radius: ((_a = limit === null || limit === void 0 ? void 0 : limit.radius) !== null && _a !== void 0 ? _a : 0) * container.retina.pixelRatio * container.retina.reduceFactor,
                    mass: (_b = limit === null || limit === void 0 ? void 0 : limit.mass) !== null && _b !== void 0 ? _b : 0,
                };
        const color = typeof options.color === "string" ? { value: options.color } : options.color;
        this.color = (_c = (0, Utils_1.colorToRgb)(color)) !== null && _c !== void 0 ? _c : {
            b: 0,
            g: 0,
            r: 0,
        };
        this.position = (_e = (_d = this.initialPosition) === null || _d === void 0 ? void 0 : _d.copy()) !== null && _e !== void 0 ? _e : this.calcPosition();
    }
    attract(particle) {
        const container = this.container;
        const options = this.options;
        if (options.draggable) {
            const mouse = container.interactivity.mouse;
            if (mouse.clicking && mouse.downPosition) {
                const mouseDist = (0, Utils_1.getDistance)(this.position, mouse.downPosition);
                if (mouseDist <= this.size) {
                    this.dragging = true;
                }
            }
            else {
                this.dragging = false;
            }
            if (this.dragging && mouse.position) {
                this.position.x = mouse.position.x;
                this.position.y = mouse.position.y;
            }
        }
        const pos = particle.getPosition();
        const { dx, dy, distance } = (0, Utils_1.getDistances)(this.position, pos);
        const v = Vector_1.Vector.create(dx, dy);
        v.length = (this.mass / Math.pow(distance, 2)) * container.retina.reduceFactor;
        if (distance < this.size + particle.getRadius()) {
            const sizeFactor = particle.getRadius() * 0.033 * container.retina.pixelRatio;
            if ((this.size > particle.getRadius() && distance < this.size - particle.getRadius()) ||
                (particle.absorberOrbit !== undefined && particle.absorberOrbit.length < 0)) {
                if (options.destroy) {
                    particle.destroy();
                }
                else {
                    particle.needsNewPosition = true;
                    this.updateParticlePosition(particle, v);
                }
            }
            else {
                if (options.destroy) {
                    particle.size.value -= sizeFactor;
                }
                this.updateParticlePosition(particle, v);
            }
            if (this.limit.radius <= 0 || this.size < this.limit.radius) {
                this.size += sizeFactor;
            }
            if (this.limit.mass <= 0 || this.mass < this.limit.mass) {
                this.mass += sizeFactor * this.options.size.density * container.retina.reduceFactor;
            }
        }
        else {
            this.updateParticlePosition(particle, v);
        }
    }
    resize() {
        const initialPosition = this.initialPosition;
        this.position =
            initialPosition && (0, Utils_1.isPointInside)(initialPosition, this.container.canvas.size)
                ? initialPosition
                : this.calcPosition();
    }
    draw(context) {
        context.translate(this.position.x, this.position.y);
        context.beginPath();
        context.arc(0, 0, this.size, 0, Math.PI * 2, false);
        context.closePath();
        context.fillStyle = (0, Utils_1.getStyleFromRgb)(this.color, this.opacity);
        context.fill();
    }
    calcPosition() {
        var _a, _b;
        const container = this.container;
        const percentPosition = this.options.position;
        return Vector_1.Vector.create((((_a = percentPosition === null || percentPosition === void 0 ? void 0 : percentPosition.x) !== null && _a !== void 0 ? _a : Math.random() * 100) / 100) * container.canvas.size.width, (((_b = percentPosition === null || percentPosition === void 0 ? void 0 : percentPosition.y) !== null && _b !== void 0 ? _b : Math.random() * 100) / 100) * container.canvas.size.height);
    }
    updateParticlePosition(particle, v) {
        var _a;
        if (particle.destroyed) {
            return;
        }
        const container = this.container;
        const canvasSize = container.canvas.size;
        if (particle.needsNewPosition) {
            particle.position.x = Math.floor(Math.random() * canvasSize.width);
            particle.position.y = Math.floor(Math.random() * canvasSize.height);
            particle.velocity.setTo(particle.initialVelocity);
            particle.absorberOrbit = undefined;
            particle.needsNewPosition = false;
        }
        if (this.options.orbits) {
            if (particle.absorberOrbit === undefined) {
                particle.absorberOrbit = Vector_1.Vector.create(0, 0);
                particle.absorberOrbit.length = (0, Utils_1.getDistance)(particle.getPosition(), this.position);
                particle.absorberOrbit.angle = Math.random() * Math.PI * 2;
            }
            if (particle.absorberOrbit.length <= this.size && !this.options.destroy) {
                const minSize = Math.min(canvasSize.width, canvasSize.height);
                particle.absorberOrbit.length = minSize * (1 + (Math.random() * 0.2 - 0.1));
            }
            if (particle.absorberOrbitDirection === undefined) {
                particle.absorberOrbitDirection =
                    particle.velocity.x >= 0 ? Enums_1.RotateDirection.clockwise : Enums_1.RotateDirection.counterClockwise;
            }
            const orbitRadius = particle.absorberOrbit.length;
            const orbitAngle = particle.absorberOrbit.angle;
            const orbitDirection = particle.absorberOrbitDirection;
            particle.velocity.x = 0;
            particle.velocity.y = 0;
            const updateFunc = {
                x: orbitDirection === Enums_1.RotateDirection.clockwise ? Math.cos : Math.sin,
                y: orbitDirection === Enums_1.RotateDirection.clockwise ? Math.sin : Math.cos,
            };
            particle.position.x = this.position.x + orbitRadius * updateFunc.x(orbitAngle);
            particle.position.y = this.position.y + orbitRadius * updateFunc.y(orbitAngle);
            particle.absorberOrbit.length -= v.length;
            particle.absorberOrbit.angle +=
                ((((_a = particle.retina.moveSpeed) !== null && _a !== void 0 ? _a : 0) * container.retina.pixelRatio) / 100) *
                    container.retina.reduceFactor;
        }
        else {
            const addV = Vector_1.Vector.origin;
            addV.length = v.length;
            addV.angle = v.angle;
            particle.velocity.addTo(addV);
        }
    }
}
exports.AbsorberInstance = AbsorberInstance;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Absorbers/Absorbers.js":
/*!*****************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Absorbers/Absorbers.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Absorbers = void 0;
const AbsorberInstance_1 = __webpack_require__(/*! ./AbsorberInstance */ "./node_modules/tsparticles/Plugins/Absorbers/AbsorberInstance.js");
const Absorber_1 = __webpack_require__(/*! ./Options/Classes/Absorber */ "./node_modules/tsparticles/Plugins/Absorbers/Options/Classes/Absorber.js");
const Enums_1 = __webpack_require__(/*! ./Enums */ "./node_modules/tsparticles/Plugins/Absorbers/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Absorbers {
    constructor(container) {
        this.container = container;
        this.array = [];
        this.absorbers = [];
        this.interactivityAbsorbers = [];
        const overridableContainer = container;
        overridableContainer.getAbsorber = (idxOrName) => idxOrName === undefined || typeof idxOrName === "number"
            ? this.array[idxOrName || 0]
            : this.array.find((t) => t.name === idxOrName);
        overridableContainer.addAbsorber = (options, position) => this.addAbsorber(options, position);
    }
    init(options) {
        var _a, _b;
        if (!options) {
            return;
        }
        if (options.absorbers) {
            if (options.absorbers instanceof Array) {
                this.absorbers = options.absorbers.map((s) => {
                    const tmp = new Absorber_1.Absorber();
                    tmp.load(s);
                    return tmp;
                });
            }
            else {
                if (this.absorbers instanceof Array) {
                    this.absorbers = new Absorber_1.Absorber();
                }
                this.absorbers.load(options.absorbers);
            }
        }
        const interactivityAbsorbers = (_b = (_a = options.interactivity) === null || _a === void 0 ? void 0 : _a.modes) === null || _b === void 0 ? void 0 : _b.absorbers;
        if (interactivityAbsorbers) {
            if (interactivityAbsorbers instanceof Array) {
                this.interactivityAbsorbers = interactivityAbsorbers.map((s) => {
                    const tmp = new Absorber_1.Absorber();
                    tmp.load(s);
                    return tmp;
                });
            }
            else {
                if (this.interactivityAbsorbers instanceof Array) {
                    this.interactivityAbsorbers = new Absorber_1.Absorber();
                }
                this.interactivityAbsorbers.load(interactivityAbsorbers);
            }
        }
        if (this.absorbers instanceof Array) {
            for (const absorberOptions of this.absorbers) {
                this.addAbsorber(absorberOptions);
            }
        }
        else {
            this.addAbsorber(this.absorbers);
        }
    }
    particleUpdate(particle) {
        for (const absorber of this.array) {
            absorber.attract(particle);
            if (particle.destroyed) {
                break;
            }
        }
    }
    draw(context) {
        for (const absorber of this.array) {
            context.save();
            absorber.draw(context);
            context.restore();
        }
    }
    stop() {
        this.array = [];
    }
    resize() {
        for (const absorber of this.array) {
            absorber.resize();
        }
    }
    handleClickMode(mode) {
        const container = this.container;
        const absorberOptions = this.absorbers;
        const modeAbsorbers = this.interactivityAbsorbers;
        if (mode === Enums_1.AbsorberClickMode.absorber) {
            let absorbersModeOptions;
            if (modeAbsorbers instanceof Array) {
                if (modeAbsorbers.length > 0) {
                    absorbersModeOptions = (0, Utils_1.itemFromArray)(modeAbsorbers);
                }
            }
            else {
                absorbersModeOptions = modeAbsorbers;
            }
            const absorbersOptions = absorbersModeOptions !== null && absorbersModeOptions !== void 0 ? absorbersModeOptions : (absorberOptions instanceof Array ? (0, Utils_1.itemFromArray)(absorberOptions) : absorberOptions);
            const aPosition = container.interactivity.mouse.clickPosition;
            this.addAbsorber(absorbersOptions, aPosition);
        }
    }
    addAbsorber(options, position) {
        const absorber = new AbsorberInstance_1.AbsorberInstance(this, this.container, options, position);
        this.array.push(absorber);
        return absorber;
    }
    removeAbsorber(absorber) {
        const index = this.array.indexOf(absorber);
        if (index >= 0) {
            this.array.splice(index, 1);
        }
    }
}
exports.Absorbers = Absorbers;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Absorbers/Enums/AbsorberClickMode.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Absorbers/Enums/AbsorberClickMode.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AbsorberClickMode = void 0;
var AbsorberClickMode;
(function (AbsorberClickMode) {
    AbsorberClickMode["absorber"] = "absorber";
})(AbsorberClickMode = exports.AbsorberClickMode || (exports.AbsorberClickMode = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Absorbers/Enums/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Absorbers/Enums/index.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./AbsorberClickMode */ "./node_modules/tsparticles/Plugins/Absorbers/Enums/AbsorberClickMode.js"), exports);


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Absorbers/Options/Classes/Absorber.js":
/*!********************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Absorbers/Options/Classes/Absorber.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Absorber = void 0;
const AbsorberSize_1 = __webpack_require__(/*! ./AbsorberSize */ "./node_modules/tsparticles/Plugins/Absorbers/Options/Classes/AbsorberSize.js");
const OptionsColor_1 = __webpack_require__(/*! ../../../../Options/Classes/OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class Absorber {
    constructor() {
        this.color = new OptionsColor_1.OptionsColor();
        this.color.value = "#000000";
        this.draggable = false;
        this.opacity = 1;
        this.destroy = true;
        this.orbits = false;
        this.size = new AbsorberSize_1.AbsorberSize();
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.color !== undefined) {
            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);
        }
        if (data.draggable !== undefined) {
            this.draggable = data.draggable;
        }
        this.name = data.name;
        if (data.opacity !== undefined) {
            this.opacity = data.opacity;
        }
        if (data.position !== undefined) {
            this.position = {
                x: data.position.x,
                y: data.position.y,
            };
        }
        if (data.size !== undefined) {
            this.size.load(data.size);
        }
        if (data.destroy !== undefined) {
            this.destroy = data.destroy;
        }
        if (data.orbits !== undefined) {
            this.orbits = data.orbits;
        }
    }
}
exports.Absorber = Absorber;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Absorbers/Options/Classes/AbsorberSize.js":
/*!************************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Absorbers/Options/Classes/AbsorberSize.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AbsorberSize = void 0;
const ValueWithRandom_1 = __webpack_require__(/*! ../../../../Options/Classes/ValueWithRandom */ "./node_modules/tsparticles/Options/Classes/ValueWithRandom.js");
const AbsorberSizeLimit_1 = __webpack_require__(/*! ./AbsorberSizeLimit */ "./node_modules/tsparticles/Plugins/Absorbers/Options/Classes/AbsorberSizeLimit.js");
class AbsorberSize extends ValueWithRandom_1.ValueWithRandom {
    constructor() {
        super();
        this.density = 5;
        this.random.minimumValue = 1;
        this.value = 50;
        this.limit = new AbsorberSizeLimit_1.AbsorberSizeLimit();
    }
    load(data) {
        if (!data) {
            return;
        }
        super.load(data);
        if (data.density !== undefined) {
            this.density = data.density;
        }
        if (typeof data.limit === "number") {
            this.limit.radius = data.limit;
        }
        else {
            this.limit.load(data.limit);
        }
    }
}
exports.AbsorberSize = AbsorberSize;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Absorbers/Options/Classes/AbsorberSizeLimit.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Absorbers/Options/Classes/AbsorberSizeLimit.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AbsorberSizeLimit = void 0;
class AbsorberSizeLimit {
    constructor() {
        this.radius = 0;
        this.mass = 0;
    }
    load(data) {
        if (!data) {
            return;
        }
        if (data.mass !== undefined) {
            this.mass = data.mass;
        }
        if (data.radius !== undefined) {
            this.radius = data.radius;
        }
    }
}
exports.AbsorberSizeLimit = AbsorberSizeLimit;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Absorbers/plugin.js":
/*!**************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Absorbers/plugin.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadAbsorbersPlugin = void 0;
const Absorbers_1 = __webpack_require__(/*! ./Absorbers */ "./node_modules/tsparticles/Plugins/Absorbers/Absorbers.js");
const Enums_1 = __webpack_require__(/*! ./Enums */ "./node_modules/tsparticles/Plugins/Absorbers/Enums/index.js");
const Absorber_1 = __webpack_require__(/*! ./Options/Classes/Absorber */ "./node_modules/tsparticles/Plugins/Absorbers/Options/Classes/Absorber.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Plugin {
    constructor() {
        this.id = "absorbers";
    }
    getPlugin(container) {
        return new Absorbers_1.Absorbers(container);
    }
    needsPlugin(options) {
        var _a, _b, _c;
        if (options === undefined) {
            return false;
        }
        const absorbers = options.absorbers;
        let loadAbsorbers = false;
        if (absorbers instanceof Array) {
            if (absorbers.length) {
                loadAbsorbers = true;
            }
        }
        else if (absorbers !== undefined) {
            loadAbsorbers = true;
        }
        else if (((_c = (_b = (_a = options.interactivity) === null || _a === void 0 ? void 0 : _a.events) === null || _b === void 0 ? void 0 : _b.onClick) === null || _c === void 0 ? void 0 : _c.mode) &&
            (0, Utils_1.isInArray)(Enums_1.AbsorberClickMode.absorber, options.interactivity.events.onClick.mode)) {
            loadAbsorbers = true;
        }
        return loadAbsorbers;
    }
    loadOptions(options, source) {
        var _a, _b;
        if (!this.needsPlugin(options) && !this.needsPlugin(source)) {
            return;
        }
        const optionsCast = options;
        if (source === null || source === void 0 ? void 0 : source.absorbers) {
            if ((source === null || source === void 0 ? void 0 : source.absorbers) instanceof Array) {
                optionsCast.absorbers = source === null || source === void 0 ? void 0 : source.absorbers.map((s) => {
                    const tmp = new Absorber_1.Absorber();
                    tmp.load(s);
                    return tmp;
                });
            }
            else {
                let absorberOptions = optionsCast.absorbers;
                if ((absorberOptions === null || absorberOptions === void 0 ? void 0 : absorberOptions.load) === undefined) {
                    optionsCast.absorbers = absorberOptions = new Absorber_1.Absorber();
                }
                absorberOptions.load(source === null || source === void 0 ? void 0 : source.absorbers);
            }
        }
        const interactivityAbsorbers = (_b = (_a = source === null || source === void 0 ? void 0 : source.interactivity) === null || _a === void 0 ? void 0 : _a.modes) === null || _b === void 0 ? void 0 : _b.absorbers;
        if (interactivityAbsorbers) {
            if (interactivityAbsorbers instanceof Array) {
                optionsCast.interactivity.modes.absorbers = interactivityAbsorbers.map((s) => {
                    const tmp = new Absorber_1.Absorber();
                    tmp.load(s);
                    return tmp;
                });
            }
            else {
                let absorberOptions = optionsCast.interactivity.modes.absorbers;
                if ((absorberOptions === null || absorberOptions === void 0 ? void 0 : absorberOptions.load) === undefined) {
                    optionsCast.interactivity.modes.absorbers = absorberOptions = new Absorber_1.Absorber();
                }
                absorberOptions.load(interactivityAbsorbers);
            }
        }
    }
}
async function loadAbsorbersPlugin(tsParticles) {
    const plugin = new Plugin();
    await tsParticles.addPlugin(plugin);
}
exports.loadAbsorbersPlugin = loadAbsorbersPlugin;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/EmitterInstance.js":
/*!**********************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/EmitterInstance.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {
    if (kind === "m") throw new TypeError("Private method is not writable");
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
};
var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var _EmitterInstance_firstSpawn, _EmitterInstance_startParticlesAdded;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EmitterInstance = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const EmitterSize_1 = __webpack_require__(/*! ./Options/Classes/EmitterSize */ "./node_modules/tsparticles/Plugins/Emitters/Options/Classes/EmitterSize.js");
const ShapeManager_1 = __webpack_require__(/*! ./ShapeManager */ "./node_modules/tsparticles/Plugins/Emitters/ShapeManager.js");
class EmitterInstance {
    constructor(emitters, container, emitterOptions, position) {
        var _a, _b, _c, _d, _e, _f;
        var _g;
        this.emitters = emitters;
        this.container = container;
        _EmitterInstance_firstSpawn.set(this, void 0);
        _EmitterInstance_startParticlesAdded.set(this, void 0);
        this.currentDuration = 0;
        this.currentEmitDelay = 0;
        this.currentSpawnDelay = 0;
        this.initialPosition = position;
        this.emitterOptions = (0, Utils_1.deepExtend)({}, emitterOptions);
        this.spawnDelay = (((_a = this.emitterOptions.life.delay) !== null && _a !== void 0 ? _a : 0) * 1000) / this.container.retina.reduceFactor;
        this.position = (_b = this.initialPosition) !== null && _b !== void 0 ? _b : this.calcPosition();
        this.name = emitterOptions.name;
        this.shape = ShapeManager_1.ShapeManager.getShape(emitterOptions.shape);
        this.fill = emitterOptions.fill;
        __classPrivateFieldSet(this, _EmitterInstance_firstSpawn, !this.emitterOptions.life.wait, "f");
        __classPrivateFieldSet(this, _EmitterInstance_startParticlesAdded, false, "f");
        let particlesOptions = (0, Utils_1.deepExtend)({}, this.emitterOptions.particles);
        particlesOptions !== null && particlesOptions !== void 0 ? particlesOptions : (particlesOptions = {});
        (_c = particlesOptions.move) !== null && _c !== void 0 ? _c : (particlesOptions.move = {});
        (_d = (_g = particlesOptions.move).direction) !== null && _d !== void 0 ? _d : (_g.direction = this.emitterOptions.direction);
        if (this.emitterOptions.spawnColor !== undefined) {
            this.spawnColor = (0, Utils_1.colorToHsl)(this.emitterOptions.spawnColor);
        }
        this.paused = !this.emitterOptions.autoPlay;
        this.particlesOptions = particlesOptions;
        this.size =
            (_e = this.emitterOptions.size) !== null && _e !== void 0 ? _e : (() => {
                const size = new EmitterSize_1.EmitterSize();
                size.load({
                    height: 0,
                    mode: Enums_1.SizeMode.percent,
                    width: 0,
                });
                return size;
            })();
        this.lifeCount = (_f = this.emitterOptions.life.count) !== null && _f !== void 0 ? _f : -1;
        this.immortal = this.lifeCount <= 0;
        this.play();
    }
    externalPlay() {
        this.paused = false;
        this.play();
    }
    externalPause() {
        this.paused = true;
        this.pause();
    }
    play() {
        var _a;
        if (this.paused) {
            return;
        }
        if (this.container.retina.reduceFactor &&
            (this.lifeCount > 0 || this.immortal || !this.emitterOptions.life.count) &&
            (__classPrivateFieldGet(this, _EmitterInstance_firstSpawn, "f") || this.currentSpawnDelay >= ((_a = this.spawnDelay) !== null && _a !== void 0 ? _a : 0))) {
            if (this.emitDelay === undefined) {
                const delay = (0, Utils_1.getRangeValue)(this.emitterOptions.rate.delay);
                this.emitDelay = (1000 * delay) / this.container.retina.reduceFactor;
            }
            if (this.lifeCount > 0 || this.immortal) {
                this.prepareToDie();
            }
        }
    }
    pause() {
        if (this.paused) {
            return;
        }
        delete this.emitDelay;
    }
    resize() {
        const initialPosition = this.initialPosition;
        this.position =
            initialPosition && (0, Utils_1.isPointInside)(initialPosition, this.container.canvas.size)
                ? initialPosition
                : this.calcPosition();
    }
    update(delta) {
        var _a, _b, _c;
        if (this.paused) {
            return;
        }
        if (__classPrivateFieldGet(this, _EmitterInstance_firstSpawn, "f")) {
            __classPrivateFieldSet(this, _EmitterInstance_firstSpawn, false, "f");
            this.currentSpawnDelay = (_a = this.spawnDelay) !== null && _a !== void 0 ? _a : 0;
            this.currentEmitDelay = (_b = this.emitDelay) !== null && _b !== void 0 ? _b : 0;
        }
        if (!__classPrivateFieldGet(this, _EmitterInstance_startParticlesAdded, "f")) {
            __classPrivateFieldSet(this, _EmitterInstance_startParticlesAdded, true, "f");
            this.emitParticles(this.emitterOptions.startCount);
        }
        if (this.duration !== undefined) {
            this.currentDuration += delta.value;
            if (this.currentDuration >= this.duration) {
                this.pause();
                if (this.spawnDelay !== undefined) {
                    delete this.spawnDelay;
                }
                if (!this.immortal) {
                    this.lifeCount--;
                }
                if (this.lifeCount > 0 || this.immortal) {
                    this.position = this.calcPosition();
                    this.spawnDelay =
                        (((_c = this.emitterOptions.life.delay) !== null && _c !== void 0 ? _c : 0) * 1000) / this.container.retina.reduceFactor;
                }
                else {
                    this.destroy();
                }
                this.currentDuration -= this.duration;
                delete this.duration;
            }
        }
        if (this.spawnDelay !== undefined) {
            this.currentSpawnDelay += delta.value;
            if (this.currentSpawnDelay >= this.spawnDelay) {
                this.play();
                this.currentSpawnDelay -= this.currentSpawnDelay;
                delete this.spawnDelay;
            }
        }
        if (this.emitDelay !== undefined) {
            this.currentEmitDelay += delta.value;
            if (this.currentEmitDelay >= this.emitDelay) {
                this.emit();
                this.currentEmitDelay -= this.emitDelay;
            }
        }
    }
    prepareToDie() {
        var _a;
        if (this.paused) {
            return;
        }
        const duration = (_a = this.emitterOptions.life) === null || _a === void 0 ? void 0 : _a.duration;
        if (this.container.retina.reduceFactor &&
            (this.lifeCount > 0 || this.immortal) &&
            duration !== undefined &&
            duration > 0) {
            this.duration = duration * 1000;
        }
    }
    destroy() {
        this.emitters.removeEmitter(this);
    }
    calcPosition() {
        var _a, _b;
        const container = this.container;
        const percentPosition = this.emitterOptions.position;
        return {
            x: (((_a = percentPosition === null || percentPosition === void 0 ? void 0 : percentPosition.x) !== null && _a !== void 0 ? _a : Math.random() * 100) / 100) * container.canvas.size.width,
            y: (((_b = percentPosition === null || percentPosition === void 0 ? void 0 : percentPosition.y) !== null && _b !== void 0 ? _b : Math.random() * 100) / 100) * container.canvas.size.height,
        };
    }
    emit() {
        if (this.paused) {
            return;
        }
        const quantity = (0, Utils_1.getRangeValue)(this.emitterOptions.rate.quantity);
        this.emitParticles(quantity);
    }
    emitParticles(quantity) {
        var _a, _b, _c;
        const container = this.container;
        const position = this.position;
        const offset = {
            x: this.size.mode === Enums_1.SizeMode.percent
                ? (container.canvas.size.width * this.size.width) / 100
                : this.size.width,
            y: this.size.mode === Enums_1.SizeMode.percent
                ? (container.canvas.size.height * this.size.height) / 100
                : this.size.height,
        };
        for (let i = 0; i < quantity; i++) {
            const particlesOptions = (0, Utils_1.deepExtend)({}, this.particlesOptions);
            if (this.spawnColor) {
                const colorAnimation = (_a = this.emitterOptions.spawnColor) === null || _a === void 0 ? void 0 : _a.animation;
                if (colorAnimation) {
                    const hueAnimation = colorAnimation;
                    if (hueAnimation.enable) {
                        this.spawnColor.h = this.setColorAnimation(hueAnimation, this.spawnColor.h, 360);
                    }
                    else {
                        const hslAnimation = colorAnimation;
                        this.spawnColor.h = this.setColorAnimation(hslAnimation.h, this.spawnColor.h, 360);
                        this.spawnColor.s = this.setColorAnimation(hslAnimation.s, this.spawnColor.s, 100);
                        this.spawnColor.l = this.setColorAnimation(hslAnimation.l, this.spawnColor.l, 100);
                    }
                }
                if (!particlesOptions.color) {
                    particlesOptions.color = {
                        value: this.spawnColor,
                    };
                }
                else {
                    particlesOptions.color.value = this.spawnColor;
                }
            }
            const pPosition = (_c = (_b = this.shape) === null || _b === void 0 ? void 0 : _b.randomPosition(position, offset, this.fill)) !== null && _c !== void 0 ? _c : position;
            container.particles.addParticle(pPosition, particlesOptions);
        }
    }
    setColorAnimation(animation, initValue, maxValue) {
        var _a;
        const container = this.container;
        if (!animation.enable) {
            return initValue;
        }
        const colorOffset = (0, Utils_1.randomInRange)(animation.offset);
        const delay = (0, Utils_1.getRangeValue)(this.emitterOptions.rate.delay);
        const emitFactor = (1000 * delay) / container.retina.reduceFactor;
        const colorSpeed = (_a = animation.speed) !== null && _a !== void 0 ? _a : 0;
        return (initValue + (colorSpeed * container.fpsLimit) / emitFactor + colorOffset * 3.6) % maxValue;
    }
}
exports.EmitterInstance = EmitterInstance;
_EmitterInstance_firstSpawn = new WeakMap(), _EmitterInstance_startParticlesAdded = new WeakMap();


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/Emitters.js":
/*!***************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/Emitters.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Emitters = void 0;
const EmitterInstance_1 = __webpack_require__(/*! ./EmitterInstance */ "./node_modules/tsparticles/Plugins/Emitters/EmitterInstance.js");
const Emitter_1 = __webpack_require__(/*! ./Options/Classes/Emitter */ "./node_modules/tsparticles/Plugins/Emitters/Options/Classes/Emitter.js");
const Enums_1 = __webpack_require__(/*! ./Enums */ "./node_modules/tsparticles/Plugins/Emitters/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Emitters {
    constructor(container) {
        this.container = container;
        this.array = [];
        this.emitters = [];
        this.interactivityEmitters = [];
        const overridableContainer = container;
        overridableContainer.getEmitter = (idxOrName) => idxOrName === undefined || typeof idxOrName === "number"
            ? this.array[idxOrName || 0]
            : this.array.find((t) => t.name === idxOrName);
        overridableContainer.addEmitter = (options, position) => this.addEmitter(options, position);
        overridableContainer.playEmitter = (idxOrName) => {
            const emitter = overridableContainer.getEmitter(idxOrName);
            if (emitter) {
                emitter.externalPlay();
            }
        };
        overridableContainer.pauseEmitter = (idxOrName) => {
            const emitter = overridableContainer.getEmitter(idxOrName);
            if (emitter) {
                emitter.externalPause();
            }
        };
    }
    init(options) {
        var _a, _b;
        if (!options) {
            return;
        }
        if (options.emitters) {
            if (options.emitters instanceof Array) {
                this.emitters = options.emitters.map((s) => {
                    const tmp = new Emitter_1.Emitter();
                    tmp.load(s);
                    return tmp;
                });
            }
            else {
                if (this.emitters instanceof Array) {
                    this.emitters = new Emitter_1.Emitter();
                }
                this.emitters.load(options.emitters);
            }
        }
        const interactivityEmitters = (_b = (_a = options.interactivity) === null || _a === void 0 ? void 0 : _a.modes) === null || _b === void 0 ? void 0 : _b.emitters;
        if (interactivityEmitters) {
            if (interactivityEmitters instanceof Array) {
                this.interactivityEmitters = interactivityEmitters.map((s) => {
                    const tmp = new Emitter_1.Emitter();
                    tmp.load(s);
                    return tmp;
                });
            }
            else {
                if (this.interactivityEmitters instanceof Array) {
                    this.interactivityEmitters = new Emitter_1.Emitter();
                }
                this.interactivityEmitters.load(interactivityEmitters);
            }
        }
        if (this.emitters instanceof Array) {
            for (const emitterOptions of this.emitters) {
                this.addEmitter(emitterOptions);
            }
        }
        else {
            this.addEmitter(this.emitters);
        }
    }
    play() {
        for (const emitter of this.array) {
            emitter.play();
        }
    }
    pause() {
        for (const emitter of this.array) {
            emitter.pause();
        }
    }
    stop() {
        this.array = [];
    }
    update(delta) {
        for (const emitter of this.array) {
            emitter.update(delta);
        }
    }
    handleClickMode(mode) {
        const container = this.container;
        const emitterOptions = this.emitters;
        const modeEmitters = this.interactivityEmitters;
        if (mode === Enums_1.EmitterClickMode.emitter) {
            let emitterModeOptions;
            if (modeEmitters instanceof Array) {
                if (modeEmitters.length > 0) {
                    emitterModeOptions = (0, Utils_1.itemFromArray)(modeEmitters);
                }
            }
            else {
                emitterModeOptions = modeEmitters;
            }
            const emittersOptions = emitterModeOptions !== null && emitterModeOptions !== void 0 ? emitterModeOptions : (emitterOptions instanceof Array ? (0, Utils_1.itemFromArray)(emitterOptions) : emitterOptions);
            const ePosition = container.interactivity.mouse.clickPosition;
            this.addEmitter((0, Utils_1.deepExtend)({}, emittersOptions), ePosition);
        }
    }
    resize() {
        for (const emitter of this.array) {
            emitter.resize();
        }
    }
    addEmitter(options, position) {
        const emitter = new EmitterInstance_1.EmitterInstance(this, this.container, options, position);
        this.array.push(emitter);
        return emitter;
    }
    removeEmitter(emitter) {
        const index = this.array.indexOf(emitter);
        if (index >= 0) {
            this.array.splice(index, 1);
        }
    }
}
exports.Emitters = Emitters;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/EmittersMain.js":
/*!*******************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/EmittersMain.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/Enums/EmitterClickMode.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/Enums/EmitterClickMode.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EmitterClickMode = void 0;
var EmitterClickMode;
(function (EmitterClickMode) {
    EmitterClickMode["emitter"] = "emitter";
})(EmitterClickMode = exports.EmitterClickMode || (exports.EmitterClickMode = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/Enums/EmitterShapeType.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/Enums/EmitterShapeType.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EmitterShapeType = void 0;
var EmitterShapeType;
(function (EmitterShapeType) {
    EmitterShapeType["circle"] = "circle";
    EmitterShapeType["square"] = "square";
})(EmitterShapeType = exports.EmitterShapeType || (exports.EmitterShapeType = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/Enums/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/Enums/index.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./EmitterClickMode */ "./node_modules/tsparticles/Plugins/Emitters/Enums/EmitterClickMode.js"), exports);
__exportStar(__webpack_require__(/*! ./EmitterShapeType */ "./node_modules/tsparticles/Plugins/Emitters/Enums/EmitterShapeType.js"), exports);


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/Options/Classes/Emitter.js":
/*!******************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/Options/Classes/Emitter.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Emitter = void 0;
const EmitterRate_1 = __webpack_require__(/*! ./EmitterRate */ "./node_modules/tsparticles/Plugins/Emitters/Options/Classes/EmitterRate.js");
const EmitterLife_1 = __webpack_require__(/*! ./EmitterLife */ "./node_modules/tsparticles/Plugins/Emitters/Options/Classes/EmitterLife.js");
const Utils_1 = __webpack_require__(/*! ../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const EmitterSize_1 = __webpack_require__(/*! ./EmitterSize */ "./node_modules/tsparticles/Plugins/Emitters/Options/Classes/EmitterSize.js");
const AnimatableColor_1 = __webpack_require__(/*! ../../../../Options/Classes/AnimatableColor */ "./node_modules/tsparticles/Options/Classes/AnimatableColor.js");
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Plugins/Emitters/Enums/index.js");
class Emitter {
    constructor() {
        this.autoPlay = true;
        this.fill = true;
        this.life = new EmitterLife_1.EmitterLife();
        this.rate = new EmitterRate_1.EmitterRate();
        this.shape = Enums_1.EmitterShapeType.square;
        this.startCount = 0;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.autoPlay !== undefined) {
            this.autoPlay = data.autoPlay;
        }
        if (data.size !== undefined) {
            if (this.size === undefined) {
                this.size = new EmitterSize_1.EmitterSize();
            }
            this.size.load(data.size);
        }
        if (data.direction !== undefined) {
            this.direction = data.direction;
        }
        if (data.fill !== undefined) {
            this.fill = data.fill;
        }
        this.life.load(data.life);
        this.name = data.name;
        if (data.particles !== undefined) {
            this.particles = (0, Utils_1.deepExtend)({}, data.particles);
        }
        this.rate.load(data.rate);
        if (data.shape !== undefined) {
            this.shape = data.shape;
        }
        if (data.position !== undefined) {
            this.position = {
                x: data.position.x,
                y: data.position.y,
            };
        }
        if (data.spawnColor !== undefined) {
            if (this.spawnColor === undefined) {
                this.spawnColor = new AnimatableColor_1.AnimatableColor();
            }
            this.spawnColor.load(data.spawnColor);
        }
        if (data.startCount !== undefined) {
            this.startCount = data.startCount;
        }
    }
}
exports.Emitter = Emitter;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/Options/Classes/EmitterLife.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/Options/Classes/EmitterLife.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EmitterLife = void 0;
class EmitterLife {
    constructor() {
        this.wait = false;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.count !== undefined) {
            this.count = data.count;
        }
        if (data.delay !== undefined) {
            this.delay = data.delay;
        }
        if (data.duration !== undefined) {
            this.duration = data.duration;
        }
        if (data.wait !== undefined) {
            this.wait = data.wait;
        }
    }
}
exports.EmitterLife = EmitterLife;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/Options/Classes/EmitterRate.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/Options/Classes/EmitterRate.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EmitterRate = void 0;
const Utils_1 = __webpack_require__(/*! ../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class EmitterRate {
    constructor() {
        this.quantity = 1;
        this.delay = 0.1;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.quantity !== undefined) {
            this.quantity = (0, Utils_1.setRangeValue)(data.quantity);
        }
        if (data.delay !== undefined) {
            this.delay = (0, Utils_1.setRangeValue)(data.delay);
        }
    }
}
exports.EmitterRate = EmitterRate;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/Options/Classes/EmitterSize.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/Options/Classes/EmitterSize.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EmitterSize = void 0;
const Enums_1 = __webpack_require__(/*! ../../../../Enums */ "./node_modules/tsparticles/Enums/index.js");
class EmitterSize {
    constructor() {
        this.mode = Enums_1.SizeMode.percent;
        this.height = 0;
        this.width = 0;
    }
    load(data) {
        if (data === undefined) {
            return;
        }
        if (data.mode !== undefined) {
            this.mode = data.mode;
        }
        if (data.height !== undefined) {
            this.height = data.height;
        }
        if (data.width !== undefined) {
            this.width = data.width;
        }
    }
}
exports.EmitterSize = EmitterSize;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/ShapeManager.js":
/*!*******************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/ShapeManager.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ShapeManager = void 0;
const shapes = new Map();
class ShapeManager {
    static addShape(name, drawer) {
        if (!ShapeManager.getShape(name)) {
            shapes.set(name, drawer);
        }
    }
    static getShape(name) {
        return shapes.get(name);
    }
    static getSupportedShapes() {
        return shapes.keys();
    }
}
exports.ShapeManager = ShapeManager;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/Shapes/Circle/CircleShape.js":
/*!********************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/Shapes/Circle/CircleShape.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CircleShape = void 0;
class CircleShape {
    randomPosition(position, offset, fill) {
        const generateTheta = (x, y) => {
            const u = Math.random() / 4.0;
            const theta = Math.atan((y / x) * Math.tan(2 * Math.PI * u));
            const v = Math.random();
            if (v < 0.25) {
                return theta;
            }
            else if (v < 0.5) {
                return Math.PI - theta;
            }
            else if (v < 0.75) {
                return Math.PI + theta;
            }
            else {
                return -theta;
            }
        };
        const radius = (x, y, theta) => (x * y) / Math.sqrt((y * Math.cos(theta)) ** 2 + (x * Math.sin(theta)) ** 2);
        const [a, b] = [offset.x / 2, offset.y / 2];
        const randomTheta = generateTheta(a, b), maxRadius = radius(a, b, randomTheta), randomRadius = fill ? maxRadius * Math.sqrt(Math.random()) : maxRadius;
        return {
            x: position.x + randomRadius * Math.cos(randomTheta),
            y: position.y + randomRadius * Math.sin(randomTheta),
        };
    }
}
exports.CircleShape = CircleShape;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/Shapes/Square/SquareShape.js":
/*!********************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/Shapes/Square/SquareShape.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SquareShape = void 0;
function randomSquareCoordinate(position, offset) {
    return position + offset * (Math.random() - 0.5);
}
class SquareShape {
    randomPosition(position, offset, fill) {
        if (fill) {
            return {
                x: randomSquareCoordinate(position.x, offset.x),
                y: randomSquareCoordinate(position.y, offset.y),
            };
        }
        else {
            const halfW = offset.x / 2, halfH = offset.y / 2, side = Math.floor(Math.random() * 4), v = (Math.random() - 0.5) * 2;
            switch (side) {
                case 0:
                    return {
                        x: position.x + v * halfW,
                        y: position.y - halfH,
                    };
                case 1:
                    return {
                        x: position.x - halfW,
                        y: position.y + v * halfH,
                    };
                case 2:
                    return {
                        x: position.x + v * halfW,
                        y: position.y + halfH,
                    };
                case 3:
                default:
                    return {
                        x: position.x + halfW,
                        y: position.y + v * halfH,
                    };
            }
        }
    }
}
exports.SquareShape = SquareShape;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/Emitters/plugin.js":
/*!*************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/Emitters/plugin.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadEmittersPlugin = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Emitters_1 = __webpack_require__(/*! ./Emitters */ "./node_modules/tsparticles/Plugins/Emitters/Emitters.js");
const Enums_1 = __webpack_require__(/*! ./Enums */ "./node_modules/tsparticles/Plugins/Emitters/Enums/index.js");
const Emitter_1 = __webpack_require__(/*! ./Options/Classes/Emitter */ "./node_modules/tsparticles/Plugins/Emitters/Options/Classes/Emitter.js");
const ShapeManager_1 = __webpack_require__(/*! ./ShapeManager */ "./node_modules/tsparticles/Plugins/Emitters/ShapeManager.js");
const CircleShape_1 = __webpack_require__(/*! ./Shapes/Circle/CircleShape */ "./node_modules/tsparticles/Plugins/Emitters/Shapes/Circle/CircleShape.js");
const SquareShape_1 = __webpack_require__(/*! ./Shapes/Square/SquareShape */ "./node_modules/tsparticles/Plugins/Emitters/Shapes/Square/SquareShape.js");
class EmittersPlugin {
    constructor() {
        this.id = "emitters";
    }
    getPlugin(container) {
        return new Emitters_1.Emitters(container);
    }
    needsPlugin(options) {
        var _a, _b, _c;
        if (options === undefined) {
            return false;
        }
        const emitters = options.emitters;
        return ((emitters instanceof Array && !!emitters.length) ||
            emitters !== undefined ||
            (!!((_c = (_b = (_a = options.interactivity) === null || _a === void 0 ? void 0 : _a.events) === null || _b === void 0 ? void 0 : _b.onClick) === null || _c === void 0 ? void 0 : _c.mode) &&
                (0, Utils_1.isInArray)(Enums_1.EmitterClickMode.emitter, options.interactivity.events.onClick.mode)));
    }
    loadOptions(options, source) {
        var _a, _b;
        if (!this.needsPlugin(options) && !this.needsPlugin(source)) {
            return;
        }
        const optionsCast = options;
        if (source === null || source === void 0 ? void 0 : source.emitters) {
            if ((source === null || source === void 0 ? void 0 : source.emitters) instanceof Array) {
                optionsCast.emitters = source === null || source === void 0 ? void 0 : source.emitters.map((s) => {
                    const tmp = new Emitter_1.Emitter();
                    tmp.load(s);
                    return tmp;
                });
            }
            else {
                let emitterOptions = optionsCast.emitters;
                if ((emitterOptions === null || emitterOptions === void 0 ? void 0 : emitterOptions.load) === undefined) {
                    optionsCast.emitters = emitterOptions = new Emitter_1.Emitter();
                }
                emitterOptions.load(source === null || source === void 0 ? void 0 : source.emitters);
            }
        }
        const interactivityEmitters = (_b = (_a = source === null || source === void 0 ? void 0 : source.interactivity) === null || _a === void 0 ? void 0 : _a.modes) === null || _b === void 0 ? void 0 : _b.emitters;
        if (interactivityEmitters) {
            if (interactivityEmitters instanceof Array) {
                optionsCast.interactivity.modes.emitters = interactivityEmitters.map((s) => {
                    const tmp = new Emitter_1.Emitter();
                    tmp.load(s);
                    return tmp;
                });
            }
            else {
                let emitterOptions = optionsCast.interactivity.modes.emitters;
                if ((emitterOptions === null || emitterOptions === void 0 ? void 0 : emitterOptions.load) === undefined) {
                    optionsCast.interactivity.modes.emitters = emitterOptions = new Emitter_1.Emitter();
                }
                emitterOptions.load(interactivityEmitters);
            }
        }
    }
}
async function loadEmittersPlugin(tsParticles) {
    const plugin = new EmittersPlugin();
    await tsParticles.addPlugin(plugin);
    if (!tsParticles.addEmitterShape) {
        tsParticles.addEmitterShape = (name, shape) => {
            ShapeManager_1.ShapeManager.addShape(name, shape);
        };
    }
    tsParticles.addEmitterShape(Enums_1.EmitterShapeType.circle, new CircleShape_1.CircleShape());
    tsParticles.addEmitterShape(Enums_1.EmitterShapeType.square, new SquareShape_1.SquareShape());
}
exports.loadEmittersPlugin = loadEmittersPlugin;
__exportStar(__webpack_require__(/*! ./EmittersMain */ "./node_modules/tsparticles/Plugins/Emitters/EmittersMain.js"), exports);


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/Enums/InlineArrangement.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/Enums/InlineArrangement.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InlineArrangement = void 0;
var InlineArrangement;
(function (InlineArrangement) {
    InlineArrangement["equidistant"] = "equidistant";
    InlineArrangement["onePerPoint"] = "one-per-point";
    InlineArrangement["perPoint"] = "per-point";
    InlineArrangement["randomLength"] = "random-length";
    InlineArrangement["randomPoint"] = "random-point";
})(InlineArrangement = exports.InlineArrangement || (exports.InlineArrangement = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/Enums/MoveType.js":
/*!************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/Enums/MoveType.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MoveType = void 0;
var MoveType;
(function (MoveType) {
    MoveType["path"] = "path";
    MoveType["radius"] = "radius";
})(MoveType = exports.MoveType || (exports.MoveType = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/Enums/Type.js":
/*!********************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/Enums/Type.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Type = void 0;
var Type;
(function (Type) {
    Type["inline"] = "inline";
    Type["inside"] = "inside";
    Type["outside"] = "outside";
    Type["none"] = "none";
})(Type = exports.Type || (exports.Type = {}));


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/Enums/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/Enums/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./InlineArrangement */ "./node_modules/tsparticles/Plugins/PolygonMask/Enums/InlineArrangement.js"), exports);
__exportStar(__webpack_require__(/*! ./MoveType */ "./node_modules/tsparticles/Plugins/PolygonMask/Enums/MoveType.js"), exports);
__exportStar(__webpack_require__(/*! ./Type */ "./node_modules/tsparticles/Plugins/PolygonMask/Enums/Type.js"), exports);


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/Draw.js":
/*!******************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/Draw.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Draw = void 0;
const DrawStroke_1 = __webpack_require__(/*! ./DrawStroke */ "./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/DrawStroke.js");
const OptionsColor_1 = __webpack_require__(/*! ../../../../Options/Classes/OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
class Draw {
    constructor() {
        this.enable = false;
        this.stroke = new DrawStroke_1.DrawStroke();
    }
    get lineWidth() {
        return this.stroke.width;
    }
    set lineWidth(value) {
        this.stroke.width = value;
    }
    get lineColor() {
        return this.stroke.color;
    }
    set lineColor(value) {
        this.stroke.color = OptionsColor_1.OptionsColor.create(this.stroke.color, value);
    }
    load(data) {
        var _a;
        if (data !== undefined) {
            if (data.enable !== undefined) {
                this.enable = data.enable;
            }
            const stroke = (_a = data.stroke) !== null && _a !== void 0 ? _a : {
                color: data.lineColor,
                width: data.lineWidth,
            };
            this.stroke.load(stroke);
        }
    }
}
exports.Draw = Draw;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/DrawStroke.js":
/*!************************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/DrawStroke.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DrawStroke = void 0;
const OptionsColor_1 = __webpack_require__(/*! ../../../../Options/Classes/OptionsColor */ "./node_modules/tsparticles/Options/Classes/OptionsColor.js");
const Utils_1 = __webpack_require__(/*! ../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class DrawStroke {
    constructor() {
        this.color = new OptionsColor_1.OptionsColor();
        this.width = 0.5;
        this.opacity = 1;
    }
    load(data) {
        var _a;
        if (data !== undefined) {
            this.color = OptionsColor_1.OptionsColor.create(this.color, data.color);
            if (typeof this.color.value === "string") {
                this.opacity = (_a = (0, Utils_1.stringToAlpha)(this.color.value)) !== null && _a !== void 0 ? _a : this.opacity;
            }
            if (data.opacity !== undefined) {
                this.opacity = data.opacity;
            }
            if (data.width !== undefined) {
                this.width = data.width;
            }
        }
    }
}
exports.DrawStroke = DrawStroke;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/Inline.js":
/*!********************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/Inline.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Inline = void 0;
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Plugins/PolygonMask/Enums/index.js");
class Inline {
    constructor() {
        this.arrangement = Enums_1.InlineArrangement.onePerPoint;
    }
    load(data) {
        if (data !== undefined) {
            if (data.arrangement !== undefined) {
                this.arrangement = data.arrangement;
            }
        }
    }
}
exports.Inline = Inline;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/LocalSvg.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/LocalSvg.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LocalSvg = void 0;
class LocalSvg {
    constructor() {
        this.path = [];
        this.size = {
            height: 0,
            width: 0,
        };
    }
    load(data) {
        if (data !== undefined) {
            if (data.path !== undefined) {
                this.path = data.path;
            }
            if (data.size !== undefined) {
                if (data.size.width !== undefined) {
                    this.size.width = data.size.width;
                }
                if (data.size.height !== undefined) {
                    this.size.height = data.size.height;
                }
            }
        }
    }
}
exports.LocalSvg = LocalSvg;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/Move.js":
/*!******************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/Move.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Move = void 0;
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Plugins/PolygonMask/Enums/index.js");
class Move {
    constructor() {
        this.radius = 10;
        this.type = Enums_1.MoveType.path;
    }
    load(data) {
        if (data !== undefined) {
            if (data.radius !== undefined) {
                this.radius = data.radius;
            }
            if (data.type !== undefined) {
                this.type = data.type;
            }
        }
    }
}
exports.Move = Move;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/PolygonMask.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/PolygonMask.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PolygonMask = void 0;
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Plugins/PolygonMask/Enums/index.js");
const Draw_1 = __webpack_require__(/*! ./Draw */ "./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/Draw.js");
const Move_1 = __webpack_require__(/*! ./Move */ "./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/Move.js");
const Inline_1 = __webpack_require__(/*! ./Inline */ "./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/Inline.js");
const LocalSvg_1 = __webpack_require__(/*! ./LocalSvg */ "./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/LocalSvg.js");
const Utils_1 = __webpack_require__(/*! ../../../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class PolygonMask {
    constructor() {
        this.draw = new Draw_1.Draw();
        this.enable = false;
        this.inline = new Inline_1.Inline();
        this.move = new Move_1.Move();
        this.scale = 1;
        this.type = Enums_1.Type.none;
    }
    get inlineArrangement() {
        return this.inline.arrangement;
    }
    set inlineArrangement(value) {
        this.inline.arrangement = value;
    }
    load(data) {
        var _a;
        if (data !== undefined) {
            this.draw.load(data.draw);
            const inline = (_a = data.inline) !== null && _a !== void 0 ? _a : {
                arrangement: data.inlineArrangement,
            };
            if (inline !== undefined) {
                this.inline.load(inline);
            }
            this.move.load(data.move);
            if (data.scale !== undefined) {
                this.scale = data.scale;
            }
            if (data.type !== undefined) {
                this.type = data.type;
            }
            if (data.enable !== undefined) {
                this.enable = data.enable;
            }
            else {
                this.enable = this.type !== Enums_1.Type.none;
            }
            if (data.url !== undefined) {
                this.url = data.url;
            }
            if (data.data !== undefined) {
                if (typeof data.data === "string") {
                    this.data = data.data;
                }
                else {
                    this.data = new LocalSvg_1.LocalSvg();
                    this.data.load(data.data);
                }
            }
            if (data.position !== undefined) {
                this.position = (0, Utils_1.deepExtend)({}, data.position);
            }
        }
    }
}
exports.PolygonMask = PolygonMask;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/PolygonMaskInstance.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/PolygonMaskInstance.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PolygonMaskInstance = void 0;
const Enums_1 = __webpack_require__(/*! ./Enums */ "./node_modules/tsparticles/Plugins/PolygonMask/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const PolygonMask_1 = __webpack_require__(/*! ./Options/Classes/PolygonMask */ "./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/PolygonMask.js");
const Enums_2 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const utils_1 = __webpack_require__(/*! ./utils */ "./node_modules/tsparticles/Plugins/PolygonMask/utils.js");
class PolygonMaskInstance {
    constructor(container) {
        this.container = container;
        this.dimension = {
            height: 0,
            width: 0,
        };
        this.path2DSupported = !!window.Path2D;
        this.options = new PolygonMask_1.PolygonMask();
        this.polygonMaskMoveRadius = this.options.move.radius * container.retina.pixelRatio;
    }
    async initAsync(options) {
        this.options.load(options === null || options === void 0 ? void 0 : options.polygon);
        const polygonMaskOptions = this.options;
        this.polygonMaskMoveRadius = polygonMaskOptions.move.radius * this.container.retina.pixelRatio;
        if (polygonMaskOptions.enable) {
            await this.initRawData();
        }
    }
    resize() {
        const container = this.container;
        const options = this.options;
        if (!(options.enable && options.type !== Enums_1.Type.none)) {
            return;
        }
        if (this.redrawTimeout) {
            clearTimeout(this.redrawTimeout);
        }
        this.redrawTimeout = window.setTimeout(async () => {
            await this.initRawData(true);
            container.particles.redraw();
        }, 250);
    }
    stop() {
        delete this.raw;
        delete this.paths;
    }
    particlesInitialization() {
        const options = this.options;
        if (options.enable &&
            options.type === Enums_1.Type.inline &&
            (options.inline.arrangement === Enums_1.InlineArrangement.onePerPoint ||
                options.inline.arrangement === Enums_1.InlineArrangement.perPoint)) {
            this.drawPoints();
            return true;
        }
        return false;
    }
    particlePosition(position) {
        var _a, _b;
        const options = this.options;
        if (!(options.enable && ((_b = (_a = this.raw) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) > 0)) {
            return;
        }
        return (0, Utils_1.deepExtend)({}, position ? position : this.randomPoint());
    }
    particleBounce(particle, delta, direction) {
        return this.polygonBounce(particle, delta, direction);
    }
    clickPositionValid(position) {
        const options = this.options;
        return (options.enable &&
            options.type !== Enums_1.Type.none &&
            options.type !== Enums_1.Type.inline &&
            this.checkInsidePolygon(position));
    }
    draw(context) {
        var _a;
        if (!((_a = this.paths) === null || _a === void 0 ? void 0 : _a.length)) {
            return;
        }
        const options = this.options;
        const polygonDraw = options.draw;
        if (!(options.enable && polygonDraw.enable)) {
            return;
        }
        const rawData = this.raw;
        for (const path of this.paths) {
            const path2d = path.path2d;
            const path2dSupported = this.path2DSupported;
            if (!context) {
                continue;
            }
            if (path2dSupported && path2d && this.offset) {
                (0, utils_1.drawPolygonMaskPath)(context, path2d, polygonDraw.stroke, this.offset);
            }
            else if (rawData) {
                (0, utils_1.drawPolygonMask)(context, rawData, polygonDraw.stroke);
            }
        }
    }
    polygonBounce(particle, _delta, direction) {
        const options = this.options;
        if (!this.raw || !options.enable || direction !== Enums_2.OutModeDirection.top) {
            return false;
        }
        if (options.type === Enums_1.Type.inside || options.type === Enums_1.Type.outside) {
            let closest, dx, dy;
            const pos = particle.getPosition(), radius = particle.getRadius();
            for (let i = 0, j = this.raw.length - 1; i < this.raw.length; j = i++) {
                const pi = this.raw[i], pj = this.raw[j];
                closest = (0, utils_1.calcClosestPtOnSegment)(pi, pj, pos);
                const dist = (0, Utils_1.getDistances)(pos, closest);
                [dx, dy] = [dist.dx, dist.dy];
                if (dist.distance < radius) {
                    (0, utils_1.segmentBounce)(pi, pj, particle.velocity);
                    return true;
                }
            }
            if (closest && dx !== undefined && dy !== undefined && !this.checkInsidePolygon(pos)) {
                const factor = { x: 1, y: 1 };
                if (particle.position.x >= closest.x) {
                    factor.x = -1;
                }
                if (particle.position.y >= closest.y) {
                    factor.y = -1;
                }
                particle.position.x = closest.x + radius * 2 * factor.x;
                particle.position.y = closest.y + radius * 2 * factor.y;
                particle.velocity.mult(-1);
                return true;
            }
        }
        else if (options.type === Enums_1.Type.inline && particle.initialPosition) {
            const dist = (0, Utils_1.getDistance)(particle.initialPosition, particle.getPosition());
            if (dist > this.polygonMaskMoveRadius) {
                particle.velocity.x = particle.velocity.y / 2 - particle.velocity.x;
                particle.velocity.y = particle.velocity.x / 2 - particle.velocity.y;
                return true;
            }
        }
        return false;
    }
    checkInsidePolygon(position) {
        var _a, _b;
        const container = this.container;
        const options = this.options;
        if (!options.enable || options.type === Enums_1.Type.none || options.type === Enums_1.Type.inline) {
            return true;
        }
        if (!this.raw) {
            throw new Error(Utils_1.Constants.noPolygonFound);
        }
        const canvasSize = container.canvas.size;
        const x = (_a = position === null || position === void 0 ? void 0 : position.x) !== null && _a !== void 0 ? _a : Math.random() * canvasSize.width;
        const y = (_b = position === null || position === void 0 ? void 0 : position.y) !== null && _b !== void 0 ? _b : Math.random() * canvasSize.height;
        let inside = false;
        for (let i = 0, j = this.raw.length - 1; i < this.raw.length; j = i++) {
            const pi = this.raw[i];
            const pj = this.raw[j];
            const intersect = pi.y > y !== pj.y > y && x < ((pj.x - pi.x) * (y - pi.y)) / (pj.y - pi.y) + pi.x;
            if (intersect) {
                inside = !inside;
            }
        }
        return options.type === Enums_1.Type.inside ? inside : options.type === Enums_1.Type.outside ? !inside : false;
    }
    parseSvgPath(xml, force) {
        var _a, _b, _c;
        const forceDownload = force !== null && force !== void 0 ? force : false;
        if (this.paths !== undefined && !forceDownload) {
            return this.raw;
        }
        const container = this.container;
        const options = this.options;
        const parser = new DOMParser();
        const doc = parser.parseFromString(xml, "image/svg+xml");
        const svg = doc.getElementsByTagName("svg")[0];
        let svgPaths = svg.getElementsByTagName("path");
        if (!svgPaths.length) {
            svgPaths = doc.getElementsByTagName("path");
        }
        this.paths = [];
        for (let i = 0; i < svgPaths.length; i++) {
            const path = svgPaths.item(i);
            if (path) {
                this.paths.push({
                    element: path,
                    length: path.getTotalLength(),
                });
            }
        }
        const pxRatio = container.retina.pixelRatio;
        const scale = options.scale / pxRatio;
        this.dimension.width = parseFloat((_a = svg.getAttribute("width")) !== null && _a !== void 0 ? _a : "0") * scale;
        this.dimension.height = parseFloat((_b = svg.getAttribute("height")) !== null && _b !== void 0 ? _b : "0") * scale;
        const position = (_c = options.position) !== null && _c !== void 0 ? _c : {
            x: 50,
            y: 50,
        };
        this.offset = {
            x: (container.canvas.size.width * position.x) / (100 * pxRatio) - this.dimension.width / 2,
            y: (container.canvas.size.height * position.y) / (100 * pxRatio) - this.dimension.height / 2,
        };
        return (0, utils_1.parsePaths)(this.paths, scale, this.offset);
    }
    async downloadSvgPath(svgUrl, force) {
        const options = this.options;
        const url = svgUrl || options.url;
        const forceDownload = force !== null && force !== void 0 ? force : false;
        if (!url || (this.paths !== undefined && !forceDownload)) {
            return this.raw;
        }
        const req = await fetch(url);
        if (!req.ok) {
            throw new Error("tsParticles Error - Error occurred during polygon mask download");
        }
        return this.parseSvgPath(await req.text(), force);
    }
    drawPoints() {
        if (!this.raw) {
            return;
        }
        for (const item of this.raw) {
            this.container.particles.addParticle({
                x: item.x,
                y: item.y,
            });
        }
    }
    randomPoint() {
        const container = this.container;
        const options = this.options;
        let position;
        if (options.type === Enums_1.Type.inline) {
            switch (options.inline.arrangement) {
                case Enums_1.InlineArrangement.randomPoint:
                    position = this.getRandomPoint();
                    break;
                case Enums_1.InlineArrangement.randomLength:
                    position = this.getRandomPointByLength();
                    break;
                case Enums_1.InlineArrangement.equidistant:
                    position = this.getEquidistantPointByIndex(container.particles.count);
                    break;
                case Enums_1.InlineArrangement.onePerPoint:
                case Enums_1.InlineArrangement.perPoint:
                default:
                    position = this.getPointByIndex(container.particles.count);
            }
        }
        else {
            position = {
                x: Math.random() * container.canvas.size.width,
                y: Math.random() * container.canvas.size.height,
            };
        }
        if (this.checkInsidePolygon(position)) {
            return position;
        }
        else {
            return this.randomPoint();
        }
    }
    getRandomPoint() {
        if (!this.raw || !this.raw.length) {
            throw new Error(Utils_1.Constants.noPolygonDataLoaded);
        }
        const coords = (0, Utils_1.itemFromArray)(this.raw);
        return {
            x: coords.x,
            y: coords.y,
        };
    }
    getRandomPointByLength() {
        var _a, _b, _c;
        const options = this.options;
        if (!this.raw || !this.raw.length || !((_a = this.paths) === null || _a === void 0 ? void 0 : _a.length)) {
            throw new Error(Utils_1.Constants.noPolygonDataLoaded);
        }
        const path = (0, Utils_1.itemFromArray)(this.paths);
        const distance = Math.floor(Math.random() * path.length) + 1;
        const point = path.element.getPointAtLength(distance);
        return {
            x: point.x * options.scale + (((_b = this.offset) === null || _b === void 0 ? void 0 : _b.x) || 0),
            y: point.y * options.scale + (((_c = this.offset) === null || _c === void 0 ? void 0 : _c.y) || 0),
        };
    }
    getEquidistantPointByIndex(index) {
        var _a, _b, _c, _d, _e, _f, _g;
        const options = this.container.actualOptions;
        const polygonMaskOptions = this.options;
        if (!this.raw || !this.raw.length || !((_a = this.paths) === null || _a === void 0 ? void 0 : _a.length))
            throw new Error(Utils_1.Constants.noPolygonDataLoaded);
        let offset = 0;
        let point;
        const totalLength = this.paths.reduce((tot, path) => tot + path.length, 0);
        const distance = totalLength / options.particles.number.value;
        for (const path of this.paths) {
            const pathDistance = distance * index - offset;
            if (pathDistance <= path.length) {
                point = path.element.getPointAtLength(pathDistance);
                break;
            }
            else {
                offset += path.length;
            }
        }
        return {
            x: ((_b = point === null || point === void 0 ? void 0 : point.x) !== null && _b !== void 0 ? _b : 0) * polygonMaskOptions.scale + ((_d = (_c = this.offset) === null || _c === void 0 ? void 0 : _c.x) !== null && _d !== void 0 ? _d : 0),
            y: ((_e = point === null || point === void 0 ? void 0 : point.y) !== null && _e !== void 0 ? _e : 0) * polygonMaskOptions.scale + ((_g = (_f = this.offset) === null || _f === void 0 ? void 0 : _f.y) !== null && _g !== void 0 ? _g : 0),
        };
    }
    getPointByIndex(index) {
        if (!this.raw || !this.raw.length) {
            throw new Error(Utils_1.Constants.noPolygonDataLoaded);
        }
        const coords = this.raw[index % this.raw.length];
        return {
            x: coords.x,
            y: coords.y,
        };
    }
    createPath2D() {
        var _a, _b;
        const options = this.options;
        if (!this.path2DSupported || !((_a = this.paths) === null || _a === void 0 ? void 0 : _a.length)) {
            return;
        }
        for (const path of this.paths) {
            const pathData = (_b = path.element) === null || _b === void 0 ? void 0 : _b.getAttribute("d");
            if (pathData) {
                const path2d = new Path2D(pathData);
                const matrix = document.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGMatrix();
                const finalPath = new Path2D();
                const transform = matrix.scale(options.scale);
                if (finalPath.addPath) {
                    finalPath.addPath(path2d, transform);
                    path.path2d = finalPath;
                }
                else {
                    delete path.path2d;
                }
            }
            else {
                delete path.path2d;
            }
            if (path.path2d || !this.raw) {
                continue;
            }
            path.path2d = new Path2D();
            path.path2d.moveTo(this.raw[0].x, this.raw[0].y);
            this.raw.forEach((pos, i) => {
                var _a;
                if (i > 0) {
                    (_a = path.path2d) === null || _a === void 0 ? void 0 : _a.lineTo(pos.x, pos.y);
                }
            });
            path.path2d.closePath();
        }
    }
    async initRawData(force) {
        const options = this.options;
        if (options.url) {
            this.raw = await this.downloadSvgPath(options.url, force);
        }
        else if (options.data) {
            const data = options.data;
            let svg;
            if (typeof data !== "string") {
                const path = data.path instanceof Array
                    ? data.path.map((t) => `<path d="${t}" />`).join("")
                    : `<path d="${data.path}" />`;
                const namespaces = 'xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"';
                svg = `<svg ${namespaces} width="${data.size.width}" height="${data.size.height}">${path}</svg>`;
            }
            else {
                svg = data;
            }
            this.raw = this.parseSvgPath(svg, force);
        }
        this.createPath2D();
    }
}
exports.PolygonMaskInstance = PolygonMaskInstance;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/pathseg.js":
/*!*****************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/pathseg.js ***!
  \*****************************************************************/
/***/ (() => {


(function () {
    "use strict";
    try {
        if (typeof window === "undefined")
            return;
        if (!("SVGPathSeg" in window)) {
            window.SVGPathSeg = function (type, typeAsLetter, owningPathSegList) {
                this.pathSegType = type;
                this.pathSegTypeAsLetter = typeAsLetter;
                this._owningPathSegList = owningPathSegList;
            };
            window.SVGPathSeg.prototype.classname = "SVGPathSeg";
            window.SVGPathSeg.PATHSEG_UNKNOWN = 0;
            window.SVGPathSeg.PATHSEG_CLOSEPATH = 1;
            window.SVGPathSeg.PATHSEG_MOVETO_ABS = 2;
            window.SVGPathSeg.PATHSEG_MOVETO_REL = 3;
            window.SVGPathSeg.PATHSEG_LINETO_ABS = 4;
            window.SVGPathSeg.PATHSEG_LINETO_REL = 5;
            window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6;
            window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7;
            window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8;
            window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9;
            window.SVGPathSeg.PATHSEG_ARC_ABS = 10;
            window.SVGPathSeg.PATHSEG_ARC_REL = 11;
            window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12;
            window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13;
            window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14;
            window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15;
            window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16;
            window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17;
            window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18;
            window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19;
            window.SVGPathSeg.prototype._segmentChanged = function () {
                if (this._owningPathSegList)
                    this._owningPathSegList.segmentChanged(this);
            };
            window.SVGPathSegClosePath = function (owningPathSegList) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CLOSEPATH, "z", owningPathSegList);
            };
            window.SVGPathSegClosePath.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegClosePath.prototype.toString = function () {
                return "[object SVGPathSegClosePath]";
            };
            window.SVGPathSegClosePath.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter;
            };
            window.SVGPathSegClosePath.prototype.clone = function () {
                return new window.SVGPathSegClosePath(undefined);
            };
            window.SVGPathSegMovetoAbs = function (owningPathSegList, x, y) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_ABS, "M", owningPathSegList);
                this._x = x;
                this._y = y;
            };
            window.SVGPathSegMovetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegMovetoAbs.prototype.toString = function () {
                return "[object SVGPathSegMovetoAbs]";
            };
            window.SVGPathSegMovetoAbs.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
            };
            window.SVGPathSegMovetoAbs.prototype.clone = function () {
                return new window.SVGPathSegMovetoAbs(undefined, this._x, this._y);
            };
            Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegMovetoRel = function (owningPathSegList, x, y) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_REL, "m", owningPathSegList);
                this._x = x;
                this._y = y;
            };
            window.SVGPathSegMovetoRel.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegMovetoRel.prototype.toString = function () {
                return "[object SVGPathSegMovetoRel]";
            };
            window.SVGPathSegMovetoRel.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
            };
            window.SVGPathSegMovetoRel.prototype.clone = function () {
                return new window.SVGPathSegMovetoRel(undefined, this._x, this._y);
            };
            Object.defineProperty(window.SVGPathSegMovetoRel.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegMovetoRel.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegLinetoAbs = function (owningPathSegList, x, y) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_ABS, "L", owningPathSegList);
                this._x = x;
                this._y = y;
            };
            window.SVGPathSegLinetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegLinetoAbs.prototype.toString = function () {
                return "[object SVGPathSegLinetoAbs]";
            };
            window.SVGPathSegLinetoAbs.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
            };
            window.SVGPathSegLinetoAbs.prototype.clone = function () {
                return new window.SVGPathSegLinetoAbs(undefined, this._x, this._y);
            };
            Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegLinetoRel = function (owningPathSegList, x, y) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_REL, "l", owningPathSegList);
                this._x = x;
                this._y = y;
            };
            window.SVGPathSegLinetoRel.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegLinetoRel.prototype.toString = function () {
                return "[object SVGPathSegLinetoRel]";
            };
            window.SVGPathSegLinetoRel.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
            };
            window.SVGPathSegLinetoRel.prototype.clone = function () {
                return new window.SVGPathSegLinetoRel(undefined, this._x, this._y);
            };
            Object.defineProperty(window.SVGPathSegLinetoRel.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegLinetoRel.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegCurvetoCubicAbs = function (owningPathSegList, x, y, x1, y1, x2, y2) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS, "C", owningPathSegList);
                this._x = x;
                this._y = y;
                this._x1 = x1;
                this._y1 = y1;
                this._x2 = x2;
                this._y2 = y2;
            };
            window.SVGPathSegCurvetoCubicAbs.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegCurvetoCubicAbs.prototype.toString = function () {
                return "[object SVGPathSegCurvetoCubicAbs]";
            };
            window.SVGPathSegCurvetoCubicAbs.prototype._asPathString = function () {
                return (this.pathSegTypeAsLetter +
                    " " +
                    this._x1 +
                    " " +
                    this._y1 +
                    " " +
                    this._x2 +
                    " " +
                    this._y2 +
                    " " +
                    this._x +
                    " " +
                    this._y);
            };
            window.SVGPathSegCurvetoCubicAbs.prototype.clone = function () {
                return new window.SVGPathSegCurvetoCubicAbs(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2);
            };
            Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, "x1", {
                get: function () {
                    return this._x1;
                },
                set: function (x1) {
                    this._x1 = x1;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, "y1", {
                get: function () {
                    return this._y1;
                },
                set: function (y1) {
                    this._y1 = y1;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, "x2", {
                get: function () {
                    return this._x2;
                },
                set: function (x2) {
                    this._x2 = x2;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, "y2", {
                get: function () {
                    return this._y2;
                },
                set: function (y2) {
                    this._y2 = y2;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegCurvetoCubicRel = function (owningPathSegList, x, y, x1, y1, x2, y2) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL, "c", owningPathSegList);
                this._x = x;
                this._y = y;
                this._x1 = x1;
                this._y1 = y1;
                this._x2 = x2;
                this._y2 = y2;
            };
            window.SVGPathSegCurvetoCubicRel.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegCurvetoCubicRel.prototype.toString = function () {
                return "[object SVGPathSegCurvetoCubicRel]";
            };
            window.SVGPathSegCurvetoCubicRel.prototype._asPathString = function () {
                return (this.pathSegTypeAsLetter +
                    " " +
                    this._x1 +
                    " " +
                    this._y1 +
                    " " +
                    this._x2 +
                    " " +
                    this._y2 +
                    " " +
                    this._x +
                    " " +
                    this._y);
            };
            window.SVGPathSegCurvetoCubicRel.prototype.clone = function () {
                return new window.SVGPathSegCurvetoCubicRel(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2);
            };
            Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, "x1", {
                get: function () {
                    return this._x1;
                },
                set: function (x1) {
                    this._x1 = x1;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, "y1", {
                get: function () {
                    return this._y1;
                },
                set: function (y1) {
                    this._y1 = y1;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, "x2", {
                get: function () {
                    return this._x2;
                },
                set: function (x2) {
                    this._x2 = x2;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, "y2", {
                get: function () {
                    return this._y2;
                },
                set: function (y2) {
                    this._y2 = y2;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegCurvetoQuadraticAbs = function (owningPathSegList, x, y, x1, y1) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS, "Q", owningPathSegList);
                this._x = x;
                this._y = y;
                this._x1 = x1;
                this._y1 = y1;
            };
            window.SVGPathSegCurvetoQuadraticAbs.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegCurvetoQuadraticAbs.prototype.toString = function () {
                return "[object SVGPathSegCurvetoQuadraticAbs]";
            };
            window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x + " " + this._y;
            };
            window.SVGPathSegCurvetoQuadraticAbs.prototype.clone = function () {
                return new window.SVGPathSegCurvetoQuadraticAbs(undefined, this._x, this._y, this._x1, this._y1);
            };
            Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, "x1", {
                get: function () {
                    return this._x1;
                },
                set: function (x1) {
                    this._x1 = x1;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, "y1", {
                get: function () {
                    return this._y1;
                },
                set: function (y1) {
                    this._y1 = y1;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegCurvetoQuadraticRel = function (owningPathSegList, x, y, x1, y1) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL, "q", owningPathSegList);
                this._x = x;
                this._y = y;
                this._x1 = x1;
                this._y1 = y1;
            };
            window.SVGPathSegCurvetoQuadraticRel.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegCurvetoQuadraticRel.prototype.toString = function () {
                return "[object SVGPathSegCurvetoQuadraticRel]";
            };
            window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x + " " + this._y;
            };
            window.SVGPathSegCurvetoQuadraticRel.prototype.clone = function () {
                return new window.SVGPathSegCurvetoQuadraticRel(undefined, this._x, this._y, this._x1, this._y1);
            };
            Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, "x1", {
                get: function () {
                    return this._x1;
                },
                set: function (x1) {
                    this._x1 = x1;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, "y1", {
                get: function () {
                    return this._y1;
                },
                set: function (y1) {
                    this._y1 = y1;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegArcAbs = function (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_ABS, "A", owningPathSegList);
                this._x = x;
                this._y = y;
                this._r1 = r1;
                this._r2 = r2;
                this._angle = angle;
                this._largeArcFlag = largeArcFlag;
                this._sweepFlag = sweepFlag;
            };
            window.SVGPathSegArcAbs.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegArcAbs.prototype.toString = function () {
                return "[object SVGPathSegArcAbs]";
            };
            window.SVGPathSegArcAbs.prototype._asPathString = function () {
                return (this.pathSegTypeAsLetter +
                    " " +
                    this._r1 +
                    " " +
                    this._r2 +
                    " " +
                    this._angle +
                    " " +
                    (this._largeArcFlag ? "1" : "0") +
                    " " +
                    (this._sweepFlag ? "1" : "0") +
                    " " +
                    this._x +
                    " " +
                    this._y);
            };
            window.SVGPathSegArcAbs.prototype.clone = function () {
                return new window.SVGPathSegArcAbs(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);
            };
            Object.defineProperty(window.SVGPathSegArcAbs.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegArcAbs.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegArcAbs.prototype, "r1", {
                get: function () {
                    return this._r1;
                },
                set: function (r1) {
                    this._r1 = r1;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegArcAbs.prototype, "r2", {
                get: function () {
                    return this._r2;
                },
                set: function (r2) {
                    this._r2 = r2;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegArcAbs.prototype, "angle", {
                get: function () {
                    return this._angle;
                },
                set: function (angle) {
                    this._angle = angle;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegArcAbs.prototype, "largeArcFlag", {
                get: function () {
                    return this._largeArcFlag;
                },
                set: function (largeArcFlag) {
                    this._largeArcFlag = largeArcFlag;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegArcAbs.prototype, "sweepFlag", {
                get: function () {
                    return this._sweepFlag;
                },
                set: function (sweepFlag) {
                    this._sweepFlag = sweepFlag;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegArcRel = function (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_REL, "a", owningPathSegList);
                this._x = x;
                this._y = y;
                this._r1 = r1;
                this._r2 = r2;
                this._angle = angle;
                this._largeArcFlag = largeArcFlag;
                this._sweepFlag = sweepFlag;
            };
            window.SVGPathSegArcRel.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegArcRel.prototype.toString = function () {
                return "[object SVGPathSegArcRel]";
            };
            window.SVGPathSegArcRel.prototype._asPathString = function () {
                return (this.pathSegTypeAsLetter +
                    " " +
                    this._r1 +
                    " " +
                    this._r2 +
                    " " +
                    this._angle +
                    " " +
                    (this._largeArcFlag ? "1" : "0") +
                    " " +
                    (this._sweepFlag ? "1" : "0") +
                    " " +
                    this._x +
                    " " +
                    this._y);
            };
            window.SVGPathSegArcRel.prototype.clone = function () {
                return new window.SVGPathSegArcRel(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);
            };
            Object.defineProperty(window.SVGPathSegArcRel.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegArcRel.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegArcRel.prototype, "r1", {
                get: function () {
                    return this._r1;
                },
                set: function (r1) {
                    this._r1 = r1;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegArcRel.prototype, "r2", {
                get: function () {
                    return this._r2;
                },
                set: function (r2) {
                    this._r2 = r2;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegArcRel.prototype, "angle", {
                get: function () {
                    return this._angle;
                },
                set: function (angle) {
                    this._angle = angle;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegArcRel.prototype, "largeArcFlag", {
                get: function () {
                    return this._largeArcFlag;
                },
                set: function (largeArcFlag) {
                    this._largeArcFlag = largeArcFlag;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegArcRel.prototype, "sweepFlag", {
                get: function () {
                    return this._sweepFlag;
                },
                set: function (sweepFlag) {
                    this._sweepFlag = sweepFlag;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegLinetoHorizontalAbs = function (owningPathSegList, x) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS, "H", owningPathSegList);
                this._x = x;
            };
            window.SVGPathSegLinetoHorizontalAbs.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegLinetoHorizontalAbs.prototype.toString = function () {
                return "[object SVGPathSegLinetoHorizontalAbs]";
            };
            window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._x;
            };
            window.SVGPathSegLinetoHorizontalAbs.prototype.clone = function () {
                return new window.SVGPathSegLinetoHorizontalAbs(undefined, this._x);
            };
            Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegLinetoHorizontalRel = function (owningPathSegList, x) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL, "h", owningPathSegList);
                this._x = x;
            };
            window.SVGPathSegLinetoHorizontalRel.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegLinetoHorizontalRel.prototype.toString = function () {
                return "[object SVGPathSegLinetoHorizontalRel]";
            };
            window.SVGPathSegLinetoHorizontalRel.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._x;
            };
            window.SVGPathSegLinetoHorizontalRel.prototype.clone = function () {
                return new window.SVGPathSegLinetoHorizontalRel(undefined, this._x);
            };
            Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegLinetoVerticalAbs = function (owningPathSegList, y) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS, "V", owningPathSegList);
                this._y = y;
            };
            window.SVGPathSegLinetoVerticalAbs.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegLinetoVerticalAbs.prototype.toString = function () {
                return "[object SVGPathSegLinetoVerticalAbs]";
            };
            window.SVGPathSegLinetoVerticalAbs.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._y;
            };
            window.SVGPathSegLinetoVerticalAbs.prototype.clone = function () {
                return new window.SVGPathSegLinetoVerticalAbs(undefined, this._y);
            };
            Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegLinetoVerticalRel = function (owningPathSegList, y) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL, "v", owningPathSegList);
                this._y = y;
            };
            window.SVGPathSegLinetoVerticalRel.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegLinetoVerticalRel.prototype.toString = function () {
                return "[object SVGPathSegLinetoVerticalRel]";
            };
            window.SVGPathSegLinetoVerticalRel.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._y;
            };
            window.SVGPathSegLinetoVerticalRel.prototype.clone = function () {
                return new window.SVGPathSegLinetoVerticalRel(undefined, this._y);
            };
            Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegCurvetoCubicSmoothAbs = function (owningPathSegList, x, y, x2, y2) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS, "S", owningPathSegList);
                this._x = x;
                this._y = y;
                this._x2 = x2;
                this._y2 = y2;
            };
            window.SVGPathSegCurvetoCubicSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString = function () {
                return "[object SVGPathSegCurvetoCubicSmoothAbs]";
            };
            window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y;
            };
            window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone = function () {
                return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, this._x, this._y, this._x2, this._y2);
            };
            Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, "x2", {
                get: function () {
                    return this._x2;
                },
                set: function (x2) {
                    this._x2 = x2;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, "y2", {
                get: function () {
                    return this._y2;
                },
                set: function (y2) {
                    this._y2 = y2;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegCurvetoCubicSmoothRel = function (owningPathSegList, x, y, x2, y2) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL, "s", owningPathSegList);
                this._x = x;
                this._y = y;
                this._x2 = x2;
                this._y2 = y2;
            };
            window.SVGPathSegCurvetoCubicSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString = function () {
                return "[object SVGPathSegCurvetoCubicSmoothRel]";
            };
            window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y;
            };
            window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone = function () {
                return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, this._x, this._y, this._x2, this._y2);
            };
            Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, "x2", {
                get: function () {
                    return this._x2;
                },
                set: function (x2) {
                    this._x2 = x2;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, "y2", {
                get: function () {
                    return this._y2;
                },
                set: function (y2) {
                    this._y2 = y2;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegCurvetoQuadraticSmoothAbs = function (owningPathSegList, x, y) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS, "T", owningPathSegList);
                this._x = x;
                this._y = y;
            };
            window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString = function () {
                return "[object SVGPathSegCurvetoQuadraticSmoothAbs]";
            };
            window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
            };
            window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone = function () {
                return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, this._x, this._y);
            };
            Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathSegCurvetoQuadraticSmoothRel = function (owningPathSegList, x, y) {
                window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL, "t", owningPathSegList);
                this._x = x;
                this._y = y;
            };
            window.SVGPathSegCurvetoQuadraticSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);
            window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString = function () {
                return "[object SVGPathSegCurvetoQuadraticSmoothRel]";
            };
            window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString = function () {
                return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
            };
            window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone = function () {
                return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, this._x, this._y);
            };
            Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, "x", {
                get: function () {
                    return this._x;
                },
                set: function (x) {
                    this._x = x;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, "y", {
                get: function () {
                    return this._y;
                },
                set: function (y) {
                    this._y = y;
                    this._segmentChanged();
                },
                enumerable: true,
            });
            window.SVGPathElement.prototype.createSVGPathSegClosePath = function () {
                return new window.SVGPathSegClosePath(undefined);
            };
            window.SVGPathElement.prototype.createSVGPathSegMovetoAbs = function (x, y) {
                return new window.SVGPathSegMovetoAbs(undefined, x, y);
            };
            window.SVGPathElement.prototype.createSVGPathSegMovetoRel = function (x, y) {
                return new window.SVGPathSegMovetoRel(undefined, x, y);
            };
            window.SVGPathElement.prototype.createSVGPathSegLinetoAbs = function (x, y) {
                return new window.SVGPathSegLinetoAbs(undefined, x, y);
            };
            window.SVGPathElement.prototype.createSVGPathSegLinetoRel = function (x, y) {
                return new window.SVGPathSegLinetoRel(undefined, x, y);
            };
            window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function (x, y, x1, y1, x2, y2) {
                return new window.SVGPathSegCurvetoCubicAbs(undefined, x, y, x1, y1, x2, y2);
            };
            window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function (x, y, x1, y1, x2, y2) {
                return new window.SVGPathSegCurvetoCubicRel(undefined, x, y, x1, y1, x2, y2);
            };
            window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function (x, y, x1, y1) {
                return new window.SVGPathSegCurvetoQuadraticAbs(undefined, x, y, x1, y1);
            };
            window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function (x, y, x1, y1) {
                return new window.SVGPathSegCurvetoQuadraticRel(undefined, x, y, x1, y1);
            };
            window.SVGPathElement.prototype.createSVGPathSegArcAbs = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) {
                return new window.SVGPathSegArcAbs(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag);
            };
            window.SVGPathElement.prototype.createSVGPathSegArcRel = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) {
                return new window.SVGPathSegArcRel(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag);
            };
            window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function (x) {
                return new window.SVGPathSegLinetoHorizontalAbs(undefined, x);
            };
            window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function (x) {
                return new window.SVGPathSegLinetoHorizontalRel(undefined, x);
            };
            window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function (y) {
                return new window.SVGPathSegLinetoVerticalAbs(undefined, y);
            };
            window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function (y) {
                return new window.SVGPathSegLinetoVerticalRel(undefined, y);
            };
            window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function (x, y, x2, y2) {
                return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, x, y, x2, y2);
            };
            window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function (x, y, x2, y2) {
                return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, x, y, x2, y2);
            };
            window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function (x, y) {
                return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, x, y);
            };
            window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function (x, y) {
                return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, x, y);
            };
            if (!("getPathSegAtLength" in window.SVGPathElement.prototype)) {
                window.SVGPathElement.prototype.getPathSegAtLength = function (distance) {
                    if (distance === undefined || !isFinite(distance))
                        throw "Invalid arguments.";
                    var measurementElement = document.createElementNS("http://www.w3.org/2000/svg", "path");
                    measurementElement.setAttribute("d", this.getAttribute("d"));
                    var lastPathSegment = measurementElement.pathSegList.numberOfItems - 1;
                    if (lastPathSegment <= 0)
                        return 0;
                    do {
                        measurementElement.pathSegList.removeItem(lastPathSegment);
                        if (distance > measurementElement.getTotalLength())
                            break;
                        lastPathSegment--;
                    } while (lastPathSegment > 0);
                    return lastPathSegment;
                };
            }
        }
        if (!("SVGPathSegList" in window) || !("appendItem" in window.SVGPathSegList.prototype)) {
            window.SVGPathSegList = function (pathElement) {
                this._pathElement = pathElement;
                this._list = this._parsePath(this._pathElement.getAttribute("d"));
                this._mutationObserverConfig = { attributes: true, attributeFilter: ["d"] };
                this._pathElementMutationObserver = new MutationObserver(this._updateListFromPathMutations.bind(this));
                this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);
            };
            window.SVGPathSegList.prototype.classname = "SVGPathSegList";
            Object.defineProperty(window.SVGPathSegList.prototype, "numberOfItems", {
                get: function () {
                    this._checkPathSynchronizedToList();
                    return this._list.length;
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathSegList.prototype, "length", {
                get: function () {
                    this._checkPathSynchronizedToList();
                    return this._list.length;
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathElement.prototype, "pathSegList", {
                get: function () {
                    if (!this._pathSegList)
                        this._pathSegList = new window.SVGPathSegList(this);
                    return this._pathSegList;
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathElement.prototype, "normalizedPathSegList", {
                get: function () {
                    return this.pathSegList;
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathElement.prototype, "animatedPathSegList", {
                get: function () {
                    return this.pathSegList;
                },
                enumerable: true,
            });
            Object.defineProperty(window.SVGPathElement.prototype, "animatedNormalizedPathSegList", {
                get: function () {
                    return this.pathSegList;
                },
                enumerable: true,
            });
            window.SVGPathSegList.prototype._checkPathSynchronizedToList = function () {
                this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords());
            };
            window.SVGPathSegList.prototype._updateListFromPathMutations = function (mutationRecords) {
                if (!this._pathElement)
                    return;
                var hasPathMutations = false;
                mutationRecords.forEach(function (record) {
                    if (record.attributeName == "d")
                        hasPathMutations = true;
                });
                if (hasPathMutations)
                    this._list = this._parsePath(this._pathElement.getAttribute("d"));
            };
            window.SVGPathSegList.prototype._writeListToPath = function () {
                this._pathElementMutationObserver.disconnect();
                this._pathElement.setAttribute("d", window.SVGPathSegList._pathSegArrayAsString(this._list));
                this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);
            };
            window.SVGPathSegList.prototype.segmentChanged = function (pathSeg) {
                this._writeListToPath();
            };
            window.SVGPathSegList.prototype.clear = function () {
                this._checkPathSynchronizedToList();
                this._list.forEach(function (pathSeg) {
                    pathSeg._owningPathSegList = null;
                });
                this._list = [];
                this._writeListToPath();
            };
            window.SVGPathSegList.prototype.initialize = function (newItem) {
                this._checkPathSynchronizedToList();
                this._list = [newItem];
                newItem._owningPathSegList = this;
                this._writeListToPath();
                return newItem;
            };
            window.SVGPathSegList.prototype._checkValidIndex = function (index) {
                if (isNaN(index) || index < 0 || index >= this.numberOfItems)
                    throw "INDEX_SIZE_ERR";
            };
            window.SVGPathSegList.prototype.getItem = function (index) {
                this._checkPathSynchronizedToList();
                this._checkValidIndex(index);
                return this._list[index];
            };
            window.SVGPathSegList.prototype.insertItemBefore = function (newItem, index) {
                this._checkPathSynchronizedToList();
                if (index > this.numberOfItems)
                    index = this.numberOfItems;
                if (newItem._owningPathSegList) {
                    newItem = newItem.clone();
                }
                this._list.splice(index, 0, newItem);
                newItem._owningPathSegList = this;
                this._writeListToPath();
                return newItem;
            };
            window.SVGPathSegList.prototype.replaceItem = function (newItem, index) {
                this._checkPathSynchronizedToList();
                if (newItem._owningPathSegList) {
                    newItem = newItem.clone();
                }
                this._checkValidIndex(index);
                this._list[index] = newItem;
                newItem._owningPathSegList = this;
                this._writeListToPath();
                return newItem;
            };
            window.SVGPathSegList.prototype.removeItem = function (index) {
                this._checkPathSynchronizedToList();
                this._checkValidIndex(index);
                var item = this._list[index];
                this._list.splice(index, 1);
                this._writeListToPath();
                return item;
            };
            window.SVGPathSegList.prototype.appendItem = function (newItem) {
                this._checkPathSynchronizedToList();
                if (newItem._owningPathSegList) {
                    newItem = newItem.clone();
                }
                this._list.push(newItem);
                newItem._owningPathSegList = this;
                this._writeListToPath();
                return newItem;
            };
            window.SVGPathSegList._pathSegArrayAsString = function (pathSegArray) {
                var string = "";
                var first = true;
                pathSegArray.forEach(function (pathSeg) {
                    if (first) {
                        first = false;
                        string += pathSeg._asPathString();
                    }
                    else {
                        string += " " + pathSeg._asPathString();
                    }
                });
                return string;
            };
            window.SVGPathSegList.prototype._parsePath = function (string) {
                if (!string || string.length == 0)
                    return [];
                var owningPathSegList = this;
                var Builder = function () {
                    this.pathSegList = [];
                };
                Builder.prototype.appendSegment = function (pathSeg) {
                    this.pathSegList.push(pathSeg);
                };
                var Source = function (string) {
                    this._string = string;
                    this._currentIndex = 0;
                    this._endIndex = this._string.length;
                    this._previousCommand = window.SVGPathSeg.PATHSEG_UNKNOWN;
                    this._skipOptionalSpaces();
                };
                Source.prototype._isCurrentSpace = function () {
                    var character = this._string[this._currentIndex];
                    return (character <= " " &&
                        (character == " " || character == "\n" || character == "\t" || character == "\r" || character == "\f"));
                };
                Source.prototype._skipOptionalSpaces = function () {
                    while (this._currentIndex < this._endIndex && this._isCurrentSpace())
                        this._currentIndex++;
                    return this._currentIndex < this._endIndex;
                };
                Source.prototype._skipOptionalSpacesOrDelimiter = function () {
                    if (this._currentIndex < this._endIndex &&
                        !this._isCurrentSpace() &&
                        this._string.charAt(this._currentIndex) != ",")
                        return false;
                    if (this._skipOptionalSpaces()) {
                        if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == ",") {
                            this._currentIndex++;
                            this._skipOptionalSpaces();
                        }
                    }
                    return this._currentIndex < this._endIndex;
                };
                Source.prototype.hasMoreData = function () {
                    return this._currentIndex < this._endIndex;
                };
                Source.prototype.peekSegmentType = function () {
                    var lookahead = this._string[this._currentIndex];
                    return this._pathSegTypeFromChar(lookahead);
                };
                Source.prototype._pathSegTypeFromChar = function (lookahead) {
                    switch (lookahead) {
                        case "Z":
                        case "z":
                            return window.SVGPathSeg.PATHSEG_CLOSEPATH;
                        case "M":
                            return window.SVGPathSeg.PATHSEG_MOVETO_ABS;
                        case "m":
                            return window.SVGPathSeg.PATHSEG_MOVETO_REL;
                        case "L":
                            return window.SVGPathSeg.PATHSEG_LINETO_ABS;
                        case "l":
                            return window.SVGPathSeg.PATHSEG_LINETO_REL;
                        case "C":
                            return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;
                        case "c":
                            return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;
                        case "Q":
                            return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;
                        case "q":
                            return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;
                        case "A":
                            return window.SVGPathSeg.PATHSEG_ARC_ABS;
                        case "a":
                            return window.SVGPathSeg.PATHSEG_ARC_REL;
                        case "H":
                            return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;
                        case "h":
                            return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;
                        case "V":
                            return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;
                        case "v":
                            return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;
                        case "S":
                            return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;
                        case "s":
                            return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;
                        case "T":
                            return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;
                        case "t":
                            return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;
                        default:
                            return window.SVGPathSeg.PATHSEG_UNKNOWN;
                    }
                };
                Source.prototype._nextCommandHelper = function (lookahead, previousCommand) {
                    if ((lookahead == "+" || lookahead == "-" || lookahead == "." || (lookahead >= "0" && lookahead <= "9")) &&
                        previousCommand != window.SVGPathSeg.PATHSEG_CLOSEPATH) {
                        if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_ABS)
                            return window.SVGPathSeg.PATHSEG_LINETO_ABS;
                        if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_REL)
                            return window.SVGPathSeg.PATHSEG_LINETO_REL;
                        return previousCommand;
                    }
                    return window.SVGPathSeg.PATHSEG_UNKNOWN;
                };
                Source.prototype.initialCommandIsMoveTo = function () {
                    if (!this.hasMoreData())
                        return true;
                    var command = this.peekSegmentType();
                    return command == window.SVGPathSeg.PATHSEG_MOVETO_ABS || command == window.SVGPathSeg.PATHSEG_MOVETO_REL;
                };
                Source.prototype._parseNumber = function () {
                    var exponent = 0;
                    var integer = 0;
                    var frac = 1;
                    var decimal = 0;
                    var sign = 1;
                    var expsign = 1;
                    var startIndex = this._currentIndex;
                    this._skipOptionalSpaces();
                    if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == "+")
                        this._currentIndex++;
                    else if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == "-") {
                        this._currentIndex++;
                        sign = -1;
                    }
                    if (this._currentIndex == this._endIndex ||
                        ((this._string.charAt(this._currentIndex) < "0" || this._string.charAt(this._currentIndex) > "9") &&
                            this._string.charAt(this._currentIndex) != "."))
                        return undefined;
                    var startIntPartIndex = this._currentIndex;
                    while (this._currentIndex < this._endIndex &&
                        this._string.charAt(this._currentIndex) >= "0" &&
                        this._string.charAt(this._currentIndex) <= "9")
                        this._currentIndex++;
                    if (this._currentIndex != startIntPartIndex) {
                        var scanIntPartIndex = this._currentIndex - 1;
                        var multiplier = 1;
                        while (scanIntPartIndex >= startIntPartIndex) {
                            integer += multiplier * (this._string.charAt(scanIntPartIndex--) - "0");
                            multiplier *= 10;
                        }
                    }
                    if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == ".") {
                        this._currentIndex++;
                        if (this._currentIndex >= this._endIndex ||
                            this._string.charAt(this._currentIndex) < "0" ||
                            this._string.charAt(this._currentIndex) > "9")
                            return undefined;
                        while (this._currentIndex < this._endIndex &&
                            this._string.charAt(this._currentIndex) >= "0" &&
                            this._string.charAt(this._currentIndex) <= "9") {
                            frac *= 10;
                            decimal += (this._string.charAt(this._currentIndex) - "0") / frac;
                            this._currentIndex += 1;
                        }
                    }
                    if (this._currentIndex != startIndex &&
                        this._currentIndex + 1 < this._endIndex &&
                        (this._string.charAt(this._currentIndex) == "e" || this._string.charAt(this._currentIndex) == "E") &&
                        this._string.charAt(this._currentIndex + 1) != "x" &&
                        this._string.charAt(this._currentIndex + 1) != "m") {
                        this._currentIndex++;
                        if (this._string.charAt(this._currentIndex) == "+") {
                            this._currentIndex++;
                        }
                        else if (this._string.charAt(this._currentIndex) == "-") {
                            this._currentIndex++;
                            expsign = -1;
                        }
                        if (this._currentIndex >= this._endIndex ||
                            this._string.charAt(this._currentIndex) < "0" ||
                            this._string.charAt(this._currentIndex) > "9")
                            return undefined;
                        while (this._currentIndex < this._endIndex &&
                            this._string.charAt(this._currentIndex) >= "0" &&
                            this._string.charAt(this._currentIndex) <= "9") {
                            exponent *= 10;
                            exponent += this._string.charAt(this._currentIndex) - "0";
                            this._currentIndex++;
                        }
                    }
                    var number = integer + decimal;
                    number *= sign;
                    if (exponent)
                        number *= Math.pow(10, expsign * exponent);
                    if (startIndex == this._currentIndex)
                        return undefined;
                    this._skipOptionalSpacesOrDelimiter();
                    return number;
                };
                Source.prototype._parseArcFlag = function () {
                    if (this._currentIndex >= this._endIndex)
                        return undefined;
                    var flag = false;
                    var flagChar = this._string.charAt(this._currentIndex++);
                    if (flagChar == "0")
                        flag = false;
                    else if (flagChar == "1")
                        flag = true;
                    else
                        return undefined;
                    this._skipOptionalSpacesOrDelimiter();
                    return flag;
                };
                Source.prototype.parseSegment = function () {
                    var lookahead = this._string[this._currentIndex];
                    var command = this._pathSegTypeFromChar(lookahead);
                    if (command == window.SVGPathSeg.PATHSEG_UNKNOWN) {
                        if (this._previousCommand == window.SVGPathSeg.PATHSEG_UNKNOWN)
                            return null;
                        command = this._nextCommandHelper(lookahead, this._previousCommand);
                        if (command == window.SVGPathSeg.PATHSEG_UNKNOWN)
                            return null;
                    }
                    else {
                        this._currentIndex++;
                    }
                    this._previousCommand = command;
                    switch (command) {
                        case window.SVGPathSeg.PATHSEG_MOVETO_REL:
                            return new window.SVGPathSegMovetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());
                        case window.SVGPathSeg.PATHSEG_MOVETO_ABS:
                            return new window.SVGPathSegMovetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());
                        case window.SVGPathSeg.PATHSEG_LINETO_REL:
                            return new window.SVGPathSegLinetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());
                        case window.SVGPathSeg.PATHSEG_LINETO_ABS:
                            return new window.SVGPathSegLinetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());
                        case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:
                            return new window.SVGPathSegLinetoHorizontalRel(owningPathSegList, this._parseNumber());
                        case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:
                            return new window.SVGPathSegLinetoHorizontalAbs(owningPathSegList, this._parseNumber());
                        case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:
                            return new window.SVGPathSegLinetoVerticalRel(owningPathSegList, this._parseNumber());
                        case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:
                            return new window.SVGPathSegLinetoVerticalAbs(owningPathSegList, this._parseNumber());
                        case window.SVGPathSeg.PATHSEG_CLOSEPATH:
                            this._skipOptionalSpaces();
                            return new window.SVGPathSegClosePath(owningPathSegList);
                        case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:
                            var points = {
                                x1: this._parseNumber(),
                                y1: this._parseNumber(),
                                x2: this._parseNumber(),
                                y2: this._parseNumber(),
                                x: this._parseNumber(),
                                y: this._parseNumber(),
                            };
                            return new window.SVGPathSegCurvetoCubicRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);
                        case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:
                            var points = {
                                x1: this._parseNumber(),
                                y1: this._parseNumber(),
                                x2: this._parseNumber(),
                                y2: this._parseNumber(),
                                x: this._parseNumber(),
                                y: this._parseNumber(),
                            };
                            return new window.SVGPathSegCurvetoCubicAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);
                        case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:
                            var points = {
                                x2: this._parseNumber(),
                                y2: this._parseNumber(),
                                x: this._parseNumber(),
                                y: this._parseNumber(),
                            };
                            return new window.SVGPathSegCurvetoCubicSmoothRel(owningPathSegList, points.x, points.y, points.x2, points.y2);
                        case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:
                            var points = {
                                x2: this._parseNumber(),
                                y2: this._parseNumber(),
                                x: this._parseNumber(),
                                y: this._parseNumber(),
                            };
                            return new window.SVGPathSegCurvetoCubicSmoothAbs(owningPathSegList, points.x, points.y, points.x2, points.y2);
                        case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:
                            var points = {
                                x1: this._parseNumber(),
                                y1: this._parseNumber(),
                                x: this._parseNumber(),
                                y: this._parseNumber(),
                            };
                            return new window.SVGPathSegCurvetoQuadraticRel(owningPathSegList, points.x, points.y, points.x1, points.y1);
                        case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:
                            var points = {
                                x1: this._parseNumber(),
                                y1: this._parseNumber(),
                                x: this._parseNumber(),
                                y: this._parseNumber(),
                            };
                            return new window.SVGPathSegCurvetoQuadraticAbs(owningPathSegList, points.x, points.y, points.x1, points.y1);
                        case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:
                            return new window.SVGPathSegCurvetoQuadraticSmoothRel(owningPathSegList, this._parseNumber(), this._parseNumber());
                        case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:
                            return new window.SVGPathSegCurvetoQuadraticSmoothAbs(owningPathSegList, this._parseNumber(), this._parseNumber());
                        case window.SVGPathSeg.PATHSEG_ARC_REL:
                            var points = {
                                x1: this._parseNumber(),
                                y1: this._parseNumber(),
                                arcAngle: this._parseNumber(),
                                arcLarge: this._parseArcFlag(),
                                arcSweep: this._parseArcFlag(),
                                x: this._parseNumber(),
                                y: this._parseNumber(),
                            };
                            return new window.SVGPathSegArcRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);
                        case window.SVGPathSeg.PATHSEG_ARC_ABS:
                            var points = {
                                x1: this._parseNumber(),
                                y1: this._parseNumber(),
                                arcAngle: this._parseNumber(),
                                arcLarge: this._parseArcFlag(),
                                arcSweep: this._parseArcFlag(),
                                x: this._parseNumber(),
                                y: this._parseNumber(),
                            };
                            return new window.SVGPathSegArcAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);
                        default:
                            throw "Unknown path seg type.";
                    }
                };
                var builder = new Builder();
                var source = new Source(string);
                if (!source.initialCommandIsMoveTo())
                    return [];
                while (source.hasMoreData()) {
                    var pathSeg = source.parseSegment();
                    if (!pathSeg)
                        return [];
                    builder.appendSegment(pathSeg);
                }
                return builder.pathSegList;
            };
        }
    }
    catch (e) {
        console.warn("An error occurred in tsParticles pathseg polyfill. If the Polygon Mask is not working, please open an issue here: https://github.com/matteobruni/tsparticles", e);
    }
})();


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/plugin.js":
/*!****************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/plugin.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadPolygonMaskPlugin = void 0;
const PolygonMaskInstance_1 = __webpack_require__(/*! ./PolygonMaskInstance */ "./node_modules/tsparticles/Plugins/PolygonMask/PolygonMaskInstance.js");
const PolygonMask_1 = __webpack_require__(/*! ./Options/Classes/PolygonMask */ "./node_modules/tsparticles/Plugins/PolygonMask/Options/Classes/PolygonMask.js");
const Enums_1 = __webpack_require__(/*! ./Enums */ "./node_modules/tsparticles/Plugins/PolygonMask/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class Plugin {
    constructor() {
        this.id = "polygonMask";
    }
    getPlugin(container) {
        return new PolygonMaskInstance_1.PolygonMaskInstance(container);
    }
    needsPlugin(options) {
        var _a, _b, _c;
        return (_b = (_a = options === null || options === void 0 ? void 0 : options.polygon) === null || _a === void 0 ? void 0 : _a.enable) !== null && _b !== void 0 ? _b : (((_c = options === null || options === void 0 ? void 0 : options.polygon) === null || _c === void 0 ? void 0 : _c.type) !== undefined && options.polygon.type !== Enums_1.Type.none);
    }
    loadOptions(options, source) {
        if (!this.needsPlugin(source)) {
            return;
        }
        const optionsCast = options;
        let polygonOptions = optionsCast.polygon;
        if ((polygonOptions === null || polygonOptions === void 0 ? void 0 : polygonOptions.load) === undefined) {
            optionsCast.polygon = polygonOptions = new PolygonMask_1.PolygonMask();
        }
        polygonOptions.load(source === null || source === void 0 ? void 0 : source.polygon);
    }
}
async function loadPolygonMaskPlugin(tsParticles) {
    if (!(0, Utils_1.isSsr)() && !window.SVGPathSeg) {
        await Promise.resolve().then(() => __importStar(__webpack_require__(/*! ./pathseg */ "./node_modules/tsparticles/Plugins/PolygonMask/pathseg.js")));
    }
    const plugin = new Plugin();
    await tsParticles.addPlugin(plugin);
}
exports.loadPolygonMaskPlugin = loadPolygonMaskPlugin;


/***/ }),

/***/ "./node_modules/tsparticles/Plugins/PolygonMask/utils.js":
/*!***************************************************************!*\
  !*** ./node_modules/tsparticles/Plugins/PolygonMask/utils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.segmentBounce = exports.calcClosestPtOnSegment = exports.parsePaths = exports.drawPolygonMaskPath = exports.drawPolygonMask = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
function drawPolygonMask(context, rawData, stroke) {
    const color = (0, Utils_1.colorToRgb)(stroke.color);
    if (!color) {
        return;
    }
    context.beginPath();
    context.moveTo(rawData[0].x, rawData[0].y);
    for (const item of rawData) {
        context.lineTo(item.x, item.y);
    }
    context.closePath();
    context.strokeStyle = (0, Utils_1.getStyleFromRgb)(color);
    context.lineWidth = stroke.width;
    context.stroke();
}
exports.drawPolygonMask = drawPolygonMask;
function drawPolygonMaskPath(context, path, stroke, position) {
    context.translate(position.x, position.y);
    const color = (0, Utils_1.colorToRgb)(stroke.color);
    if (!color) {
        return;
    }
    context.strokeStyle = (0, Utils_1.getStyleFromRgb)(color, stroke.opacity);
    context.lineWidth = stroke.width;
    context.stroke(path);
}
exports.drawPolygonMaskPath = drawPolygonMaskPath;
function parsePaths(paths, scale, offset) {
    var _a;
    const res = [];
    for (const path of paths) {
        const segments = path.element.pathSegList;
        const len = (_a = segments === null || segments === void 0 ? void 0 : segments.numberOfItems) !== null && _a !== void 0 ? _a : 0;
        const p = {
            x: 0,
            y: 0,
        };
        for (let i = 0; i < len; i++) {
            const segment = segments === null || segments === void 0 ? void 0 : segments.getItem(i);
            const svgPathSeg = window.SVGPathSeg;
            switch (segment === null || segment === void 0 ? void 0 : segment.pathSegType) {
                case svgPathSeg.PATHSEG_MOVETO_ABS:
                case svgPathSeg.PATHSEG_LINETO_ABS:
                case svgPathSeg.PATHSEG_CURVETO_CUBIC_ABS:
                case svgPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:
                case svgPathSeg.PATHSEG_ARC_ABS:
                case svgPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:
                case svgPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS: {
                    const absSeg = segment;
                    p.x = absSeg.x;
                    p.y = absSeg.y;
                    break;
                }
                case svgPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:
                    p.x = segment.x;
                    break;
                case svgPathSeg.PATHSEG_LINETO_VERTICAL_ABS:
                    p.y = segment.y;
                    break;
                case svgPathSeg.PATHSEG_LINETO_REL:
                case svgPathSeg.PATHSEG_MOVETO_REL:
                case svgPathSeg.PATHSEG_CURVETO_CUBIC_REL:
                case svgPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:
                case svgPathSeg.PATHSEG_ARC_REL:
                case svgPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:
                case svgPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL: {
                    const relSeg = segment;
                    p.x += relSeg.x;
                    p.y += relSeg.y;
                    break;
                }
                case svgPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:
                    p.x += segment.x;
                    break;
                case svgPathSeg.PATHSEG_LINETO_VERTICAL_REL:
                    p.y += segment.y;
                    break;
                case svgPathSeg.PATHSEG_UNKNOWN:
                case svgPathSeg.PATHSEG_CLOSEPATH:
                    continue;
            }
            res.push({
                x: p.x * scale + offset.x,
                y: p.y * scale + offset.y,
            });
        }
    }
    return res;
}
exports.parsePaths = parsePaths;
function calcClosestPtOnSegment(s1, s2, pos) {
    const { dx, dy } = (0, Utils_1.getDistances)(pos, s1);
    const { dx: dxx, dy: dyy } = (0, Utils_1.getDistances)(s2, s1);
    const t = (dx * dxx + dy * dyy) / (dxx ** 2 + dyy ** 2);
    let x = s1.x + dxx * t;
    let y = s1.y + dyy * t;
    if (t < 0) {
        x = s1.x;
        y = s1.y;
    }
    else if (t > 1) {
        x = s2.x;
        y = s2.y;
    }
    return { x: x, y: y, isOnSegment: t >= 0 && t <= 1 };
}
exports.calcClosestPtOnSegment = calcClosestPtOnSegment;
function segmentBounce(start, stop, velocity) {
    const { dx, dy } = (0, Utils_1.getDistances)(start, stop);
    const wallAngle = Math.atan2(dy, dx);
    const wallNormalX = Math.sin(wallAngle);
    const wallNormalY = -Math.cos(wallAngle);
    const d = 2 * (velocity.x * wallNormalX + velocity.y * wallNormalY);
    velocity.x -= d * wallNormalX;
    velocity.y -= d * wallNormalY;
}
exports.segmentBounce = segmentBounce;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Circle/CircleDrawer.js":
/*!****************************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Circle/CircleDrawer.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CircleDrawer = void 0;
class CircleDrawer {
    getSidesCount() {
        return 12;
    }
    draw(context, particle, radius) {
        context.arc(0, 0, radius, 0, Math.PI * 2, false);
    }
}
exports.CircleDrawer = CircleDrawer;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Circle/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Circle/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadCircleShape = void 0;
const CircleDrawer_1 = __webpack_require__(/*! ./CircleDrawer */ "./node_modules/tsparticles/Shapes/Circle/CircleDrawer.js");
async function loadCircleShape(tsParticles) {
    await tsParticles.addShape("circle", new CircleDrawer_1.CircleDrawer());
}
exports.loadCircleShape = loadCircleShape;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Image/ImageDrawer.js":
/*!**************************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Image/ImageDrawer.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {
    if (kind === "m") throw new TypeError("Private method is not writable");
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
};
var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var _ImageDrawer_images;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ImageDrawer = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Utils_2 = __webpack_require__(/*! ./Utils */ "./node_modules/tsparticles/Shapes/Image/Utils.js");
class ImageDrawer {
    constructor() {
        _ImageDrawer_images.set(this, void 0);
        __classPrivateFieldSet(this, _ImageDrawer_images, [], "f");
    }
    getSidesCount() {
        return 12;
    }
    getImages(container) {
        const containerImages = __classPrivateFieldGet(this, _ImageDrawer_images, "f").find((t) => t.id === container.id);
        if (!containerImages) {
            __classPrivateFieldGet(this, _ImageDrawer_images, "f").push({
                id: container.id,
                images: [],
            });
            return this.getImages(container);
        }
        else {
            return containerImages;
        }
    }
    addImage(container, image) {
        const containerImages = this.getImages(container);
        containerImages === null || containerImages === void 0 ? void 0 : containerImages.images.push(image);
    }
    async init(container) {
        await this.loadImagesFromParticlesOptions(container, container.actualOptions.particles);
        await this.loadImagesFromParticlesOptions(container, container.actualOptions.interactivity.modes.trail.particles);
        for (const manualParticle of container.actualOptions.manualParticles) {
            await this.loadImagesFromParticlesOptions(container, manualParticle.options);
        }
        const emitterOptions = container.actualOptions;
        if (emitterOptions.emitters) {
            if (emitterOptions.emitters instanceof Array) {
                for (const emitter of emitterOptions.emitters) {
                    await this.loadImagesFromParticlesOptions(container, emitter.particles);
                }
            }
            else {
                await this.loadImagesFromParticlesOptions(container, emitterOptions.emitters.particles);
            }
        }
        const interactiveEmitters = emitterOptions.interactivity.modes.emitters;
        if (interactiveEmitters) {
            if (interactiveEmitters instanceof Array) {
                for (const emitter of interactiveEmitters) {
                    await this.loadImagesFromParticlesOptions(container, emitter.particles);
                }
            }
            else {
                await this.loadImagesFromParticlesOptions(container, interactiveEmitters.particles);
            }
        }
    }
    destroy() {
        __classPrivateFieldSet(this, _ImageDrawer_images, [], "f");
    }
    async loadImagesFromParticlesOptions(container, options) {
        var _a, _b, _c;
        const shapeOptions = options === null || options === void 0 ? void 0 : options.shape;
        if (!(shapeOptions === null || shapeOptions === void 0 ? void 0 : shapeOptions.type) ||
            !shapeOptions.options ||
            (!(0, Utils_1.isInArray)(Enums_1.ShapeType.image, shapeOptions.type) && !(0, Utils_1.isInArray)(Enums_1.ShapeType.images, shapeOptions.type))) {
            return;
        }
        const idx = __classPrivateFieldGet(this, _ImageDrawer_images, "f").findIndex((t) => t.id === container.id);
        if (idx >= 0) {
            __classPrivateFieldGet(this, _ImageDrawer_images, "f").splice(idx, 1);
        }
        const imageOptions = (_a = shapeOptions.options[Enums_1.ShapeType.images]) !== null && _a !== void 0 ? _a : shapeOptions.options[Enums_1.ShapeType.image];
        if (imageOptions instanceof Array) {
            for (const optionsImage of imageOptions) {
                await this.loadImageShape(container, optionsImage);
            }
        }
        else {
            await this.loadImageShape(container, imageOptions);
        }
        if (options === null || options === void 0 ? void 0 : options.groups) {
            for (const groupName in options.groups) {
                const group = options.groups[groupName];
                await this.loadImagesFromParticlesOptions(container, group);
            }
        }
        if ((_c = (_b = options === null || options === void 0 ? void 0 : options.destroy) === null || _b === void 0 ? void 0 : _b.split) === null || _c === void 0 ? void 0 : _c.particles) {
            await this.loadImagesFromParticlesOptions(container, options === null || options === void 0 ? void 0 : options.destroy.split.particles);
        }
    }
    async loadImageShape(container, imageShape) {
        try {
            const imageFunc = imageShape.replaceColor ? Utils_2.downloadSvgImage : Utils_2.loadImage;
            const image = await imageFunc(imageShape.src);
            if (image) {
                this.addImage(container, image);
            }
        }
        catch (_a) {
            console.warn(`tsParticles error - ${imageShape.src} not found`);
        }
    }
    draw(context, particle, radius, opacity) {
        var _a, _b;
        if (!context) {
            return;
        }
        const image = particle.image;
        const element = (_a = image === null || image === void 0 ? void 0 : image.data) === null || _a === void 0 ? void 0 : _a.element;
        if (!element) {
            return;
        }
        const ratio = (_b = image === null || image === void 0 ? void 0 : image.ratio) !== null && _b !== void 0 ? _b : 1;
        const pos = {
            x: -radius,
            y: -radius,
        };
        if (!(image === null || image === void 0 ? void 0 : image.data.svgData) || !(image === null || image === void 0 ? void 0 : image.replaceColor)) {
            context.globalAlpha = opacity;
        }
        context.drawImage(element, pos.x, pos.y, radius * 2, (radius * 2) / ratio);
        if (!(image === null || image === void 0 ? void 0 : image.data.svgData) || !(image === null || image === void 0 ? void 0 : image.replaceColor)) {
            context.globalAlpha = 1;
        }
    }
    loadShape(particle) {
        var _a, _b, _c, _d, _e, _f, _g;
        if (particle.shape !== "image" && particle.shape !== "images") {
            return;
        }
        const images = this.getImages(particle.container).images;
        const imageData = particle.shapeData;
        const image = (_a = images.find((t) => t.source === imageData.src)) !== null && _a !== void 0 ? _a : images[0];
        const color = particle.getFillColor();
        let imageRes;
        if (!image) {
            return;
        }
        if (image.svgData !== undefined && imageData.replaceColor && color) {
            const svgColoredData = (0, Utils_2.replaceColorSvg)(image, color, (_c = (_b = particle.opacity) === null || _b === void 0 ? void 0 : _b.value) !== null && _c !== void 0 ? _c : 1);
            const svg = new Blob([svgColoredData], { type: "image/svg+xml" });
            const domUrl = URL || window.URL || window.webkitURL || window;
            const url = domUrl.createObjectURL(svg);
            const img = new Image();
            imageRes = {
                data: Object.assign(Object.assign({}, image), { svgData: svgColoredData }),
                ratio: imageData.width / imageData.height,
                replaceColor: (_d = imageData.replaceColor) !== null && _d !== void 0 ? _d : imageData.replace_color,
                source: imageData.src,
            };
            img.addEventListener("load", () => {
                const pImage = particle.image;
                if (pImage) {
                    pImage.loaded = true;
                    image.element = img;
                }
                domUrl.revokeObjectURL(url);
            });
            img.addEventListener("error", () => {
                domUrl.revokeObjectURL(url);
                (0, Utils_2.loadImage)(imageData.src).then((img2) => {
                    const pImage = particle.image;
                    if (pImage) {
                        image.element = img2 === null || img2 === void 0 ? void 0 : img2.element;
                        pImage.loaded = true;
                    }
                });
            });
            img.src = url;
        }
        else {
            imageRes = {
                data: image,
                loaded: true,
                ratio: imageData.width / imageData.height,
                replaceColor: (_e = imageData.replaceColor) !== null && _e !== void 0 ? _e : imageData.replace_color,
                source: imageData.src,
            };
        }
        if (!imageRes.ratio) {
            imageRes.ratio = 1;
        }
        const fill = (_f = imageData.fill) !== null && _f !== void 0 ? _f : particle.fill;
        const close = (_g = imageData.close) !== null && _g !== void 0 ? _g : particle.close;
        const imageShape = {
            image: imageRes,
            fill,
            close,
        };
        particle.image = imageShape.image;
        particle.fill = imageShape.fill;
        particle.close = imageShape.close;
    }
}
exports.ImageDrawer = ImageDrawer;
_ImageDrawer_images = new WeakMap();


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Image/Utils.js":
/*!********************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Image/Utils.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.replaceColorSvg = exports.downloadSvgImage = exports.loadImage = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
function loadImage(source) {
    return new Promise((resolve, reject) => {
        if (!source) {
            reject("Error tsParticles - No image.src");
            return;
        }
        const image = {
            source: source,
            type: source.substr(source.length - 3),
        };
        const img = new Image();
        img.addEventListener("load", () => {
            image.element = img;
            resolve(image);
        });
        img.addEventListener("error", () => {
            reject(`Error tsParticles - loading image: ${source}`);
        });
        img.src = source;
    });
}
exports.loadImage = loadImage;
async function downloadSvgImage(source) {
    if (!source) {
        throw new Error("Error tsParticles - No image.src");
    }
    const image = {
        source: source,
        type: source.substr(source.length - 3),
    };
    if (image.type !== "svg") {
        return loadImage(source);
    }
    const response = await fetch(image.source);
    if (!response.ok) {
        throw new Error("Error tsParticles - Image not found");
    }
    image.svgData = await response.text();
    return image;
}
exports.downloadSvgImage = downloadSvgImage;
function replaceColorSvg(imageShape, color, opacity) {
    const { svgData } = imageShape;
    if (!svgData) {
        return "";
    }
    if (svgData.includes("fill")) {
        const currentColor = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;
        return svgData.replace(currentColor, () => (0, Utils_1.getStyleFromHsl)(color, opacity));
    }
    const preFillIndex = svgData.indexOf(">");
    return `${svgData.substring(0, preFillIndex)} fill="${(0, Utils_1.getStyleFromHsl)(color, opacity)}"${svgData.substring(preFillIndex)}`;
}
exports.replaceColorSvg = replaceColorSvg;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Image/index.js":
/*!********************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Image/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadImageShape = void 0;
const ImageDrawer_1 = __webpack_require__(/*! ./ImageDrawer */ "./node_modules/tsparticles/Shapes/Image/ImageDrawer.js");
async function loadImageShape(tsParticles) {
    const imageDrawer = new ImageDrawer_1.ImageDrawer();
    await tsParticles.addShape("image", imageDrawer);
    await tsParticles.addShape("images", imageDrawer);
}
exports.loadImageShape = loadImageShape;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Line/LineDrawer.js":
/*!************************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Line/LineDrawer.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LineDrawer = void 0;
class LineDrawer {
    getSidesCount() {
        return 1;
    }
    draw(context, particle, radius) {
        context.moveTo(-radius / 2, 0);
        context.lineTo(radius / 2, 0);
    }
}
exports.LineDrawer = LineDrawer;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Line/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Line/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadLineShape = void 0;
const LineDrawer_1 = __webpack_require__(/*! ./LineDrawer */ "./node_modules/tsparticles/Shapes/Line/LineDrawer.js");
async function loadLineShape(tsParticles) {
    await tsParticles.addShape("line", new LineDrawer_1.LineDrawer());
}
exports.loadLineShape = loadLineShape;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Polygon/PolygonDrawer.js":
/*!******************************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Polygon/PolygonDrawer.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PolygonDrawer = void 0;
const PolygonDrawerBase_1 = __webpack_require__(/*! ./PolygonDrawerBase */ "./node_modules/tsparticles/Shapes/Polygon/PolygonDrawerBase.js");
class PolygonDrawer extends PolygonDrawerBase_1.PolygonDrawerBase {
    getSidesData(particle, radius) {
        var _a, _b;
        const polygon = particle.shapeData;
        const sides = (_b = (_a = polygon === null || polygon === void 0 ? void 0 : polygon.sides) !== null && _a !== void 0 ? _a : polygon === null || polygon === void 0 ? void 0 : polygon.nb_sides) !== null && _b !== void 0 ? _b : 5;
        return {
            count: {
                denominator: 1,
                numerator: sides,
            },
            length: (radius * 2.66) / (sides / 3),
        };
    }
    getCenter(particle, radius) {
        const sides = this.getSidesCount(particle);
        return {
            x: -radius / (sides / 3.5),
            y: -radius / (2.66 / 3.5),
        };
    }
}
exports.PolygonDrawer = PolygonDrawer;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Polygon/PolygonDrawerBase.js":
/*!**********************************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Polygon/PolygonDrawerBase.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PolygonDrawerBase = void 0;
class PolygonDrawerBase {
    getSidesCount(particle) {
        var _a, _b;
        const polygon = particle.shapeData;
        return (_b = (_a = polygon === null || polygon === void 0 ? void 0 : polygon.sides) !== null && _a !== void 0 ? _a : polygon === null || polygon === void 0 ? void 0 : polygon.nb_sides) !== null && _b !== void 0 ? _b : 5;
    }
    draw(context, particle, radius) {
        const start = this.getCenter(particle, radius);
        const side = this.getSidesData(particle, radius);
        const sideCount = side.count.numerator * side.count.denominator;
        const decimalSides = side.count.numerator / side.count.denominator;
        const interiorAngleDegrees = (180 * (decimalSides - 2)) / decimalSides;
        const interiorAngle = Math.PI - (Math.PI * interiorAngleDegrees) / 180;
        if (!context) {
            return;
        }
        context.beginPath();
        context.translate(start.x, start.y);
        context.moveTo(0, 0);
        for (let i = 0; i < sideCount; i++) {
            context.lineTo(side.length, 0);
            context.translate(side.length, 0);
            context.rotate(interiorAngle);
        }
    }
}
exports.PolygonDrawerBase = PolygonDrawerBase;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Polygon/TriangleDrawer.js":
/*!*******************************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Polygon/TriangleDrawer.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TriangleDrawer = void 0;
const PolygonDrawerBase_1 = __webpack_require__(/*! ./PolygonDrawerBase */ "./node_modules/tsparticles/Shapes/Polygon/PolygonDrawerBase.js");
class TriangleDrawer extends PolygonDrawerBase_1.PolygonDrawerBase {
    getSidesCount() {
        return 3;
    }
    getSidesData(particle, radius) {
        return {
            count: {
                denominator: 2,
                numerator: 3,
            },
            length: radius * 2,
        };
    }
    getCenter(particle, radius) {
        return {
            x: -radius,
            y: radius / 1.66,
        };
    }
}
exports.TriangleDrawer = TriangleDrawer;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Polygon/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Polygon/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadPolygonShape = exports.loadTriangleShape = exports.loadGenericPolygonShape = void 0;
const PolygonDrawer_1 = __webpack_require__(/*! ./PolygonDrawer */ "./node_modules/tsparticles/Shapes/Polygon/PolygonDrawer.js");
const TriangleDrawer_1 = __webpack_require__(/*! ./TriangleDrawer */ "./node_modules/tsparticles/Shapes/Polygon/TriangleDrawer.js");
async function loadGenericPolygonShape(tsParticles) {
    await tsParticles.addShape("polygon", new PolygonDrawer_1.PolygonDrawer());
}
exports.loadGenericPolygonShape = loadGenericPolygonShape;
async function loadTriangleShape(tsParticles) {
    await tsParticles.addShape("triangle", new TriangleDrawer_1.TriangleDrawer());
}
exports.loadTriangleShape = loadTriangleShape;
async function loadPolygonShape(tsParticles) {
    await loadGenericPolygonShape(tsParticles);
    await loadTriangleShape(tsParticles);
}
exports.loadPolygonShape = loadPolygonShape;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Square/SquareDrawer.js":
/*!****************************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Square/SquareDrawer.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SquareDrawer = void 0;
const fixFactor = Math.sqrt(2);
class SquareDrawer {
    getSidesCount() {
        return 4;
    }
    draw(context, particle, radius) {
        context.rect(-radius / fixFactor, -radius / fixFactor, (radius * 2) / fixFactor, (radius * 2) / fixFactor);
    }
}
exports.SquareDrawer = SquareDrawer;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Square/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Square/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadSquareShape = void 0;
const SquareDrawer_1 = __webpack_require__(/*! ./SquareDrawer */ "./node_modules/tsparticles/Shapes/Square/SquareDrawer.js");
async function loadSquareShape(tsParticles) {
    const drawer = new SquareDrawer_1.SquareDrawer();
    await tsParticles.addShape("edge", drawer);
    await tsParticles.addShape("square", drawer);
}
exports.loadSquareShape = loadSquareShape;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Star/StarDrawer.js":
/*!************************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Star/StarDrawer.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StarDrawer = void 0;
class StarDrawer {
    getSidesCount(particle) {
        var _a, _b;
        const star = particle.shapeData;
        return (_b = (_a = star === null || star === void 0 ? void 0 : star.sides) !== null && _a !== void 0 ? _a : star === null || star === void 0 ? void 0 : star.nb_sides) !== null && _b !== void 0 ? _b : 5;
    }
    draw(context, particle, radius) {
        var _a;
        const star = particle.shapeData;
        const sides = this.getSidesCount(particle);
        const inset = (_a = star === null || star === void 0 ? void 0 : star.inset) !== null && _a !== void 0 ? _a : 2;
        context.moveTo(0, 0 - radius);
        for (let i = 0; i < sides; i++) {
            context.rotate(Math.PI / sides);
            context.lineTo(0, 0 - radius * inset);
            context.rotate(Math.PI / sides);
            context.lineTo(0, 0 - radius);
        }
    }
}
exports.StarDrawer = StarDrawer;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Star/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Star/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadStarShape = void 0;
const StarDrawer_1 = __webpack_require__(/*! ./StarDrawer */ "./node_modules/tsparticles/Shapes/Star/StarDrawer.js");
async function loadStarShape(tsParticles) {
    await tsParticles.addShape("star", new StarDrawer_1.StarDrawer());
}
exports.loadStarShape = loadStarShape;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Text/TextDrawer.js":
/*!************************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Text/TextDrawer.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TextDrawer = exports.validTypes = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
exports.validTypes = ["text", "character", "char"];
class TextDrawer {
    getSidesCount() {
        return 12;
    }
    async init(container) {
        const options = container.actualOptions;
        if (exports.validTypes.find((t) => (0, Utils_1.isInArray)(t, options.particles.shape.type))) {
            const shapeOptions = exports.validTypes.map((t) => options.particles.shape.options[t]).find((t) => !!t);
            if (shapeOptions instanceof Array) {
                const promises = [];
                for (const character of shapeOptions) {
                    promises.push((0, Utils_1.loadFont)(character));
                }
                await Promise.allSettled(promises);
            }
            else {
                if (shapeOptions !== undefined) {
                    await (0, Utils_1.loadFont)(shapeOptions);
                }
            }
        }
    }
    draw(context, particle, radius, opacity) {
        var _a, _b, _c;
        const character = particle.shapeData;
        if (character === undefined) {
            return;
        }
        const textData = character.value;
        if (textData === undefined) {
            return;
        }
        const textParticle = particle;
        if (textParticle.text === undefined) {
            textParticle.text =
                textData instanceof Array ? (0, Utils_1.itemFromArray)(textData, particle.randomIndexData) : textData;
        }
        const text = textParticle.text;
        const style = (_a = character.style) !== null && _a !== void 0 ? _a : "";
        const weight = (_b = character.weight) !== null && _b !== void 0 ? _b : "400";
        const size = Math.round(radius) * 2;
        const font = (_c = character.font) !== null && _c !== void 0 ? _c : "Verdana";
        const fill = particle.fill;
        const offsetX = (text.length * radius) / 2;
        context.font = `${style} ${weight} ${size}px "${font}"`;
        const pos = {
            x: -offsetX,
            y: radius / 2,
        };
        context.globalAlpha = opacity;
        if (fill) {
            context.fillText(text, pos.x, pos.y);
        }
        else {
            context.strokeText(text, pos.x, pos.y);
        }
        context.globalAlpha = 1;
    }
}
exports.TextDrawer = TextDrawer;


/***/ }),

/***/ "./node_modules/tsparticles/Shapes/Text/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/tsparticles/Shapes/Text/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadTextShape = void 0;
const TextDrawer_1 = __webpack_require__(/*! ./TextDrawer */ "./node_modules/tsparticles/Shapes/Text/TextDrawer.js");
async function loadTextShape(tsParticles) {
    const drawer = new TextDrawer_1.TextDrawer();
    for (const type of TextDrawer_1.validTypes) {
        await tsParticles.addShape(type, drawer);
    }
}
exports.loadTextShape = loadTextShape;


/***/ }),

/***/ "./node_modules/tsparticles/Types/PathOptions.js":
/*!*******************************************************!*\
  !*** ./node_modules/tsparticles/Types/PathOptions.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Types/RangeValue.js":
/*!******************************************************!*\
  !*** ./node_modules/tsparticles/Types/RangeValue.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Types/RecursivePartial.js":
/*!************************************************************!*\
  !*** ./node_modules/tsparticles/Types/RecursivePartial.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Types/ShapeData.js":
/*!*****************************************************!*\
  !*** ./node_modules/tsparticles/Types/ShapeData.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Types/ShapeDrawerFunctions.js":
/*!****************************************************************!*\
  !*** ./node_modules/tsparticles/Types/ShapeDrawerFunctions.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Types/SingleOrMultiple.js":
/*!************************************************************!*\
  !*** ./node_modules/tsparticles/Types/SingleOrMultiple.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/tsparticles/Types/index.js":
/*!*************************************************!*\
  !*** ./node_modules/tsparticles/Types/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./RangeValue */ "./node_modules/tsparticles/Types/RangeValue.js"), exports);
__exportStar(__webpack_require__(/*! ./RecursivePartial */ "./node_modules/tsparticles/Types/RecursivePartial.js"), exports);
__exportStar(__webpack_require__(/*! ./ShapeData */ "./node_modules/tsparticles/Types/ShapeData.js"), exports);
__exportStar(__webpack_require__(/*! ./ShapeDrawerFunctions */ "./node_modules/tsparticles/Types/ShapeDrawerFunctions.js"), exports);
__exportStar(__webpack_require__(/*! ./SingleOrMultiple */ "./node_modules/tsparticles/Types/SingleOrMultiple.js"), exports);
__exportStar(__webpack_require__(/*! ./PathOptions */ "./node_modules/tsparticles/Types/PathOptions.js"), exports);


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Angle/AngleUpdater.js":
/*!*****************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Angle/AngleUpdater.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AngleUpdater = void 0;
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
function updateAngle(particle, delta) {
    var _a;
    const rotate = particle.rotate;
    if (!rotate) {
        return;
    }
    const rotateOptions = particle.options.rotate;
    const rotateAnimation = rotateOptions.animation;
    const speed = ((_a = rotate.velocity) !== null && _a !== void 0 ? _a : 0) * delta.factor;
    const max = 2 * Math.PI;
    if (!rotateAnimation.enable) {
        return;
    }
    switch (rotate.status) {
        case Enums_1.AnimationStatus.increasing:
            rotate.value += speed;
            if (rotate.value > max) {
                rotate.value -= max;
            }
            break;
        case Enums_1.AnimationStatus.decreasing:
        default:
            rotate.value -= speed;
            if (rotate.value < 0) {
                rotate.value += max;
            }
            break;
    }
}
class AngleUpdater {
    constructor(container) {
        this.container = container;
    }
    init(particle) {
        const rotateOptions = particle.options.rotate;
        particle.rotate = {
            enable: rotateOptions.animation.enable,
            value: ((0, Utils_1.getRangeValue)(rotateOptions.value) * Math.PI) / 180,
        };
        let rotateDirection = rotateOptions.direction;
        if (rotateDirection === Enums_1.RotateDirection.random) {
            const index = Math.floor(Math.random() * 2);
            rotateDirection = index > 0 ? Enums_1.RotateDirection.counterClockwise : Enums_1.RotateDirection.clockwise;
        }
        switch (rotateDirection) {
            case Enums_1.RotateDirection.counterClockwise:
            case "counterClockwise":
                particle.rotate.status = Enums_1.AnimationStatus.decreasing;
                break;
            case Enums_1.RotateDirection.clockwise:
                particle.rotate.status = Enums_1.AnimationStatus.increasing;
                break;
        }
        const rotateAnimation = particle.options.rotate.animation;
        if (rotateAnimation.enable) {
            particle.rotate.velocity = (rotateAnimation.speed / 360) * this.container.retina.reduceFactor;
            if (!rotateAnimation.sync) {
                particle.rotate.velocity *= Math.random();
            }
        }
    }
    isEnabled(particle) {
        const rotate = particle.options.rotate;
        const rotateAnimation = rotate.animation;
        return !particle.destroyed && !particle.spawning && !rotate.path && rotateAnimation.enable;
    }
    update(particle, delta) {
        if (!this.isEnabled(particle)) {
            return;
        }
        updateAngle(particle, delta);
    }
}
exports.AngleUpdater = AngleUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Angle/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Angle/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadAngleUpdater = void 0;
const AngleUpdater_1 = __webpack_require__(/*! ./AngleUpdater */ "./node_modules/tsparticles/Updaters/Angle/AngleUpdater.js");
async function loadAngleUpdater(tsParticles) {
    await tsParticles.addParticleUpdater("angle", (container) => new AngleUpdater_1.AngleUpdater(container));
}
exports.loadAngleUpdater = loadAngleUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Color/ColorUpdater.js":
/*!*****************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Color/ColorUpdater.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ColorUpdater = void 0;
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
function updateColorValue(delta, value, valueAnimation, max, decrease) {
    var _a;
    const colorValue = value;
    if (!colorValue || !valueAnimation.enable) {
        return;
    }
    const offset = (0, Utils_1.randomInRange)(valueAnimation.offset);
    const velocity = ((_a = value.velocity) !== null && _a !== void 0 ? _a : 0) * delta.factor + offset * 3.6;
    if (!decrease || colorValue.status === Enums_1.AnimationStatus.increasing) {
        colorValue.value += velocity;
        if (decrease && colorValue.value > max) {
            colorValue.status = Enums_1.AnimationStatus.decreasing;
            colorValue.value -= colorValue.value % max;
        }
    }
    else {
        colorValue.value -= velocity;
        if (colorValue.value < 0) {
            colorValue.status = Enums_1.AnimationStatus.increasing;
            colorValue.value += colorValue.value;
        }
    }
    if (colorValue.value > max) {
        colorValue.value %= max;
    }
}
function updateColor(particle, delta) {
    var _a, _b, _c;
    const animationOptions = particle.options.color.animation;
    if (((_a = particle.color) === null || _a === void 0 ? void 0 : _a.h) !== undefined) {
        updateColorValue(delta, particle.color.h, animationOptions.h, 360, false);
    }
    if (((_b = particle.color) === null || _b === void 0 ? void 0 : _b.s) !== undefined) {
        updateColorValue(delta, particle.color.s, animationOptions.s, 100, true);
    }
    if (((_c = particle.color) === null || _c === void 0 ? void 0 : _c.l) !== undefined) {
        updateColorValue(delta, particle.color.l, animationOptions.l, 100, true);
    }
}
class ColorUpdater {
    constructor(container) {
        this.container = container;
    }
    init(particle) {
        const hslColor = (0, Utils_1.colorToHsl)(particle.options.color, particle.id, particle.options.reduceDuplicates);
        if (hslColor) {
            particle.color = (0, Utils_1.getHslAnimationFromHsl)(hslColor, particle.options.color.animation, this.container.retina.reduceFactor);
        }
    }
    isEnabled(particle) {
        var _a, _b, _c;
        const animationOptions = particle.options.color.animation;
        return (!particle.destroyed &&
            !particle.spawning &&
            ((((_a = particle.color) === null || _a === void 0 ? void 0 : _a.h.value) !== undefined && animationOptions.h.enable) ||
                (((_b = particle.color) === null || _b === void 0 ? void 0 : _b.s.value) !== undefined && animationOptions.s.enable) ||
                (((_c = particle.color) === null || _c === void 0 ? void 0 : _c.l.value) !== undefined && animationOptions.l.enable)));
    }
    update(particle, delta) {
        updateColor(particle, delta);
    }
}
exports.ColorUpdater = ColorUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Color/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Color/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadColorUpdater = void 0;
const ColorUpdater_1 = __webpack_require__(/*! ./ColorUpdater */ "./node_modules/tsparticles/Updaters/Color/ColorUpdater.js");
async function loadColorUpdater(tsParticles) {
    await tsParticles.addParticleUpdater("color", (container) => new ColorUpdater_1.ColorUpdater(container));
}
exports.loadColorUpdater = loadColorUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Life/LifeUpdater.js":
/*!***************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Life/LifeUpdater.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LifeUpdater = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
class LifeUpdater {
    constructor(container) {
        this.container = container;
    }
    init() {
    }
    isEnabled(particle) {
        return !particle.destroyed;
    }
    update(particle, delta) {
        if (!this.isEnabled(particle)) {
            return;
        }
        const life = particle.life;
        let justSpawned = false;
        if (particle.spawning) {
            life.delayTime += delta.value;
            if (life.delayTime >= particle.life.delay) {
                justSpawned = true;
                particle.spawning = false;
                life.delayTime = 0;
                life.time = 0;
            }
            else {
                return;
            }
        }
        if (life.duration === -1) {
            return;
        }
        if (particle.spawning) {
            return;
        }
        if (justSpawned) {
            life.time = 0;
        }
        else {
            life.time += delta.value;
        }
        if (life.time < life.duration) {
            return;
        }
        life.time = 0;
        if (particle.life.count > 0) {
            particle.life.count--;
        }
        if (particle.life.count === 0) {
            particle.destroy();
            return;
        }
        const canvasSize = this.container.canvas.size, widthRange = (0, Utils_1.setRangeValue)(0, canvasSize.width), heightRange = (0, Utils_1.setRangeValue)(0, canvasSize.width);
        particle.position.x = (0, Utils_1.randomInRange)(widthRange);
        particle.position.y = (0, Utils_1.randomInRange)(heightRange);
        particle.spawning = true;
        life.delayTime = 0;
        life.time = 0;
        particle.reset();
        const lifeOptions = particle.options.life;
        life.delay = (0, Utils_1.getRangeValue)(lifeOptions.delay.value) * 1000;
        life.duration = (0, Utils_1.getRangeValue)(lifeOptions.duration.value) * 1000;
    }
}
exports.LifeUpdater = LifeUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Life/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Life/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadLifeUpdater = void 0;
const LifeUpdater_1 = __webpack_require__(/*! ./LifeUpdater */ "./node_modules/tsparticles/Updaters/Life/LifeUpdater.js");
async function loadLifeUpdater(tsParticles) {
    await tsParticles.addParticleUpdater("life", (container) => new LifeUpdater_1.LifeUpdater(container));
}
exports.loadLifeUpdater = loadLifeUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Opacity/OpacityUpdater.js":
/*!*********************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Opacity/OpacityUpdater.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OpacityUpdater = void 0;
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
function checkDestroy(particle, value, minValue, maxValue) {
    switch (particle.options.opacity.animation.destroy) {
        case Enums_1.DestroyType.max:
            if (value >= maxValue) {
                particle.destroy();
            }
            break;
        case Enums_1.DestroyType.min:
            if (value <= minValue) {
                particle.destroy();
            }
            break;
    }
}
function updateOpacity(particle, delta) {
    var _a, _b, _c, _d, _e;
    if (!particle.opacity) {
        return;
    }
    const minValue = particle.opacity.min;
    const maxValue = particle.opacity.max;
    if (!(!particle.destroyed &&
        particle.opacity.enable &&
        (((_a = particle.opacity.maxLoops) !== null && _a !== void 0 ? _a : 0) <= 0 || ((_b = particle.opacity.loops) !== null && _b !== void 0 ? _b : 0) < ((_c = particle.opacity.maxLoops) !== null && _c !== void 0 ? _c : 0)))) {
        return;
    }
    switch (particle.opacity.status) {
        case Enums_1.AnimationStatus.increasing:
            if (particle.opacity.value >= maxValue) {
                particle.opacity.status = Enums_1.AnimationStatus.decreasing;
                if (!particle.opacity.loops) {
                    particle.opacity.loops = 0;
                }
                particle.opacity.loops++;
            }
            else {
                particle.opacity.value += ((_d = particle.opacity.velocity) !== null && _d !== void 0 ? _d : 0) * delta.factor;
            }
            break;
        case Enums_1.AnimationStatus.decreasing:
            if (particle.opacity.value <= minValue) {
                particle.opacity.status = Enums_1.AnimationStatus.increasing;
                if (!particle.opacity.loops) {
                    particle.opacity.loops = 0;
                }
                particle.opacity.loops++;
            }
            else {
                particle.opacity.value -= ((_e = particle.opacity.velocity) !== null && _e !== void 0 ? _e : 0) * delta.factor;
            }
            break;
    }
    checkDestroy(particle, particle.opacity.value, minValue, maxValue);
    if (!particle.destroyed) {
        particle.opacity.value = (0, Utils_1.clamp)(particle.opacity.value, minValue, maxValue);
    }
}
class OpacityUpdater {
    constructor(container) {
        this.container = container;
    }
    init(particle) {
        const opacityOptions = particle.options.opacity;
        particle.opacity = {
            enable: opacityOptions.animation.enable,
            max: (0, Utils_1.getRangeMax)(opacityOptions.value),
            min: (0, Utils_1.getRangeMin)(opacityOptions.value),
            value: (0, Utils_1.getRangeValue)(opacityOptions.value),
            loops: 0,
            maxLoops: opacityOptions.animation.count,
        };
        const opacityAnimation = opacityOptions.animation;
        if (opacityAnimation.enable) {
            particle.opacity.status = Enums_1.AnimationStatus.increasing;
            const opacityRange = opacityOptions.value;
            particle.opacity.min = (0, Utils_1.getRangeMin)(opacityRange);
            particle.opacity.max = (0, Utils_1.getRangeMax)(opacityRange);
            switch (opacityAnimation.startValue) {
                case Enums_1.StartValueType.min:
                    particle.opacity.value = particle.opacity.min;
                    particle.opacity.status = Enums_1.AnimationStatus.increasing;
                    break;
                case Enums_1.StartValueType.random:
                    particle.opacity.value = (0, Utils_1.randomInRange)(particle.opacity);
                    particle.opacity.status =
                        Math.random() >= 0.5 ? Enums_1.AnimationStatus.increasing : Enums_1.AnimationStatus.decreasing;
                    break;
                case Enums_1.StartValueType.max:
                default:
                    particle.opacity.value = particle.opacity.max;
                    particle.opacity.status = Enums_1.AnimationStatus.decreasing;
                    break;
            }
            particle.opacity.velocity = (opacityAnimation.speed / 100) * this.container.retina.reduceFactor;
            if (!opacityAnimation.sync) {
                particle.opacity.velocity *= Math.random();
            }
        }
    }
    isEnabled(particle) {
        var _a, _b, _c;
        return (!particle.destroyed &&
            !particle.spawning &&
            !!particle.opacity &&
            particle.opacity.enable &&
            (((_a = particle.opacity.maxLoops) !== null && _a !== void 0 ? _a : 0) <= 0 || ((_b = particle.opacity.loops) !== null && _b !== void 0 ? _b : 0) < ((_c = particle.opacity.maxLoops) !== null && _c !== void 0 ? _c : 0)));
    }
    update(particle, delta) {
        if (!this.isEnabled(particle)) {
            return;
        }
        updateOpacity(particle, delta);
    }
}
exports.OpacityUpdater = OpacityUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Opacity/index.js":
/*!************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Opacity/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadOpacityUpdater = void 0;
const OpacityUpdater_1 = __webpack_require__(/*! ./OpacityUpdater */ "./node_modules/tsparticles/Updaters/Opacity/OpacityUpdater.js");
async function loadOpacityUpdater(tsParticles) {
    await tsParticles.addParticleUpdater("opacity", (container) => new OpacityUpdater_1.OpacityUpdater(container));
}
exports.loadOpacityUpdater = loadOpacityUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/OutModes/OutOfCanvasUpdater.js":
/*!**************************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/OutModes/OutOfCanvasUpdater.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OutOfCanvasUpdater = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Utils_2 = __webpack_require__(/*! ./Utils */ "./node_modules/tsparticles/Updaters/OutModes/Utils.js");
class OutOfCanvasUpdater {
    constructor(container) {
        this.container = container;
    }
    init() {
    }
    isEnabled(particle) {
        return !particle.destroyed && !particle.spawning;
    }
    update(particle, delta) {
        var _a, _b, _c, _d;
        const outModes = particle.options.move.outModes;
        this.updateOutMode(particle, delta, (_a = outModes.bottom) !== null && _a !== void 0 ? _a : outModes.default, Enums_1.OutModeDirection.bottom);
        this.updateOutMode(particle, delta, (_b = outModes.left) !== null && _b !== void 0 ? _b : outModes.default, Enums_1.OutModeDirection.left);
        this.updateOutMode(particle, delta, (_c = outModes.right) !== null && _c !== void 0 ? _c : outModes.default, Enums_1.OutModeDirection.right);
        this.updateOutMode(particle, delta, (_d = outModes.top) !== null && _d !== void 0 ? _d : outModes.default, Enums_1.OutModeDirection.top);
    }
    updateOutMode(particle, delta, outMode, direction) {
        switch (outMode) {
            case Enums_1.OutMode.bounce:
            case Enums_1.OutMode.bounceVertical:
            case Enums_1.OutMode.bounceHorizontal:
            case "bounceVertical":
            case "bounceHorizontal":
            case Enums_1.OutMode.split:
                this.bounce(particle, delta, direction, outMode);
                break;
            case Enums_1.OutMode.destroy:
                this.destroy(particle, direction);
                break;
            case Enums_1.OutMode.out:
                this.out(particle, direction);
                break;
            case Enums_1.OutMode.none:
            default:
                this.none(particle, direction);
                break;
        }
    }
    destroy(particle, direction) {
        const container = this.container;
        if ((0, Utils_1.isPointInside)(particle.position, container.canvas.size, particle.getRadius(), direction)) {
            return;
        }
        container.particles.remove(particle, undefined, true);
    }
    out(particle, direction) {
        const container = this.container;
        if ((0, Utils_1.isPointInside)(particle.position, container.canvas.size, particle.getRadius(), direction)) {
            return;
        }
        const wrap = particle.options.move.warp, canvasSize = container.canvas.size, newPos = {
            bottom: canvasSize.height + particle.getRadius() + particle.offset.y,
            left: -particle.getRadius() - particle.offset.x,
            right: canvasSize.width + particle.getRadius() + particle.offset.x,
            top: -particle.getRadius() - particle.offset.y,
        }, sizeValue = particle.getRadius(), nextBounds = (0, Utils_1.calculateBounds)(particle.position, sizeValue);
        if (direction === Enums_1.OutModeDirection.right && nextBounds.left > canvasSize.width + particle.offset.x) {
            particle.position.x = newPos.left;
            particle.initialPosition.x = particle.position.x;
            if (!wrap) {
                particle.position.y = Math.random() * canvasSize.height;
                particle.initialPosition.y = particle.position.y;
            }
        }
        else if (direction === Enums_1.OutModeDirection.left && nextBounds.right < -particle.offset.x) {
            particle.position.x = newPos.right;
            particle.initialPosition.x = particle.position.x;
            if (!wrap) {
                particle.position.y = Math.random() * canvasSize.height;
                particle.initialPosition.y = particle.position.y;
            }
        }
        if (direction === Enums_1.OutModeDirection.bottom && nextBounds.top > canvasSize.height + particle.offset.y) {
            if (!wrap) {
                particle.position.x = Math.random() * canvasSize.width;
                particle.initialPosition.x = particle.position.x;
            }
            particle.position.y = newPos.top;
            particle.initialPosition.y = particle.position.y;
        }
        else if (direction === Enums_1.OutModeDirection.top && nextBounds.bottom < -particle.offset.y) {
            if (!wrap) {
                particle.position.x = Math.random() * canvasSize.width;
                particle.initialPosition.x = particle.position.x;
            }
            particle.position.y = newPos.bottom;
            particle.initialPosition.y = particle.position.y;
        }
    }
    bounce(particle, delta, direction, outMode) {
        const container = this.container;
        let handled = false;
        for (const [, plugin] of container.plugins) {
            if (plugin.particleBounce !== undefined) {
                handled = plugin.particleBounce(particle, delta, direction);
            }
            if (handled) {
                break;
            }
        }
        if (handled) {
            return;
        }
        const pos = particle.getPosition(), offset = particle.offset, size = particle.getRadius(), bounds = (0, Utils_1.calculateBounds)(pos, size), canvasSize = container.canvas.size;
        (0, Utils_2.bounceHorizontal)({ particle, outMode, direction, bounds, canvasSize, offset, size });
        (0, Utils_2.bounceVertical)({ particle, outMode, direction, bounds, canvasSize, offset, size });
    }
    none(particle, direction) {
        if ((particle.options.move.distance.horizontal &&
            (direction === Enums_1.OutModeDirection.left || direction === Enums_1.OutModeDirection.right)) ||
            (particle.options.move.distance.vertical &&
                (direction === Enums_1.OutModeDirection.top || direction === Enums_1.OutModeDirection.bottom))) {
            return;
        }
        const gravityOptions = particle.options.move.gravity, container = this.container;
        const canvasSize = container.canvas.size;
        const pRadius = particle.getRadius();
        if (!gravityOptions.enable) {
            if ((particle.velocity.y > 0 && particle.position.y <= canvasSize.height + pRadius) ||
                (particle.velocity.y < 0 && particle.position.y >= -pRadius) ||
                (particle.velocity.x > 0 && particle.position.x <= canvasSize.width + pRadius) ||
                (particle.velocity.x < 0 && particle.position.x >= -pRadius)) {
                return;
            }
            if (!(0, Utils_1.isPointInside)(particle.position, container.canvas.size, pRadius, direction)) {
                container.particles.remove(particle);
            }
        }
        else {
            const position = particle.position;
            if ((!gravityOptions.inverse &&
                position.y > canvasSize.height + pRadius &&
                direction === Enums_1.OutModeDirection.bottom) ||
                (gravityOptions.inverse && position.y < -pRadius && direction === Enums_1.OutModeDirection.top)) {
                container.particles.remove(particle);
            }
        }
    }
}
exports.OutOfCanvasUpdater = OutOfCanvasUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/OutModes/Utils.js":
/*!*************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/OutModes/Utils.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.bounceVertical = exports.bounceHorizontal = void 0;
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
function bounceHorizontal(data) {
    if (!(data.outMode === Enums_1.OutMode.bounce ||
        data.outMode === Enums_1.OutMode.bounceHorizontal ||
        data.outMode === "bounceHorizontal" ||
        data.outMode === Enums_1.OutMode.split)) {
        return;
    }
    const velocity = data.particle.velocity.x;
    let bounced = false;
    if ((data.direction === Enums_1.OutModeDirection.right && data.bounds.right >= data.canvasSize.width && velocity > 0) ||
        (data.direction === Enums_1.OutModeDirection.left && data.bounds.left <= 0 && velocity < 0)) {
        const newVelocity = (0, Utils_1.getRangeValue)(data.particle.options.bounce.horizontal.value);
        data.particle.velocity.x *= -newVelocity;
        bounced = true;
    }
    if (!bounced) {
        return;
    }
    const minPos = data.offset.x + data.size;
    if (data.bounds.right >= data.canvasSize.width) {
        data.particle.position.x = data.canvasSize.width - minPos;
    }
    else if (data.bounds.left <= 0) {
        data.particle.position.x = minPos;
    }
    if (data.outMode === Enums_1.OutMode.split) {
        data.particle.destroy();
    }
}
exports.bounceHorizontal = bounceHorizontal;
function bounceVertical(data) {
    if (data.outMode === Enums_1.OutMode.bounce ||
        data.outMode === Enums_1.OutMode.bounceVertical ||
        data.outMode === "bounceVertical" ||
        data.outMode === Enums_1.OutMode.split) {
        const velocity = data.particle.velocity.y;
        let bounced = false;
        if ((data.direction === Enums_1.OutModeDirection.bottom &&
            data.bounds.bottom >= data.canvasSize.height &&
            velocity > 0) ||
            (data.direction === Enums_1.OutModeDirection.top && data.bounds.top <= 0 && velocity < 0)) {
            const newVelocity = (0, Utils_1.getRangeValue)(data.particle.options.bounce.vertical.value);
            data.particle.velocity.y *= -newVelocity;
            bounced = true;
        }
        if (!bounced) {
            return;
        }
        const minPos = data.offset.y + data.size;
        if (data.bounds.bottom >= data.canvasSize.height) {
            data.particle.position.y = data.canvasSize.height - minPos;
        }
        else if (data.bounds.top <= 0) {
            data.particle.position.y = minPos;
        }
        if (data.outMode === Enums_1.OutMode.split) {
            data.particle.destroy();
        }
    }
}
exports.bounceVertical = bounceVertical;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/OutModes/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/OutModes/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadOutModesUpdater = void 0;
const OutOfCanvasUpdater_1 = __webpack_require__(/*! ./OutOfCanvasUpdater */ "./node_modules/tsparticles/Updaters/OutModes/OutOfCanvasUpdater.js");
async function loadOutModesUpdater(tsParticles) {
    await tsParticles.addParticleUpdater("outModes", (container) => new OutOfCanvasUpdater_1.OutOfCanvasUpdater(container));
}
exports.loadOutModesUpdater = loadOutModesUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Roll/RollUpdater.js":
/*!***************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Roll/RollUpdater.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RollUpdater = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
function updateRoll(particle, delta) {
    const roll = particle.options.roll;
    if (!particle.roll || !roll.enable) {
        return;
    }
    const speed = particle.roll.speed * delta.factor;
    const max = 2 * Math.PI;
    particle.roll.angle += speed;
    if (particle.roll.angle > max) {
        particle.roll.angle -= max;
    }
}
class RollUpdater {
    init(particle) {
        const rollOpt = particle.options.roll;
        if (rollOpt.enable) {
            particle.roll = {
                angle: Math.random() * Math.PI * 2,
                speed: (0, Utils_1.getRangeValue)(rollOpt.speed) / 360,
            };
            if (rollOpt.backColor) {
                particle.backColor = (0, Utils_1.colorToHsl)(rollOpt.backColor);
            }
            else if (rollOpt.darken.enable && rollOpt.enlighten.enable) {
                const alterType = Math.random() >= 0.5 ? Enums_1.AlterType.darken : Enums_1.AlterType.enlighten;
                particle.roll.alter = {
                    type: alterType,
                    value: alterType === Enums_1.AlterType.darken ? rollOpt.darken.value : rollOpt.enlighten.value,
                };
            }
            else if (rollOpt.darken.enable) {
                particle.roll.alter = {
                    type: Enums_1.AlterType.darken,
                    value: rollOpt.darken.value,
                };
            }
            else if (rollOpt.enlighten.enable) {
                particle.roll.alter = {
                    type: Enums_1.AlterType.enlighten,
                    value: rollOpt.enlighten.value,
                };
            }
        }
        else {
            particle.roll = { angle: 0, speed: 0 };
        }
    }
    isEnabled(particle) {
        const roll = particle.options.roll;
        return !particle.destroyed && !particle.spawning && roll.enable;
    }
    update(particle, delta) {
        if (!this.isEnabled(particle)) {
            return;
        }
        updateRoll(particle, delta);
    }
}
exports.RollUpdater = RollUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Roll/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Roll/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadRollUpdater = void 0;
const RollUpdater_1 = __webpack_require__(/*! ./RollUpdater */ "./node_modules/tsparticles/Updaters/Roll/RollUpdater.js");
async function loadRollUpdater(tsParticles) {
    await tsParticles.addParticleUpdater("roll", () => new RollUpdater_1.RollUpdater());
}
exports.loadRollUpdater = loadRollUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Size/SizeUpdater.js":
/*!***************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Size/SizeUpdater.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SizeUpdater = void 0;
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
function checkDestroy(particle, value, minValue, maxValue) {
    switch (particle.options.size.animation.destroy) {
        case Enums_1.DestroyType.max:
            if (value >= maxValue) {
                particle.destroy();
            }
            break;
        case Enums_1.DestroyType.min:
            if (value <= minValue) {
                particle.destroy();
            }
            break;
    }
}
function updateSize(particle, delta) {
    var _a, _b, _c, _d;
    const sizeVelocity = ((_a = particle.size.velocity) !== null && _a !== void 0 ? _a : 0) * delta.factor;
    const minValue = particle.size.min;
    const maxValue = particle.size.max;
    if (!(!particle.destroyed &&
        particle.size.enable &&
        (((_b = particle.size.loops) !== null && _b !== void 0 ? _b : 0) <= 0 || ((_c = particle.size.loops) !== null && _c !== void 0 ? _c : 0) < ((_d = particle.size.maxLoops) !== null && _d !== void 0 ? _d : 0)))) {
        return;
    }
    switch (particle.size.status) {
        case Enums_1.AnimationStatus.increasing:
            if (particle.size.value >= maxValue) {
                particle.size.status = Enums_1.AnimationStatus.decreasing;
                if (!particle.size.loops) {
                    particle.size.loops = 0;
                }
                particle.size.loops++;
            }
            else {
                particle.size.value += sizeVelocity;
            }
            break;
        case Enums_1.AnimationStatus.decreasing:
            if (particle.size.value <= minValue) {
                particle.size.status = Enums_1.AnimationStatus.increasing;
                if (!particle.size.loops) {
                    particle.size.loops = 0;
                }
                particle.size.loops++;
            }
            else {
                particle.size.value -= sizeVelocity;
            }
    }
    checkDestroy(particle, particle.size.value, minValue, maxValue);
    if (!particle.destroyed) {
        particle.size.value = (0, Utils_1.clamp)(particle.size.value, minValue, maxValue);
    }
}
class SizeUpdater {
    init() {
    }
    isEnabled(particle) {
        var _a, _b, _c;
        return (!particle.destroyed &&
            !particle.spawning &&
            particle.size.enable &&
            (((_a = particle.size.loops) !== null && _a !== void 0 ? _a : 0) <= 0 || ((_b = particle.size.loops) !== null && _b !== void 0 ? _b : 0) < ((_c = particle.size.maxLoops) !== null && _c !== void 0 ? _c : 0)));
    }
    update(particle, delta) {
        if (!this.isEnabled(particle)) {
            return;
        }
        updateSize(particle, delta);
    }
}
exports.SizeUpdater = SizeUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Size/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Size/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadSizeUpdater = void 0;
const SizeUpdater_1 = __webpack_require__(/*! ./SizeUpdater */ "./node_modules/tsparticles/Updaters/Size/SizeUpdater.js");
async function loadSizeUpdater(tsParticles) {
    await tsParticles.addParticleUpdater("size", () => new SizeUpdater_1.SizeUpdater());
}
exports.loadSizeUpdater = loadSizeUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/StrokeColor/StrokeColorUpdater.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/StrokeColor/StrokeColorUpdater.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StrokeColorUpdater = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
function updateColorValue(delta, value, valueAnimation, max, decrease) {
    var _a;
    const colorValue = value;
    if (!colorValue || !colorValue.enable) {
        return;
    }
    const offset = (0, Utils_1.randomInRange)(valueAnimation.offset);
    const velocity = ((_a = value.velocity) !== null && _a !== void 0 ? _a : 0) * delta.factor + offset * 3.6;
    if (!decrease || colorValue.status === Enums_1.AnimationStatus.increasing) {
        colorValue.value += velocity;
        if (decrease && colorValue.value > max) {
            colorValue.status = Enums_1.AnimationStatus.decreasing;
            colorValue.value -= colorValue.value % max;
        }
    }
    else {
        colorValue.value -= velocity;
        if (colorValue.value < 0) {
            colorValue.status = Enums_1.AnimationStatus.increasing;
            colorValue.value += colorValue.value;
        }
    }
    if (colorValue.value > max) {
        colorValue.value %= max;
    }
}
function updateStrokeColor(particle, delta) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
    if (!((_a = particle.stroke) === null || _a === void 0 ? void 0 : _a.color)) {
        return;
    }
    const animationOptions = particle.stroke.color.animation;
    const h = (_c = (_b = particle.strokeColor) === null || _b === void 0 ? void 0 : _b.h) !== null && _c !== void 0 ? _c : (_d = particle.color) === null || _d === void 0 ? void 0 : _d.h;
    if (h) {
        updateColorValue(delta, h, animationOptions.h, 360, false);
    }
    const s = (_f = (_e = particle.strokeColor) === null || _e === void 0 ? void 0 : _e.s) !== null && _f !== void 0 ? _f : (_g = particle.color) === null || _g === void 0 ? void 0 : _g.s;
    if (s) {
        updateColorValue(delta, s, animationOptions.s, 100, true);
    }
    const l = (_j = (_h = particle.strokeColor) === null || _h === void 0 ? void 0 : _h.l) !== null && _j !== void 0 ? _j : (_k = particle.color) === null || _k === void 0 ? void 0 : _k.l;
    if (l) {
        updateColorValue(delta, l, animationOptions.l, 100, true);
    }
}
class StrokeColorUpdater {
    constructor(container) {
        this.container = container;
    }
    init(particle) {
        var _a, _b;
        const container = this.container;
        particle.stroke =
            particle.options.stroke instanceof Array
                ? (0, Utils_1.itemFromArray)(particle.options.stroke, particle.id, particle.options.reduceDuplicates)
                : particle.options.stroke;
        particle.strokeWidth = particle.stroke.width * container.retina.pixelRatio;
        const strokeHslColor = (_a = (0, Utils_1.colorToHsl)(particle.stroke.color)) !== null && _a !== void 0 ? _a : particle.getFillColor();
        if (strokeHslColor) {
            particle.strokeColor = (0, Utils_1.getHslAnimationFromHsl)(strokeHslColor, (_b = particle.stroke.color) === null || _b === void 0 ? void 0 : _b.animation, container.retina.reduceFactor);
        }
    }
    isEnabled(particle) {
        var _a, _b, _c, _d;
        const color = (_a = particle.stroke) === null || _a === void 0 ? void 0 : _a.color;
        return (!particle.destroyed &&
            !particle.spawning &&
            !!color &&
            ((((_b = particle.strokeColor) === null || _b === void 0 ? void 0 : _b.h.value) !== undefined && color.animation.h.enable) ||
                (((_c = particle.strokeColor) === null || _c === void 0 ? void 0 : _c.s.value) !== undefined && color.animation.s.enable) ||
                (((_d = particle.strokeColor) === null || _d === void 0 ? void 0 : _d.l.value) !== undefined && color.animation.l.enable)));
    }
    update(particle, delta) {
        if (!this.isEnabled(particle)) {
            return;
        }
        updateStrokeColor(particle, delta);
    }
}
exports.StrokeColorUpdater = StrokeColorUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/StrokeColor/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/StrokeColor/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadStrokeColorUpdater = void 0;
const StrokeColorUpdater_1 = __webpack_require__(/*! ./StrokeColorUpdater */ "./node_modules/tsparticles/Updaters/StrokeColor/StrokeColorUpdater.js");
async function loadStrokeColorUpdater(tsParticles) {
    await tsParticles.addParticleUpdater("strokeColor", (container) => new StrokeColorUpdater_1.StrokeColorUpdater(container));
}
exports.loadStrokeColorUpdater = loadStrokeColorUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Tilt/TiltUpdater.js":
/*!***************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Tilt/TiltUpdater.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TiltUpdater = void 0;
const Enums_1 = __webpack_require__(/*! ../../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
function updateTilt(particle, delta) {
    var _a;
    if (!particle.tilt) {
        return;
    }
    const tilt = particle.options.tilt;
    const tiltAnimation = tilt.animation;
    const speed = ((_a = particle.tilt.velocity) !== null && _a !== void 0 ? _a : 0) * delta.factor;
    const max = 2 * Math.PI;
    if (!tiltAnimation.enable) {
        return;
    }
    switch (particle.tilt.status) {
        case Enums_1.AnimationStatus.increasing:
            particle.tilt.value += speed;
            if (particle.tilt.value > max) {
                particle.tilt.value -= max;
            }
            break;
        case Enums_1.AnimationStatus.decreasing:
        default:
            particle.tilt.value -= speed;
            if (particle.tilt.value < 0) {
                particle.tilt.value += max;
            }
            break;
    }
}
class TiltUpdater {
    constructor(container) {
        this.container = container;
    }
    init(particle) {
        const tiltOptions = particle.options.tilt;
        particle.tilt = {
            enable: tiltOptions.enable,
            value: ((0, Utils_1.getRangeValue)(tiltOptions.value) * Math.PI) / 180,
            sinDirection: Math.random() >= 0.5 ? 1 : -1,
            cosDirection: Math.random() >= 0.5 ? 1 : -1,
        };
        let tiltDirection = tiltOptions.direction;
        if (tiltDirection === Enums_1.TiltDirection.random) {
            const index = Math.floor(Math.random() * 2);
            tiltDirection = index > 0 ? Enums_1.TiltDirection.counterClockwise : Enums_1.TiltDirection.clockwise;
        }
        switch (tiltDirection) {
            case Enums_1.TiltDirection.counterClockwise:
            case "counterClockwise":
                particle.tilt.status = Enums_1.AnimationStatus.decreasing;
                break;
            case Enums_1.TiltDirection.clockwise:
                particle.tilt.status = Enums_1.AnimationStatus.increasing;
                break;
        }
        const tiltAnimation = particle.options.tilt.animation;
        if (tiltAnimation.enable) {
            particle.tilt.velocity = (tiltAnimation.speed / 360) * this.container.retina.reduceFactor;
            if (!tiltAnimation.sync) {
                particle.tilt.velocity *= Math.random();
            }
        }
    }
    isEnabled(particle) {
        const tilt = particle.options.tilt;
        const tiltAnimation = tilt.animation;
        return !particle.destroyed && !particle.spawning && tiltAnimation.enable;
    }
    update(particle, delta) {
        if (!this.isEnabled(particle)) {
            return;
        }
        updateTilt(particle, delta);
    }
}
exports.TiltUpdater = TiltUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Tilt/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Tilt/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadTiltUpdater = void 0;
const TiltUpdater_1 = __webpack_require__(/*! ./TiltUpdater */ "./node_modules/tsparticles/Updaters/Tilt/TiltUpdater.js");
async function loadTiltUpdater(tsParticles) {
    await tsParticles.addParticleUpdater("tilt", (container) => new TiltUpdater_1.TiltUpdater(container));
}
exports.loadTiltUpdater = loadTiltUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Wobble/WobbleUpdater.js":
/*!*******************************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Wobble/WobbleUpdater.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WobbleUpdater = void 0;
const Utils_1 = __webpack_require__(/*! ../../Utils */ "./node_modules/tsparticles/Utils/index.js");
function updateWobble(particle, delta) {
    var _a;
    const wobble = particle.options.wobble;
    if (!wobble.enable || !particle.wobble) {
        return;
    }
    const speed = particle.wobble.speed * delta.factor;
    const distance = (((_a = particle.retina.wobbleDistance) !== null && _a !== void 0 ? _a : 0) * delta.factor) / (1000 / 60);
    const max = 2 * Math.PI;
    particle.wobble.angle += speed;
    if (particle.wobble.angle > max) {
        particle.wobble.angle -= max;
    }
    particle.position.x += distance * Math.cos(particle.wobble.angle);
    particle.position.y += distance * Math.abs(Math.sin(particle.wobble.angle));
}
class WobbleUpdater {
    constructor(container) {
        this.container = container;
    }
    init(particle) {
        const wobbleOpt = particle.options.wobble;
        if (wobbleOpt.enable) {
            particle.wobble = {
                angle: Math.random() * Math.PI * 2,
                speed: (0, Utils_1.getRangeValue)(wobbleOpt.speed) / 360,
            };
        }
        else {
            particle.wobble = {
                angle: 0,
                speed: 0,
            };
        }
        particle.retina.wobbleDistance = (0, Utils_1.getRangeValue)(wobbleOpt.distance) * this.container.retina.pixelRatio;
    }
    isEnabled(particle) {
        return !particle.destroyed && !particle.spawning && particle.options.wobble.enable;
    }
    update(particle, delta) {
        if (!this.isEnabled(particle)) {
            return;
        }
        updateWobble(particle, delta);
    }
}
exports.WobbleUpdater = WobbleUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Updaters/Wobble/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/tsparticles/Updaters/Wobble/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadWobbleUpdater = void 0;
const WobbleUpdater_1 = __webpack_require__(/*! ./WobbleUpdater */ "./node_modules/tsparticles/Updaters/Wobble/WobbleUpdater.js");
async function loadWobbleUpdater(tsParticles) {
    await tsParticles.addParticleUpdater("wobble", (container) => new WobbleUpdater_1.WobbleUpdater(container));
}
exports.loadWobbleUpdater = loadWobbleUpdater;


/***/ }),

/***/ "./node_modules/tsparticles/Utils/CanvasUtils.js":
/*!*******************************************************!*\
  !*** ./node_modules/tsparticles/Utils/CanvasUtils.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.alterHsl = exports.drawEllipse = exports.drawParticlePlugin = exports.drawPlugin = exports.drawShapeAfterEffect = exports.drawShape = exports.drawParticle = exports.drawGrabLine = exports.gradient = exports.drawConnectLine = exports.drawLinkTriangle = exports.drawLinkLine = exports.clear = exports.paintBase = void 0;
const NumberUtils_1 = __webpack_require__(/*! ./NumberUtils */ "./node_modules/tsparticles/Utils/NumberUtils.js");
const ColorUtils_1 = __webpack_require__(/*! ./ColorUtils */ "./node_modules/tsparticles/Utils/ColorUtils.js");
const Enums_1 = __webpack_require__(/*! ../Enums */ "./node_modules/tsparticles/Enums/index.js");
function drawLine(context, begin, end) {
    context.beginPath();
    context.moveTo(begin.x, begin.y);
    context.lineTo(end.x, end.y);
    context.closePath();
}
function drawTriangle(context, p1, p2, p3) {
    context.beginPath();
    context.moveTo(p1.x, p1.y);
    context.lineTo(p2.x, p2.y);
    context.lineTo(p3.x, p3.y);
    context.closePath();
}
function paintBase(context, dimension, baseColor) {
    context.save();
    context.fillStyle = baseColor !== null && baseColor !== void 0 ? baseColor : "rgba(0,0,0,0)";
    context.fillRect(0, 0, dimension.width, dimension.height);
    context.restore();
}
exports.paintBase = paintBase;
function clear(context, dimension) {
    context.clearRect(0, 0, dimension.width, dimension.height);
}
exports.clear = clear;
function drawLinkLine(context, width, begin, end, maxDistance, canvasSize, warp, backgroundMask, composite, colorLine, opacity, shadow) {
    let drawn = false;
    if ((0, NumberUtils_1.getDistance)(begin, end) <= maxDistance) {
        drawLine(context, begin, end);
        drawn = true;
    }
    else if (warp) {
        let pi1;
        let pi2;
        const endNE = {
            x: end.x - canvasSize.width,
            y: end.y,
        };
        const d1 = (0, NumberUtils_1.getDistances)(begin, endNE);
        if (d1.distance <= maxDistance) {
            const yi = begin.y - (d1.dy / d1.dx) * begin.x;
            pi1 = { x: 0, y: yi };
            pi2 = { x: canvasSize.width, y: yi };
        }
        else {
            const endSW = {
                x: end.x,
                y: end.y - canvasSize.height,
            };
            const d2 = (0, NumberUtils_1.getDistances)(begin, endSW);
            if (d2.distance <= maxDistance) {
                const yi = begin.y - (d2.dy / d2.dx) * begin.x;
                const xi = -yi / (d2.dy / d2.dx);
                pi1 = { x: xi, y: 0 };
                pi2 = { x: xi, y: canvasSize.height };
            }
            else {
                const endSE = {
                    x: end.x - canvasSize.width,
                    y: end.y - canvasSize.height,
                };
                const d3 = (0, NumberUtils_1.getDistances)(begin, endSE);
                if (d3.distance <= maxDistance) {
                    const yi = begin.y - (d3.dy / d3.dx) * begin.x;
                    const xi = -yi / (d3.dy / d3.dx);
                    pi1 = { x: xi, y: yi };
                    pi2 = { x: pi1.x + canvasSize.width, y: pi1.y + canvasSize.height };
                }
            }
        }
        if (pi1 && pi2) {
            drawLine(context, begin, pi1);
            drawLine(context, end, pi2);
            drawn = true;
        }
    }
    if (!drawn) {
        return;
    }
    context.lineWidth = width;
    if (backgroundMask) {
        context.globalCompositeOperation = composite;
    }
    context.strokeStyle = (0, ColorUtils_1.getStyleFromRgb)(colorLine, opacity);
    if (shadow.enable) {
        const shadowColor = (0, ColorUtils_1.colorToRgb)(shadow.color);
        if (shadowColor) {
            context.shadowBlur = shadow.blur;
            context.shadowColor = (0, ColorUtils_1.getStyleFromRgb)(shadowColor);
        }
    }
    context.stroke();
}
exports.drawLinkLine = drawLinkLine;
function drawLinkTriangle(context, pos1, pos2, pos3, backgroundMask, composite, colorTriangle, opacityTriangle) {
    drawTriangle(context, pos1, pos2, pos3);
    if (backgroundMask) {
        context.globalCompositeOperation = composite;
    }
    context.fillStyle = (0, ColorUtils_1.getStyleFromRgb)(colorTriangle, opacityTriangle);
    context.fill();
}
exports.drawLinkTriangle = drawLinkTriangle;
function drawConnectLine(context, width, lineStyle, begin, end) {
    context.save();
    drawLine(context, begin, end);
    context.lineWidth = width;
    context.strokeStyle = lineStyle;
    context.stroke();
    context.restore();
}
exports.drawConnectLine = drawConnectLine;
function gradient(context, p1, p2, opacity) {
    const gradStop = Math.floor(p2.getRadius() / p1.getRadius());
    const color1 = p1.getFillColor();
    const color2 = p2.getFillColor();
    if (!color1 || !color2) {
        return;
    }
    const sourcePos = p1.getPosition();
    const destPos = p2.getPosition();
    const midRgb = (0, ColorUtils_1.colorMix)(color1, color2, p1.getRadius(), p2.getRadius());
    const grad = context.createLinearGradient(sourcePos.x, sourcePos.y, destPos.x, destPos.y);
    grad.addColorStop(0, (0, ColorUtils_1.getStyleFromHsl)(color1, opacity));
    grad.addColorStop(gradStop > 1 ? 1 : gradStop, (0, ColorUtils_1.getStyleFromRgb)(midRgb, opacity));
    grad.addColorStop(1, (0, ColorUtils_1.getStyleFromHsl)(color2, opacity));
    return grad;
}
exports.gradient = gradient;
function drawGrabLine(context, width, begin, end, colorLine, opacity) {
    context.save();
    drawLine(context, begin, end);
    context.strokeStyle = (0, ColorUtils_1.getStyleFromRgb)(colorLine, opacity);
    context.lineWidth = width;
    context.stroke();
    context.restore();
}
exports.drawGrabLine = drawGrabLine;
function drawParticle(container, context, particle, delta, fillColorValue, strokeColorValue, backgroundMask, composite, radius, opacity, shadow, gradient) {
    var _a, _b, _c, _d, _e, _f;
    const pos = particle.getPosition();
    const tiltOptions = particle.options.tilt;
    const rollOptions = particle.options.roll;
    context.save();
    if (tiltOptions.enable || rollOptions.enable) {
        const roll = rollOptions.enable && particle.roll;
        const tilt = tiltOptions.enable && particle.tilt;
        const rollHorizontal = roll && (rollOptions.mode === Enums_1.RollMode.horizontal || rollOptions.mode === Enums_1.RollMode.both);
        const rollVertical = roll && (rollOptions.mode === Enums_1.RollMode.vertical || rollOptions.mode === Enums_1.RollMode.both);
        context.setTransform(rollHorizontal ? Math.cos(particle.roll.angle) : 1, tilt ? Math.cos(particle.tilt.value) * particle.tilt.cosDirection : 0, tilt ? Math.sin(particle.tilt.value) * particle.tilt.sinDirection : 0, rollVertical ? Math.sin(particle.roll.angle) : 1, pos.x, pos.y);
    }
    else {
        context.translate(pos.x, pos.y);
    }
    context.beginPath();
    const angle = ((_b = (_a = particle.rotate) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : 0) + (particle.options.rotate.path ? particle.velocity.angle : 0);
    if (angle !== 0) {
        context.rotate(angle);
    }
    if (backgroundMask) {
        context.globalCompositeOperation = composite;
    }
    const shadowColor = particle.shadowColor;
    if (shadow.enable && shadowColor) {
        context.shadowBlur = shadow.blur;
        context.shadowColor = (0, ColorUtils_1.getStyleFromRgb)(shadowColor);
        context.shadowOffsetX = shadow.offset.x;
        context.shadowOffsetY = shadow.offset.y;
    }
    if (gradient) {
        const gradientAngle = gradient.angle.value;
        const fillGradient = gradient.type === Enums_1.GradientType.radial
            ? context.createRadialGradient(0, 0, 0, 0, 0, radius)
            : context.createLinearGradient(Math.cos(gradientAngle) * -radius, Math.sin(gradientAngle) * -radius, Math.cos(gradientAngle) * radius, Math.sin(gradientAngle) * radius);
        for (const color of gradient.colors) {
            fillGradient.addColorStop(color.stop, (0, ColorUtils_1.getStyleFromHsl)({
                h: color.value.h.value,
                s: color.value.s.value,
                l: color.value.l.value,
            }, (_d = (_c = color.opacity) === null || _c === void 0 ? void 0 : _c.value) !== null && _d !== void 0 ? _d : opacity));
        }
        context.fillStyle = fillGradient;
    }
    else {
        if (fillColorValue) {
            context.fillStyle = fillColorValue;
        }
    }
    const stroke = particle.stroke;
    context.lineWidth = (_e = particle.strokeWidth) !== null && _e !== void 0 ? _e : 0;
    if (strokeColorValue) {
        context.strokeStyle = strokeColorValue;
    }
    drawShape(container, context, particle, radius, opacity, delta);
    if (((_f = stroke === null || stroke === void 0 ? void 0 : stroke.width) !== null && _f !== void 0 ? _f : 0) > 0) {
        context.stroke();
    }
    if (particle.close) {
        context.closePath();
    }
    if (particle.fill) {
        context.fill();
    }
    context.restore();
    context.save();
    if (tiltOptions.enable && particle.tilt) {
        context.setTransform(1, Math.cos(particle.tilt.value) * particle.tilt.cosDirection, Math.sin(particle.tilt.value) * particle.tilt.sinDirection, 1, pos.x, pos.y);
    }
    else {
        context.translate(pos.x, pos.y);
    }
    if (angle !== 0) {
        context.rotate(angle);
    }
    if (backgroundMask) {
        context.globalCompositeOperation = composite;
    }
    drawShapeAfterEffect(container, context, particle, radius, opacity, delta);
    context.restore();
}
exports.drawParticle = drawParticle;
function drawShape(container, context, particle, radius, opacity, delta) {
    if (!particle.shape) {
        return;
    }
    const drawer = container.drawers.get(particle.shape);
    if (!drawer) {
        return;
    }
    drawer.draw(context, particle, radius, opacity, delta, container.retina.pixelRatio);
}
exports.drawShape = drawShape;
function drawShapeAfterEffect(container, context, particle, radius, opacity, delta) {
    if (!particle.shape) {
        return;
    }
    const drawer = container.drawers.get(particle.shape);
    if (!(drawer === null || drawer === void 0 ? void 0 : drawer.afterEffect)) {
        return;
    }
    drawer.afterEffect(context, particle, radius, opacity, delta, container.retina.pixelRatio);
}
exports.drawShapeAfterEffect = drawShapeAfterEffect;
function drawPlugin(context, plugin, delta) {
    if (!plugin.draw) {
        return;
    }
    context.save();
    plugin.draw(context, delta);
    context.restore();
}
exports.drawPlugin = drawPlugin;
function drawParticlePlugin(context, plugin, particle, delta) {
    if (plugin.drawParticle !== undefined) {
        context.save();
        plugin.drawParticle(context, particle, delta);
        context.restore();
    }
}
exports.drawParticlePlugin = drawParticlePlugin;
function drawEllipse(context, particle, fillColorValue, radius, opacity, width, rotation, start, end) {
    const pos = particle.getPosition();
    if (fillColorValue) {
        context.strokeStyle = (0, ColorUtils_1.getStyleFromHsl)(fillColorValue, opacity);
    }
    if (width === 0) {
        return;
    }
    context.lineWidth = width;
    const rotationRadian = (rotation * Math.PI) / 180;
    context.beginPath();
    context.ellipse(pos.x, pos.y, radius / 2, radius * 2, rotationRadian, start, end);
    context.stroke();
}
exports.drawEllipse = drawEllipse;
function alterHsl(color, type, value) {
    return {
        h: color.h,
        s: color.s,
        l: color.l + (type === Enums_1.AlterType.darken ? -1 : 1) * value,
    };
}
exports.alterHsl = alterHsl;


/***/ }),

/***/ "./node_modules/tsparticles/Utils/Circle.js":
/*!**************************************************!*\
  !*** ./node_modules/tsparticles/Utils/Circle.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Circle = void 0;
const Range_1 = __webpack_require__(/*! ./Range */ "./node_modules/tsparticles/Utils/Range.js");
const NumberUtils_1 = __webpack_require__(/*! ./NumberUtils */ "./node_modules/tsparticles/Utils/NumberUtils.js");
class Circle extends Range_1.Range {
    constructor(x, y, radius) {
        super(x, y);
        this.radius = radius;
    }
    contains(point) {
        return (0, NumberUtils_1.getDistance)(point, this.position) <= this.radius;
    }
    intersects(range) {
        const rect = range;
        const circle = range;
        const pos1 = this.position;
        const pos2 = range.position;
        const xDist = Math.abs(pos2.x - pos1.x);
        const yDist = Math.abs(pos2.y - pos1.y);
        const r = this.radius;
        if (circle.radius !== undefined) {
            const rSum = r + circle.radius;
            const dist = Math.sqrt(xDist * xDist + yDist + yDist);
            return rSum > dist;
        }
        else if (rect.size !== undefined) {
            const w = rect.size.width;
            const h = rect.size.height;
            const edges = Math.pow(xDist - w, 2) + Math.pow(yDist - h, 2);
            if (xDist > r + w || yDist > r + h) {
                return false;
            }
            if (xDist <= w || yDist <= h) {
                return true;
            }
            return edges <= r * r;
        }
        return false;
    }
}
exports.Circle = Circle;


/***/ }),

/***/ "./node_modules/tsparticles/Utils/CircleWarp.js":
/*!******************************************************!*\
  !*** ./node_modules/tsparticles/Utils/CircleWarp.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CircleWarp = void 0;
const Rectangle_1 = __webpack_require__(/*! ./Rectangle */ "./node_modules/tsparticles/Utils/Rectangle.js");
const Circle_1 = __webpack_require__(/*! ./Circle */ "./node_modules/tsparticles/Utils/Circle.js");
class CircleWarp extends Circle_1.Circle {
    constructor(x, y, radius, canvasSize) {
        super(x, y, radius);
        this.canvasSize = canvasSize;
        this.canvasSize = {
            height: canvasSize.height,
            width: canvasSize.width,
        };
    }
    contains(point) {
        if (super.contains(point)) {
            return true;
        }
        const posNE = {
            x: point.x - this.canvasSize.width,
            y: point.y,
        };
        if (super.contains(posNE)) {
            return true;
        }
        const posSE = {
            x: point.x - this.canvasSize.width,
            y: point.y - this.canvasSize.height,
        };
        if (super.contains(posSE)) {
            return true;
        }
        const posSW = {
            x: point.x,
            y: point.y - this.canvasSize.height,
        };
        return super.contains(posSW);
    }
    intersects(range) {
        if (super.intersects(range)) {
            return true;
        }
        const rect = range;
        const circle = range;
        const newPos = {
            x: range.position.x - this.canvasSize.width,
            y: range.position.y - this.canvasSize.height,
        };
        if (circle.radius !== undefined) {
            const biggerCircle = new Circle_1.Circle(newPos.x, newPos.y, circle.radius * 2);
            return super.intersects(biggerCircle);
        }
        else if (rect.size !== undefined) {
            const rectSW = new Rectangle_1.Rectangle(newPos.x, newPos.y, rect.size.width * 2, rect.size.height * 2);
            return super.intersects(rectSW);
        }
        return false;
    }
}
exports.CircleWarp = CircleWarp;


/***/ }),

/***/ "./node_modules/tsparticles/Utils/ColorUtils.js":
/*!******************************************************!*\
  !*** ./node_modules/tsparticles/Utils/ColorUtils.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getHslAnimationFromHsl = exports.getHslFromAnimation = exports.getLinkRandomColor = exports.getLinkColor = exports.colorMix = exports.getStyleFromHsv = exports.getStyleFromHsl = exports.getStyleFromRgb = exports.getRandomRgbColor = exports.rgbaToHsva = exports.rgbToHsv = exports.hsvaToRgba = exports.hsvToRgb = exports.hsvaToHsla = exports.hsvToHsl = exports.hslaToHsva = exports.hslToHsv = exports.hslaToRgba = exports.hslToRgb = exports.stringToRgb = exports.stringToAlpha = exports.rgbToHsl = exports.colorToHsl = exports.colorToRgb = void 0;
const Utils_1 = __webpack_require__(/*! ./Utils */ "./node_modules/tsparticles/Utils/Utils.js");
const Constants_1 = __webpack_require__(/*! ./Constants */ "./node_modules/tsparticles/Utils/Constants.js");
const NumberUtils_1 = __webpack_require__(/*! ./NumberUtils */ "./node_modules/tsparticles/Utils/NumberUtils.js");
const Enums_1 = __webpack_require__(/*! ../Enums */ "./node_modules/tsparticles/Enums/index.js");
function hue2rgb(p, q, t) {
    let tCalc = t;
    if (tCalc < 0) {
        tCalc += 1;
    }
    if (tCalc > 1) {
        tCalc -= 1;
    }
    if (tCalc < 1 / 6) {
        return p + (q - p) * 6 * tCalc;
    }
    if (tCalc < 1 / 2) {
        return q;
    }
    if (tCalc < 2 / 3) {
        return p + (q - p) * (2 / 3 - tCalc) * 6;
    }
    return p;
}
function stringToRgba(input) {
    if (input.startsWith("rgb")) {
        const regex = /rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.]+)\s*)?\)/i;
        const result = regex.exec(input);
        return result
            ? {
                a: result.length > 4 ? parseFloat(result[5]) : 1,
                b: parseInt(result[3], 10),
                g: parseInt(result[2], 10),
                r: parseInt(result[1], 10),
            }
            : undefined;
    }
    else if (input.startsWith("hsl")) {
        const regex = /hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i;
        const result = regex.exec(input);
        return result
            ? hslaToRgba({
                a: result.length > 4 ? parseFloat(result[5]) : 1,
                h: parseInt(result[1], 10),
                l: parseInt(result[3], 10),
                s: parseInt(result[2], 10),
            })
            : undefined;
    }
    else if (input.startsWith("hsv")) {
        const regex = /hsva?\(\s*(\d+)°\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i;
        const result = regex.exec(input);
        return result
            ? hsvaToRgba({
                a: result.length > 4 ? parseFloat(result[5]) : 1,
                h: parseInt(result[1], 10),
                s: parseInt(result[2], 10),
                v: parseInt(result[3], 10),
            })
            : undefined;
    }
    else {
        const shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i;
        const hexFixed = input.replace(shorthandRegex, (_m, r, g, b, a) => {
            return r + r + g + g + b + b + (a !== undefined ? a + a : "");
        });
        const regex = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i;
        const result = regex.exec(hexFixed);
        return result
            ? {
                a: result[4] !== undefined ? parseInt(result[4], 16) / 0xff : 1,
                b: parseInt(result[3], 16),
                g: parseInt(result[2], 16),
                r: parseInt(result[1], 16),
            }
            : undefined;
    }
}
function colorToRgb(input, index, useIndex = true) {
    var _a, _b, _c;
    if (input === undefined) {
        return;
    }
    const color = typeof input === "string" ? { value: input } : input;
    let res;
    if (typeof color.value === "string") {
        if (color.value === Constants_1.Constants.randomColorValue) {
            res = getRandomRgbColor();
        }
        else {
            res = stringToRgb(color.value);
        }
    }
    else {
        if (color.value instanceof Array) {
            const colorSelected = (0, Utils_1.itemFromArray)(color.value, index, useIndex);
            res = colorToRgb({ value: colorSelected });
        }
        else {
            const colorValue = color.value;
            const rgbColor = (_a = colorValue.rgb) !== null && _a !== void 0 ? _a : color.value;
            if (rgbColor.r !== undefined) {
                res = rgbColor;
            }
            else {
                const hslColor = (_b = colorValue.hsl) !== null && _b !== void 0 ? _b : color.value;
                if (hslColor.h !== undefined && hslColor.l !== undefined) {
                    res = hslToRgb(hslColor);
                }
                else {
                    const hsvColor = (_c = colorValue.hsv) !== null && _c !== void 0 ? _c : color.value;
                    if (hsvColor.h !== undefined && hsvColor.v !== undefined) {
                        res = hsvToRgb(hsvColor);
                    }
                }
            }
        }
    }
    return res;
}
exports.colorToRgb = colorToRgb;
function colorToHsl(color, index, useIndex = true) {
    const rgb = colorToRgb(color, index, useIndex);
    return rgb !== undefined ? rgbToHsl(rgb) : undefined;
}
exports.colorToHsl = colorToHsl;
function rgbToHsl(color) {
    const r1 = color.r / 255;
    const g1 = color.g / 255;
    const b1 = color.b / 255;
    const max = Math.max(r1, g1, b1);
    const min = Math.min(r1, g1, b1);
    const res = {
        h: 0,
        l: (max + min) / 2,
        s: 0,
    };
    if (max != min) {
        res.s = res.l < 0.5 ? (max - min) / (max + min) : (max - min) / (2.0 - max - min);
        res.h =
            r1 === max
                ? (g1 - b1) / (max - min)
                : (res.h = g1 === max ? 2.0 + (b1 - r1) / (max - min) : 4.0 + (r1 - g1) / (max - min));
    }
    res.l *= 100;
    res.s *= 100;
    res.h *= 60;
    if (res.h < 0) {
        res.h += 360;
    }
    return res;
}
exports.rgbToHsl = rgbToHsl;
function stringToAlpha(input) {
    var _a;
    return (_a = stringToRgba(input)) === null || _a === void 0 ? void 0 : _a.a;
}
exports.stringToAlpha = stringToAlpha;
function stringToRgb(input) {
    return stringToRgba(input);
}
exports.stringToRgb = stringToRgb;
function hslToRgb(hsl) {
    const result = { b: 0, g: 0, r: 0 };
    const hslPercent = {
        h: hsl.h / 360,
        l: hsl.l / 100,
        s: hsl.s / 100,
    };
    if (hslPercent.s === 0) {
        result.b = hslPercent.l;
        result.g = hslPercent.l;
        result.r = hslPercent.l;
    }
    else {
        const q = hslPercent.l < 0.5
            ? hslPercent.l * (1 + hslPercent.s)
            : hslPercent.l + hslPercent.s - hslPercent.l * hslPercent.s;
        const p = 2 * hslPercent.l - q;
        result.r = hue2rgb(p, q, hslPercent.h + 1 / 3);
        result.g = hue2rgb(p, q, hslPercent.h);
        result.b = hue2rgb(p, q, hslPercent.h - 1 / 3);
    }
    result.r = Math.floor(result.r * 255);
    result.g = Math.floor(result.g * 255);
    result.b = Math.floor(result.b * 255);
    return result;
}
exports.hslToRgb = hslToRgb;
function hslaToRgba(hsla) {
    const rgbResult = hslToRgb(hsla);
    return {
        a: hsla.a,
        b: rgbResult.b,
        g: rgbResult.g,
        r: rgbResult.r,
    };
}
exports.hslaToRgba = hslaToRgba;
function hslToHsv(hsl) {
    const l = hsl.l / 100, sl = hsl.s / 100;
    const v = l + sl * Math.min(l, 1 - l), sv = !v ? 0 : 2 * (1 - l / v);
    return {
        h: hsl.h,
        s: sv * 100,
        v: v * 100,
    };
}
exports.hslToHsv = hslToHsv;
function hslaToHsva(hsla) {
    const hsvResult = hslToHsv(hsla);
    return {
        a: hsla.a,
        h: hsvResult.h,
        s: hsvResult.s,
        v: hsvResult.v,
    };
}
exports.hslaToHsva = hslaToHsva;
function hsvToHsl(hsv) {
    const v = hsv.v / 100, sv = hsv.s / 100;
    const l = v * (1 - sv / 2), sl = l === 0 || l === 1 ? 0 : (v - l) / Math.min(l, 1 - l);
    return {
        h: hsv.h,
        l: l * 100,
        s: sl * 100,
    };
}
exports.hsvToHsl = hsvToHsl;
function hsvaToHsla(hsva) {
    const hslResult = hsvToHsl(hsva);
    return {
        a: hsva.a,
        h: hslResult.h,
        l: hslResult.l,
        s: hslResult.s,
    };
}
exports.hsvaToHsla = hsvaToHsla;
function hsvToRgb(hsv) {
    const result = { b: 0, g: 0, r: 0 };
    const hsvPercent = {
        h: hsv.h / 60,
        s: hsv.s / 100,
        v: hsv.v / 100,
    };
    const c = hsvPercent.v * hsvPercent.s, x = c * (1 - Math.abs((hsvPercent.h % 2) - 1));
    let tempRgb;
    if (hsvPercent.h >= 0 && hsvPercent.h <= 1) {
        tempRgb = {
            r: c,
            g: x,
            b: 0,
        };
    }
    else if (hsvPercent.h > 1 && hsvPercent.h <= 2) {
        tempRgb = {
            r: x,
            g: c,
            b: 0,
        };
    }
    else if (hsvPercent.h > 2 && hsvPercent.h <= 3) {
        tempRgb = {
            r: 0,
            g: c,
            b: x,
        };
    }
    else if (hsvPercent.h > 3 && hsvPercent.h <= 4) {
        tempRgb = {
            r: 0,
            g: x,
            b: c,
        };
    }
    else if (hsvPercent.h > 4 && hsvPercent.h <= 5) {
        tempRgb = {
            r: x,
            g: 0,
            b: c,
        };
    }
    else if (hsvPercent.h > 5 && hsvPercent.h <= 6) {
        tempRgb = {
            r: c,
            g: 0,
            b: x,
        };
    }
    if (tempRgb) {
        const m = hsvPercent.v - c;
        result.r = Math.floor((tempRgb.r + m) * 255);
        result.g = Math.floor((tempRgb.g + m) * 255);
        result.b = Math.floor((tempRgb.b + m) * 255);
    }
    return result;
}
exports.hsvToRgb = hsvToRgb;
function hsvaToRgba(hsva) {
    const rgbResult = hsvToRgb(hsva);
    return {
        a: hsva.a,
        b: rgbResult.b,
        g: rgbResult.g,
        r: rgbResult.r,
    };
}
exports.hsvaToRgba = hsvaToRgba;
function rgbToHsv(rgb) {
    const rgbPercent = {
        r: rgb.r / 255,
        g: rgb.g / 255,
        b: rgb.b / 255,
    }, xMax = Math.max(rgbPercent.r, rgbPercent.g, rgbPercent.b), xMin = Math.min(rgbPercent.r, rgbPercent.g, rgbPercent.b), v = xMax, c = xMax - xMin;
    let h = 0;
    if (v === rgbPercent.r) {
        h = 60 * ((rgbPercent.g - rgbPercent.b) / c);
    }
    else if (v === rgbPercent.g) {
        h = 60 * (2 + (rgbPercent.b - rgbPercent.r) / c);
    }
    else if (v === rgbPercent.b) {
        h = 60 * (4 + (rgbPercent.r - rgbPercent.g) / c);
    }
    const s = !v ? 0 : c / v;
    return {
        h,
        s: s * 100,
        v: v * 100,
    };
}
exports.rgbToHsv = rgbToHsv;
function rgbaToHsva(rgba) {
    const hsvResult = rgbToHsv(rgba);
    return {
        a: rgba.a,
        h: hsvResult.h,
        s: hsvResult.s,
        v: hsvResult.v,
    };
}
exports.rgbaToHsva = rgbaToHsva;
function getRandomRgbColor(min) {
    const fixedMin = min !== null && min !== void 0 ? min : 0;
    return {
        b: Math.floor((0, NumberUtils_1.randomInRange)((0, NumberUtils_1.setRangeValue)(fixedMin, 256))),
        g: Math.floor((0, NumberUtils_1.randomInRange)((0, NumberUtils_1.setRangeValue)(fixedMin, 256))),
        r: Math.floor((0, NumberUtils_1.randomInRange)((0, NumberUtils_1.setRangeValue)(fixedMin, 256))),
    };
}
exports.getRandomRgbColor = getRandomRgbColor;
function getStyleFromRgb(color, opacity) {
    return `rgba(${color.r}, ${color.g}, ${color.b}, ${opacity !== null && opacity !== void 0 ? opacity : 1})`;
}
exports.getStyleFromRgb = getStyleFromRgb;
function getStyleFromHsl(color, opacity) {
    return `hsla(${color.h}, ${color.s}%, ${color.l}%, ${opacity !== null && opacity !== void 0 ? opacity : 1})`;
}
exports.getStyleFromHsl = getStyleFromHsl;
function getStyleFromHsv(color, opacity) {
    return getStyleFromHsl(hsvToHsl(color), opacity);
}
exports.getStyleFromHsv = getStyleFromHsv;
function colorMix(color1, color2, size1, size2) {
    let rgb1 = color1;
    let rgb2 = color2;
    if (rgb1.r === undefined) {
        rgb1 = hslToRgb(color1);
    }
    if (rgb2.r === undefined) {
        rgb2 = hslToRgb(color2);
    }
    return {
        b: (0, NumberUtils_1.mix)(rgb1.b, rgb2.b, size1, size2),
        g: (0, NumberUtils_1.mix)(rgb1.g, rgb2.g, size1, size2),
        r: (0, NumberUtils_1.mix)(rgb1.r, rgb2.r, size1, size2),
    };
}
exports.colorMix = colorMix;
function getLinkColor(p1, p2, linkColor) {
    var _a, _b;
    if (linkColor === Constants_1.Constants.randomColorValue) {
        return getRandomRgbColor();
    }
    else if (linkColor === "mid") {
        const sourceColor = (_a = p1.getFillColor()) !== null && _a !== void 0 ? _a : p1.getStrokeColor();
        const destColor = (_b = p2 === null || p2 === void 0 ? void 0 : p2.getFillColor()) !== null && _b !== void 0 ? _b : p2 === null || p2 === void 0 ? void 0 : p2.getStrokeColor();
        if (sourceColor && destColor && p2) {
            return colorMix(sourceColor, destColor, p1.getRadius(), p2.getRadius());
        }
        else {
            const hslColor = sourceColor !== null && sourceColor !== void 0 ? sourceColor : destColor;
            if (hslColor) {
                return hslToRgb(hslColor);
            }
        }
    }
    else {
        return linkColor;
    }
}
exports.getLinkColor = getLinkColor;
function getLinkRandomColor(optColor, blink, consent) {
    const color = typeof optColor === "string" ? optColor : optColor.value;
    if (color === Constants_1.Constants.randomColorValue) {
        if (consent) {
            return colorToRgb({
                value: color,
            });
        }
        else if (blink) {
            return Constants_1.Constants.randomColorValue;
        }
        else {
            return Constants_1.Constants.midColorValue;
        }
    }
    else {
        return colorToRgb({
            value: color,
        });
    }
}
exports.getLinkRandomColor = getLinkRandomColor;
function getHslFromAnimation(animation) {
    return animation !== undefined
        ? {
            h: animation.h.value,
            s: animation.s.value,
            l: animation.l.value,
        }
        : undefined;
}
exports.getHslFromAnimation = getHslFromAnimation;
function getHslAnimationFromHsl(hsl, animationOptions, reduceFactor) {
    const resColor = {
        h: {
            enable: false,
            value: hsl.h,
        },
        s: {
            enable: false,
            value: hsl.s,
        },
        l: {
            enable: false,
            value: hsl.l,
        },
    };
    if (animationOptions) {
        setColorAnimation(resColor.h, animationOptions.h, reduceFactor);
        setColorAnimation(resColor.s, animationOptions.s, reduceFactor);
        setColorAnimation(resColor.l, animationOptions.l, reduceFactor);
    }
    return resColor;
}
exports.getHslAnimationFromHsl = getHslAnimationFromHsl;
function setColorAnimation(colorValue, colorAnimation, reduceFactor) {
    colorValue.enable = colorAnimation.enable;
    if (colorValue.enable) {
        colorValue.velocity = (colorAnimation.speed / 100) * reduceFactor;
        if (colorAnimation.sync) {
            return;
        }
        colorValue.status = Enums_1.AnimationStatus.increasing;
        colorValue.velocity *= Math.random();
        if (colorValue.value) {
            colorValue.value *= Math.random();
        }
    }
    else {
        colorValue.velocity = 0;
    }
}


/***/ }),

/***/ "./node_modules/tsparticles/Utils/Constants.js":
/*!*****************************************************!*\
  !*** ./node_modules/tsparticles/Utils/Constants.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Constants = void 0;
class Constants {
}
exports.Constants = Constants;
Constants.canvasClass = "tsparticles-canvas-el";
Constants.randomColorValue = "random";
Constants.midColorValue = "mid";
Constants.touchEndEvent = "touchend";
Constants.mouseDownEvent = "mousedown";
Constants.mouseUpEvent = "mouseup";
Constants.mouseMoveEvent = "mousemove";
Constants.touchStartEvent = "touchstart";
Constants.touchMoveEvent = "touchmove";
Constants.mouseLeaveEvent = "mouseleave";
Constants.mouseOutEvent = "mouseout";
Constants.touchCancelEvent = "touchcancel";
Constants.resizeEvent = "resize";
Constants.visibilityChangeEvent = "visibilitychange";
Constants.noPolygonDataLoaded = "No polygon data loaded.";
Constants.noPolygonFound = "No polygon found, you need to specify SVG url in config.";


/***/ }),

/***/ "./node_modules/tsparticles/Utils/EventListeners.js":
/*!**********************************************************!*\
  !*** ./node_modules/tsparticles/Utils/EventListeners.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EventListeners = void 0;
const Enums_1 = __webpack_require__(/*! ../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Constants_1 = __webpack_require__(/*! ./Constants */ "./node_modules/tsparticles/Utils/Constants.js");
const Utils_1 = __webpack_require__(/*! ./Utils */ "./node_modules/tsparticles/Utils/Utils.js");
function manageListener(element, event, handler, add, options) {
    if (add) {
        let addOptions = { passive: true };
        if (typeof options === "boolean") {
            addOptions.capture = options;
        }
        else if (options !== undefined) {
            addOptions = options;
        }
        element.addEventListener(event, handler, addOptions);
    }
    else {
        const removeOptions = options;
        element.removeEventListener(event, handler, removeOptions);
    }
}
class EventListeners {
    constructor(container) {
        this.container = container;
        this.canPush = true;
        this.mouseMoveHandler = (e) => this.mouseTouchMove(e);
        this.touchStartHandler = (e) => this.mouseTouchMove(e);
        this.touchMoveHandler = (e) => this.mouseTouchMove(e);
        this.touchEndHandler = () => this.mouseTouchFinish();
        this.mouseLeaveHandler = () => this.mouseTouchFinish();
        this.touchCancelHandler = () => this.mouseTouchFinish();
        this.touchEndClickHandler = (e) => this.mouseTouchClick(e);
        this.mouseUpHandler = (e) => this.mouseTouchClick(e);
        this.mouseDownHandler = () => this.mouseDown();
        this.visibilityChangeHandler = () => this.handleVisibilityChange();
        this.themeChangeHandler = (e) => this.handleThemeChange(e);
        this.oldThemeChangeHandler = (e) => this.handleThemeChange(e);
        this.resizeHandler = () => this.handleWindowResize();
    }
    addListeners() {
        this.manageListeners(true);
    }
    removeListeners() {
        this.manageListeners(false);
    }
    manageListeners(add) {
        var _a;
        const container = this.container;
        const options = container.actualOptions;
        const detectType = options.interactivity.detectsOn;
        let mouseLeaveEvent = Constants_1.Constants.mouseLeaveEvent;
        if (detectType === Enums_1.InteractivityDetect.window) {
            container.interactivity.element = window;
            mouseLeaveEvent = Constants_1.Constants.mouseOutEvent;
        }
        else if (detectType === Enums_1.InteractivityDetect.parent && container.canvas.element) {
            const canvasEl = container.canvas.element;
            container.interactivity.element = (_a = canvasEl.parentElement) !== null && _a !== void 0 ? _a : canvasEl.parentNode;
        }
        else {
            container.interactivity.element = container.canvas.element;
        }
        const mediaMatch = !(0, Utils_1.isSsr)() && typeof matchMedia !== "undefined" && matchMedia("(prefers-color-scheme: dark)");
        if (mediaMatch) {
            if (mediaMatch.addEventListener !== undefined) {
                manageListener(mediaMatch, "change", this.themeChangeHandler, add);
            }
            else if (mediaMatch.addListener !== undefined) {
                if (add) {
                    mediaMatch.addListener(this.oldThemeChangeHandler);
                }
                else {
                    mediaMatch.removeListener(this.oldThemeChangeHandler);
                }
            }
        }
        const interactivityEl = container.interactivity.element;
        if (!interactivityEl) {
            return;
        }
        const html = interactivityEl;
        if (options.interactivity.events.onHover.enable || options.interactivity.events.onClick.enable) {
            manageListener(interactivityEl, Constants_1.Constants.mouseMoveEvent, this.mouseMoveHandler, add);
            manageListener(interactivityEl, Constants_1.Constants.touchStartEvent, this.touchStartHandler, add);
            manageListener(interactivityEl, Constants_1.Constants.touchMoveEvent, this.touchMoveHandler, add);
            if (!options.interactivity.events.onClick.enable) {
                manageListener(interactivityEl, Constants_1.Constants.touchEndEvent, this.touchEndHandler, add);
            }
            else {
                manageListener(interactivityEl, Constants_1.Constants.touchEndEvent, this.touchEndClickHandler, add);
                manageListener(interactivityEl, Constants_1.Constants.mouseUpEvent, this.mouseUpHandler, add);
                manageListener(interactivityEl, Constants_1.Constants.mouseDownEvent, this.mouseDownHandler, add);
            }
            manageListener(interactivityEl, mouseLeaveEvent, this.mouseLeaveHandler, add);
            manageListener(interactivityEl, Constants_1.Constants.touchCancelEvent, this.touchCancelHandler, add);
        }
        if (container.canvas.element) {
            container.canvas.element.style.pointerEvents = html === container.canvas.element ? "initial" : "none";
        }
        if (options.interactivity.events.resize) {
            if (typeof ResizeObserver !== "undefined") {
                if (this.resizeObserver && !add) {
                    if (container.canvas.element) {
                        this.resizeObserver.unobserve(container.canvas.element);
                    }
                    this.resizeObserver.disconnect();
                    delete this.resizeObserver;
                }
                else if (!this.resizeObserver && add && container.canvas.element) {
                    this.resizeObserver = new ResizeObserver((entries) => {
                        const entry = entries.find((e) => e.target === container.canvas.element);
                        if (!entry) {
                            return;
                        }
                        this.handleWindowResize();
                    });
                    this.resizeObserver.observe(container.canvas.element);
                }
            }
            else {
                manageListener(window, Constants_1.Constants.resizeEvent, this.resizeHandler, add);
            }
        }
        if (document) {
            manageListener(document, Constants_1.Constants.visibilityChangeEvent, this.visibilityChangeHandler, add, false);
        }
    }
    handleWindowResize() {
        if (this.resizeTimeout) {
            clearTimeout(this.resizeTimeout);
            delete this.resizeTimeout;
        }
        this.resizeTimeout = setTimeout(() => { var _a; return (_a = this.container.canvas) === null || _a === void 0 ? void 0 : _a.windowResize(); }, 500);
    }
    handleVisibilityChange() {
        const container = this.container;
        const options = container.actualOptions;
        this.mouseTouchFinish();
        if (!options.pauseOnBlur) {
            return;
        }
        if (document === null || document === void 0 ? void 0 : document.hidden) {
            container.pageHidden = true;
            container.pause();
        }
        else {
            container.pageHidden = false;
            if (container.getAnimationStatus()) {
                container.play(true);
            }
            else {
                container.draw(true);
            }
        }
    }
    mouseDown() {
        const interactivity = this.container.interactivity;
        if (interactivity) {
            const mouse = interactivity.mouse;
            mouse.clicking = true;
            mouse.downPosition = mouse.position;
        }
    }
    mouseTouchMove(e) {
        var _a, _b, _c, _d, _e, _f, _g;
        const container = this.container;
        const options = container.actualOptions;
        if (((_a = container.interactivity) === null || _a === void 0 ? void 0 : _a.element) === undefined) {
            return;
        }
        container.interactivity.mouse.inside = true;
        let pos;
        const canvas = container.canvas.element;
        if (e.type.startsWith("mouse")) {
            this.canPush = true;
            const mouseEvent = e;
            if (container.interactivity.element === window) {
                if (canvas) {
                    const clientRect = canvas.getBoundingClientRect();
                    pos = {
                        x: mouseEvent.clientX - clientRect.left,
                        y: mouseEvent.clientY - clientRect.top,
                    };
                }
            }
            else if (options.interactivity.detectsOn === Enums_1.InteractivityDetect.parent) {
                const source = mouseEvent.target;
                const target = mouseEvent.currentTarget;
                const canvasEl = container.canvas.element;
                if (source && target && canvasEl) {
                    const sourceRect = source.getBoundingClientRect();
                    const targetRect = target.getBoundingClientRect();
                    const canvasRect = canvasEl.getBoundingClientRect();
                    pos = {
                        x: mouseEvent.offsetX + 2 * sourceRect.left - (targetRect.left + canvasRect.left),
                        y: mouseEvent.offsetY + 2 * sourceRect.top - (targetRect.top + canvasRect.top),
                    };
                }
                else {
                    pos = {
                        x: (_b = mouseEvent.offsetX) !== null && _b !== void 0 ? _b : mouseEvent.clientX,
                        y: (_c = mouseEvent.offsetY) !== null && _c !== void 0 ? _c : mouseEvent.clientY,
                    };
                }
            }
            else {
                if (mouseEvent.target === container.canvas.element) {
                    pos = {
                        x: (_d = mouseEvent.offsetX) !== null && _d !== void 0 ? _d : mouseEvent.clientX,
                        y: (_e = mouseEvent.offsetY) !== null && _e !== void 0 ? _e : mouseEvent.clientY,
                    };
                }
            }
        }
        else {
            this.canPush = e.type !== "touchmove";
            const touchEvent = e;
            const lastTouch = touchEvent.touches[touchEvent.touches.length - 1];
            const canvasRect = canvas === null || canvas === void 0 ? void 0 : canvas.getBoundingClientRect();
            pos = {
                x: lastTouch.clientX - ((_f = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.left) !== null && _f !== void 0 ? _f : 0),
                y: lastTouch.clientY - ((_g = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.top) !== null && _g !== void 0 ? _g : 0),
            };
        }
        const pxRatio = container.retina.pixelRatio;
        if (pos) {
            pos.x *= pxRatio;
            pos.y *= pxRatio;
        }
        container.interactivity.mouse.position = pos;
        container.interactivity.status = Constants_1.Constants.mouseMoveEvent;
    }
    mouseTouchFinish() {
        const interactivity = this.container.interactivity;
        if (interactivity === undefined) {
            return;
        }
        const mouse = interactivity.mouse;
        delete mouse.position;
        delete mouse.clickPosition;
        delete mouse.downPosition;
        interactivity.status = Constants_1.Constants.mouseLeaveEvent;
        mouse.inside = false;
        mouse.clicking = false;
    }
    mouseTouchClick(e) {
        const container = this.container;
        const options = container.actualOptions;
        const mouse = container.interactivity.mouse;
        mouse.inside = true;
        let handled = false;
        const mousePosition = mouse.position;
        if (mousePosition === undefined || !options.interactivity.events.onClick.enable) {
            return;
        }
        for (const [, plugin] of container.plugins) {
            if (plugin.clickPositionValid !== undefined) {
                handled = plugin.clickPositionValid(mousePosition);
                if (handled) {
                    break;
                }
            }
        }
        if (!handled) {
            this.doMouseTouchClick(e);
        }
        mouse.clicking = false;
    }
    doMouseTouchClick(e) {
        const container = this.container;
        const options = container.actualOptions;
        if (this.canPush) {
            const mousePos = container.interactivity.mouse.position;
            if (mousePos) {
                container.interactivity.mouse.clickPosition = {
                    x: mousePos.x,
                    y: mousePos.y,
                };
            }
            else {
                return;
            }
            container.interactivity.mouse.clickTime = new Date().getTime();
            const onClick = options.interactivity.events.onClick;
            if (onClick.mode instanceof Array) {
                for (const mode of onClick.mode) {
                    this.handleClickMode(mode);
                }
            }
            else {
                this.handleClickMode(onClick.mode);
            }
        }
        if (e.type === "touchend") {
            setTimeout(() => this.mouseTouchFinish(), 500);
        }
    }
    handleThemeChange(e) {
        const mediaEvent = e;
        const themeName = mediaEvent.matches
            ? this.container.options.defaultDarkTheme
            : this.container.options.defaultLightTheme;
        const theme = this.container.options.themes.find((theme) => theme.name === themeName);
        if (theme && theme.default.auto) {
            this.container.loadTheme(themeName);
        }
    }
    handleClickMode(mode) {
        const container = this.container;
        const options = container.actualOptions;
        const pushNb = options.interactivity.modes.push.quantity;
        const removeNb = options.interactivity.modes.remove.quantity;
        switch (mode) {
            case Enums_1.ClickMode.push: {
                if (pushNb > 0) {
                    const pushOptions = options.interactivity.modes.push;
                    const group = (0, Utils_1.itemFromArray)([undefined, ...pushOptions.groups]);
                    const groupOptions = group !== undefined ? container.actualOptions.particles.groups[group] : undefined;
                    container.particles.push(pushNb, container.interactivity.mouse, groupOptions, group);
                }
                break;
            }
            case Enums_1.ClickMode.remove:
                container.particles.removeQuantity(removeNb);
                break;
            case Enums_1.ClickMode.bubble:
                container.bubble.clicking = true;
                break;
            case Enums_1.ClickMode.repulse:
                container.repulse.clicking = true;
                container.repulse.count = 0;
                for (const particle of container.repulse.particles) {
                    particle.velocity.setTo(particle.initialVelocity);
                }
                container.repulse.particles = [];
                container.repulse.finish = false;
                setTimeout(() => {
                    if (!container.destroyed) {
                        container.repulse.clicking = false;
                    }
                }, options.interactivity.modes.repulse.duration * 1000);
                break;
            case Enums_1.ClickMode.attract:
                container.attract.clicking = true;
                container.attract.count = 0;
                for (const particle of container.attract.particles) {
                    particle.velocity.setTo(particle.initialVelocity);
                }
                container.attract.particles = [];
                container.attract.finish = false;
                setTimeout(() => {
                    if (!container.destroyed) {
                        container.attract.clicking = false;
                    }
                }, options.interactivity.modes.attract.duration * 1000);
                break;
            case Enums_1.ClickMode.pause:
                if (container.getAnimationStatus()) {
                    container.pause();
                }
                else {
                    container.play();
                }
                break;
        }
        for (const [, plugin] of container.plugins) {
            if (plugin.handleClickMode) {
                plugin.handleClickMode(mode);
            }
        }
    }
}
exports.EventListeners = EventListeners;


/***/ }),

/***/ "./node_modules/tsparticles/Utils/NumberUtils.js":
/*!*******************************************************!*\
  !*** ./node_modules/tsparticles/Utils/NumberUtils.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.calcEasing = exports.collisionVelocity = exports.getParticleBaseVelocity = exports.getParticleDirectionAngle = exports.getDistance = exports.getDistances = exports.getValue = exports.setRangeValue = exports.getRangeMax = exports.getRangeMin = exports.getRangeValue = exports.randomInRange = exports.mix = exports.clamp = void 0;
const Enums_1 = __webpack_require__(/*! ../Enums */ "./node_modules/tsparticles/Enums/index.js");
const Vector_1 = __webpack_require__(/*! ../Core/Particle/Vector */ "./node_modules/tsparticles/Core/Particle/Vector.js");
function clamp(num, min, max) {
    return Math.min(Math.max(num, min), max);
}
exports.clamp = clamp;
function mix(comp1, comp2, weight1, weight2) {
    return Math.floor((comp1 * weight1 + comp2 * weight2) / (weight1 + weight2));
}
exports.mix = mix;
function randomInRange(r) {
    const max = getRangeMax(r);
    let min = getRangeMin(r);
    if (max === min) {
        min = 0;
    }
    return Math.random() * (max - min) + min;
}
exports.randomInRange = randomInRange;
function getRangeValue(value) {
    return typeof value === "number" ? value : randomInRange(value);
}
exports.getRangeValue = getRangeValue;
function getRangeMin(value) {
    return typeof value === "number" ? value : value.min;
}
exports.getRangeMin = getRangeMin;
function getRangeMax(value) {
    return typeof value === "number" ? value : value.max;
}
exports.getRangeMax = getRangeMax;
function setRangeValue(source, value) {
    if (source === value || (value === undefined && typeof source === "number")) {
        return source;
    }
    const min = getRangeMin(source), max = getRangeMax(source);
    return value !== undefined
        ? {
            min: Math.min(min, value),
            max: Math.max(max, value),
        }
        : setRangeValue(min, max);
}
exports.setRangeValue = setRangeValue;
function getValue(options) {
    const random = options.random;
    const { enable, minimumValue } = typeof random === "boolean" ? { enable: random, minimumValue: 0 } : random;
    return enable ? getRangeValue(setRangeValue(options.value, minimumValue)) : getRangeValue(options.value);
}
exports.getValue = getValue;
function getDistances(pointA, pointB) {
    const dx = pointA.x - pointB.x;
    const dy = pointA.y - pointB.y;
    return { dx: dx, dy: dy, distance: Math.sqrt(dx * dx + dy * dy) };
}
exports.getDistances = getDistances;
function getDistance(pointA, pointB) {
    return getDistances(pointA, pointB).distance;
}
exports.getDistance = getDistance;
function getParticleDirectionAngle(direction) {
    if (typeof direction === "number") {
        return (direction * Math.PI) / 180;
    }
    else {
        switch (direction) {
            case Enums_1.MoveDirection.top:
                return -Math.PI / 2;
            case Enums_1.MoveDirection.topRight:
                return -Math.PI / 4;
            case Enums_1.MoveDirection.right:
                return 0;
            case Enums_1.MoveDirection.bottomRight:
                return Math.PI / 4;
            case Enums_1.MoveDirection.bottom:
                return Math.PI / 2;
            case Enums_1.MoveDirection.bottomLeft:
                return (3 * Math.PI) / 4;
            case Enums_1.MoveDirection.left:
                return Math.PI;
            case Enums_1.MoveDirection.topLeft:
                return (-3 * Math.PI) / 4;
            case Enums_1.MoveDirection.none:
            default:
                return Math.random() * Math.PI * 2;
        }
    }
}
exports.getParticleDirectionAngle = getParticleDirectionAngle;
function getParticleBaseVelocity(direction) {
    const baseVelocity = Vector_1.Vector.origin;
    baseVelocity.length = 1;
    baseVelocity.angle = direction;
    return baseVelocity;
}
exports.getParticleBaseVelocity = getParticleBaseVelocity;
function collisionVelocity(v1, v2, m1, m2) {
    return Vector_1.Vector.create((v1.x * (m1 - m2)) / (m1 + m2) + (v2.x * 2 * m2) / (m1 + m2), v1.y);
}
exports.collisionVelocity = collisionVelocity;
function calcEasing(value, type) {
    switch (type) {
        case Enums_1.EasingType.easeOutQuad:
            return 1 - (1 - value) ** 2;
        case Enums_1.EasingType.easeOutCubic:
            return 1 - (1 - value) ** 3;
        case Enums_1.EasingType.easeOutQuart:
            return 1 - (1 - value) ** 4;
        case Enums_1.EasingType.easeOutQuint:
            return 1 - (1 - value) ** 5;
        case Enums_1.EasingType.easeOutExpo:
            return value === 1 ? 1 : 1 - Math.pow(2, -10 * value);
        case Enums_1.EasingType.easeOutSine:
            return Math.sin((value * Math.PI) / 2);
        case Enums_1.EasingType.easeOutBack: {
            const c1 = 1.70158;
            const c3 = c1 + 1;
            return 1 + c3 * Math.pow(value - 1, 3) + c1 * Math.pow(value - 1, 2);
        }
        case Enums_1.EasingType.easeOutCirc:
            return Math.sqrt(1 - Math.pow(value - 1, 2));
        default:
            return value;
    }
}
exports.calcEasing = calcEasing;


/***/ }),

/***/ "./node_modules/tsparticles/Utils/Plugins.js":
/*!***************************************************!*\
  !*** ./node_modules/tsparticles/Utils/Plugins.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Plugins = void 0;
const plugins = [];
const interactorsInitializers = new Map();
const updatersInitializers = new Map();
const interactors = new Map();
const updaters = new Map();
const presets = new Map();
const drawers = new Map();
const pathGenerators = new Map();
class Plugins {
    static getPlugin(plugin) {
        return plugins.find((t) => t.id === plugin);
    }
    static addPlugin(plugin) {
        if (!Plugins.getPlugin(plugin.id)) {
            plugins.push(plugin);
        }
    }
    static getAvailablePlugins(container) {
        const res = new Map();
        for (const plugin of plugins) {
            if (!plugin.needsPlugin(container.actualOptions)) {
                continue;
            }
            res.set(plugin.id, plugin.getPlugin(container));
        }
        return res;
    }
    static loadOptions(options, sourceOptions) {
        for (const plugin of plugins) {
            plugin.loadOptions(options, sourceOptions);
        }
    }
    static getPreset(preset) {
        return presets.get(preset);
    }
    static addPreset(presetKey, options, override = false) {
        if (override || !Plugins.getPreset(presetKey)) {
            presets.set(presetKey, options);
        }
    }
    static addShapeDrawer(type, drawer) {
        if (!Plugins.getShapeDrawer(type)) {
            drawers.set(type, drawer);
        }
    }
    static getShapeDrawer(type) {
        return drawers.get(type);
    }
    static getSupportedShapes() {
        return drawers.keys();
    }
    static getPathGenerator(type) {
        return pathGenerators.get(type);
    }
    static addPathGenerator(type, pathGenerator) {
        if (!Plugins.getPathGenerator(type)) {
            pathGenerators.set(type, pathGenerator);
        }
    }
    static getInteractors(container, force = false) {
        let res = interactors.get(container);
        if (!res || force) {
            res = [...interactorsInitializers.values()].map((t) => t(container));
            interactors.set(container, res);
        }
        return res;
    }
    static addInteractor(name, initInteractor) {
        interactorsInitializers.set(name, initInteractor);
    }
    static getUpdaters(container, force = false) {
        let res = updaters.get(container);
        if (!res || force) {
            res = [...updatersInitializers.values()].map((t) => t(container));
            updaters.set(container, res);
        }
        return res;
    }
    static addParticleUpdater(name, initUpdater) {
        updatersInitializers.set(name, initUpdater);
    }
}
exports.Plugins = Plugins;


/***/ }),

/***/ "./node_modules/tsparticles/Utils/Point.js":
/*!*************************************************!*\
  !*** ./node_modules/tsparticles/Utils/Point.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Point = void 0;
class Point {
    constructor(position, particle) {
        this.position = position;
        this.particle = particle;
    }
}
exports.Point = Point;


/***/ }),

/***/ "./node_modules/tsparticles/Utils/QuadTree.js":
/*!****************************************************!*\
  !*** ./node_modules/tsparticles/Utils/QuadTree.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.QuadTree = void 0;
const Rectangle_1 = __webpack_require__(/*! ./Rectangle */ "./node_modules/tsparticles/Utils/Rectangle.js");
const Circle_1 = __webpack_require__(/*! ./Circle */ "./node_modules/tsparticles/Utils/Circle.js");
const CircleWarp_1 = __webpack_require__(/*! ./CircleWarp */ "./node_modules/tsparticles/Utils/CircleWarp.js");
const NumberUtils_1 = __webpack_require__(/*! ./NumberUtils */ "./node_modules/tsparticles/Utils/NumberUtils.js");
class QuadTree {
    constructor(rectangle, capacity) {
        this.rectangle = rectangle;
        this.capacity = capacity;
        this.points = [];
        this.divided = false;
    }
    subdivide() {
        const x = this.rectangle.position.x;
        const y = this.rectangle.position.y;
        const w = this.rectangle.size.width;
        const h = this.rectangle.size.height;
        const capacity = this.capacity;
        this.northEast = new QuadTree(new Rectangle_1.Rectangle(x, y, w / 2, h / 2), capacity);
        this.northWest = new QuadTree(new Rectangle_1.Rectangle(x + w / 2, y, w / 2, h / 2), capacity);
        this.southEast = new QuadTree(new Rectangle_1.Rectangle(x, y + h / 2, w / 2, h / 2), capacity);
        this.southWest = new QuadTree(new Rectangle_1.Rectangle(x + w / 2, y + h / 2, w / 2, h / 2), capacity);
        this.divided = true;
    }
    insert(point) {
        var _a, _b, _c, _d, _e;
        if (!this.rectangle.contains(point.position)) {
            return false;
        }
        if (this.points.length < this.capacity) {
            this.points.push(point);
            return true;
        }
        if (!this.divided) {
            this.subdivide();
        }
        return ((_e = (((_a = this.northEast) === null || _a === void 0 ? void 0 : _a.insert(point)) ||
            ((_b = this.northWest) === null || _b === void 0 ? void 0 : _b.insert(point)) ||
            ((_c = this.southEast) === null || _c === void 0 ? void 0 : _c.insert(point)) ||
            ((_d = this.southWest) === null || _d === void 0 ? void 0 : _d.insert(point)))) !== null && _e !== void 0 ? _e : false);
    }
    queryCircle(position, radius) {
        return this.query(new Circle_1.Circle(position.x, position.y, radius));
    }
    queryCircleWarp(position, radius, containerOrSize) {
        const container = containerOrSize;
        const size = containerOrSize;
        return this.query(new CircleWarp_1.CircleWarp(position.x, position.y, radius, container.canvas !== undefined ? container.canvas.size : size));
    }
    queryRectangle(position, size) {
        return this.query(new Rectangle_1.Rectangle(position.x, position.y, size.width, size.height));
    }
    query(range, found) {
        var _a, _b, _c, _d;
        const res = found !== null && found !== void 0 ? found : [];
        if (!range.intersects(this.rectangle)) {
            return [];
        }
        else {
            for (const p of this.points) {
                if (!range.contains(p.position) && (0, NumberUtils_1.getDistance)(range.position, p.position) > p.particle.getRadius()) {
                    continue;
                }
                res.push(p.particle);
            }
            if (this.divided) {
                (_a = this.northEast) === null || _a === void 0 ? void 0 : _a.query(range, res);
                (_b = this.northWest) === null || _b === void 0 ? void 0 : _b.query(range, res);
                (_c = this.southEast) === null || _c === void 0 ? void 0 : _c.query(range, res);
                (_d = this.southWest) === null || _d === void 0 ? void 0 : _d.query(range, res);
            }
        }
        return res;
    }
}
exports.QuadTree = QuadTree;


/***/ }),

/***/ "./node_modules/tsparticles/Utils/Range.js":
/*!*************************************************!*\
  !*** ./node_modules/tsparticles/Utils/Range.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Range = void 0;
class Range {
    constructor(x, y) {
        this.position = {
            x: x,
            y: y,
        };
    }
}
exports.Range = Range;


/***/ }),

/***/ "./node_modules/tsparticles/Utils/Rectangle.js":
/*!*****************************************************!*\
  !*** ./node_modules/tsparticles/Utils/Rectangle.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Rectangle = void 0;
const Range_1 = __webpack_require__(/*! ./Range */ "./node_modules/tsparticles/Utils/Range.js");
class Rectangle extends Range_1.Range {
    constructor(x, y, width, height) {
        super(x, y);
        this.size = {
            height: height,
            width: width,
        };
    }
    contains(point) {
        const w = this.size.width;
        const h = this.size.height;
        const pos = this.position;
        return point.x >= pos.x && point.x <= pos.x + w && point.y >= pos.y && point.y <= pos.y + h;
    }
    intersects(range) {
        const rect = range;
        const circle = range;
        const w = this.size.width;
        const h = this.size.height;
        const pos1 = this.position;
        const pos2 = range.position;
        if (circle.radius !== undefined) {
            return circle.intersects(this);
        }
        else if (rect.size !== undefined) {
            const size2 = rect.size;
            const w2 = size2.width;
            const h2 = size2.height;
            return pos2.x < pos1.x + w && pos2.x + w2 > pos1.x && pos2.y < pos1.y + h && pos2.y + h2 > pos1.y;
        }
        return false;
    }
}
exports.Rectangle = Rectangle;


/***/ }),

/***/ "./node_modules/tsparticles/Utils/Utils.js":
/*!*************************************************!*\
  !*** ./node_modules/tsparticles/Utils/Utils.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.rectBounce = exports.circleBounce = exports.circleBounceDataFromParticle = exports.divMode = exports.singleDivModeExecute = exports.divModeExecute = exports.isDivModeEnabled = exports.deepExtend = exports.calculateBounds = exports.areBoundsInside = exports.isPointInside = exports.itemFromArray = exports.arrayRandomIndex = exports.loadFont = exports.isInArray = exports.cancelAnimation = exports.animate = exports.isSsr = void 0;
const Enums_1 = __webpack_require__(/*! ../Enums */ "./node_modules/tsparticles/Enums/index.js");
const NumberUtils_1 = __webpack_require__(/*! ./NumberUtils */ "./node_modules/tsparticles/Utils/NumberUtils.js");
const Vector_1 = __webpack_require__(/*! ../Core/Particle/Vector */ "./node_modules/tsparticles/Core/Particle/Vector.js");
function rectSideBounce(pSide, pOtherSide, rectSide, rectOtherSide, velocity, factor) {
    const res = { bounced: false };
    if (pOtherSide.min >= rectOtherSide.min &&
        pOtherSide.min <= rectOtherSide.max &&
        pOtherSide.max >= rectOtherSide.min &&
        pOtherSide.max <= rectOtherSide.max) {
        if ((pSide.max >= rectSide.min && pSide.max <= (rectSide.max + rectSide.min) / 2 && velocity > 0) ||
            (pSide.min <= rectSide.max && pSide.min > (rectSide.max + rectSide.min) / 2 && velocity < 0)) {
            res.velocity = velocity * -factor;
            res.bounced = true;
        }
    }
    return res;
}
function checkSelector(element, selectors) {
    if (selectors instanceof Array) {
        for (const selector of selectors) {
            if (element.matches(selector)) {
                return true;
            }
        }
        return false;
    }
    else {
        return element.matches(selectors);
    }
}
function isSsr() {
    return typeof window === "undefined" || !window || typeof window.document === "undefined" || !window.document;
}
exports.isSsr = isSsr;
function animate() {
    return isSsr()
        ? (callback) => setTimeout(callback)
        : (callback) => (window.requestAnimationFrame ||
            window.webkitRequestAnimationFrame ||
            window.mozRequestAnimationFrame ||
            window.oRequestAnimationFrame ||
            window.msRequestAnimationFrame ||
            window.setTimeout)(callback);
}
exports.animate = animate;
function cancelAnimation() {
    return isSsr()
        ? (handle) => clearTimeout(handle)
        : (handle) => (window.cancelAnimationFrame ||
            window.webkitCancelRequestAnimationFrame ||
            window.mozCancelRequestAnimationFrame ||
            window.oCancelRequestAnimationFrame ||
            window.msCancelRequestAnimationFrame ||
            window.clearTimeout)(handle);
}
exports.cancelAnimation = cancelAnimation;
function isInArray(value, array) {
    return value === array || (array instanceof Array && array.indexOf(value) > -1);
}
exports.isInArray = isInArray;
async function loadFont(character) {
    var _a, _b;
    try {
        await document.fonts.load(`${(_a = character.weight) !== null && _a !== void 0 ? _a : "400"} 36px '${(_b = character.font) !== null && _b !== void 0 ? _b : "Verdana"}'`);
    }
    catch (_c) {
    }
}
exports.loadFont = loadFont;
function arrayRandomIndex(array) {
    return Math.floor(Math.random() * array.length);
}
exports.arrayRandomIndex = arrayRandomIndex;
function itemFromArray(array, index, useIndex = true) {
    const fixedIndex = index !== undefined && useIndex ? index % array.length : arrayRandomIndex(array);
    return array[fixedIndex];
}
exports.itemFromArray = itemFromArray;
function isPointInside(point, size, radius, direction) {
    return areBoundsInside(calculateBounds(point, radius !== null && radius !== void 0 ? radius : 0), size, direction);
}
exports.isPointInside = isPointInside;
function areBoundsInside(bounds, size, direction) {
    let inside = true;
    if (!direction || direction === Enums_1.OutModeDirection.bottom) {
        inside = bounds.top < size.height;
    }
    if (inside && (!direction || direction === Enums_1.OutModeDirection.left)) {
        inside = bounds.right > 0;
    }
    if (inside && (!direction || direction === Enums_1.OutModeDirection.right)) {
        inside = bounds.left < size.width;
    }
    if (inside && (!direction || direction === Enums_1.OutModeDirection.top)) {
        inside = bounds.bottom > 0;
    }
    return inside;
}
exports.areBoundsInside = areBoundsInside;
function calculateBounds(point, radius) {
    return {
        bottom: point.y + radius,
        left: point.x - radius,
        right: point.x + radius,
        top: point.y - radius,
    };
}
exports.calculateBounds = calculateBounds;
function deepExtend(destination, ...sources) {
    for (const source of sources) {
        if (source === undefined || source === null) {
            continue;
        }
        if (typeof source !== "object") {
            destination = source;
            continue;
        }
        const sourceIsArray = Array.isArray(source);
        if (sourceIsArray && (typeof destination !== "object" || !destination || !Array.isArray(destination))) {
            destination = [];
        }
        else if (!sourceIsArray && (typeof destination !== "object" || !destination || Array.isArray(destination))) {
            destination = {};
        }
        for (const key in source) {
            if (key === "__proto__") {
                continue;
            }
            const sourceDict = source;
            const value = sourceDict[key];
            const isObject = typeof value === "object";
            const destDict = destination;
            destDict[key] =
                isObject && Array.isArray(value)
                    ? value.map((v) => deepExtend(destDict[key], v))
                    : deepExtend(destDict[key], value);
        }
    }
    return destination;
}
exports.deepExtend = deepExtend;
function isDivModeEnabled(mode, divs) {
    return divs instanceof Array ? !!divs.find((t) => t.enable && isInArray(mode, t.mode)) : isInArray(mode, divs.mode);
}
exports.isDivModeEnabled = isDivModeEnabled;
function divModeExecute(mode, divs, callback) {
    if (divs instanceof Array) {
        for (const div of divs) {
            const divMode = div.mode;
            const divEnabled = div.enable;
            if (divEnabled && isInArray(mode, divMode)) {
                singleDivModeExecute(div, callback);
            }
        }
    }
    else {
        const divMode = divs.mode;
        const divEnabled = divs.enable;
        if (divEnabled && isInArray(mode, divMode)) {
            singleDivModeExecute(divs, callback);
        }
    }
}
exports.divModeExecute = divModeExecute;
function singleDivModeExecute(div, callback) {
    const selectors = div.selectors;
    if (selectors instanceof Array) {
        for (const selector of selectors) {
            callback(selector, div);
        }
    }
    else {
        callback(selectors, div);
    }
}
exports.singleDivModeExecute = singleDivModeExecute;
function divMode(divs, element) {
    if (!element || !divs) {
        return;
    }
    if (divs instanceof Array) {
        return divs.find((d) => checkSelector(element, d.selectors));
    }
    else if (checkSelector(element, divs.selectors)) {
        return divs;
    }
}
exports.divMode = divMode;
function circleBounceDataFromParticle(p) {
    return {
        position: p.getPosition(),
        radius: p.getRadius(),
        mass: p.getMass(),
        velocity: p.velocity,
        factor: Vector_1.Vector.create((0, NumberUtils_1.getValue)(p.options.bounce.horizontal), (0, NumberUtils_1.getValue)(p.options.bounce.vertical)),
    };
}
exports.circleBounceDataFromParticle = circleBounceDataFromParticle;
function circleBounce(p1, p2) {
    const { x: xVelocityDiff, y: yVelocityDiff } = p1.velocity.sub(p2.velocity);
    const [pos1, pos2] = [p1.position, p2.position];
    const { dx: xDist, dy: yDist } = (0, NumberUtils_1.getDistances)(pos2, pos1);
    if (xVelocityDiff * xDist + yVelocityDiff * yDist >= 0) {
        const angle = -Math.atan2(yDist, xDist);
        const m1 = p1.mass;
        const m2 = p2.mass;
        const u1 = p1.velocity.rotate(angle);
        const u2 = p2.velocity.rotate(angle);
        const v1 = (0, NumberUtils_1.collisionVelocity)(u1, u2, m1, m2);
        const v2 = (0, NumberUtils_1.collisionVelocity)(u2, u1, m1, m2);
        const vFinal1 = v1.rotate(-angle);
        const vFinal2 = v2.rotate(-angle);
        p1.velocity.x = vFinal1.x * p1.factor.x;
        p1.velocity.y = vFinal1.y * p1.factor.y;
        p2.velocity.x = vFinal2.x * p2.factor.x;
        p2.velocity.y = vFinal2.y * p2.factor.y;
    }
}
exports.circleBounce = circleBounce;
function rectBounce(particle, divBounds) {
    const pPos = particle.getPosition();
    const size = particle.getRadius();
    const bounds = calculateBounds(pPos, size);
    const resH = rectSideBounce({
        min: bounds.left,
        max: bounds.right,
    }, {
        min: bounds.top,
        max: bounds.bottom,
    }, {
        min: divBounds.left,
        max: divBounds.right,
    }, {
        min: divBounds.top,
        max: divBounds.bottom,
    }, particle.velocity.x, (0, NumberUtils_1.getValue)(particle.options.bounce.horizontal));
    if (resH.bounced) {
        if (resH.velocity !== undefined) {
            particle.velocity.x = resH.velocity;
        }
        if (resH.position !== undefined) {
            particle.position.x = resH.position;
        }
    }
    const resV = rectSideBounce({
        min: bounds.top,
        max: bounds.bottom,
    }, {
        min: bounds.left,
        max: bounds.right,
    }, {
        min: divBounds.top,
        max: divBounds.bottom,
    }, {
        min: divBounds.left,
        max: divBounds.right,
    }, particle.velocity.y, (0, NumberUtils_1.getValue)(particle.options.bounce.vertical));
    if (resV.bounced) {
        if (resV.velocity !== undefined) {
            particle.velocity.y = resV.velocity;
        }
        if (resV.position !== undefined) {
            particle.position.y = resV.position;
        }
    }
}
exports.rectBounce = rectBounce;


/***/ }),

/***/ "./node_modules/tsparticles/Utils/index.js":
/*!*************************************************!*\
  !*** ./node_modules/tsparticles/Utils/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./CanvasUtils */ "./node_modules/tsparticles/Utils/CanvasUtils.js"), exports);
__exportStar(__webpack_require__(/*! ./Circle */ "./node_modules/tsparticles/Utils/Circle.js"), exports);
__exportStar(__webpack_require__(/*! ./CircleWarp */ "./node_modules/tsparticles/Utils/CircleWarp.js"), exports);
__exportStar(__webpack_require__(/*! ./ColorUtils */ "./node_modules/tsparticles/Utils/ColorUtils.js"), exports);
__exportStar(__webpack_require__(/*! ./Constants */ "./node_modules/tsparticles/Utils/Constants.js"), exports);
__exportStar(__webpack_require__(/*! ./EventListeners */ "./node_modules/tsparticles/Utils/EventListeners.js"), exports);
__exportStar(__webpack_require__(/*! ./NumberUtils */ "./node_modules/tsparticles/Utils/NumberUtils.js"), exports);
__exportStar(__webpack_require__(/*! ./Plugins */ "./node_modules/tsparticles/Utils/Plugins.js"), exports);
__exportStar(__webpack_require__(/*! ./Point */ "./node_modules/tsparticles/Utils/Point.js"), exports);
__exportStar(__webpack_require__(/*! ./QuadTree */ "./node_modules/tsparticles/Utils/QuadTree.js"), exports);
__exportStar(__webpack_require__(/*! ./Range */ "./node_modules/tsparticles/Utils/Range.js"), exports);
__exportStar(__webpack_require__(/*! ./Rectangle */ "./node_modules/tsparticles/Utils/Rectangle.js"), exports);
__exportStar(__webpack_require__(/*! ./Utils */ "./node_modules/tsparticles/Utils/Utils.js"), exports);


/***/ }),

/***/ "./node_modules/tsparticles/full.js":
/*!******************************************!*\
  !*** ./node_modules/tsparticles/full.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadFull = void 0;
const slim_1 = __webpack_require__(/*! ./slim */ "./node_modules/tsparticles/slim.js");
const Trail_1 = __webpack_require__(/*! ./Interactions/External/Trail */ "./node_modules/tsparticles/Interactions/External/Trail/index.js");
const Tilt_1 = __webpack_require__(/*! ./Updaters/Tilt */ "./node_modules/tsparticles/Updaters/Tilt/index.js");
const Wobble_1 = __webpack_require__(/*! ./Updaters/Wobble */ "./node_modules/tsparticles/Updaters/Wobble/index.js");
const plugin_1 = __webpack_require__(/*! ./Plugins/Absorbers/plugin */ "./node_modules/tsparticles/Plugins/Absorbers/plugin.js");
const plugin_2 = __webpack_require__(/*! ./Plugins/Emitters/plugin */ "./node_modules/tsparticles/Plugins/Emitters/plugin.js");
const plugin_3 = __webpack_require__(/*! ./Plugins/PolygonMask/plugin */ "./node_modules/tsparticles/Plugins/PolygonMask/plugin.js");
const Roll_1 = __webpack_require__(/*! ./Updaters/Roll */ "./node_modules/tsparticles/Updaters/Roll/index.js");
async function loadFull(tsParticles) {
    await (0, slim_1.loadSlim)(tsParticles);
    await (0, Trail_1.loadExternalTrailInteraction)(tsParticles);
    await (0, Roll_1.loadRollUpdater)(tsParticles);
    await (0, Tilt_1.loadTiltUpdater)(tsParticles);
    await (0, Wobble_1.loadWobbleUpdater)(tsParticles);
    await (0, plugin_1.loadAbsorbersPlugin)(tsParticles);
    await (0, plugin_2.loadEmittersPlugin)(tsParticles);
    await (0, plugin_3.loadPolygonMaskPlugin)(tsParticles);
}
exports.loadFull = loadFull;


/***/ }),

/***/ "./node_modules/tsparticles/index.js":
/*!*******************************************!*\
  !*** ./node_modules/tsparticles/index.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.tsParticles = exports.pJSDom = exports.particlesJS = exports.Main = exports.Rectangle = exports.Point = exports.Constants = exports.CircleWarp = exports.Circle = void 0;
const pjs_1 = __webpack_require__(/*! ./pjs */ "./node_modules/tsparticles/pjs.js");
const main_1 = __webpack_require__(/*! ./main */ "./node_modules/tsparticles/main.js");
Object.defineProperty(exports, "Main", ({ enumerable: true, get: function () { return main_1.Main; } }));
const Utils_1 = __webpack_require__(/*! ./Utils */ "./node_modules/tsparticles/Utils/index.js");
Object.defineProperty(exports, "Circle", ({ enumerable: true, get: function () { return Utils_1.Circle; } }));
Object.defineProperty(exports, "CircleWarp", ({ enumerable: true, get: function () { return Utils_1.CircleWarp; } }));
Object.defineProperty(exports, "Constants", ({ enumerable: true, get: function () { return Utils_1.Constants; } }));
Object.defineProperty(exports, "Point", ({ enumerable: true, get: function () { return Utils_1.Point; } }));
Object.defineProperty(exports, "Rectangle", ({ enumerable: true, get: function () { return Utils_1.Rectangle; } }));
const full_1 = __webpack_require__(/*! ./full */ "./node_modules/tsparticles/full.js");
const tsParticles = new main_1.Main();
exports.tsParticles = tsParticles;
tsParticles.init();
const { particlesJS, pJSDom } = (0, pjs_1.initPjs)(tsParticles);
exports.particlesJS = particlesJS;
exports.pJSDom = pJSDom;
(0, full_1.loadFull)(tsParticles);
__exportStar(__webpack_require__(/*! ./Core/Particle/Vector */ "./node_modules/tsparticles/Core/Particle/Vector.js"), exports);
__exportStar(__webpack_require__(/*! ./Core/Container */ "./node_modules/tsparticles/Core/Container.js"), exports);
__exportStar(__webpack_require__(/*! ./Enums */ "./node_modules/tsparticles/Enums/index.js"), exports);
__exportStar(__webpack_require__(/*! ./Plugins/Absorbers/Enums */ "./node_modules/tsparticles/Plugins/Absorbers/Enums/index.js"), exports);
__exportStar(__webpack_require__(/*! ./Plugins/Emitters/Enums */ "./node_modules/tsparticles/Plugins/Emitters/Enums/index.js"), exports);
__exportStar(__webpack_require__(/*! ./Plugins/PolygonMask/Enums */ "./node_modules/tsparticles/Plugins/PolygonMask/Enums/index.js"), exports);
__exportStar(__webpack_require__(/*! ./Utils/CanvasUtils */ "./node_modules/tsparticles/Utils/CanvasUtils.js"), exports);
__exportStar(__webpack_require__(/*! ./Utils/ColorUtils */ "./node_modules/tsparticles/Utils/ColorUtils.js"), exports);
__exportStar(__webpack_require__(/*! ./Utils/NumberUtils */ "./node_modules/tsparticles/Utils/NumberUtils.js"), exports);
__exportStar(__webpack_require__(/*! ./Utils/Utils */ "./node_modules/tsparticles/Utils/Utils.js"), exports);
__exportStar(__webpack_require__(/*! ./Types */ "./node_modules/tsparticles/Types/index.js"), exports);
__exportStar(__webpack_require__(/*! ./Core/Interfaces */ "./node_modules/tsparticles/Core/Interfaces/index.js"), exports);
__exportStar(__webpack_require__(/*! ./Core/Particle */ "./node_modules/tsparticles/Core/Particle.js"), exports);
__exportStar(__webpack_require__(/*! ./Core/ExternalInteractorBase */ "./node_modules/tsparticles/Core/ExternalInteractorBase.js"), exports);
__exportStar(__webpack_require__(/*! ./Core/ParticlesInteractorBase */ "./node_modules/tsparticles/Core/ParticlesInteractorBase.js"), exports);


/***/ }),

/***/ "./node_modules/tsparticles/main.js":
/*!******************************************!*\
  !*** ./node_modules/tsparticles/main.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {
    if (kind === "m") throw new TypeError("Private method is not writable");
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
};
var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var _Main_initialized;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Main = void 0;
const Utils_1 = __webpack_require__(/*! ./Utils */ "./node_modules/tsparticles/Utils/index.js");
const Loader_1 = __webpack_require__(/*! ./Core/Loader */ "./node_modules/tsparticles/Core/Loader.js");
class Main {
    constructor() {
        _Main_initialized.set(this, void 0);
        __classPrivateFieldSet(this, _Main_initialized, false, "f");
    }
    init() {
        if (!__classPrivateFieldGet(this, _Main_initialized, "f")) {
            __classPrivateFieldSet(this, _Main_initialized, true, "f");
        }
    }
    async loadFromArray(tagId, options, index) {
        return Loader_1.Loader.load(tagId, options, index);
    }
    async load(tagId, options) {
        return Loader_1.Loader.load(tagId, options);
    }
    async set(id, element, options) {
        return Loader_1.Loader.set(id, element, options);
    }
    async loadJSON(tagId, pathConfigJson, index) {
        return Loader_1.Loader.loadJSON(tagId, pathConfigJson, index);
    }
    async setJSON(id, element, pathConfigJson, index) {
        return Loader_1.Loader.setJSON(id, element, pathConfigJson, index);
    }
    setOnClickHandler(callback) {
        Loader_1.Loader.setOnClickHandler(callback);
    }
    dom() {
        return Loader_1.Loader.dom();
    }
    domItem(index) {
        return Loader_1.Loader.domItem(index);
    }
    async refresh() {
        for (const instance of this.dom()) {
            await instance.refresh();
        }
    }
    async addShape(shape, drawer, init, afterEffect, destroy) {
        let customDrawer;
        if (typeof drawer === "function") {
            customDrawer = {
                afterEffect: afterEffect,
                destroy: destroy,
                draw: drawer,
                init: init,
            };
        }
        else {
            customDrawer = drawer;
        }
        Utils_1.Plugins.addShapeDrawer(shape, customDrawer);
        await this.refresh();
    }
    async addPreset(preset, options, override = false) {
        Utils_1.Plugins.addPreset(preset, options, override);
        await this.refresh();
    }
    async addPlugin(plugin) {
        Utils_1.Plugins.addPlugin(plugin);
        await this.refresh();
    }
    async addPathGenerator(name, generator) {
        Utils_1.Plugins.addPathGenerator(name, generator);
        await this.refresh();
    }
    async addInteractor(name, interactorInitializer) {
        Utils_1.Plugins.addInteractor(name, interactorInitializer);
        await this.refresh();
    }
    async addParticleUpdater(name, updaterInitializer) {
        Utils_1.Plugins.addParticleUpdater(name, updaterInitializer);
        await this.refresh();
    }
}
exports.Main = Main;
_Main_initialized = new WeakMap();


/***/ }),

/***/ "./node_modules/tsparticles/pjs.js":
/*!*****************************************!*\
  !*** ./node_modules/tsparticles/pjs.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.initPjs = void 0;
const initPjs = (main) => {
    const particlesJS = (tagId, options) => {
        return main.load(tagId, options);
    };
    particlesJS.load = (tagId, pathConfigJson, callback) => {
        main.loadJSON(tagId, pathConfigJson)
            .then((container) => {
            if (container) {
                callback(container);
            }
        })
            .catch(() => {
            callback(undefined);
        });
    };
    particlesJS.setOnClickHandler = (callback) => {
        main.setOnClickHandler(callback);
    };
    const pJSDom = main.dom();
    return { particlesJS, pJSDom };
};
exports.initPjs = initPjs;


/***/ }),

/***/ "./node_modules/tsparticles/slim.js":
/*!******************************************!*\
  !*** ./node_modules/tsparticles/slim.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadSlim = void 0;
const Circle_1 = __webpack_require__(/*! ./Shapes/Circle */ "./node_modules/tsparticles/Shapes/Circle/index.js");
const Life_1 = __webpack_require__(/*! ./Updaters/Life */ "./node_modules/tsparticles/Updaters/Life/index.js");
const Connect_1 = __webpack_require__(/*! ./Interactions/External/Connect */ "./node_modules/tsparticles/Interactions/External/Connect/index.js");
const Opacity_1 = __webpack_require__(/*! ./Updaters/Opacity */ "./node_modules/tsparticles/Updaters/Opacity/index.js");
const Image_1 = __webpack_require__(/*! ./Shapes/Image */ "./node_modules/tsparticles/Shapes/Image/index.js");
const Polygon_1 = __webpack_require__(/*! ./Shapes/Polygon */ "./node_modules/tsparticles/Shapes/Polygon/index.js");
const Bubble_1 = __webpack_require__(/*! ./Interactions/External/Bubble */ "./node_modules/tsparticles/Interactions/External/Bubble/index.js");
const Attract_1 = __webpack_require__(/*! ./Interactions/External/Attract */ "./node_modules/tsparticles/Interactions/External/Attract/index.js");
const Grab_1 = __webpack_require__(/*! ./Interactions/External/Grab */ "./node_modules/tsparticles/Interactions/External/Grab/index.js");
const Star_1 = __webpack_require__(/*! ./Shapes/Star */ "./node_modules/tsparticles/Shapes/Star/index.js");
const Attract_2 = __webpack_require__(/*! ./Interactions/Particles/Attract */ "./node_modules/tsparticles/Interactions/Particles/Attract/index.js");
const Square_1 = __webpack_require__(/*! ./Shapes/Square */ "./node_modules/tsparticles/Shapes/Square/index.js");
const StrokeColor_1 = __webpack_require__(/*! ./Updaters/StrokeColor */ "./node_modules/tsparticles/Updaters/StrokeColor/index.js");
const Color_1 = __webpack_require__(/*! ./Updaters/Color */ "./node_modules/tsparticles/Updaters/Color/index.js");
const Collisions_1 = __webpack_require__(/*! ./Interactions/Particles/Collisions */ "./node_modules/tsparticles/Interactions/Particles/Collisions/index.js");
const Angle_1 = __webpack_require__(/*! ./Updaters/Angle */ "./node_modules/tsparticles/Updaters/Angle/index.js");
const OutModes_1 = __webpack_require__(/*! ./Updaters/OutModes */ "./node_modules/tsparticles/Updaters/OutModes/index.js");
const Repulse_1 = __webpack_require__(/*! ./Interactions/External/Repulse */ "./node_modules/tsparticles/Interactions/External/Repulse/index.js");
const Line_1 = __webpack_require__(/*! ./Shapes/Line */ "./node_modules/tsparticles/Shapes/Line/index.js");
const Bounce_1 = __webpack_require__(/*! ./Interactions/External/Bounce */ "./node_modules/tsparticles/Interactions/External/Bounce/index.js");
const Text_1 = __webpack_require__(/*! ./Shapes/Text */ "./node_modules/tsparticles/Shapes/Text/index.js");
const Links_1 = __webpack_require__(/*! ./Interactions/Particles/Links */ "./node_modules/tsparticles/Interactions/Particles/Links/index.js");
const Size_1 = __webpack_require__(/*! ./Updaters/Size */ "./node_modules/tsparticles/Updaters/Size/index.js");
async function loadSlim(tsParticles) {
    await (0, Attract_1.loadExternalAttractInteraction)(tsParticles);
    await (0, Bounce_1.loadExternalBounceInteraction)(tsParticles);
    await (0, Bubble_1.loadExternalBubbleInteraction)(tsParticles);
    await (0, Connect_1.loadExternalConnectInteraction)(tsParticles);
    await (0, Grab_1.loadExternalGrabInteraction)(tsParticles);
    await (0, Repulse_1.loadExternalRepulseInteraction)(tsParticles);
    await (0, Attract_2.loadParticlesAttractInteraction)(tsParticles);
    await (0, Collisions_1.loadParticlesCollisionsInteraction)(tsParticles);
    await (0, Links_1.loadParticlesLinksInteraction)(tsParticles);
    await (0, Circle_1.loadCircleShape)(tsParticles);
    await (0, Image_1.loadImageShape)(tsParticles);
    await (0, Line_1.loadLineShape)(tsParticles);
    await (0, Polygon_1.loadPolygonShape)(tsParticles);
    await (0, Square_1.loadSquareShape)(tsParticles);
    await (0, Star_1.loadStarShape)(tsParticles);
    await (0, Text_1.loadTextShape)(tsParticles);
    await (0, Life_1.loadLifeUpdater)(tsParticles);
    await (0, Opacity_1.loadOpacityUpdater)(tsParticles);
    await (0, Size_1.loadSizeUpdater)(tsParticles);
    await (0, Angle_1.loadAngleUpdater)(tsParticles);
    await (0, Color_1.loadColorUpdater)(tsParticles);
    await (0, StrokeColor_1.loadStrokeColorUpdater)(tsParticles);
    await (0, OutModes_1.loadOutModesUpdater)(tsParticles);
}
exports.loadSlim = loadSlim;


/***/ }),

/***/ "./src/apiLoadingHandler.js":
/*!**********************************!*\
  !*** ./src/apiLoadingHandler.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const apiHandler = (() => {
  const apiLink = "https://api.openweathermap.org/data/2.5/weather?";
  const apiKey = "94a2aad4a38121e794735a95ee415a76";

  async function callApi(cityName) {
    document.body.appendChild(loadingHandler.returnLoading());
    const response = await fetch(apiLink + `q=${cityName}&appid=${apiKey}`, {
      mode: "cors",
    });
    if (!response.ok) {
      document.body.removeChild(document.querySelector(".loading-begin"));
      throw new Error(response.status);
    }
    const data = await response.json();
    return data;
  }

  return {
    callApi,
  };
})();

const loadingHandler = (() => {
  const returnLoading = () => {
    const loading = document.createElement("div");
    const fetchData = document.createElement("div");

    loading.classList.add("loading-begin");
    fetchData.classList.add("text");

    fetchData.innerHTML = `
    <div class="loader">
    </div>`;

    loading.appendChild(fetchData);
    return loading;
  };
  return {
    returnLoading,
  };
})();

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (apiHandler);


/***/ }),

/***/ "./src/imageHandler.js":
/*!*****************************!*\
  !*** ./src/imageHandler.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _assets_up_triangle_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./assets/up-triangle.svg */ "./src/assets/up-triangle.svg");
/* harmony import */ var _assets_down_triangle_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assets/down-triangle.svg */ "./src/assets/down-triangle.svg");



const imageHandler = () => {
  async function getUpTriangle() {
    return _assets_up_triangle_svg__WEBPACK_IMPORTED_MODULE_0__;
  }
  async function getDownTriangle() {
    return _assets_down_triangle_svg__WEBPACK_IMPORTED_MODULE_1__;
  }
  return {
    getUpTriangle,
    getDownTriangle,
  };
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (imageHandler);


/***/ }),

/***/ "./src/particleHandler.js":
/*!********************************!*\
  !*** ./src/particleHandler.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var tsparticles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tsparticles */ "./node_modules/tsparticles/index.js");
/* harmony import */ var tsparticles__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tsparticles__WEBPACK_IMPORTED_MODULE_0__);


const handleParticles = () => {
  function addRainParticles() {
    tsparticles__WEBPACK_IMPORTED_MODULE_0__.tsParticles.load("tsparticles", {
      particles: {
        number: {
          value: 70,
          density: {
            value_area: 400,
          },
        },
        color: {
          value: "#fff",
        },
        stroke: {
          width: 1,
        },
        shape: {
          type: "polygon",
          polygon: {
            sides: 1,
            nb_sides: 1,
          },
        },
        rotate: {
          value: 90,
        },
        size: {
          value: 3,
        },
        move: {
          enable: true,
          direction: "bottom",
          straight: true,
          speed: 20,
        }
      },
    });
  }
  function addSnowParticles() {
    tsparticles__WEBPACK_IMPORTED_MODULE_0__.tsParticles.load("tsparticles", {
      particles: {
        number: {
          value: 60,
          density: {
            enable: true,
            value_area: 800,
          },
        },
        size: {
          value: 6,
          random: true,
        },
        opacity: {
          value: 5,
          random: true,
        },
        move: {
          enable: true,
          direction: "bottom",
        },
        shape: {
          value: "circle",
        },
      },
    });
  }

  function addParticles(cond) {
    const div = document.createElement("div");
    div.id = "tsparticles";
    document.body.appendChild(div);
    if (cond == "Rain") {
      addRainParticles();
    } else {
      addSnowParticles();
    }
  }

  function removeParticles() {
    const particle = document.querySelector("#tsparticles");
    if (particle) document.body.removeChild(particle);
  }

  function evaluate(cond) {
    if (cond == "Rain" || cond == "Snow") {
      addParticles(cond);
    } else {
      console.log("Hi");
      removeParticles();
    }
  }
  return {
    evaluate,
  };
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handleParticles());


/***/ }),

/***/ "./src/assets/down-triangle.svg":
/*!**************************************!*\
  !*** ./src/assets/down-triangle.svg ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "7cec79e041a3fedd1b2e.svg";

/***/ }),

/***/ "./src/assets/hills1.svg":
/*!*******************************!*\
  !*** ./src/assets/hills1.svg ***!
  \*******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "39b05538588d274e774c.svg";

/***/ }),

/***/ "./src/assets/hills2.svg":
/*!*******************************!*\
  !*** ./src/assets/hills2.svg ***!
  \*******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "7f33d3ead7aa46431bfc.svg";

/***/ }),

/***/ "./src/assets/up-triangle.svg":
/*!************************************!*\
  !*** ./src/assets/up-triangle.svg ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "9e5d032d941716597a91.svg";

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// no jsonp function
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _apiLoadingHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./apiLoadingHandler */ "./src/apiLoadingHandler.js");
/* harmony import */ var _particleHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./particleHandler */ "./src/particleHandler.js");
/* harmony import */ var _imageHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./imageHandler */ "./src/imageHandler.js");
/* harmony import */ var _main_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./main.css */ "./src/main.css");





const displayHandler = () => {
  const weatherDisplay = document.querySelector(".weather-display");

  const returnCondition = (cond) => {
    const condDiv = document.createElement("div");
    condDiv.textContent = cond;
    condDiv.classList.add("display-condition");
    return condDiv;
  };

  const returnCityName = (name) => {
    const nameDiv = document.createElement("div");
    nameDiv.textContent = name;
    nameDiv.classList.add("display-city-name");
    return nameDiv;
  };
  const returnCurrentTemp = (temp) => {
    console.log(temp);
    const currentTemp = document.createElement("div");
    currentTemp.classList.add("display-current-temp");
    currentTemp.textContent = `${Math.round(temp - 273)}°C`;
    return currentTemp;
  };

  const returnMaxTemp = (temp) => {
    const maxTemp = document.createElement("div");
    maxTemp.classList.add("max-temp");

    (0,_imageHandler__WEBPACK_IMPORTED_MODULE_2__["default"])()
      .getUpTriangle()
      .then((dat) => {
        const newImage = new Image();
        newImage.src = dat;
        newImage.classList.add("max-temp-logo");
        maxTemp.appendChild(newImage);
      });
    maxTemp.textContent = `${Math.round(temp - 273)}°C`;
    return maxTemp;
  };

  const returnMinTemp = (temp) => {
    const minTemp = document.createElement("div");
    minTemp.classList.add("min-temp");
    (0,_imageHandler__WEBPACK_IMPORTED_MODULE_2__["default"])()
      .getDownTriangle()
      .then((dat) => {
        const newImage = new Image();
        newImage.src = dat;
        newImage.classList.add("min-temp-logo");
        minTemp.appendChild(newImage);
      });
    minTemp.textContent = `${Math.round(temp - 273)}°C`;
    return minTemp;
  };

  const updateBackground = (cond) => {
    const sun = document.querySelector(".sun");
    sun.removeAttribute("style");
    if (cond == "Haze" || cond == "Smoke") {
      document.body.style.background =
        "linear-gradient(rgb(198 198 198 / 50%), rgb(0 113 195 / 73%), rgb(17, 152, 250))";
      sun.style.boxShadow = "0 0 2px 0 rgb(255,255,0)";
    } else if (cond == "Mist") {
      document.body.style.background = "linear-gradient(silver, #0095ff)";
      sun.style.boxShadow = "0 0 3px 0 rgb(255,255,0)";
    } else if (cond == "Snow") {
      document.body.style.background = "rgb(139,175,199)";
      sun.style.opacity = 0.9;
    } else if (cond == "Clouds") {
      document.body.style.background =
        "linear-gradient(rgb(87, 92, 95), rgb(121,117,117))";
      sun.setAttribute(
        "style",
        "opacity: 0.7; box-shadow:0 0 2px 0px rgb(255,255,0);"
      );
    } else if (cond == "Rain") {
      document.body.style.background = "rgb(5, 43, 69)";
      sun.setAttribute(
        "style",
        "opacity: 0.8; box-shadow:0 0 2px 0px rgb(255,255,0);"
      );
    } else if (cond == "Drizzle") {
      document.body.style.background = "rgb(67,89,104)";
      sun.setAttribute(
        "style",
        `opacity: 0.8;
      box-shadow: 0 0 2px 1px rgb(255,255,0)`
      );
    } else {
      document.body.style.background = "#0095ff";
    }
    _particleHandler__WEBPACK_IMPORTED_MODULE_1__["default"].evaluate(cond);
  };

  const updateData = (data) => {
    weatherDisplay.innerHTML = "";

    const tempInfo = document.createElement("div");
    tempInfo.classList.add("temp-info");

    const sun = document.createElement("div");
    sun.classList.add("sun");

    const tempDiv = document.createElement("div");
    tempDiv.classList.add("temp-data");
    tempDiv.appendChild(returnCurrentTemp(data["main"]["temp"]));
    tempDiv.appendChild(returnMinTemp(data["main"]["temp_min"]));
    tempDiv.appendChild(returnMaxTemp(data["main"]["temp_max"]));

    tempInfo.appendChild(tempDiv);
    tempInfo.appendChild(returnCondition(data["weather"][0]["main"]));
    tempInfo.appendChild(returnCityName(data["name"]));

    weatherDisplay.appendChild(sun);
    weatherDisplay.appendChild(tempInfo);

    updateBackground(data["weather"][0]["main"]);

    document.body.removeChild(document.querySelector(".loading-begin"));
    return;
  };
  return {
    updateData,
  };
};

const formHandler = () => {
  const inputForm = document.forms[0];
  inputForm.onsubmit = passCityName;

  function getCityName() {
    return inputForm.elements[0].value;
  }

  function handleError(err) {
    console.log(err);
    const errorDiv = document.createElement("div");
    if (err.message == "404") {
      errorDiv.textContent = "Invalid City Name";
    } else {
      errorDiv.textContent = "Empty Input";
    }
    errorDiv.classList.add("display-error");
    errorDiv.addEventListener("animationend", (e) => {
      document.body.removeChild(errorDiv);
    });
    document.body.appendChild(errorDiv);
    return;
  }
  function passCityName(e) {
    const cityName = getCityName();
    const errorDiv = document.querySelector(".display-error");
    if (errorDiv) {
      document.body.removeChild(errorDiv);
    }
    e.preventDefault();

    if (cityName == "") {
      handleError(new Error("Empty"));
      inputForm.reset();
      return;
    }
    _apiLoadingHandler__WEBPACK_IMPORTED_MODULE_0__["default"].callApi(cityName)
      .then((data) => {
        displayHandler().updateData(data);
      })
      .catch((error) => {
        handleError(error);
      });
    inputForm.reset();
  }
};

window.addEventListener("DOMContentLoaded", () => {
  _apiLoadingHandler__WEBPACK_IMPORTED_MODULE_0__["default"].callApi("New Delhi")
    .then((data) => displayHandler().updateData(data))
    .catch((error) => {});
});
window.addEventListener("DOMContentLoaded", formHandler);

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLE1BQU0sVUFBVSxLQUFLLFVBQVUsWUFBWSxhQUFhLGFBQWEsT0FBTyxLQUFLLFVBQVUsVUFBVSxZQUFZLFdBQVcsVUFBVSxPQUFPLEtBQUssVUFBVSxZQUFZLGFBQWEsV0FBVyxNQUFNLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxXQUFXLFlBQVksV0FBVyxZQUFZLFdBQVcsYUFBYSxXQUFXLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFdBQVcsWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxZQUFZLFlBQVksYUFBYSxXQUFXLFlBQVksYUFBYSxhQUFhLGNBQWMsV0FBVyxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksV0FBVyxVQUFVLFlBQVksV0FBVyxNQUFNLFlBQVksTUFBTSxVQUFVLFVBQVUsVUFBVSxZQUFZLFlBQVksVUFBVSxZQUFZLFdBQVcsTUFBTSxLQUFLLFVBQVUsWUFBWSxXQUFXLFVBQVUsWUFBWSxPQUFPLEtBQUssVUFBVSxZQUFZLGFBQWEsV0FBVyxNQUFNLEtBQUssVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxPQUFPLEtBQUssS0FBSyxVQUFVLFlBQVksTUFBTSxLQUFLLFVBQVUsWUFBWSxNQUFNLE1BQU0sS0FBSyxVQUFVLFlBQVksYUFBYSxXQUFXLFlBQVksV0FBVyxZQUFZLGFBQWEsV0FBVyxVQUFVLFlBQVksT0FBTyxLQUFLLFVBQVUsVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksV0FBVyxNQUFNLEtBQUssVUFBVSxZQUFZLGFBQWEsYUFBYSxXQUFXLE1BQU0sTUFBTSxVQUFVLFlBQVksT0FBTyxNQUFNLFVBQVUsWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxXQUFXLE1BQU0sS0FBSyxVQUFVLFVBQVUsTUFBTSxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxhQUFhLFdBQVcsTUFBTSxLQUFLLFVBQVUsWUFBWSxXQUFXLE1BQU0sS0FBSyxZQUFZLE9BQU8sVUFBVSxLQUFLLFVBQVUsWUFBWSxXQUFXLFlBQVksV0FBVyxhQUFhLFdBQVcsWUFBWSxXQUFXLFdBQVcsVUFBVSxZQUFZLGFBQWEsYUFBYSxXQUFXLE1BQU0sWUFBWSxNQUFNLFlBQVksYUFBYSxXQUFXLFVBQVUsV0FBVyxVQUFVLFlBQVksYUFBYSxXQUFXLFlBQVksY0FBYyxhQUFhLE9BQU8sS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxNQUFNLEtBQUssWUFBWSxXQUFXLFdBQVcsWUFBWSxXQUFXLE9BQU8sTUFBTSxZQUFZLGFBQWEsYUFBYSxZQUFZLFVBQVUsVUFBVSxLQUFLLEtBQUssWUFBWSxXQUFXLFVBQVUsTUFBTSxLQUFLLFlBQVksV0FBVyxNQUFNLFVBQVUsTUFBTSxZQUFZLFdBQVcsVUFBVSxVQUFVLFlBQVksV0FBVyxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssWUFBWSxXQUFXLFlBQVksY0FBYyxhQUFhLGFBQWEsYUFBYSxjQUFjLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLFdBQVcsVUFBVSxZQUFZLGNBQWMsV0FBVyxVQUFVLE9BQU8sS0FBSyxVQUFVLE1BQU0sWUFBWSxNQUFNLFVBQVUsS0FBSyxVQUFVLE1BQU0sT0FBTyxVQUFVLE9BQU8sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLFVBQVUsTUFBTSxZQUFZLE1BQU0sWUFBWSxhQUFhLE9BQU8sT0FBTyxZQUFZLFdBQVcsT0FBTyxVQUFVLEtBQUssWUFBWSxXQUFXLE9BQU8sVUFBVSxLQUFLLFVBQVUsTUFBTSxNQUFNLEtBQUssVUFBVSxLQUFLLFVBQVUsTUFBTSxVQUFVLEtBQUssVUFBVSxNQUFNLFlBQVksTUFBTSxVQUFVLFlBQVksV0FBVyxNQUFNLEtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGNBQWM7Ozs7Ozs7Ozs7O0FDblREO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQixpQkFBaUIsbUJBQU8sQ0FBQywyREFBVTtBQUNuQyxvQkFBb0IsbUJBQU8sQ0FBQyxpRUFBYTtBQUN6QyxpQkFBaUIsbUJBQU8sQ0FBQywyREFBVTtBQUNuQyx1QkFBdUIsbUJBQU8sQ0FBQyx1RUFBZ0I7QUFDL0Msa0JBQWtCLG1CQUFPLENBQUMseUZBQTRCO0FBQ3RELGdCQUFnQixtQkFBTyxDQUFDLDJEQUFVO0FBQ2xDLGlCQUFpQixtQkFBTyxDQUFDLDZFQUFtQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLHlCQUF5QjtBQUN6Qix5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzR0FBc0c7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7Ozs7Ozs7Ozs7O0FDbFhIO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGFBQWE7QUFDYixnQkFBZ0IsbUJBQU8sQ0FBQyw4REFBYTtBQUNyQyxnQkFBZ0IsbUJBQU8sQ0FBQyw4REFBYTtBQUNyQztBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7Ozs7Ozs7Ozs7QUMxTEE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQscUJBQXFCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxxQkFBcUI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscUJBQXFCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELEVBQUU7QUFDekQsa0NBQWtDLFVBQVU7QUFDNUM7QUFDQSw4QkFBOEIsWUFBWSxTQUFTLGdCQUFnQixZQUFZLGlCQUFpQixJQUFJLEtBQUs7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCOzs7Ozs7Ozs7OztBQzlYZDtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7Ozs7Ozs7QUNoZ0RZO0FBQ2I7QUFDQTtBQUNBLG1DQUFtQyxvQ0FBb0MsZ0JBQWdCO0FBQ3ZGLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0Es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O0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjs7Ozs7Ozs7Ozs7QUNyWFQ7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLEdBQUcseUJBQXlCLEdBQUcsK0JBQStCLEdBQUcsaUNBQWlDLEdBQUcsbUJBQW1CLEdBQUcsb0JBQW9CLEdBQUcsZ0JBQWdCLEdBQUcscUJBQXFCLEdBQUcsbUJBQW1CLEdBQUcsbUJBQW1CLEdBQUcscUJBQXFCLEdBQUcscUJBQXFCLEdBQUcsV0FBVyxHQUFHLGFBQWE7QUFDdFUsZ0JBQWdCLG1CQUFPLENBQUMsMkRBQVU7QUFDbEMsaUJBQWlCLG1CQUFPLENBQUMsbUZBQXlCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLFlBQVksdUJBQXVCLGtDQUFrQyxrQ0FBa0M7QUFDdkc7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7Ozs7Ozs7Ozs7O0FDaElMO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7Ozs7Ozs7Ozs7O0FDckZGO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOzs7Ozs7Ozs7OztBQ1RBO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQjtBQUNoQixvQkFBb0IsbUJBQU8sQ0FBQyxrRUFBYTtBQUN6QyxpQkFBaUIsbUJBQU8sQ0FBQyw0REFBVTtBQUNuQyxxQkFBcUIsbUJBQU8sQ0FBQyxvRUFBYztBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQyxzRUFBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjs7Ozs7Ozs7Ozs7QUM3RUg7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOzs7Ozs7Ozs7OztBQ1hBO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQixnQkFBZ0IsbUJBQU8sQ0FBQywwREFBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7Ozs7Ozs7Ozs7O0FDckNKO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixHQUFHLG9CQUFvQixHQUFHLG9DQUFvQyxHQUFHLGVBQWUsR0FBRyw0QkFBNEIsR0FBRyxzQkFBc0IsR0FBRyx3QkFBd0IsR0FBRyxrQkFBa0IsR0FBRyx1QkFBdUIsR0FBRyx1QkFBdUIsR0FBRyxxQkFBcUIsR0FBRyxxQkFBcUIsR0FBRyx3QkFBd0IsR0FBRyxnQkFBZ0IsR0FBRyxpQkFBaUIsR0FBRyx1QkFBdUIsR0FBRyxlQUFlLEdBQUcsYUFBYTtBQUM1YSxnQkFBZ0IsbUJBQU8sQ0FBQywyREFBVTtBQUNsQyxzQkFBc0IsbUJBQU8sQ0FBQyxzRUFBZTtBQUM3QyxpQkFBaUIsbUJBQU8sQ0FBQyxtRkFBeUI7QUFDbEQ7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxnRUFBZ0UsUUFBUSxpRUFBaUU7QUFDOUs7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0EsWUFBWSxxQ0FBcUM7QUFDakQ7QUFDQSxZQUFZLHVCQUF1QjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjs7Ozs7Ozs7Ozs7QUM3UUw7QUFDYjtBQUNBO0FBQ0EsbUNBQW1DLG9DQUFvQyxnQkFBZ0I7QUFDdkYsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGFBQWEsbUJBQU8sQ0FBQyxzRUFBZTtBQUNwQyxhQUFhLG1CQUFPLENBQUMsNERBQVU7QUFDL0IsYUFBYSxtQkFBTyxDQUFDLG9FQUFjO0FBQ25DLGFBQWEsbUJBQU8sQ0FBQyxvRUFBYztBQUNuQyxhQUFhLG1CQUFPLENBQUMsa0VBQWE7QUFDbEMsYUFBYSxtQkFBTyxDQUFDLDRFQUFrQjtBQUN2QyxhQUFhLG1CQUFPLENBQUMsc0VBQWU7QUFDcEMsYUFBYSxtQkFBTyxDQUFDLDhEQUFXO0FBQ2hDLGFBQWEsbUJBQU8sQ0FBQywwREFBUztBQUM5QixhQUFhLG1CQUFPLENBQUMsZ0VBQVk7QUFDakMsYUFBYSxtQkFBTyxDQUFDLDBEQUFTO0FBQzlCLGFBQWEsbUJBQU8sQ0FBQyxrRUFBYTtBQUNsQyxhQUFhLG1CQUFPLENBQUMsMERBQVM7Ozs7Ozs7Ozs7O0FDeEJqQjtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0I7QUFDaEIsZUFBZSxtQkFBTyxDQUFDLGtEQUFRO0FBQy9CLGdCQUFnQixtQkFBTyxDQUFDLHNHQUErQjtBQUN2RCxlQUFlLG1CQUFPLENBQUMsMEVBQWlCO0FBQ3hDLGlCQUFpQixtQkFBTyxDQUFDLDhFQUFtQjtBQUM1QyxpQkFBaUIsbUJBQU8sQ0FBQywwRkFBNEI7QUFDckQsaUJBQWlCLG1CQUFPLENBQUMsd0ZBQTJCO0FBQ3BELGlCQUFpQixtQkFBTyxDQUFDLDhGQUE4QjtBQUN2RCxlQUFlLG1CQUFPLENBQUMsMEVBQWlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCOzs7Ozs7Ozs7OztBQ3JCSDtBQUNiO0FBQ0E7QUFDQSxtQ0FBbUMsb0NBQW9DLGdCQUFnQjtBQUN2RixDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CLEdBQUcsY0FBYyxHQUFHLG1CQUFtQixHQUFHLFlBQVksR0FBRyxpQkFBaUIsR0FBRyxhQUFhLEdBQUcsaUJBQWlCLEdBQUcsa0JBQWtCLEdBQUcsY0FBYztBQUN2SyxjQUFjLG1CQUFPLENBQUMsZ0RBQU87QUFDN0IsZUFBZSxtQkFBTyxDQUFDLGtEQUFRO0FBQy9CLHdDQUF1QyxFQUFFLHFDQUFxQyx1QkFBdUIsRUFBQztBQUN0RyxnQkFBZ0IsbUJBQU8sQ0FBQywwREFBUztBQUNqQywwQ0FBeUMsRUFBRSxxQ0FBcUMsMEJBQTBCLEVBQUM7QUFDM0csOENBQTZDLEVBQUUscUNBQXFDLDhCQUE4QixFQUFDO0FBQ25ILDZDQUE0QyxFQUFFLHFDQUFxQyw2QkFBNkIsRUFBQztBQUNqSCx5Q0FBd0MsRUFBRSxxQ0FBcUMseUJBQXlCLEVBQUM7QUFDekcsNkNBQTRDLEVBQUUscUNBQXFDLDZCQUE2QixFQUFDO0FBQ2pILGVBQWUsbUJBQU8sQ0FBQyxrREFBUTtBQUMvQjtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBLFFBQVEsc0JBQXNCO0FBQzlCLG1CQUFtQjtBQUNuQixjQUFjO0FBQ2Q7QUFDQSxhQUFhLG1CQUFPLENBQUMsa0ZBQXdCO0FBQzdDLGFBQWEsbUJBQU8sQ0FBQyxzRUFBa0I7QUFDdkMsYUFBYSxtQkFBTyxDQUFDLDBEQUFTO0FBQzlCLGFBQWEsbUJBQU8sQ0FBQyw4RkFBMkI7QUFDaEQsYUFBYSxtQkFBTyxDQUFDLDRGQUEwQjtBQUMvQyxhQUFhLG1CQUFPLENBQUMsa0dBQTZCO0FBQ2xELGFBQWEsbUJBQU8sQ0FBQyw0RUFBcUI7QUFDMUMsYUFBYSxtQkFBTyxDQUFDLDBFQUFvQjtBQUN6QyxhQUFhLG1CQUFPLENBQUMsNEVBQXFCO0FBQzFDLGFBQWEsbUJBQU8sQ0FBQyxnRUFBZTtBQUNwQyxhQUFhLG1CQUFPLENBQUMsMERBQVM7QUFDOUIsYUFBYSxtQkFBTyxDQUFDLDhFQUFtQjtBQUN4QyxhQUFhLG1CQUFPLENBQUMsb0VBQWlCO0FBQ3RDLGFBQWEsbUJBQU8sQ0FBQyxnR0FBK0I7QUFDcEQsYUFBYSxtQkFBTyxDQUFDLGtHQUFnQzs7Ozs7Ozs7Ozs7QUM1Q3hDO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFlBQVk7QUFDWixnQkFBZ0IsbUJBQU8sQ0FBQywwREFBUztBQUNqQyxpQkFBaUIsbUJBQU8sQ0FBQyxnRUFBZTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjs7Ozs7Ozs7Ozs7QUM5RmE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGVBQWU7Ozs7Ozs7Ozs7O0FDeEJGO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQjtBQUNoQixpQkFBaUIsbUJBQU8sQ0FBQywwRUFBaUI7QUFDMUMsZUFBZSxtQkFBTyxDQUFDLDBFQUFpQjtBQUN4QyxrQkFBa0IsbUJBQU8sQ0FBQywwR0FBaUM7QUFDM0Qsa0JBQWtCLG1CQUFPLENBQUMsZ0ZBQW9CO0FBQzlDLGdCQUFnQixtQkFBTyxDQUFDLHdFQUFnQjtBQUN4QyxrQkFBa0IsbUJBQU8sQ0FBQyw0RUFBa0I7QUFDNUMsaUJBQWlCLG1CQUFPLENBQUMsd0dBQWdDO0FBQ3pELGtCQUFrQixtQkFBTyxDQUFDLDBHQUFpQztBQUMzRCxlQUFlLG1CQUFPLENBQUMsb0dBQThCO0FBQ3JELGVBQWUsbUJBQU8sQ0FBQyxzRUFBZTtBQUN0QyxrQkFBa0IsbUJBQU8sQ0FBQyw0R0FBa0M7QUFDNUQsaUJBQWlCLG1CQUFPLENBQUMsMEVBQWlCO0FBQzFDLHNCQUFzQixtQkFBTyxDQUFDLHdGQUF3QjtBQUN0RCxnQkFBZ0IsbUJBQU8sQ0FBQyw0RUFBa0I7QUFDMUMscUJBQXFCLG1CQUFPLENBQUMsa0hBQXFDO0FBQ2xFLGdCQUFnQixtQkFBTyxDQUFDLDRFQUFrQjtBQUMxQyxtQkFBbUIsbUJBQU8sQ0FBQyxrRkFBcUI7QUFDaEQsa0JBQWtCLG1CQUFPLENBQUMsMEdBQWlDO0FBQzNELGVBQWUsbUJBQU8sQ0FBQyxzRUFBZTtBQUN0QyxpQkFBaUIsbUJBQU8sQ0FBQyx3R0FBZ0M7QUFDekQsZUFBZSxtQkFBTyxDQUFDLHNFQUFlO0FBQ3RDLGdCQUFnQixtQkFBTyxDQUFDLHdHQUFnQztBQUN4RCxlQUFlLG1CQUFPLENBQUMsMEVBQWlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCOzs7Ozs7Ozs7Ozs7Ozs7QUNuRGhCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0RBQWdELFNBQVMsU0FBUyxPQUFPO0FBQ3pFO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxpRUFBZSxVQUFVLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMUN3QjtBQUNJOztBQUV0RDtBQUNBO0FBQ0EsV0FBVyxvREFBVTtBQUNyQjtBQUNBO0FBQ0EsV0FBVyxzREFBWTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsWUFBWSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2hCYzs7QUFFMUM7QUFDQTtBQUNBLElBQUkseURBQWdCO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSSx5REFBZ0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxpQkFBaUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7VUNsR2pDO1VBQ0E7O1VBRUE7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7Ozs7V0N6QkE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLGlDQUFpQyxXQUFXO1dBQzVDO1dBQ0E7Ozs7O1dDUEE7V0FDQTtXQUNBO1dBQ0E7V0FDQSx5Q0FBeUMsd0NBQXdDO1dBQ2pGO1dBQ0E7V0FDQTs7Ozs7V0NQQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLEdBQUc7V0FDSDtXQUNBO1dBQ0EsQ0FBQzs7Ozs7V0NQRDs7Ozs7V0NBQTtXQUNBO1dBQ0E7V0FDQSx1REFBdUQsaUJBQWlCO1dBQ3hFO1dBQ0EsZ0RBQWdELGFBQWE7V0FDN0Q7Ozs7O1dDTkE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7Ozs7O1dDZkE7O1dBRUE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOzs7Ozs7Ozs7Ozs7Ozs7QUNyQjZDO0FBQ0c7QUFDTjtBQUN0Qjs7QUFFcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsdUJBQXVCO0FBQ3hEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLElBQUkseURBQVk7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLDZCQUE2Qix1QkFBdUI7QUFDcEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHlEQUFZO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCw2QkFBNkIsdUJBQXVCO0FBQ3BEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNDQUFzQztBQUM3RDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0NBQXNDO0FBQzdEO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSSxpRUFBd0I7QUFDNUI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxrRUFDVTtBQUNkO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLGtFQUNVO0FBQ1o7QUFDQSx3QkFBd0I7QUFDeEIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9zcmMvbWFpbi5jc3MiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vc3JjL21haW4uY3NzP2RkZDMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0NhbnZhcy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0V4dGVybmFsSW50ZXJhY3RvckJhc2UuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvQ29yZS9GcmFtZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvQ29yZS9JbnRlcmFjdGlvbk1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvQ29yZS9JbnRlcmZhY2VzL0NvbG9ycy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvR3JhZGllbnRzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvSW50ZXJmYWNlcy9JQXR0cmFjdC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvSUJvdW5kcy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvSUJ1YmJsZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvSUJ1YmJsZVBhcnRpY2xlRGF0YS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvSUNpcmNsZUJvdW5jZXIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvQ29yZS9JbnRlcmZhY2VzL0lDb250YWluZXJJbnRlcmFjdGl2aXR5LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvSW50ZXJmYWNlcy9JQ29udGFpbmVyUGx1Z2luLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvSW50ZXJmYWNlcy9JQ29vcmRpbmF0ZXMuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvQ29yZS9JbnRlcmZhY2VzL0lEZWx0YS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvSURpbWVuc2lvbi5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvSURpc3RhbmNlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvSW50ZXJmYWNlcy9JRXh0ZXJuYWxJbnRlcmFjdG9yLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvSW50ZXJmYWNlcy9JSW50ZXJhY3Rvci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvSU1vdXNlRGF0YS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvSU1vdmVQYXRoR2VuZXJhdG9yLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvSW50ZXJmYWNlcy9JUGFydGljbGUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvQ29yZS9JbnRlcmZhY2VzL0lQYXJ0aWNsZUdyYWRpZW50QW5pbWF0aW9uLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvSW50ZXJmYWNlcy9JUGFydGljbGVHcmFkaWVudENvbG9yQW5pbWF0aW9uLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvSW50ZXJmYWNlcy9JUGFydGljbGVIc2xBbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvQ29yZS9JbnRlcmZhY2VzL0lQYXJ0aWNsZUxpZmUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvQ29yZS9JbnRlcmZhY2VzL0lQYXJ0aWNsZUxvb3BzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvSW50ZXJmYWNlcy9JUGFydGljbGVSZXRpbmFQcm9wcy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvSVBhcnRpY2xlU3Bpbi5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvSVBhcnRpY2xlVXBkYXRlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvSVBhcnRpY2xlVmFsdWVBbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvQ29yZS9JbnRlcmZhY2VzL0lQYXJ0aWNsZXNJbnRlcmFjdG9yLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvSW50ZXJmYWNlcy9JUGx1Z2luLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvSW50ZXJmYWNlcy9JUmFuZ2VWYWx1ZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvSVJlY3RTaWRlUmVzdWx0LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvSW50ZXJmYWNlcy9JUmVwdWxzZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL0ludGVyZmFjZXMvSVNoYXBlRHJhd2VyLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvSW50ZXJmYWNlcy9JU2hhcGVWYWx1ZXMuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvQ29yZS9JbnRlcmZhY2VzL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvTG9hZGVyLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvUGFydGljbGUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvQ29yZS9QYXJ0aWNsZS9Nb3Zlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL1BhcnRpY2xlL1ZlY3Rvci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9Db3JlL1BhcnRpY2xlL1ZlY3RvcjNkLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvUGFydGljbGVzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0NvcmUvUGFydGljbGVzSW50ZXJhY3RvckJhc2UuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvQ29yZS9SZXRpbmEuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvRW51bXMvQW5pbWF0aW9uU3RhdHVzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0VudW1zL0RpcmVjdGlvbnMvTW92ZURpcmVjdGlvbi5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9FbnVtcy9EaXJlY3Rpb25zL091dE1vZGVEaXJlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvRW51bXMvRGlyZWN0aW9ucy9Sb3RhdGVEaXJlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvRW51bXMvRGlyZWN0aW9ucy9UaWx0RGlyZWN0aW9uLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0VudW1zL0RpcmVjdGlvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvRW51bXMvSW50ZXJhY3Rpdml0eURldGVjdC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9FbnVtcy9Nb2Rlcy9DbGlja01vZGUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvRW51bXMvTW9kZXMvQ29sbGlzaW9uTW9kZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9FbnVtcy9Nb2Rlcy9EZXN0cm95TW9kZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9FbnVtcy9Nb2Rlcy9EaXZNb2RlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0VudW1zL01vZGVzL0hvdmVyTW9kZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9FbnVtcy9Nb2Rlcy9PdXRNb2RlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0VudW1zL01vZGVzL1Jlc3BvbnNpdmVNb2RlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0VudW1zL01vZGVzL1JvbGxNb2RlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0VudW1zL01vZGVzL1NpemVNb2RlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0VudW1zL01vZGVzL1RoZW1lTW9kZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9FbnVtcy9Nb2Rlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9FbnVtcy9UeXBlcy9BbHRlclR5cGUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvRW51bXMvVHlwZXMvRGVzdHJveVR5cGUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvRW51bXMvVHlwZXMvRGl2VHlwZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9FbnVtcy9UeXBlcy9FYXNpbmdUeXBlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0VudW1zL1R5cGVzL0dyYWRpZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9FbnVtcy9UeXBlcy9JbnRlcmFjdG9yVHlwZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9FbnVtcy9UeXBlcy9PcmJpdFR5cGUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvRW51bXMvVHlwZXMvU2hhcGVUeXBlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0VudW1zL1R5cGVzL1N0YXJ0VmFsdWVUeXBlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0VudW1zL1R5cGVzL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0VudW1zL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0ludGVyYWN0aW9ucy9FeHRlcm5hbC9BdHRyYWN0L0F0dHJhY3Rvci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9JbnRlcmFjdGlvbnMvRXh0ZXJuYWwvQXR0cmFjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9JbnRlcmFjdGlvbnMvRXh0ZXJuYWwvQm91bmNlL0JvdW5jZXIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvSW50ZXJhY3Rpb25zL0V4dGVybmFsL0JvdW5jZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9JbnRlcmFjdGlvbnMvRXh0ZXJuYWwvQnViYmxlL0J1YmJsZXIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvSW50ZXJhY3Rpb25zL0V4dGVybmFsL0J1YmJsZS9Qcm9jZXNzQnViYmxlVHlwZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9JbnRlcmFjdGlvbnMvRXh0ZXJuYWwvQnViYmxlL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0ludGVyYWN0aW9ucy9FeHRlcm5hbC9Db25uZWN0L0Nvbm5lY3Rvci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9JbnRlcmFjdGlvbnMvRXh0ZXJuYWwvQ29ubmVjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9JbnRlcmFjdGlvbnMvRXh0ZXJuYWwvR3JhYi9HcmFiYmVyLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0ludGVyYWN0aW9ucy9FeHRlcm5hbC9HcmFiL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0ludGVyYWN0aW9ucy9FeHRlcm5hbC9SZXB1bHNlL1JlcHVsc2VyLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0ludGVyYWN0aW9ucy9FeHRlcm5hbC9SZXB1bHNlL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0ludGVyYWN0aW9ucy9FeHRlcm5hbC9UcmFpbC9UcmFpbE1ha2VyLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0ludGVyYWN0aW9ucy9FeHRlcm5hbC9UcmFpbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9JbnRlcmFjdGlvbnMvUGFydGljbGVzL0F0dHJhY3QvQXR0cmFjdG9yLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0ludGVyYWN0aW9ucy9QYXJ0aWNsZXMvQXR0cmFjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9JbnRlcmFjdGlvbnMvUGFydGljbGVzL0NvbGxpc2lvbnMvQ29sbGlkZXIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvSW50ZXJhY3Rpb25zL1BhcnRpY2xlcy9Db2xsaXNpb25zL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0ludGVyYWN0aW9ucy9QYXJ0aWNsZXMvTGlua3MvTGlua0luc3RhbmNlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0ludGVyYWN0aW9ucy9QYXJ0aWNsZXMvTGlua3MvTGlua2VyLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL0ludGVyYWN0aW9ucy9QYXJ0aWNsZXMvTGlua3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvSW50ZXJhY3Rpb25zL1BhcnRpY2xlcy9MaW5rcy9wbHVnaW4uanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0FuaW1hdGFibGVDb2xvci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvQW5pbWF0YWJsZUdyYWRpZW50LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9BbmltYXRpb25PcHRpb25zLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9CYWNrZ3JvdW5kL0JhY2tncm91bmQuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0JhY2tncm91bmRNYXNrL0JhY2tncm91bmRNYXNrLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9CYWNrZ3JvdW5kTWFzay9CYWNrZ3JvdW5kTWFza0NvdmVyLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9Db2xvckFuaW1hdGlvbi5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvRnVsbFNjcmVlbi9GdWxsU2NyZWVuLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9Ic2xBbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0ludGVyYWN0aXZpdHkvRXZlbnRzL0NsaWNrRXZlbnQuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0ludGVyYWN0aXZpdHkvRXZlbnRzL0RpdkV2ZW50LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9JbnRlcmFjdGl2aXR5L0V2ZW50cy9FdmVudHMuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0ludGVyYWN0aXZpdHkvRXZlbnRzL0hvdmVyRXZlbnQuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0ludGVyYWN0aXZpdHkvRXZlbnRzL1BhcmFsbGF4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9JbnRlcmFjdGl2aXR5L0ludGVyYWN0aXZpdHkuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0ludGVyYWN0aXZpdHkvTW9kZXMvQXR0cmFjdC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvSW50ZXJhY3Rpdml0eS9Nb2Rlcy9Cb3VuY2UuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0ludGVyYWN0aXZpdHkvTW9kZXMvQnViYmxlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9JbnRlcmFjdGl2aXR5L01vZGVzL0J1YmJsZUJhc2UuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0ludGVyYWN0aXZpdHkvTW9kZXMvQnViYmxlRGl2LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9JbnRlcmFjdGl2aXR5L01vZGVzL0Nvbm5lY3QuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0ludGVyYWN0aXZpdHkvTW9kZXMvQ29ubmVjdExpbmtzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9JbnRlcmFjdGl2aXR5L01vZGVzL0dyYWIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0ludGVyYWN0aXZpdHkvTW9kZXMvR3JhYkxpbmtzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9JbnRlcmFjdGl2aXR5L01vZGVzL0xpZ2h0LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9JbnRlcmFjdGl2aXR5L01vZGVzL0xpZ2h0QXJlYS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvSW50ZXJhY3Rpdml0eS9Nb2Rlcy9MaWdodEdyYWRpZW50LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9JbnRlcmFjdGl2aXR5L01vZGVzL0xpZ2h0U2hhZG93LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9JbnRlcmFjdGl2aXR5L01vZGVzL01vZGVzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9JbnRlcmFjdGl2aXR5L01vZGVzL1B1c2guanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0ludGVyYWN0aXZpdHkvTW9kZXMvUmVtb3ZlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9JbnRlcmFjdGl2aXR5L01vZGVzL1JlcHVsc2UuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0ludGVyYWN0aXZpdHkvTW9kZXMvUmVwdWxzZUJhc2UuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL0ludGVyYWN0aXZpdHkvTW9kZXMvUmVwdWxzZURpdi5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvSW50ZXJhY3Rpdml0eS9Nb2Rlcy9TbG93LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9JbnRlcmFjdGl2aXR5L01vZGVzL1RyYWlsLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9NYW51YWxQYXJ0aWNsZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvTW90aW9uL01vdGlvbi5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvTW90aW9uL01vdGlvblJlZHVjZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvT3B0aW9ucy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvT3B0aW9uc0NvbG9yLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9QYXJ0aWNsZXMvQm91bmNlL0JvdW5jZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL0JvdW5jZS9Cb3VuY2VGYWN0b3IuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1BhcnRpY2xlcy9Db2xsaXNpb25zL0NvbGxpc2lvbnMuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1BhcnRpY2xlcy9Db2xsaXNpb25zL0NvbGxpc2lvbnNPdmVybGFwLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9QYXJ0aWNsZXMvRGVzdHJveS9EZXN0cm95LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9QYXJ0aWNsZXMvRGVzdHJveS9TcGxpdC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL0Rlc3Ryb3kvU3BsaXRGYWN0b3IuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1BhcnRpY2xlcy9EZXN0cm95L1NwbGl0UmF0ZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL0xpZmUvTGlmZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL0xpZmUvTGlmZURlbGF5LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9QYXJ0aWNsZXMvTGlmZS9MaWZlRHVyYXRpb24uanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1BhcnRpY2xlcy9MaW5rcy9MaW5rcy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL0xpbmtzL0xpbmtzU2hhZG93LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9QYXJ0aWNsZXMvTGlua3MvTGlua3NUcmlhbmdsZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL01vdmUvQXR0cmFjdC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL01vdmUvTW92ZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL01vdmUvTW92ZUFuZ2xlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9QYXJ0aWNsZXMvTW92ZS9Nb3ZlR3Jhdml0eS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL01vdmUvT3V0TW9kZXMuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1BhcnRpY2xlcy9Nb3ZlL1BhdGgvUGF0aC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL01vdmUvUGF0aC9QYXRoRGVsYXkuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1BhcnRpY2xlcy9Nb3ZlL1NwaW4uanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1BhcnRpY2xlcy9Nb3ZlL1RyYWlsLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9QYXJ0aWNsZXMvTnVtYmVyL0RlbnNpdHkuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1BhcnRpY2xlcy9OdW1iZXIvUGFydGljbGVzTnVtYmVyLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9QYXJ0aWNsZXMvT3BhY2l0eS9PcGFjaXR5LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9QYXJ0aWNsZXMvT3BhY2l0eS9PcGFjaXR5QW5pbWF0aW9uLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9QYXJ0aWNsZXMvT3JiaXQvT3JiaXQuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1BhcnRpY2xlcy9PcmJpdC9PcmJpdFJvdGF0aW9uLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9QYXJ0aWNsZXMvUGFydGljbGVzT3B0aW9ucy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL1JlcHVsc2UvUmVwdWxzZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL1JvbGwvUm9sbC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL1JvbGwvUm9sbExpZ2h0LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9QYXJ0aWNsZXMvUm90YXRlL1JvdGF0ZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL1JvdGF0ZS9Sb3RhdGVBbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1BhcnRpY2xlcy9TaGFkb3cuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1BhcnRpY2xlcy9TaGFwZS9TaGFwZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL1NpemUvU2l6ZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL1NpemUvU2l6ZUFuaW1hdGlvbi5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL1N0cm9rZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL1RpbHQvVGlsdC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL1RpbHQvVGlsdEFuaW1hdGlvbi5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL1R3aW5rbGUvVHdpbmtsZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL1R3aW5rbGUvVHdpbmtsZVZhbHVlcy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL1dvYmJsZS9Xb2JibGUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1BhcnRpY2xlcy9aSW5kZXgvWkluZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9SYW5kb20uanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1Jlc3BvbnNpdmUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1RoZW1lL1RoZW1lLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL09wdGlvbnMvQ2xhc3Nlcy9UaGVtZS9UaGVtZURlZmF1bHQuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvT3B0aW9ucy9DbGFzc2VzL1ZhbHVlV2l0aFJhbmRvbS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9QbHVnaW5zL0Fic29yYmVycy9BYnNvcmJlckluc3RhbmNlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1BsdWdpbnMvQWJzb3JiZXJzL0Fic29yYmVycy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9QbHVnaW5zL0Fic29yYmVycy9FbnVtcy9BYnNvcmJlckNsaWNrTW9kZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9QbHVnaW5zL0Fic29yYmVycy9FbnVtcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9QbHVnaW5zL0Fic29yYmVycy9PcHRpb25zL0NsYXNzZXMvQWJzb3JiZXIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvUGx1Z2lucy9BYnNvcmJlcnMvT3B0aW9ucy9DbGFzc2VzL0Fic29yYmVyU2l6ZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9QbHVnaW5zL0Fic29yYmVycy9PcHRpb25zL0NsYXNzZXMvQWJzb3JiZXJTaXplTGltaXQuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvUGx1Z2lucy9BYnNvcmJlcnMvcGx1Z2luLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1BsdWdpbnMvRW1pdHRlcnMvRW1pdHRlckluc3RhbmNlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1BsdWdpbnMvRW1pdHRlcnMvRW1pdHRlcnMuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvUGx1Z2lucy9FbWl0dGVycy9FbWl0dGVyc01haW4uanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvUGx1Z2lucy9FbWl0dGVycy9FbnVtcy9FbWl0dGVyQ2xpY2tNb2RlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1BsdWdpbnMvRW1pdHRlcnMvRW51bXMvRW1pdHRlclNoYXBlVHlwZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9QbHVnaW5zL0VtaXR0ZXJzL0VudW1zL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1BsdWdpbnMvRW1pdHRlcnMvT3B0aW9ucy9DbGFzc2VzL0VtaXR0ZXIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvUGx1Z2lucy9FbWl0dGVycy9PcHRpb25zL0NsYXNzZXMvRW1pdHRlckxpZmUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvUGx1Z2lucy9FbWl0dGVycy9PcHRpb25zL0NsYXNzZXMvRW1pdHRlclJhdGUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvUGx1Z2lucy9FbWl0dGVycy9PcHRpb25zL0NsYXNzZXMvRW1pdHRlclNpemUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvUGx1Z2lucy9FbWl0dGVycy9TaGFwZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvUGx1Z2lucy9FbWl0dGVycy9TaGFwZXMvQ2lyY2xlL0NpcmNsZVNoYXBlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1BsdWdpbnMvRW1pdHRlcnMvU2hhcGVzL1NxdWFyZS9TcXVhcmVTaGFwZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9QbHVnaW5zL0VtaXR0ZXJzL3BsdWdpbi5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9QbHVnaW5zL1BvbHlnb25NYXNrL0VudW1zL0lubGluZUFycmFuZ2VtZW50LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1BsdWdpbnMvUG9seWdvbk1hc2svRW51bXMvTW92ZVR5cGUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvUGx1Z2lucy9Qb2x5Z29uTWFzay9FbnVtcy9UeXBlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1BsdWdpbnMvUG9seWdvbk1hc2svRW51bXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvUGx1Z2lucy9Qb2x5Z29uTWFzay9PcHRpb25zL0NsYXNzZXMvRHJhdy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9QbHVnaW5zL1BvbHlnb25NYXNrL09wdGlvbnMvQ2xhc3Nlcy9EcmF3U3Ryb2tlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1BsdWdpbnMvUG9seWdvbk1hc2svT3B0aW9ucy9DbGFzc2VzL0lubGluZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9QbHVnaW5zL1BvbHlnb25NYXNrL09wdGlvbnMvQ2xhc3Nlcy9Mb2NhbFN2Zy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9QbHVnaW5zL1BvbHlnb25NYXNrL09wdGlvbnMvQ2xhc3Nlcy9Nb3ZlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1BsdWdpbnMvUG9seWdvbk1hc2svT3B0aW9ucy9DbGFzc2VzL1BvbHlnb25NYXNrLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1BsdWdpbnMvUG9seWdvbk1hc2svUG9seWdvbk1hc2tJbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9QbHVnaW5zL1BvbHlnb25NYXNrL3BhdGhzZWcuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvUGx1Z2lucy9Qb2x5Z29uTWFzay9wbHVnaW4uanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvUGx1Z2lucy9Qb2x5Z29uTWFzay91dGlscy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9TaGFwZXMvQ2lyY2xlL0NpcmNsZURyYXdlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9TaGFwZXMvQ2lyY2xlL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1NoYXBlcy9JbWFnZS9JbWFnZURyYXdlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9TaGFwZXMvSW1hZ2UvVXRpbHMuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvU2hhcGVzL0ltYWdlL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1NoYXBlcy9MaW5lL0xpbmVEcmF3ZXIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvU2hhcGVzL0xpbmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvU2hhcGVzL1BvbHlnb24vUG9seWdvbkRyYXdlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9TaGFwZXMvUG9seWdvbi9Qb2x5Z29uRHJhd2VyQmFzZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9TaGFwZXMvUG9seWdvbi9UcmlhbmdsZURyYXdlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9TaGFwZXMvUG9seWdvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9TaGFwZXMvU3F1YXJlL1NxdWFyZURyYXdlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9TaGFwZXMvU3F1YXJlL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1NoYXBlcy9TdGFyL1N0YXJEcmF3ZXIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvU2hhcGVzL1N0YXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvU2hhcGVzL1RleHQvVGV4dERyYXdlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9TaGFwZXMvVGV4dC9pbmRleC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9UeXBlcy9QYXRoT3B0aW9ucy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9UeXBlcy9SYW5nZVZhbHVlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1R5cGVzL1JlY3Vyc2l2ZVBhcnRpYWwuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvVHlwZXMvU2hhcGVEYXRhLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1R5cGVzL1NoYXBlRHJhd2VyRnVuY3Rpb25zLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1R5cGVzL1NpbmdsZU9yTXVsdGlwbGUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvVHlwZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvVXBkYXRlcnMvQW5nbGUvQW5nbGVVcGRhdGVyLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1VwZGF0ZXJzL0FuZ2xlL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1VwZGF0ZXJzL0NvbG9yL0NvbG9yVXBkYXRlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9VcGRhdGVycy9Db2xvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9VcGRhdGVycy9MaWZlL0xpZmVVcGRhdGVyLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1VwZGF0ZXJzL0xpZmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvVXBkYXRlcnMvT3BhY2l0eS9PcGFjaXR5VXBkYXRlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9VcGRhdGVycy9PcGFjaXR5L2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1VwZGF0ZXJzL091dE1vZGVzL091dE9mQ2FudmFzVXBkYXRlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9VcGRhdGVycy9PdXRNb2Rlcy9VdGlscy5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9VcGRhdGVycy9PdXRNb2Rlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9VcGRhdGVycy9Sb2xsL1JvbGxVcGRhdGVyLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1VwZGF0ZXJzL1JvbGwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvVXBkYXRlcnMvU2l6ZS9TaXplVXBkYXRlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9VcGRhdGVycy9TaXplL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1VwZGF0ZXJzL1N0cm9rZUNvbG9yL1N0cm9rZUNvbG9yVXBkYXRlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9VcGRhdGVycy9TdHJva2VDb2xvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9VcGRhdGVycy9UaWx0L1RpbHRVcGRhdGVyLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1VwZGF0ZXJzL1RpbHQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvVXBkYXRlcnMvV29iYmxlL1dvYmJsZVVwZGF0ZXIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvVXBkYXRlcnMvV29iYmxlL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1V0aWxzL0NhbnZhc1V0aWxzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1V0aWxzL0NpcmNsZS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9VdGlscy9DaXJjbGVXYXJwLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1V0aWxzL0NvbG9yVXRpbHMuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvVXRpbHMvQ29uc3RhbnRzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1V0aWxzL0V2ZW50TGlzdGVuZXJzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1V0aWxzL051bWJlclV0aWxzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1V0aWxzL1BsdWdpbnMuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvVXRpbHMvUG9pbnQuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvVXRpbHMvUXVhZFRyZWUuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvVXRpbHMvUmFuZ2UuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvVXRpbHMvUmVjdGFuZ2xlLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1V0aWxzL1V0aWxzLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL1V0aWxzL2luZGV4LmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwLy4vbm9kZV9tb2R1bGVzL3RzcGFydGljbGVzL2Z1bGwuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvbWFpbi5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL25vZGVfbW9kdWxlcy90c3BhcnRpY2xlcy9wanMuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9ub2RlX21vZHVsZXMvdHNwYXJ0aWNsZXMvc2xpbS5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL3NyYy9hcGlMb2FkaW5nSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL3NyYy9pbWFnZUhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvLi9zcmMvcGFydGljbGVIYW5kbGVyLmpzIiwid2VicGFjazovL1dlYXRoZXItQXBwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1dlYXRoZXItQXBwL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL1dlYXRoZXItQXBwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL1dlYXRoZXItQXBwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vV2VhdGhlci1BcHAvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9XZWF0aGVyLUFwcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18gPSBuZXcgVVJMKFwiLi9hc3NldHMvaGlsbHMxLnN2Z1wiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xX19fID0gbmV3IFVSTChcIi4vYXNzZXRzL2hpbGxzMi5zdmdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJAaW1wb3J0IHVybChodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVBvcHBpbnM6d2dodEA0MDA7NTAwOzcwMCZkaXNwbGF5PXN3YXApO1wiXSk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiQGltcG9ydCB1cmwoaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1NK1BMVVMrMjp3Z2h0QDUwMDs3MDAmZGlzcGxheT1zd2FwKTtcIl0pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMV9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIvKiBSRVNFVCBDU1MgICovXFxuXFxuKiB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgYm9yZGVyOiAwO1xcbiAgZm9udC1zaXplOiAxMDAlO1xcbiAgZm9udDogaW5oZXJpdDtcXG4gIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXG59XFxuXFxuLyogSFRNTDUgZGlzcGxheS1yb2xlIHJlc2V0IGZvciBvbGRlciBicm93c2VycyAqL1xcbmFydGljbGUsXFxuYXNpZGUsXFxuZGV0YWlscyxcXG5maWdjYXB0aW9uLFxcbmZpZ3VyZSxcXG5mb290ZXIsXFxuaGVhZGVyLFxcbmhncm91cCxcXG5tZW51LFxcbm5hdixcXG5zZWN0aW9uIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5ib2R5IHtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbn1cXG5vbCxcXG51bCB7XFxuICBsaXN0LXN0eWxlOiBub25lO1xcbn1cXG5ibG9ja3F1b3RlLFxcbnEge1xcbiAgcXVvdGVzOiBub25lO1xcbn1cXG5ibG9ja3F1b3RlOmJlZm9yZSxcXG5ibG9ja3F1b3RlOmFmdGVyLFxcbnE6YmVmb3JlLFxcbnE6YWZ0ZXIge1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBjb250ZW50OiBub25lO1xcbn1cXG50YWJsZSB7XFxuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcbiAgYm9yZGVyLXNwYWNpbmc6IDA7XFxufVxcblxcbi8qIExPQURFUiAgKi9cXG4ubG9hZGVyIHtcXG4gIHdpZHRoOiA2MHB4O1xcbiAgaGVpZ2h0OiA2MHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICBhbmltYXRpb246IHNwaW4gMC44cyBlYXNlLWluLW91dCBpbmZpbml0ZTtcXG59XFxuXFxuQGtleWZyYW1lcyBzcGluIHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoLTE4MGRlZyk7XFxuICB9XFxuICA1MCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTMwcHgpO1xcbiAgfVxcbiAgNzAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xcbiAgfVxcbiAgNzUlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMHB4KTtcXG4gIH1cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XFxuICB9XFxufVxcbi8qIFBBUlRJQ0xFUyAqL1xcbiN0c3BhcnRpY2xlcyB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwO1xcbiAgei1pbmRleDogLTE7XFxufVxcblxcbmNhbnZhcyB7XFxuICBoZWlnaHQ6IDgwMHB4ICFpbXBvcnRhbnQ7XFxuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xcbn1cXG5cXG4vKiBFUlJPUiAgKi9cXG4uZGlzcGxheS1lcnJvciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpO1xcbiAgYW5pbWF0aW9uOiBlcnJvci1wb3AtaW4gM3MgZWFzZS1pbi1vdXQgZm9yd2FyZHM7XFxuXFxuICBjb2xvcjogd2hpdGU7XFxuICBmb250LXdlaWdodDogNTAwO1xcbiAgZm9udC1zaXplOiAyMHB4O1xcblxcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMzAsIDMwKTtcXG4gIHBhZGRpbmc6IDEwcHggMjBweDtcXG4gIGJvcmRlci1yYWRpdXM6IDAgMCAxMHB4IDEwcHg7XFxufVxcblxcbkBrZXlmcmFtZXMgZXJyb3ItcG9wLWluIHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMDAlKTtcXG4gIH1cXG4gIDI1JSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcXG4gIH1cXG4gIDUwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcXG4gIH1cXG4gIDc1JSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcXG4gIH1cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpO1xcbiAgfVxcbn1cXG5cXG4vKiBIRUFERVIgKi9cXG5oZWFkZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgd2lkdGg6IG1pbigxMDAwcHgsIDgwJSk7XFxuICBtYXJnaW4tdG9wOiA3MHB4O1xcbn1cXG5cXG5oZWFkZXIgPiBoMSB7XFxuICBtYXJnaW46IDA7XFxuICBjb2xvcjogd2hpdGU7XFxuICBmb250LXdlaWdodDogNzAwO1xcbiAgZm9udC1zaXplOiA1MnB4O1xcbiAgcGFkZGluZzogMzZweCAwO1xcbn1cXG5cXG4udXNlci1pbnB1dCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgd2lkdGg6IDgwJTtcXG59XFxuXFxuLmNpdHktbmFtZSB7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgYm9yZGVyLXJhZGl1czogNTBweDtcXG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwO1xcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XFxuICBwYWRkaW5nOiA1cHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXNpemU6IDM1cHg7XFxuICBmb250LXdlaWdodDogNzAwO1xcbiAgY29sb3I6ICM0ZDRiNGI7XFxuICBmb250LWZhbWlseTogXFxcIlBvcHBpbnNcXFwiLCBWZXJkYW5hLCBHZW5ldmEsIFRhaG9tYSwgc2Fucy1zZXJpZjtcXG5cXG4gIGJvcmRlcjogbm9uZTtcXG4gIHdpZHRoOiA5MCU7XFxufVxcblxcbi5jaXR5LW5hbWU6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuOjpwbGFjZWhvbGRlciB7XFxuICBmb250LXdlaWdodDogNzAwO1xcbiAgY29sb3I6ICM0ZDRiNGI7XFxuICBvcGFjaXR5OiAxO1xcbiAgZm9udC1zaXplOiAzNXB4O1xcblxcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZm9udC1mYW1pbHk6IFxcXCJQb3BwaW5zXFxcIiwgVmVyZGFuYSwgR2VuZXZhLCBUYWhvbWEsIHNhbnMtc2VyaWY7XFxufVxcblxcbi5jaXR5LW5hbWU6Zm9jdXM6OnBsYWNlaG9sZGVyIHtcXG4gIGNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuXFxuLnVzZXItaW5wdXQgPiBidXR0b24ge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICBmb250LWZhbWlseTogXFxcIlBvcHBpbnNcXFwiO1xcbiAgZm9udC1zaXplOiAzNXB4O1xcblxcbiAgcGFkZGluZzogM3B4IDEwcHg7XFxuICBmb250LXdlaWdodDogNzAwO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDM1cHg7XFxuICBib3JkZXI6IHNvbGlkIDJweCB3aGl0ZTtcXG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAzNXB4O1xcbiAgYm9yZGVyLWxlZnQtd2lkdGg6IDA7XFxuXFxuICB3aWR0aDogMTAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgbWluLXdpZHRoOiA3MHB4O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLnVzZXItaW5wdXQgaW1nIHtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICBoZWlnaHQ6IDMwcHg7XFxuICB3aWR0aDogYXV0bztcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGJvdHRvbTogMnB4O1xcbn1cXG5cXG4vKiBXRUFUSEVSIERJU1BMQVkgKi9cXG4ud2VhdGhlci1kaXNwbGF5IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICB3aWR0aDogNzAlO1xcbiAgb3BhY2l0eTogMTtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgY29sb3I6ICNmZmY7XFxuXFxuICBmb250LXNpemU6IDUwcHg7XFxuICBwYWRkaW5nOiA4MHB4IDIwcHg7XFxuICBnYXA6IDUwcHg7XFxufVxcblxcbi50ZW1wLWluZm8ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBmb250LXNpemU6IDUwcHg7XFxuICBnYXA6IDEwcHg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuXFxuLnRlbXAtZGF0YSB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGdhcDogMTVweDtcXG59XFxuXFxuLmRpc3BsYXktY2l0eS1uYW1lIHtcXG4gIGZvbnQtc2l6ZTogNDVweDtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxufVxcblxcbi5kaXNwbGF5LWNvbmRpdGlvbiB7XFxuICBmb250LXNpemU6IDQwcHg7XFxuICBmb250LXdlaWdodDogNTAwO1xcbiAgbGV0dGVyLXNwYWNpbmc6IDAuMWVtO1xcbn1cXG5cXG4uZGlzcGxheS1jdXJyZW50LXRlbXAge1xcbiAgcGFkZGluZy1yaWdodDogMTBweDtcXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XFxuICBsaW5lLWhlaWdodDogNDBweDtcXG4gIGJvcmRlci1yaWdodDogNXB4IHNvbGlkICNmZmY7XFxufVxcblxcbkBrZXlmcmFtZXMgc2xpZGUtaW4ge1xcbiAgZnJvbSB7XFxuICAgIG9wYWNpdHk6IDA7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwcHgpO1xcbiAgfVxcbiAgdG8ge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XFxuICB9XFxufVxcblxcbi5pbmZvLWRpc3BsYXkge1xcbiAgZm9udC1zaXplOiAzMHB4O1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiTSBQTFVTIDJcXFwiLCBWZXJkYW5hLCBHZW5ldmEsIFRhaG9tYSwgc2Fucy1zZXJpZjtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG4gIGdhcDogMjBweDtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjdzIGVhc2UtaW4tb3V0O1xcbn1cXG5cXG4ud2hpdGUtYmxvY2sge1xcbiAgaGVpZ2h0OiA3MHB4O1xcbiAgd2lkdGg6IDdweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxufVxcblxcbi5pbmZvIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGdhcDogMTAwcHg7XFxufVxcblxcbi5pbmZvLWhvbGRlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIHdpZHRoOiA0NTBweDtcXG59XFxuXFxuLm1heC10ZW1wLFxcbi5taW4tdGVtcCB7XFxuICBmb250LXNpemU6IDI1cHg7XFxuICBmb250LXdlaWdodDogNTAwO1xcbn1cXG5cXG4ubWF4LXRlbXAtbG9nbyxcXG4ubWluLXRlbXAtbG9nbyB7XFxuICBoZWlnaHQ6IDIwcHg7XFxuICBtYXJnaW4tbGVmdDogN3B4O1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbn1cXG5cXG4uY2FzdC10ZW1wIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG4gIGdhcDogMnB4O1xcbn1cXG5cXG4uaHVtaWRpdHkge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGdhcDogNXB4O1xcbn1cXG5cXG4uaHVtaWRpdHkgPiBpbWcge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbn1cXG5cXG4uY2FzdCB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXdlaWdodDogNzAwO1xcbiAgbGV0dGVyLXNwYWNpbmc6IDJweDtcXG59XFxuXFxuLm1pc2Mge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBnYXA6IDVweDtcXG59XFxuXFxuLndpbmQge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBnYXA6IDJweDtcXG59XFxuXFxuLndpbmQgPiBpbWcge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbn1cXG5cXG4vKiBMT0FESU5HICovXFxuLmxvYWRpbmctYmVnaW4ge1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgZm9udC1mYW1pbHk6IFxcXCJQb3BwaW5zXFxcIiwgVmVyZGFuYSwgR2VuZXZhLCBUYWhvbWEsIHNhbnMtc2VyaWY7XFxuICBmb250LXNpemU6IDYwcHg7XFxuICBmb250LXdlaWdodDogNTAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuXFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICBtaW4taGVpZ2h0OiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIHdpZHRoOiAxMDAlO1xcblxcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMTIyM2FlZjtcXG4gIHotaW5kZXg6IDEwO1xcbn1cXG5cXG4vKiBXRUFUSEVSIEVGRkVDVHMgKi9cXG4uc3VuIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmMDA7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcbiAgaGVpZ2h0OiAxNTBweDtcXG4gIHdpZHRoOiAxNTBweDtcXG4gIHotaW5kZXg6IC0yO1xcblxcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgYm94LXNoYWRvdzogMCAwIDYwcHggMTBweCByZ2IoMjU1IDI1NSAwKTtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgwKTtcXG4gIGFuaW1hdGlvbjogc2hvdy1pbiAwLjRzIGVhc2UtaW4tb3V0IGZvcndhcmRzO1xcblxcbiAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xcbn1cXG5cXG5Aa2V5ZnJhbWVzIHNob3ctaW4ge1xcbiAgMCUge1xcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDApO1xcbiAgfVxcbiAgNTAlIHtcXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpO1xcbiAgfVxcbiAgMTAwJSB7XFxuICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XFxuICB9XFxufVxcblxcbi5oaWxscy1jb250YWluZXIge1xcbiAgbWluLWhlaWdodDogNDAwcHg7XFxuICBoZWlnaHQ6IDQ1dmg7XFxuICB3aWR0aDogMTAwJTtcXG5cXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG92ZXJmbG93OiBjbGlwO1xcbn1cXG5cXG4uaGlsbHMxLFxcbi5oaWxsczIge1xcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IC0xcHg7XFxuXFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuLmhpbGxzMSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fICsgXCIpO1xcbiAgaGVpZ2h0OiA3MCU7XFxuICB6LWluZGV4OiA5O1xcbn1cXG5cXG4uaGlsbHMyIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzFfX18gKyBcIik7XFxuICB6LWluZGV4OiA4O1xcbn1cXG5cXG4vKiBCT0RZICovXFxuYm9keSxcXG5odG1sIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiUG9wcGluc1xcXCIsIHNhbnMtc2VyaWYsIFZlcmRhbmEsIEdlbmV2YSwgVGFob21hO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWluLWhlaWdodDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuYm9keTo6LXdlYmtpdC1zY3JvbGxiYXIge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuYm9keSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuXFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYmFja2dyb3VuZDogIzAwOTVmZjtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQgIWltcG9ydGFudDtcXG4gIGJhY2tncm91bmQtYXR0YWNobWVudDogZml4ZWQgIWltcG9ydGFudDtcXG5cXG4gIC1tcy1vdmVyZmxvdy1zdHlsZTogbm9uZTtcXG4gIHNjcm9sbGJhci13aWR0aDogMjBweDtcXG59XFxuXFxuKiB7XFxuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XFxufVxcblxcbmZvb3RlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAzMDAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuXFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcblxcbiAgY29sb3I6IHdoaXRlO1xcbiAgZm9udC1zaXplOiAzMHB4O1xcbn1cXG5cXG4uY3JlZGl0cyB7XFxuICBwYWRkaW5nOiAzMHB4O1xcbn1cXG5cXG4vKiBNRURJQSBRVUVSSUVTICovXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcXG4gIC8qIEhFQURFUiAgKi9cXG4gIGhlYWRlciB7XFxuICAgIHdpZHRoOiA4NSU7XFxuICB9XFxuXFxuICAuY2l0eS1uYW1lLFxcbiAgKjo6cGxhY2Vob2xkZXIsXFxuICAudXNlci1pbnB1dCA+IGJ1dHRvbiB7XFxuICAgIGZvbnQtc2l6ZTogMzBweDtcXG4gIH1cXG5cXG4gIC5jaXR5LW5hbWUge1xcbiAgICB3aWR0aDogODUlO1xcbiAgfVxcbiAgLnVzZXItaW5wdXQgPiBidXR0b24ge1xcbiAgICB3aWR0aDogMTUlO1xcbiAgICBtaW4td2lkdGg6IDUwcHg7XFxuICB9XFxuICAvKiBXRUFUSEVSIERJU1BMQVkgICovXFxuICAud2VhdGhlci1kaXNwbGF5IHtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIH1cXG5cXG4gIC5kaXNwbGF5LWN1cnJlbnQtdGVtcCxcXG4gIC5kaXNwbGF5LWNvbmRpdGlvbixcXG4gIC5kaXNwbGF5LWNpdHktbmFtZSB7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgZm9udC1zaXplOiAzNnB4O1xcbiAgfVxcblxcbiAgLyogQ1JFRElUUyAgKi9cXG4gIC5jcmVkaXRzIHtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBmb250LXNpemU6IDI1cHg7XFxuICB9XFxuXFxuICAvKiBMT0FESU5HICAqL1xcbiAgLmxvYWRpbmctYmVnaW4ge1xcbiAgICBmb250LXNpemU6IDUwcHg7XFxuICB9XFxufVxcblxcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDQ0MHB4KSB7XFxuICAvKiBFUlJPUiAgKi9cXG4gIC5kaXNwbGF5LWVycm9yIHtcXG4gICAgd2lkdGg6IDc1JTtcXG4gIH1cXG5cXG4gIC8qIEhFQURFUiAgKi9cXG4gIGhlYWRlciB7XFxuICAgIHdpZHRoOiA5NSU7XFxuICB9XFxuXFxuICAvKiBXRUFUSEVSIERJU1BMQVkgKi9cXG4gIC5kaXNwbGF5LWN1cnJlbnQtdGVtcCB7XFxuICAgIGZvbnQtc2l6ZTogNDVweDtcXG4gICAgYm9yZGVyLXJpZ2h0OiBub25lO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgfVxcblxcbiAgLnRlbXAtZGF0YSB7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIGdhcDogMTBweDtcXG4gIH1cXG5cXG4gIC5jaXR5LW5hbWUsXFxuICAqOjpwbGFjZWhvbGRlcixcXG4gIC51c2VyLWlucHV0ID4gYnV0dG9uIHtcXG4gICAgZm9udC1zaXplOiAyM3B4O1xcbiAgfVxcblxcbiAgLnVzZXItaW5wdXQgPiBidXR0b24ge1xcbiAgICB3aWR0aDogMTAlO1xcbiAgICBtaW4td2lkdGg6IDQwcHg7XFxuICB9XFxuICAuY2l0eS1uYW1lIHtcXG4gICAgd2lkdGg6IDkwJTtcXG4gIH1cXG4gIC51c2VyLWlucHV0IGltZyB7XFxuICAgIGhlaWdodDogMjJweDtcXG4gIH1cXG4gIC8qIExPQURJTkcgICovXFxuICAubG9hZGluZy1iZWdpbiB7XFxuICAgIGZvbnQtc2l6ZTogNDVweDtcXG4gIH1cXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL21haW4uY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUdBLGVBQWU7O0FBRWY7RUFDRSxTQUFTO0VBQ1QsVUFBVTtFQUNWLFNBQVM7RUFDVCxlQUFlO0VBQ2YsYUFBYTtFQUNiLHdCQUF3QjtBQUMxQjs7QUFFQSxnREFBZ0Q7QUFDaEQ7Ozs7Ozs7Ozs7O0VBV0UsY0FBYztBQUNoQjtBQUNBO0VBQ0UsY0FBYztBQUNoQjtBQUNBOztFQUVFLGdCQUFnQjtBQUNsQjtBQUNBOztFQUVFLFlBQVk7QUFDZDtBQUNBOzs7O0VBSUUsV0FBVztFQUNYLGFBQWE7QUFDZjtBQUNBO0VBQ0UseUJBQXlCO0VBQ3pCLGlCQUFpQjtBQUNuQjs7QUFFQSxZQUFZO0FBQ1o7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLHVCQUF1QjtF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VTtJQUNWLGVBQWU7RUFDakI7RUFDQSxxQkFBcUI7RUFDckI7SUFDRSxzQkFBc0I7SUFDdEIsbUJBQW1CO0VBQ3JCOztFQUVBOzs7SUFHRSxrQkFBa0I7SUFDbEIsZUFBZTtFQUNqQjs7RUFFQSxhQUFhO0VBQ2I7SUFDRSxrQkFBa0I7SUFDbEIsZUFBZTtFQUNqQjs7RUFFQSxhQUFhO0VBQ2I7SUFDRSxlQUFlO0VBQ2pCO0FBQ0Y7O0FBRUE7RUFDRSxXQUFXO0VBQ1g7SUFDRSxVQUFVO0VBQ1o7O0VBRUEsWUFBWTtFQUNaO0lBQ0UsVUFBVTtFQUNaOztFQUVBLG9CQUFvQjtFQUNwQjtJQUNFLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIsVUFBVTtFQUNaOztFQUVBO0lBQ0Usc0JBQXNCO0lBQ3RCLFNBQVM7RUFDWDs7RUFFQTs7O0lBR0UsZUFBZTtFQUNqQjs7RUFFQTtJQUNFLFVBQVU7SUFDVixlQUFlO0VBQ2pCO0VBQ0E7SUFDRSxVQUFVO0VBQ1o7RUFDQTtJQUNFLFlBQVk7RUFDZDtFQUNBLGFBQWE7RUFDYjtJQUNFLGVBQWU7RUFDakI7QUFDRlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAaW1wb3J0IHVybChcXFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Qb3BwaW5zOndnaHRANDAwOzUwMDs3MDAmZGlzcGxheT1zd2FwXFxcIik7XFxuQGltcG9ydCB1cmwoXFxcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9TStQTFVTKzI6d2dodEA1MDA7NzAwJmRpc3BsYXk9c3dhcFxcXCIpO1xcblxcbi8qIFJFU0VUIENTUyAgKi9cXG5cXG4qIHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBib3JkZXI6IDA7XFxuICBmb250LXNpemU6IDEwMCU7XFxuICBmb250OiBpbmhlcml0O1xcbiAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1xcbn1cXG5cXG4vKiBIVE1MNSBkaXNwbGF5LXJvbGUgcmVzZXQgZm9yIG9sZGVyIGJyb3dzZXJzICovXFxuYXJ0aWNsZSxcXG5hc2lkZSxcXG5kZXRhaWxzLFxcbmZpZ2NhcHRpb24sXFxuZmlndXJlLFxcbmZvb3RlcixcXG5oZWFkZXIsXFxuaGdyb3VwLFxcbm1lbnUsXFxubmF2LFxcbnNlY3Rpb24ge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbmJvZHkge1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxufVxcbm9sLFxcbnVsIHtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcbmJsb2NrcXVvdGUsXFxucSB7XFxuICBxdW90ZXM6IG5vbmU7XFxufVxcbmJsb2NrcXVvdGU6YmVmb3JlLFxcbmJsb2NrcXVvdGU6YWZ0ZXIsXFxucTpiZWZvcmUsXFxucTphZnRlciB7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG4gIGNvbnRlbnQ6IG5vbmU7XFxufVxcbnRhYmxlIHtcXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxuICBib3JkZXItc3BhY2luZzogMDtcXG59XFxuXFxuLyogTE9BREVSICAqL1xcbi5sb2FkZXIge1xcbiAgd2lkdGg6IDYwcHg7XFxuICBoZWlnaHQ6IDYwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gIGFuaW1hdGlvbjogc3BpbiAwLjhzIGVhc2UtaW4tb3V0IGluZmluaXRlO1xcbn1cXG5cXG5Aa2V5ZnJhbWVzIHNwaW4ge1xcbiAgMCUge1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtMTgwZGVnKTtcXG4gIH1cXG4gIDUwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMzBweCk7XFxuICB9XFxuICA3MCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XFxuICB9XFxuICA3NSUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwcHgpO1xcbiAgfVxcbiAgMTAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcXG4gIH1cXG59XFxuLyogUEFSVElDTEVTICovXFxuI3RzcGFydGljbGVzIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICBib3R0b206IDA7XFxuICByaWdodDogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBtYXJnaW46IDA7XFxuICB6LWluZGV4OiAtMTtcXG59XFxuXFxuY2FudmFzIHtcXG4gIGhlaWdodDogODAwcHggIWltcG9ydGFudDtcXG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XFxufVxcblxcbi8qIEVSUk9SICAqL1xcbi5kaXNwbGF5LWVycm9yIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSk7XFxuICBhbmltYXRpb246IGVycm9yLXBvcC1pbiAzcyBlYXNlLWluLW91dCBmb3J3YXJkcztcXG5cXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxuICBmb250LXNpemU6IDIwcHg7XFxuXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAzMCwgMzApO1xcbiAgcGFkZGluZzogMTBweCAyMHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMCAwIDEwcHggMTBweDtcXG59XFxuXFxuQGtleWZyYW1lcyBlcnJvci1wb3AtaW4ge1xcbiAgMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpO1xcbiAgfVxcbiAgMjUlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xcbiAgfVxcbiAgNTAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xcbiAgfVxcbiAgNzUlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xcbiAgfVxcbiAgMTAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSk7XFxuICB9XFxufVxcblxcbi8qIEhFQURFUiAqL1xcbmhlYWRlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB3aWR0aDogbWluKDEwMDBweCwgODAlKTtcXG4gIG1hcmdpbi10b3A6IDcwcHg7XFxufVxcblxcbmhlYWRlciA+IGgxIHtcXG4gIG1hcmdpbjogMDtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XFxuICBmb250LXNpemU6IDUycHg7XFxuICBwYWRkaW5nOiAzNnB4IDA7XFxufVxcblxcbi51c2VyLWlucHV0IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB3aWR0aDogODAlO1xcbn1cXG5cXG4uY2l0eS1uYW1lIHtcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxuICBib3JkZXItcmFkaXVzOiA1MHB4O1xcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7XFxuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDtcXG4gIHBhZGRpbmc6IDVweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtc2l6ZTogMzVweDtcXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XFxuICBjb2xvcjogIzRkNGI0YjtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiUG9wcGluc1xcXCIsIFZlcmRhbmEsIEdlbmV2YSwgVGFob21hLCBzYW5zLXNlcmlmO1xcblxcbiAgYm9yZGVyOiBub25lO1xcbiAgd2lkdGg6IDkwJTtcXG59XFxuXFxuLmNpdHktbmFtZTpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG46OnBsYWNlaG9sZGVyIHtcXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XFxuICBjb2xvcjogIzRkNGI0YjtcXG4gIG9wYWNpdHk6IDE7XFxuICBmb250LXNpemU6IDM1cHg7XFxuXFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LWZhbWlseTogXFxcIlBvcHBpbnNcXFwiLCBWZXJkYW5hLCBHZW5ldmEsIFRhaG9tYSwgc2Fucy1zZXJpZjtcXG59XFxuXFxuLmNpdHktbmFtZTpmb2N1czo6cGxhY2Vob2xkZXIge1xcbiAgY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG5cXG4udXNlci1pbnB1dCA+IGJ1dHRvbiB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiUG9wcGluc1xcXCI7XFxuICBmb250LXNpemU6IDM1cHg7XFxuXFxuICBwYWRkaW5nOiAzcHggMTBweDtcXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMzVweDtcXG4gIGJvcmRlcjogc29saWQgMnB4IHdoaXRlO1xcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDM1cHg7XFxuICBib3JkZXItbGVmdC13aWR0aDogMDtcXG5cXG4gIHdpZHRoOiAxMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBtaW4td2lkdGg6IDcwcHg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4udXNlci1pbnB1dCBpbWcge1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGhlaWdodDogMzBweDtcXG4gIHdpZHRoOiBhdXRvO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYm90dG9tOiAycHg7XFxufVxcblxcbi8qIFdFQVRIRVIgRElTUExBWSAqL1xcbi53ZWF0aGVyLWRpc3BsYXkge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIHdpZHRoOiA3MCU7XFxuICBvcGFjaXR5OiAxO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBjb2xvcjogI2ZmZjtcXG5cXG4gIGZvbnQtc2l6ZTogNTBweDtcXG4gIHBhZGRpbmc6IDgwcHggMjBweDtcXG4gIGdhcDogNTBweDtcXG59XFxuXFxuLnRlbXAtaW5mbyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGZvbnQtc2l6ZTogNTBweDtcXG4gIGdhcDogMTBweDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbn1cXG5cXG4udGVtcC1kYXRhIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZ2FwOiAxNXB4O1xcbn1cXG5cXG4uZGlzcGxheS1jaXR5LW5hbWUge1xcbiAgZm9udC1zaXplOiA0NXB4O1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG59XFxuXFxuLmRpc3BsYXktY29uZGl0aW9uIHtcXG4gIGZvbnQtc2l6ZTogNDBweDtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxuICBsZXR0ZXItc3BhY2luZzogMC4xZW07XFxufVxcblxcbi5kaXNwbGF5LWN1cnJlbnQtdGVtcCB7XFxuICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xcbiAgZm9udC13ZWlnaHQ6IDcwMDtcXG4gIGxpbmUtaGVpZ2h0OiA0MHB4O1xcbiAgYm9yZGVyLXJpZ2h0OiA1cHggc29saWQgI2ZmZjtcXG59XFxuXFxuQGtleWZyYW1lcyBzbGlkZS1pbiB7XFxuICBmcm9tIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMDBweCk7XFxuICB9XFxuICB0byB7XFxuICAgIG9wYWNpdHk6IDE7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcXG4gIH1cXG59XFxuXFxuLmluZm8tZGlzcGxheSB7XFxuICBmb250LXNpemU6IDMwcHg7XFxuICBmb250LXdlaWdodDogNTAwO1xcbiAgZm9udC1mYW1pbHk6IFxcXCJNIFBMVVMgMlxcXCIsIFZlcmRhbmEsIEdlbmV2YSwgVGFob21hLCBzYW5zLXNlcmlmO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgZ2FwOiAyMHB4O1xcbiAgdHJhbnNpdGlvbjogYWxsIDAuN3MgZWFzZS1pbi1vdXQ7XFxufVxcblxcbi53aGl0ZS1ibG9jayB7XFxuICBoZWlnaHQ6IDcwcHg7XFxuICB3aWR0aDogN3B4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG59XFxuXFxuLmluZm8ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgZ2FwOiAxMDBweDtcXG59XFxuXFxuLmluZm8taG9sZGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgd2lkdGg6IDQ1MHB4O1xcbn1cXG5cXG4ubWF4LXRlbXAsXFxuLm1pbi10ZW1wIHtcXG4gIGZvbnQtc2l6ZTogMjVweDtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxufVxcblxcbi5tYXgtdGVtcC1sb2dvLFxcbi5taW4tdGVtcC1sb2dvIHtcXG4gIGhlaWdodDogMjBweDtcXG4gIG1hcmdpbi1sZWZ0OiA3cHg7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxufVxcblxcbi5jYXN0LXRlbXAge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgZ2FwOiAycHg7XFxufVxcblxcbi5odW1pZGl0eSB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZ2FwOiA1cHg7XFxufVxcblxcbi5odW1pZGl0eSA+IGltZyB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxufVxcblxcbi5jYXN0IHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XFxuICBsZXR0ZXItc3BhY2luZzogMnB4O1xcbn1cXG5cXG4ubWlzYyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGdhcDogNXB4O1xcbn1cXG5cXG4ud2luZCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGdhcDogMnB4O1xcbn1cXG5cXG4ud2luZCA+IGltZyB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxufVxcblxcbi8qIExPQURJTkcgKi9cXG4ubG9hZGluZy1iZWdpbiB7XFxuICBjb2xvcjogd2hpdGU7XFxuICBmb250LWZhbWlseTogXFxcIlBvcHBpbnNcXFwiLCBWZXJkYW5hLCBHZW5ldmEsIFRhaG9tYSwgc2Fucy1zZXJpZjtcXG4gIGZvbnQtc2l6ZTogNjBweDtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG5cXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIG1pbi1oZWlnaHQ6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMHZoO1xcbiAgd2lkdGg6IDEwMCU7XFxuXFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAxMjIzYWVmO1xcbiAgei1pbmRleDogMTA7XFxufVxcblxcbi8qIFdFQVRIRVIgRUZGRUNUcyAqL1xcbi5zdW4ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmYwMDtcXG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxuICBoZWlnaHQ6IDE1MHB4O1xcbiAgd2lkdGg6IDE1MHB4O1xcbiAgei1pbmRleDogLTI7XFxuXFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBib3gtc2hhZG93OiAwIDAgNjBweCAxMHB4IHJnYigyNTUgMjU1IDApO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB0cmFuc2Zvcm06IHNjYWxlKDApO1xcbiAgYW5pbWF0aW9uOiBzaG93LWluIDAuNHMgZWFzZS1pbi1vdXQgZm9yd2FyZHM7XFxuXFxuICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XFxufVxcblxcbkBrZXlmcmFtZXMgc2hvdy1pbiB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogc2NhbGUoMCk7XFxuICB9XFxuICA1MCUge1xcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMik7XFxuICB9XFxuICAxMDAlIHtcXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcXG4gIH1cXG59XFxuXFxuLmhpbGxzLWNvbnRhaW5lciB7XFxuICBtaW4taGVpZ2h0OiA0MDBweDtcXG4gIGhlaWdodDogNDV2aDtcXG4gIHdpZHRoOiAxMDAlO1xcblxcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgb3ZlcmZsb3c6IGNsaXA7XFxufVxcblxcbi5oaWxsczEsXFxuLmhpbGxzMiB7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogLTFweDtcXG5cXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG4uaGlsbHMxIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiLi9hc3NldHMvaGlsbHMxLnN2Z1xcXCIpO1xcbiAgaGVpZ2h0OiA3MCU7XFxuICB6LWluZGV4OiA5O1xcbn1cXG5cXG4uaGlsbHMyIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiLi9hc3NldHMvaGlsbHMyLnN2Z1xcXCIpO1xcbiAgei1pbmRleDogODtcXG59XFxuXFxuLyogQk9EWSAqL1xcbmJvZHksXFxuaHRtbCB7XFxuICBmb250LWZhbWlseTogXFxcIlBvcHBpbnNcXFwiLCBzYW5zLXNlcmlmLCBWZXJkYW5hLCBHZW5ldmEsIFRhaG9tYTtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1pbi1oZWlnaHQ6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbmJvZHk6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbmJvZHkge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcblxcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJhY2tncm91bmQ6ICMwMDk1ZmY7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0ICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLWF0dGFjaG1lbnQ6IGZpeGVkICFpbXBvcnRhbnQ7XFxuXFxuICAtbXMtb3ZlcmZsb3ctc3R5bGU6IG5vbmU7XFxuICBzY3JvbGxiYXItd2lkdGg6IDIwcHg7XFxufVxcblxcbioge1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xcbn1cXG5cXG5mb290ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMzAwMDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcblxcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG5cXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGZvbnQtc2l6ZTogMzBweDtcXG59XFxuXFxuLmNyZWRpdHMge1xcbiAgcGFkZGluZzogMzBweDtcXG59XFxuXFxuLyogTUVESUEgUVVFUklFUyAqL1xcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KSB7XFxuICAvKiBIRUFERVIgICovXFxuICBoZWFkZXIge1xcbiAgICB3aWR0aDogODUlO1xcbiAgfVxcblxcbiAgLmNpdHktbmFtZSxcXG4gICo6OnBsYWNlaG9sZGVyLFxcbiAgLnVzZXItaW5wdXQgPiBidXR0b24ge1xcbiAgICBmb250LXNpemU6IDMwcHg7XFxuICB9XFxuXFxuICAuY2l0eS1uYW1lIHtcXG4gICAgd2lkdGg6IDg1JTtcXG4gIH1cXG4gIC51c2VyLWlucHV0ID4gYnV0dG9uIHtcXG4gICAgd2lkdGg6IDE1JTtcXG4gICAgbWluLXdpZHRoOiA1MHB4O1xcbiAgfVxcbiAgLyogV0VBVEhFUiBESVNQTEFZICAqL1xcbiAgLndlYXRoZXItZGlzcGxheSB7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB9XFxuXFxuICAuZGlzcGxheS1jdXJyZW50LXRlbXAsXFxuICAuZGlzcGxheS1jb25kaXRpb24sXFxuICAuZGlzcGxheS1jaXR5LW5hbWUge1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIGZvbnQtc2l6ZTogMzZweDtcXG4gIH1cXG5cXG4gIC8qIENSRURJVFMgICovXFxuICAuY3JlZGl0cyB7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgZm9udC1zaXplOiAyNXB4O1xcbiAgfVxcblxcbiAgLyogTE9BRElORyAgKi9cXG4gIC5sb2FkaW5nLWJlZ2luIHtcXG4gICAgZm9udC1zaXplOiA1MHB4O1xcbiAgfVxcbn1cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0NDBweCkge1xcbiAgLyogRVJST1IgICovXFxuICAuZGlzcGxheS1lcnJvciB7XFxuICAgIHdpZHRoOiA3NSU7XFxuICB9XFxuXFxuICAvKiBIRUFERVIgICovXFxuICBoZWFkZXIge1xcbiAgICB3aWR0aDogOTUlO1xcbiAgfVxcblxcbiAgLyogV0VBVEhFUiBESVNQTEFZICovXFxuICAuZGlzcGxheS1jdXJyZW50LXRlbXAge1xcbiAgICBmb250LXNpemU6IDQ1cHg7XFxuICAgIGJvcmRlci1yaWdodDogbm9uZTtcXG4gICAgcGFkZGluZzogMDtcXG4gIH1cXG5cXG4gIC50ZW1wLWRhdGEge1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBnYXA6IDEwcHg7XFxuICB9XFxuXFxuICAuY2l0eS1uYW1lLFxcbiAgKjo6cGxhY2Vob2xkZXIsXFxuICAudXNlci1pbnB1dCA+IGJ1dHRvbiB7XFxuICAgIGZvbnQtc2l6ZTogMjNweDtcXG4gIH1cXG5cXG4gIC51c2VyLWlucHV0ID4gYnV0dG9uIHtcXG4gICAgd2lkdGg6IDEwJTtcXG4gICAgbWluLXdpZHRoOiA0MHB4O1xcbiAgfVxcbiAgLmNpdHktbmFtZSB7XFxuICAgIHdpZHRoOiA5MCU7XFxuICB9XFxuICAudXNlci1pbnB1dCBpbWcge1xcbiAgICBoZWlnaHQ6IDIycHg7XFxuICB9XFxuICAvKiBMT0FESU5HICAqL1xcbiAgLmxvYWRpbmctYmVnaW4ge1xcbiAgICBmb250LXNpemU6IDQ1cHg7XFxuICB9XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICBpZiAoIXVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB1cmwgPSBTdHJpbmcodXJsLl9fZXNNb2R1bGUgPyB1cmwuZGVmYXVsdCA6IHVybCk7IC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuXG4gIGlmICgvXlsnXCJdLipbJ1wiXSQvLnRlc3QodXJsKSkge1xuICAgIHVybCA9IHVybC5zbGljZSgxLCAtMSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgdXJsICs9IG9wdGlvbnMuaGFzaDtcbiAgfSAvLyBTaG91bGQgdXJsIGJlIHdyYXBwZWQ/XG4gIC8vIFNlZSBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXZhbHVlcy0zLyN1cmxzXG5cblxuICBpZiAoL1tcIicoKSBcXHRcXG5dfCglMjApLy50ZXN0KHVybCkgfHwgb3B0aW9ucy5uZWVkUXVvdGVzKSB7XG4gICAgcmV0dXJuIFwiXFxcIlwiLmNvbmNhdCh1cmwucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpLCBcIlxcXCJcIik7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcblxuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdXBkYXRlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cblxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuXG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cblxuICBjc3MgKz0gb2JqLmNzcztcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNhbnZhcyA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vVXRpbHNcIik7XG5jb25zdCBVdGlsc18yID0gcmVxdWlyZShcIi4uL1V0aWxzXCIpO1xuY2xhc3MgQ2FudmFzIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHtcbiAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmdlbmVyYXRlZENhbnZhcyA9IGZhbHNlO1xuICAgIH1cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICB0aGlzLmluaXRTdHlsZSgpO1xuICAgICAgICB0aGlzLmluaXRDb3ZlcigpO1xuICAgICAgICB0aGlzLmluaXRUcmFpbCgpO1xuICAgICAgICB0aGlzLmluaXRCYWNrZ3JvdW5kKCk7XG4gICAgICAgIHRoaXMucGFpbnQoKTtcbiAgICB9XG4gICAgbG9hZENhbnZhcyhjYW52YXMsIGdlbmVyYXRlZENhbnZhcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghY2FudmFzLmNsYXNzTmFtZSkge1xuICAgICAgICAgICAgY2FudmFzLmNsYXNzTmFtZSA9IFV0aWxzXzEuQ29uc3RhbnRzLmNhbnZhc0NsYXNzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdlbmVyYXRlZENhbnZhcykge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5lbGVtZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZW5lcmF0ZWRDYW52YXMgPSBnZW5lcmF0ZWRDYW52YXMgIT09IG51bGwgJiYgZ2VuZXJhdGVkQ2FudmFzICE9PSB2b2lkIDAgPyBnZW5lcmF0ZWRDYW52YXMgOiB0aGlzLmdlbmVyYXRlZENhbnZhcztcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gY2FudmFzO1xuICAgICAgICB0aGlzLm9yaWdpbmFsU3R5bGUgPSAoMCwgVXRpbHNfMS5kZWVwRXh0ZW5kKSh7fSwgdGhpcy5lbGVtZW50LnN0eWxlKTtcbiAgICAgICAgdGhpcy5zaXplLmhlaWdodCA9IGNhbnZhcy5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHRoaXMuc2l6ZS53aWR0aCA9IGNhbnZhcy5vZmZzZXRXaWR0aDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5lbGVtZW50LmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIucmV0aW5hLmluaXQoKTtcbiAgICAgICAgdGhpcy5pbml0QmFja2dyb3VuZCgpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmdlbmVyYXRlZENhbnZhcykge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5lbGVtZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmF3KChjdHgpID0+IHtcbiAgICAgICAgICAgICgwLCBVdGlsc18yLmNsZWFyKShjdHgsIHRoaXMuc2l6ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwYWludCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuY29udGFpbmVyLmFjdHVhbE9wdGlvbnM7XG4gICAgICAgIHRoaXMuZHJhdygoY3R4KSA9PiB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5iYWNrZ3JvdW5kTWFzay5lbmFibGUgJiYgb3B0aW9ucy5iYWNrZ3JvdW5kTWFzay5jb3ZlciAmJiB0aGlzLmNvdmVyQ29sb3IpIHtcbiAgICAgICAgICAgICAgICAoMCwgVXRpbHNfMi5jbGVhcikoY3R4LCB0aGlzLnNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFpbnRCYXNlKCgwLCBVdGlsc18xLmdldFN0eWxlRnJvbVJnYikodGhpcy5jb3ZlckNvbG9yLCB0aGlzLmNvdmVyQ29sb3IuYSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWludEJhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5jb250YWluZXIuYWN0dWFsT3B0aW9ucztcbiAgICAgICAgY29uc3QgdHJhaWwgPSBvcHRpb25zLnBhcnRpY2xlcy5tb3ZlLnRyYWlsO1xuICAgICAgICBpZiAob3B0aW9ucy5iYWNrZ3JvdW5kTWFzay5lbmFibGUpIHtcbiAgICAgICAgICAgIHRoaXMucGFpbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFpbC5lbmFibGUgJiYgdHJhaWwubGVuZ3RoID4gMCAmJiB0aGlzLnRyYWlsRmlsbENvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLnBhaW50QmFzZSgoMCwgVXRpbHNfMS5nZXRTdHlsZUZyb21SZ2IpKHRoaXMudHJhaWxGaWxsQ29sb3IsIDEgLyB0cmFpbC5sZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZHJhdygoY3R4KSA9PiB7XG4gICAgICAgICAgICAgICAgKDAsIFV0aWxzXzIuY2xlYXIpKGN0eCwgdGhpcy5zaXplKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgICAgY29uc3QgbmVlZHNSZWZyZXNoID0gY29udGFpbmVyLnVwZGF0ZUFjdHVhbE9wdGlvbnMoKTtcbiAgICAgICAgY29udGFpbmVyLnBhcnRpY2xlcy5zZXREZW5zaXR5KCk7XG4gICAgICAgIGZvciAoY29uc3QgWywgcGx1Z2luXSBvZiBjb250YWluZXIucGx1Z2lucykge1xuICAgICAgICAgICAgaWYgKHBsdWdpbi5yZXNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBsdWdpbi5yZXNpemUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmVlZHNSZWZyZXNoKSB7XG4gICAgICAgICAgICBjb250YWluZXIucmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc2l6ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgcHhSYXRpbyA9IGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbztcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGNvbnRhaW5lci5jYW52YXMuc2l6ZTtcbiAgICAgICAgY29uc3Qgb2xkU2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBzaXplLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplLmhlaWdodCxcbiAgICAgICAgfTtcbiAgICAgICAgc2l6ZS53aWR0aCA9IHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCAqIHB4UmF0aW87XG4gICAgICAgIHNpemUuaGVpZ2h0ID0gdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCAqIHB4UmF0aW87XG4gICAgICAgIHRoaXMuZWxlbWVudC53aWR0aCA9IHNpemUud2lkdGg7XG4gICAgICAgIHRoaXMuZWxlbWVudC5oZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICAgICAgaWYgKHRoaXMuY29udGFpbmVyLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplRmFjdG9yID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBzaXplLndpZHRoIC8gb2xkU2l6ZS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHNpemUuaGVpZ2h0IC8gb2xkU2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGRyYXdDb25uZWN0TGluZShwMSwgcDIpIHtcbiAgICAgICAgdGhpcy5kcmF3KChjdHgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVTdHlsZSA9IHRoaXMubGluZVN0eWxlKHAxLCBwMik7XG4gICAgICAgICAgICBpZiAoIWxpbmVTdHlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvczEgPSBwMS5nZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgY29uc3QgcG9zMiA9IHAyLmdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAoMCwgVXRpbHNfMS5kcmF3Q29ubmVjdExpbmUpKGN0eCwgKF9hID0gcDEucmV0aW5hLmxpbmtzV2lkdGgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuY29udGFpbmVyLnJldGluYS5saW5rc1dpZHRoLCBsaW5lU3R5bGUsIHBvczEsIHBvczIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZHJhd0dyYWJMaW5lKHBhcnRpY2xlLCBsaW5lQ29sb3IsIG9wYWNpdHksIG1vdXNlUG9zKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICB0aGlzLmRyYXcoKGN0eCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgYmVnaW5Qb3MgPSBwYXJ0aWNsZS5nZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgKDAsIFV0aWxzXzEuZHJhd0dyYWJMaW5lKShjdHgsIChfYSA9IHBhcnRpY2xlLnJldGluYS5saW5rc1dpZHRoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb250YWluZXIucmV0aW5hLmxpbmtzV2lkdGgsIGJlZ2luUG9zLCBtb3VzZVBvcywgbGluZUNvbG9yLCBvcGFjaXR5KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRyYXdQYXJ0aWNsZShwYXJ0aWNsZSwgZGVsdGEpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIGlmIChwYXJ0aWNsZS5zcGF3bmluZyB8fCBwYXJ0aWNsZS5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwZkNvbG9yID0gcGFydGljbGUuZ2V0RmlsbENvbG9yKCk7XG4gICAgICAgIGNvbnN0IHBzQ29sb3IgPSAoX2EgPSBwYXJ0aWNsZS5nZXRTdHJva2VDb2xvcigpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBwZkNvbG9yO1xuICAgICAgICBpZiAoIXBmQ29sb3IgJiYgIXBzQ29sb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgW2ZDb2xvciwgc0NvbG9yXSA9IHRoaXMuZ2V0UGx1Z2luUGFydGljbGVDb2xvcnMocGFydGljbGUpO1xuICAgICAgICBjb25zdCBwT3B0aW9ucyA9IHBhcnRpY2xlLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHR3aW5rbGUgPSBwT3B0aW9ucy50d2lua2xlLnBhcnRpY2xlcztcbiAgICAgICAgY29uc3QgdHdpbmtsaW5nID0gdHdpbmtsZS5lbmFibGUgJiYgTWF0aC5yYW5kb20oKSA8IHR3aW5rbGUuZnJlcXVlbmN5O1xuICAgICAgICBpZiAoIWZDb2xvciB8fCAhc0NvbG9yKSB7XG4gICAgICAgICAgICBjb25zdCB0d2lua2xlUmdiID0gKDAsIFV0aWxzXzEuY29sb3JUb0hzbCkodHdpbmtsZS5jb2xvcik7XG4gICAgICAgICAgICBpZiAoIWZDb2xvcikge1xuICAgICAgICAgICAgICAgIGZDb2xvciA9IHR3aW5rbGluZyAmJiB0d2lua2xlUmdiICE9PSB1bmRlZmluZWQgPyB0d2lua2xlUmdiIDogcGZDb2xvciA/IHBmQ29sb3IgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXNDb2xvcikge1xuICAgICAgICAgICAgICAgIHNDb2xvciA9IHR3aW5rbGluZyAmJiB0d2lua2xlUmdiICE9PSB1bmRlZmluZWQgPyB0d2lua2xlUmdiIDogcHNDb2xvciA/IHBzQ29sb3IgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuY29udGFpbmVyLmFjdHVhbE9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHpJbmRleE9wdGlvbnMgPSBwYXJ0aWNsZS5vcHRpb25zLnpJbmRleDtcbiAgICAgICAgY29uc3Qgek9wYWNpdHlGYWN0b3IgPSAoMSAtIHBhcnRpY2xlLnpJbmRleEZhY3RvcikgKiogekluZGV4T3B0aW9ucy5vcGFjaXR5UmF0ZTtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gcGFydGljbGUuZ2V0UmFkaXVzKCk7XG4gICAgICAgIGNvbnN0IG9wYWNpdHkgPSB0d2lua2xpbmcgPyB0d2lua2xlLm9wYWNpdHkgOiAoX2QgPSAoX2IgPSBwYXJ0aWNsZS5idWJibGUub3BhY2l0eSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKF9jID0gcGFydGljbGUub3BhY2l0eSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnZhbHVlKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAxO1xuICAgICAgICBjb25zdCBzdHJva2VPcGFjaXR5ID0gKF9mID0gKF9lID0gcGFydGljbGUuc3Ryb2tlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uub3BhY2l0eSkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogb3BhY2l0eTtcbiAgICAgICAgY29uc3Qgek9wYWNpdHkgPSBvcGFjaXR5ICogek9wYWNpdHlGYWN0b3I7XG4gICAgICAgIGNvbnN0IGZpbGxDb2xvclZhbHVlID0gZkNvbG9yID8gKDAsIFV0aWxzXzEuZ2V0U3R5bGVGcm9tSHNsKShmQ29sb3IsIHpPcGFjaXR5KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKCFmaWxsQ29sb3JWYWx1ZSAmJiAhc0NvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmF3KChjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHpTaXplRmFjdG9yID0gKDEgLSBwYXJ0aWNsZS56SW5kZXhGYWN0b3IpICoqIHpJbmRleE9wdGlvbnMuc2l6ZVJhdGU7XG4gICAgICAgICAgICBjb25zdCB6U3Ryb2tlT3BhY2l0eSA9IHN0cm9rZU9wYWNpdHkgKiB6T3BhY2l0eUZhY3RvcjtcbiAgICAgICAgICAgIGNvbnN0IHN0cm9rZUNvbG9yVmFsdWUgPSBzQ29sb3IgPyAoMCwgVXRpbHNfMS5nZXRTdHlsZUZyb21Ic2wpKHNDb2xvciwgelN0cm9rZU9wYWNpdHkpIDogZmlsbENvbG9yVmFsdWU7XG4gICAgICAgICAgICBpZiAocmFkaXVzIDw9IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBkYXRlciBvZiBjb250YWluZXIucGFydGljbGVzLnVwZGF0ZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZXIuYmVmb3JlRHJhdykge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVyLmJlZm9yZURyYXcocGFydGljbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICgwLCBVdGlsc18xLmRyYXdQYXJ0aWNsZSkodGhpcy5jb250YWluZXIsIGN0eCwgcGFydGljbGUsIGRlbHRhLCBmaWxsQ29sb3JWYWx1ZSwgc3Ryb2tlQ29sb3JWYWx1ZSwgb3B0aW9ucy5iYWNrZ3JvdW5kTWFzay5lbmFibGUsIG9wdGlvbnMuYmFja2dyb3VuZE1hc2suY29tcG9zaXRlLCByYWRpdXMgKiB6U2l6ZUZhY3Rvciwgek9wYWNpdHksIHBhcnRpY2xlLm9wdGlvbnMuc2hhZG93LCBwYXJ0aWNsZS5ncmFkaWVudCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZXIgb2YgY29udGFpbmVyLnBhcnRpY2xlcy51cGRhdGVycykge1xuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVyLmFmdGVyRHJhdykge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVyLmFmdGVyRHJhdyhwYXJ0aWNsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZHJhd1BsdWdpbihwbHVnaW4sIGRlbHRhKSB7XG4gICAgICAgIHRoaXMuZHJhdygoY3R4KSA9PiB7XG4gICAgICAgICAgICAoMCwgVXRpbHNfMS5kcmF3UGx1Z2luKShjdHgsIHBsdWdpbiwgZGVsdGEpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZHJhd1BhcnRpY2xlUGx1Z2luKHBsdWdpbiwgcGFydGljbGUsIGRlbHRhKSB7XG4gICAgICAgIHRoaXMuZHJhdygoY3R4KSA9PiB7XG4gICAgICAgICAgICAoMCwgVXRpbHNfMS5kcmF3UGFydGljbGVQbHVnaW4pKGN0eCwgcGx1Z2luLCBwYXJ0aWNsZSwgZGVsdGEpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW5pdEJhY2tncm91bmQoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gb3B0aW9ucy5iYWNrZ3JvdW5kO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBjb25zdCBlbGVtZW50U3R5bGUgPSBlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsZW1lbnQuc3R5bGU7XG4gICAgICAgIGlmICghZWxlbWVudFN0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJhY2tncm91bmQuY29sb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gKDAsIFV0aWxzXzEuY29sb3JUb1JnYikoYmFja2dyb3VuZC5jb2xvcik7XG4gICAgICAgICAgICBlbGVtZW50U3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3IgPyAoMCwgVXRpbHNfMS5nZXRTdHlsZUZyb21SZ2IpKGNvbG9yLCBiYWNrZ3JvdW5kLm9wYWNpdHkpIDogXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnRTdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRTdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBiYWNrZ3JvdW5kLmltYWdlIHx8IFwiXCI7XG4gICAgICAgIGVsZW1lbnRTdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBiYWNrZ3JvdW5kLnBvc2l0aW9uIHx8IFwiXCI7XG4gICAgICAgIGVsZW1lbnRTdHlsZS5iYWNrZ3JvdW5kUmVwZWF0ID0gYmFja2dyb3VuZC5yZXBlYXQgfHwgXCJcIjtcbiAgICAgICAgZWxlbWVudFN0eWxlLmJhY2tncm91bmRTaXplID0gYmFja2dyb3VuZC5zaXplIHx8IFwiXCI7XG4gICAgfVxuICAgIGRyYXcoY2IpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2IodGhpcy5jb250ZXh0KTtcbiAgICB9XG4gICAgaW5pdENvdmVyKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5jb250YWluZXIuYWN0dWFsT3B0aW9ucztcbiAgICAgICAgY29uc3QgY292ZXIgPSBvcHRpb25zLmJhY2tncm91bmRNYXNrLmNvdmVyO1xuICAgICAgICBjb25zdCBjb2xvciA9IGNvdmVyLmNvbG9yO1xuICAgICAgICBjb25zdCBjb3ZlclJnYiA9ICgwLCBVdGlsc18xLmNvbG9yVG9SZ2IpKGNvbG9yKTtcbiAgICAgICAgaWYgKGNvdmVyUmdiKSB7XG4gICAgICAgICAgICB0aGlzLmNvdmVyQ29sb3IgPSB7XG4gICAgICAgICAgICAgICAgcjogY292ZXJSZ2IucixcbiAgICAgICAgICAgICAgICBnOiBjb3ZlclJnYi5nLFxuICAgICAgICAgICAgICAgIGI6IGNvdmVyUmdiLmIsXG4gICAgICAgICAgICAgICAgYTogY292ZXIub3BhY2l0eSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdFRyYWlsKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5jb250YWluZXIuYWN0dWFsT3B0aW9ucztcbiAgICAgICAgY29uc3QgdHJhaWwgPSBvcHRpb25zLnBhcnRpY2xlcy5tb3ZlLnRyYWlsO1xuICAgICAgICBjb25zdCBmaWxsQ29sb3IgPSAoMCwgVXRpbHNfMS5jb2xvclRvUmdiKSh0cmFpbC5maWxsQ29sb3IpO1xuICAgICAgICBpZiAoZmlsbENvbG9yKSB7XG4gICAgICAgICAgICBjb25zdCB0cmFpbCA9IG9wdGlvbnMucGFydGljbGVzLm1vdmUudHJhaWw7XG4gICAgICAgICAgICB0aGlzLnRyYWlsRmlsbENvbG9yID0ge1xuICAgICAgICAgICAgICAgIHI6IGZpbGxDb2xvci5yLFxuICAgICAgICAgICAgICAgIGc6IGZpbGxDb2xvci5nLFxuICAgICAgICAgICAgICAgIGI6IGZpbGxDb2xvci5iLFxuICAgICAgICAgICAgICAgIGE6IDEgLyB0cmFpbC5sZW5ndGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBsdWdpblBhcnRpY2xlQ29sb3JzKHBhcnRpY2xlKSB7XG4gICAgICAgIGxldCBmQ29sb3I7XG4gICAgICAgIGxldCBzQ29sb3I7XG4gICAgICAgIGZvciAoY29uc3QgWywgcGx1Z2luXSBvZiB0aGlzLmNvbnRhaW5lci5wbHVnaW5zKSB7XG4gICAgICAgICAgICBpZiAoIWZDb2xvciAmJiBwbHVnaW4ucGFydGljbGVGaWxsQ29sb3IpIHtcbiAgICAgICAgICAgICAgICBmQ29sb3IgPSAoMCwgVXRpbHNfMS5jb2xvclRvSHNsKShwbHVnaW4ucGFydGljbGVGaWxsQ29sb3IocGFydGljbGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc0NvbG9yICYmIHBsdWdpbi5wYXJ0aWNsZVN0cm9rZUNvbG9yKSB7XG4gICAgICAgICAgICAgICAgc0NvbG9yID0gKDAsIFV0aWxzXzEuY29sb3JUb0hzbCkocGx1Z2luLnBhcnRpY2xlU3Ryb2tlQ29sb3IocGFydGljbGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmQ29sb3IgJiYgc0NvbG9yKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtmQ29sb3IsIHNDb2xvcl07XG4gICAgfVxuICAgIGluaXRTdHlsZSgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudCwgb3B0aW9ucyA9IHRoaXMuY29udGFpbmVyLmFjdHVhbE9wdGlvbnM7XG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsU3R5bGUgPSB0aGlzLm9yaWdpbmFsU3R5bGU7XG4gICAgICAgIGlmIChvcHRpb25zLmZ1bGxTY3JlZW4uZW5hYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm9yaWdpbmFsU3R5bGUgPSAoMCwgVXRpbHNfMS5kZWVwRXh0ZW5kKSh7fSwgZWxlbWVudC5zdHlsZSk7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS56SW5kZXggPSBvcHRpb25zLmZ1bGxTY3JlZW4uekluZGV4LnRvU3RyaW5nKDEwKTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudG9wID0gXCIwXCI7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3JpZ2luYWxTdHlsZSkge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IG9yaWdpbmFsU3R5bGUucG9zaXRpb247XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnpJbmRleCA9IG9yaWdpbmFsU3R5bGUuekluZGV4O1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSBvcmlnaW5hbFN0eWxlLnRvcDtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IG9yaWdpbmFsU3R5bGUubGVmdDtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSBvcmlnaW5hbFN0eWxlLndpZHRoO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBvcmlnaW5hbFN0eWxlLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYWludEJhc2UoYmFzZUNvbG9yKSB7XG4gICAgICAgIHRoaXMuZHJhdygoY3R4KSA9PiB7XG4gICAgICAgICAgICAoMCwgVXRpbHNfMS5wYWludEJhc2UpKGN0eCwgdGhpcy5zaXplLCBiYXNlQ29sb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGluZVN0eWxlKHAxLCBwMikge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3KChjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdE9wdGlvbnMgPSBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMuY29ubmVjdDtcbiAgICAgICAgICAgIHJldHVybiAoMCwgVXRpbHNfMS5ncmFkaWVudCkoY3R4LCBwMSwgcDIsIGNvbm5lY3RPcHRpb25zLmxpbmtzLm9wYWNpdHkpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkNhbnZhcyA9IENhbnZhcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db250YWluZXIgPSB2b2lkIDA7XG5jb25zdCBDYW52YXNfMSA9IHJlcXVpcmUoXCIuL0NhbnZhc1wiKTtcbmNvbnN0IFBhcnRpY2xlc18xID0gcmVxdWlyZShcIi4vUGFydGljbGVzXCIpO1xuY29uc3QgUmV0aW5hXzEgPSByZXF1aXJlKFwiLi9SZXRpbmFcIik7XG5jb25zdCBGcmFtZU1hbmFnZXJfMSA9IHJlcXVpcmUoXCIuL0ZyYW1lTWFuYWdlclwiKTtcbmNvbnN0IE9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9PcHRpb25zL0NsYXNzZXMvT3B0aW9uc1wiKTtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vVXRpbHNcIik7XG5jb25zdCBWZWN0b3JfMSA9IHJlcXVpcmUoXCIuL1BhcnRpY2xlL1ZlY3RvclwiKTtcbmNsYXNzIENvbnRhaW5lciB7XG4gICAgY29uc3RydWN0b3IoaWQsIHNvdXJjZU9wdGlvbnMsIC4uLnByZXNldHMpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmZwc0xpbWl0ID0gNjA7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSAwO1xuICAgICAgICB0aGlzLmxpZmVUaW1lID0gMDtcbiAgICAgICAgdGhpcy5maXJzdFN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gMDtcbiAgICAgICAgdGhpcy56TGF5ZXJzID0gMTAwO1xuICAgICAgICB0aGlzLnBhZ2VIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc291cmNlT3B0aW9ucyA9IHNvdXJjZU9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2luaXRpYWxTb3VyY2VPcHRpb25zID0gc291cmNlT3B0aW9ucztcbiAgICAgICAgdGhpcy5yZXRpbmEgPSBuZXcgUmV0aW5hXzEuUmV0aW5hKHRoaXMpO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXNfMS5DYW52YXModGhpcyk7XG4gICAgICAgIHRoaXMucGFydGljbGVzID0gbmV3IFBhcnRpY2xlc18xLlBhcnRpY2xlcyh0aGlzKTtcbiAgICAgICAgdGhpcy5kcmF3ZXIgPSBuZXcgRnJhbWVNYW5hZ2VyXzEuRnJhbWVNYW5hZ2VyKHRoaXMpO1xuICAgICAgICB0aGlzLnByZXNldHMgPSBwcmVzZXRzO1xuICAgICAgICB0aGlzLnBhdGhHZW5lcmF0b3IgPSB7XG4gICAgICAgICAgICBnZW5lcmF0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBWZWN0b3JfMS5WZWN0b3IuY3JlYXRlKDAsIDApO1xuICAgICAgICAgICAgICAgIHYubGVuZ3RoID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgICAgICAgICB2LmFuZ2xlID0gTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluaXQ6ICgpID0+IHtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGU6ICgpID0+IHtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpdml0eSA9IHtcbiAgICAgICAgICAgIG1vdXNlOiB7XG4gICAgICAgICAgICAgICAgY2xpY2tpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGluc2lkZTogZmFsc2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJ1YmJsZSA9IHt9O1xuICAgICAgICB0aGlzLnJlcHVsc2UgPSB7IHBhcnRpY2xlczogW10gfTtcbiAgICAgICAgdGhpcy5hdHRyYWN0ID0geyBwYXJ0aWNsZXM6IFtdIH07XG4gICAgICAgIHRoaXMucGx1Z2lucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5kcmF3ZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmRlbnNpdHkgPSAxO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gbmV3IE9wdGlvbnNfMS5PcHRpb25zKCk7XG4gICAgICAgIHRoaXMuYWN0dWFsT3B0aW9ucyA9IG5ldyBPcHRpb25zXzEuT3B0aW9ucygpO1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzID0gbmV3IFV0aWxzXzEuRXZlbnRMaXN0ZW5lcnModGhpcyk7XG4gICAgICAgIGlmICh0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHRoaXMuaW50ZXJzZWN0aW9uTWFuYWdlcihlbnRyaWVzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zO1xuICAgIH1cbiAgICBnZXQgc291cmNlT3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZU9wdGlvbnM7XG4gICAgfVxuICAgIHBsYXkoZm9yY2UpIHtcbiAgICAgICAgY29uc3QgbmVlZHNVcGRhdGUgPSB0aGlzLnBhdXNlZCB8fCBmb3JjZTtcbiAgICAgICAgaWYgKHRoaXMuZmlyc3RTdGFydCAmJiAhdGhpcy5hY3R1YWxPcHRpb25zLmF1dG9QbGF5KSB7XG4gICAgICAgICAgICB0aGlzLmZpcnN0U3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5wbGF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhdyhuZWVkc1VwZGF0ZSB8fCBmYWxzZSk7XG4gICAgfVxuICAgIHBhdXNlKCkge1xuICAgICAgICBpZiAodGhpcy5kcmF3QW5pbWF0aW9uRnJhbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgKDAsIFV0aWxzXzEuY2FuY2VsQW5pbWF0aW9uKSgpKHRoaXMuZHJhd0FuaW1hdGlvbkZyYW1lKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRyYXdBbmltYXRpb25GcmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICBpZiAocGx1Z2luLnBhdXNlKSB7XG4gICAgICAgICAgICAgICAgcGx1Z2luLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnBhZ2VIaWRkZW4pIHtcbiAgICAgICAgICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3KGZvcmNlKSB7XG4gICAgICAgIGxldCByZWZyZXNoVGltZSA9IGZvcmNlO1xuICAgICAgICB0aGlzLmRyYXdBbmltYXRpb25GcmFtZSA9ICgwLCBVdGlsc18xLmFuaW1hdGUpKCkoKHRpbWVzdGFtcCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlZnJlc2hUaW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hUaW1lID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRyYXdlci5uZXh0RnJhbWUodGltZXN0YW1wKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEFuaW1hdGlvblN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLnBhdXNlZCAmJiAhdGhpcy5wYWdlSGlkZGVuO1xuICAgIH1cbiAgICBzZXROb2lzZShub2lzZU9yR2VuZXJhdG9yLCBpbml0LCB1cGRhdGUpIHtcbiAgICAgICAgdGhpcy5zZXRQYXRoKG5vaXNlT3JHZW5lcmF0b3IsIGluaXQsIHVwZGF0ZSk7XG4gICAgfVxuICAgIHNldFBhdGgocGF0aE9yR2VuZXJhdG9yLCBpbml0LCB1cGRhdGUpIHtcbiAgICAgICAgaWYgKCFwYXRoT3JHZW5lcmF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHBhdGhPckdlbmVyYXRvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLnBhdGhHZW5lcmF0b3IuZ2VuZXJhdGUgPSBwYXRoT3JHZW5lcmF0b3I7XG4gICAgICAgICAgICBpZiAoaW5pdCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGF0aEdlbmVyYXRvci5pbml0ID0gaW5pdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1cGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGhHZW5lcmF0b3IudXBkYXRlID0gdXBkYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBhdGhPckdlbmVyYXRvci5nZW5lcmF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGF0aEdlbmVyYXRvci5nZW5lcmF0ZSA9IHBhdGhPckdlbmVyYXRvci5nZW5lcmF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXRoT3JHZW5lcmF0b3IuaW5pdCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGF0aEdlbmVyYXRvci5pbml0ID0gcGF0aE9yR2VuZXJhdG9yLmluaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGF0aE9yR2VuZXJhdG9yLnVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGF0aEdlbmVyYXRvci51cGRhdGUgPSBwYXRoT3JHZW5lcmF0b3IudXBkYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB0aGlzLmNhbnZhcy5kZXN0cm95KCk7XG4gICAgICAgIGZvciAoY29uc3QgWywgZHJhd2VyXSBvZiB0aGlzLmRyYXdlcnMpIHtcbiAgICAgICAgICAgIGlmIChkcmF3ZXIuZGVzdHJveSkge1xuICAgICAgICAgICAgICAgIGRyYXdlci5kZXN0cm95KHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMuZHJhd2Vycy5rZXlzKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd2Vycy5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuICAgIGV4cG9ydEltZyhjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmV4cG9ydEltYWdlKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZXhwb3J0SW1hZ2UoY2FsbGJhY2ssIHR5cGUsIHF1YWxpdHkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5jYW52YXMuZWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvQmxvYihjYWxsYmFjaywgdHlwZSAhPT0gbnVsbCAmJiB0eXBlICE9PSB2b2lkIDAgPyB0eXBlIDogXCJpbWFnZS9wbmdcIiwgcXVhbGl0eSk7XG4gICAgfVxuICAgIGV4cG9ydENvbmZpZ3VyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmFjdHVhbE9wdGlvbnMsIHVuZGVmaW5lZCwgMik7XG4gICAgfVxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG5ldyBPcHRpb25zXzEuT3B0aW9ucygpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maXJzdFN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5jYW52YXMuY2xlYXIoKTtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3Rpdml0eS5lbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuaW50ZXJhY3Rpdml0eS5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICBpZiAocGx1Z2luLnN0b3ApIHtcbiAgICAgICAgICAgICAgICBwbHVnaW4uc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMucGx1Z2lucy5rZXlzKCkpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2lucy5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcnRpY2xlcy5saW5rc0NvbG9ycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgZGVsZXRlIHRoaXMucGFydGljbGVzLmdyYWJMaW5lQ29sb3I7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnBhcnRpY2xlcy5saW5rc0NvbG9yO1xuICAgICAgICB0aGlzLl9zb3VyY2VPcHRpb25zID0gdGhpcy5fb3B0aW9ucztcbiAgICB9XG4gICAgYXN5bmMgbG9hZFRoZW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VGhlbWUgPSBuYW1lO1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5hZGRMaXN0ZW5lcnMoKTtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3Rpdml0eS5lbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuaW50ZXJhY3Rpdml0eS5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICBpZiAocGx1Z2luLnN0YXJ0QXN5bmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zdGFydEFzeW5jKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwbHVnaW4uc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBsdWdpbi5zdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgIH1cbiAgICBhZGRDbGlja0hhbmRsZXIoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLmludGVyYWN0aXZpdHkuZWxlbWVudDtcbiAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNsaWNrT3JUb3VjaEhhbmRsZXIgPSAoZSwgcG9zLCByYWRpdXMpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHB4UmF0aW8gPSB0aGlzLnJldGluYS5waXhlbFJhdGlvLCBwb3NSZXRpbmEgPSB7XG4gICAgICAgICAgICAgICAgeDogcG9zLnggKiBweFJhdGlvLFxuICAgICAgICAgICAgICAgIHk6IHBvcy55ICogcHhSYXRpbyxcbiAgICAgICAgICAgIH0sIHBhcnRpY2xlcyA9IHRoaXMucGFydGljbGVzLnF1YWRUcmVlLnF1ZXJ5Q2lyY2xlKHBvc1JldGluYSwgcmFkaXVzICogcHhSYXRpbyk7XG4gICAgICAgICAgICBjYWxsYmFjayhlLCBwYXJ0aWNsZXMpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjbGlja0hhbmRsZXIgPSAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbW91c2VFdmVudCA9IGU7XG4gICAgICAgICAgICBjb25zdCBwb3MgPSB7XG4gICAgICAgICAgICAgICAgeDogbW91c2VFdmVudC5vZmZzZXRYIHx8IG1vdXNlRXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgICB5OiBtb3VzZUV2ZW50Lm9mZnNldFkgfHwgbW91c2VFdmVudC5jbGllbnRZLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNsaWNrT3JUb3VjaEhhbmRsZXIoZSwgcG9zLCAxKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdG91Y2hTdGFydEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3VjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRvdWNoTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdG91Y2hNb3ZlSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvdWNoTW92ZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB0b3VjaEVuZEhhbmRsZXIgPSAoZSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG91Y2hlZCAmJiAhdG91Y2hNb3ZlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdWNoRXZlbnQgPSBlO1xuICAgICAgICAgICAgICAgIGxldCBsYXN0VG91Y2ggPSB0b3VjaEV2ZW50LnRvdWNoZXNbdG91Y2hFdmVudC50b3VjaGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmICghbGFzdFRvdWNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb3VjaCA9IHRvdWNoRXZlbnQuY2hhbmdlZFRvdWNoZXNbdG91Y2hFdmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYXN0VG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjYW52YXNSZWN0ID0gKF9hID0gdGhpcy5jYW52YXMuZWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgeDogbGFzdFRvdWNoLmNsaWVudFggLSAoKF9iID0gY2FudmFzUmVjdCA9PT0gbnVsbCB8fCBjYW52YXNSZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYW52YXNSZWN0LmxlZnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDApLFxuICAgICAgICAgICAgICAgICAgICB5OiBsYXN0VG91Y2guY2xpZW50WSAtICgoX2MgPSBjYW52YXNSZWN0ID09PSBudWxsIHx8IGNhbnZhc1JlY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhbnZhc1JlY3QudG9wKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAwKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNsaWNrT3JUb3VjaEhhbmRsZXIoZSwgcG9zLCBNYXRoLm1heChsYXN0VG91Y2gucmFkaXVzWCwgbGFzdFRvdWNoLnJhZGl1c1kpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvdWNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRvdWNoTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdG91Y2hDYW5jZWxIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdG91Y2hNb3ZlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBsZXQgdG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgdG91Y2hNb3ZlZCA9IGZhbHNlO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tIYW5kbGVyKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdG91Y2hTdGFydEhhbmRsZXIpO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRvdWNoTW92ZUhhbmRsZXIpO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdG91Y2hFbmRIYW5kbGVyKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsIHRvdWNoQ2FuY2VsSGFuZGxlcik7XG4gICAgfVxuICAgIHVwZGF0ZUFjdHVhbE9wdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuYWN0dWFsT3B0aW9ucy5yZXNwb25zaXZlID0gW107XG4gICAgICAgIGNvbnN0IG5ld01heFdpZHRoID0gdGhpcy5hY3R1YWxPcHRpb25zLnNldFJlc3BvbnNpdmUodGhpcy5jYW52YXMuc2l6ZS53aWR0aCwgdGhpcy5yZXRpbmEucGl4ZWxSYXRpbywgdGhpcy5fb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYWN0dWFsT3B0aW9ucy5zZXRUaGVtZSh0aGlzLmN1cnJlbnRUaGVtZSk7XG4gICAgICAgIGlmICh0aGlzLnJlc3BvbnNpdmVNYXhXaWR0aCAhPSBuZXdNYXhXaWR0aCkge1xuICAgICAgICAgICAgdGhpcy5yZXNwb25zaXZlTWF4V2lkdGggPSBuZXdNYXhXaWR0aDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG5ldyBPcHRpb25zXzEuT3B0aW9ucygpO1xuICAgICAgICBmb3IgKGNvbnN0IHByZXNldCBvZiB0aGlzLnByZXNldHMpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubG9hZChVdGlsc18xLlBsdWdpbnMuZ2V0UHJlc2V0KHByZXNldCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNoYXBlcyA9IFV0aWxzXzEuUGx1Z2lucy5nZXRTdXBwb3J0ZWRTaGFwZXMoKTtcbiAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIHNoYXBlcykge1xuICAgICAgICAgICAgY29uc3QgZHJhd2VyID0gVXRpbHNfMS5QbHVnaW5zLmdldFNoYXBlRHJhd2VyKHR5cGUpO1xuICAgICAgICAgICAgaWYgKGRyYXdlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2Vycy5zZXQodHlwZSwgZHJhd2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vcHRpb25zLmxvYWQodGhpcy5faW5pdGlhbFNvdXJjZU9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9vcHRpb25zLmxvYWQodGhpcy5fc291cmNlT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYWN0dWFsT3B0aW9ucyA9IG5ldyBPcHRpb25zXzEuT3B0aW9ucygpO1xuICAgICAgICB0aGlzLmFjdHVhbE9wdGlvbnMubG9hZCh0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgdGhpcy5yZXRpbmEuaW5pdCgpO1xuICAgICAgICB0aGlzLmNhbnZhcy5pbml0KCk7XG4gICAgICAgIHRoaXMudXBkYXRlQWN0dWFsT3B0aW9ucygpO1xuICAgICAgICB0aGlzLmNhbnZhcy5pbml0QmFja2dyb3VuZCgpO1xuICAgICAgICB0aGlzLmNhbnZhcy5yZXNpemUoKTtcbiAgICAgICAgdGhpcy56TGF5ZXJzID0gdGhpcy5hY3R1YWxPcHRpb25zLnpMYXllcnM7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSAoMCwgVXRpbHNfMS5nZXRSYW5nZVZhbHVlKSh0aGlzLmFjdHVhbE9wdGlvbnMuZHVyYXRpb24pO1xuICAgICAgICB0aGlzLmxpZmVUaW1lID0gMDtcbiAgICAgICAgdGhpcy5mcHNMaW1pdCA9IHRoaXMuYWN0dWFsT3B0aW9ucy5mcHNMaW1pdCA+IDAgPyB0aGlzLmFjdHVhbE9wdGlvbnMuZnBzTGltaXQgOiA2MDtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlUGx1Z2lucyA9IFV0aWxzXzEuUGx1Z2lucy5nZXRBdmFpbGFibGVQbHVnaW5zKHRoaXMpO1xuICAgICAgICBmb3IgKGNvbnN0IFtpZCwgcGx1Z2luXSBvZiBhdmFpbGFibGVQbHVnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnMuc2V0KGlkLCBwbHVnaW4pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgWywgZHJhd2VyXSBvZiB0aGlzLmRyYXdlcnMpIHtcbiAgICAgICAgICAgIGlmIChkcmF3ZXIuaW5pdCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGRyYXdlci5pbml0KHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgWywgcGx1Z2luXSBvZiB0aGlzLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIGlmIChwbHVnaW4uaW5pdCkge1xuICAgICAgICAgICAgICAgIHBsdWdpbi5pbml0KHRoaXMuYWN0dWFsT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwbHVnaW4uaW5pdEFzeW5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBwbHVnaW4uaW5pdEFzeW5jKHRoaXMuYWN0dWFsT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF0aE9wdGlvbnMgPSB0aGlzLmFjdHVhbE9wdGlvbnMucGFydGljbGVzLm1vdmUucGF0aDtcbiAgICAgICAgaWYgKHBhdGhPcHRpb25zLmdlbmVyYXRvcikge1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tR2VuZXJhdG9yID0gVXRpbHNfMS5QbHVnaW5zLmdldFBhdGhHZW5lcmF0b3IocGF0aE9wdGlvbnMuZ2VuZXJhdG9yKTtcbiAgICAgICAgICAgIGlmIChjdXN0b21HZW5lcmF0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VzdG9tR2VuZXJhdG9yLmluaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXRoR2VuZXJhdG9yLmluaXQgPSBjdXN0b21HZW5lcmF0b3IuaW5pdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGN1c3RvbUdlbmVyYXRvci5nZW5lcmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdGhHZW5lcmF0b3IuZ2VuZXJhdGUgPSBjdXN0b21HZW5lcmF0b3IuZ2VuZXJhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjdXN0b21HZW5lcmF0b3IudXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aEdlbmVyYXRvci51cGRhdGUgPSBjdXN0b21HZW5lcmF0b3IudXBkYXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcnRpY2xlcy5pbml0KCk7XG4gICAgICAgIHRoaXMucGFydGljbGVzLnNldERlbnNpdHkoKTtcbiAgICAgICAgZm9yIChjb25zdCBbLCBwbHVnaW5dIG9mIHRoaXMucGx1Z2lucykge1xuICAgICAgICAgICAgaWYgKHBsdWdpbi5wYXJ0aWNsZXNTZXR1cCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGx1Z2luLnBhcnRpY2xlc1NldHVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW50ZXJzZWN0aW9uTWFuYWdlcihlbnRyaWVzKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3R1YWxPcHRpb25zLnBhdXNlT25PdXRzaWRlVmlld3BvcnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICAgIGlmIChlbnRyeS50YXJnZXQgIT09IHRoaXMuaW50ZXJhY3Rpdml0eS5lbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQ29udGFpbmVyID0gQ29udGFpbmVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkV4dGVybmFsSW50ZXJhY3RvckJhc2UgPSB2b2lkIDA7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uL0VudW1zXCIpO1xuY2xhc3MgRXh0ZXJuYWxJbnRlcmFjdG9yQmFzZSB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLnR5cGUgPSBFbnVtc18xLkludGVyYWN0b3JUeXBlLkV4dGVybmFsO1xuICAgIH1cbn1cbmV4cG9ydHMuRXh0ZXJuYWxJbnRlcmFjdG9yQmFzZSA9IEV4dGVybmFsSW50ZXJhY3RvckJhc2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRnJhbWVNYW5hZ2VyID0gdm9pZCAwO1xuY2xhc3MgRnJhbWVNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgfVxuICAgIG5leHRGcmFtZSh0aW1lc3RhbXApIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLmxhc3RGcmFtZVRpbWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcCA8IGNvbnRhaW5lci5sYXN0RnJhbWVUaW1lICsgMTAwMCAvIGNvbnRhaW5lci5mcHNMaW1pdCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5kcmF3KGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoX2EgPSBjb250YWluZXIubGFzdEZyYW1lVGltZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKGNvbnRhaW5lci5sYXN0RnJhbWVUaW1lID0gdGltZXN0YW1wKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVmFsdWUgPSB0aW1lc3RhbXAgLSBjb250YWluZXIubGFzdEZyYW1lVGltZTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBkZWx0YVZhbHVlLFxuICAgICAgICAgICAgICAgIGZhY3RvcjogKDYwICogZGVsdGFWYWx1ZSkgLyAxMDAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5saWZlVGltZSArPSBkZWx0YS52YWx1ZTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5sYXN0RnJhbWVUaW1lID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgaWYgKGRlbHRhVmFsdWUgPiAxMDAwKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmRyYXcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRhaW5lci5wYXJ0aWNsZXMuZHJhdyhkZWx0YSk7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLmR1cmF0aW9uID4gMCAmJiBjb250YWluZXIubGlmZVRpbWUgPiBjb250YWluZXIuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250YWluZXIuZ2V0QW5pbWF0aW9uU3RhdHVzKCkpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuZHJhdyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJ0c1BhcnRpY2xlcyBlcnJvciBpbiBhbmltYXRpb24gbG9vcFwiLCBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuRnJhbWVNYW5hZ2VyID0gRnJhbWVNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkludGVyYWN0aW9uTWFuYWdlciA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vVXRpbHNcIik7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uL0VudW1zXCIpO1xuY2xhc3MgSW50ZXJhY3Rpb25NYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuZXh0ZXJuYWxJbnRlcmFjdG9ycyA9IFtdO1xuICAgICAgICB0aGlzLnBhcnRpY2xlSW50ZXJhY3RvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIGNvbnN0IGludGVyYWN0b3JzID0gVXRpbHNfMS5QbHVnaW5zLmdldEludGVyYWN0b3JzKHRoaXMuY29udGFpbmVyLCB0cnVlKTtcbiAgICAgICAgZm9yIChjb25zdCBpbnRlcmFjdG9yIG9mIGludGVyYWN0b3JzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGludGVyYWN0b3IudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgRW51bXNfMS5JbnRlcmFjdG9yVHlwZS5FeHRlcm5hbDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRlcm5hbEludGVyYWN0b3JzLnB1c2goaW50ZXJhY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRW51bXNfMS5JbnRlcmFjdG9yVHlwZS5QYXJ0aWNsZXM6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFydGljbGVJbnRlcmFjdG9ycy5wdXNoKGludGVyYWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBleHRlcm5hbEludGVyYWN0KGRlbHRhKSB7XG4gICAgICAgIGZvciAoY29uc3QgaW50ZXJhY3RvciBvZiB0aGlzLmV4dGVybmFsSW50ZXJhY3RvcnMpIHtcbiAgICAgICAgICAgIGlmIChpbnRlcmFjdG9yLmlzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rvci5pbnRlcmFjdChkZWx0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFydGljbGVzSW50ZXJhY3QocGFydGljbGUsIGRlbHRhKSB7XG4gICAgICAgIGZvciAoY29uc3QgaW50ZXJhY3RvciBvZiB0aGlzLmV4dGVybmFsSW50ZXJhY3RvcnMpIHtcbiAgICAgICAgICAgIGludGVyYWN0b3IucmVzZXQocGFydGljbGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgaW50ZXJhY3RvciBvZiB0aGlzLnBhcnRpY2xlSW50ZXJhY3RvcnMpIHtcbiAgICAgICAgICAgIGlmIChpbnRlcmFjdG9yLmlzRW5hYmxlZChwYXJ0aWNsZSkpIHtcbiAgICAgICAgICAgICAgICBpbnRlcmFjdG9yLmludGVyYWN0KHBhcnRpY2xlLCBkZWx0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkludGVyYWN0aW9uTWFuYWdlciA9IEludGVyYWN0aW9uTWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9Db2xvcnNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0dyYWRpZW50c1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSUF0dHJhY3RcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0lCb3VuZHNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0lCdWJibGVcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0lCdWJibGVQYXJ0aWNsZURhdGFcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0lDaXJjbGVCb3VuY2VyXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9JQ29udGFpbmVySW50ZXJhY3Rpdml0eVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSUNvbnRhaW5lclBsdWdpblwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSUNvb3JkaW5hdGVzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9JRGVsdGFcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0lEaW1lbnNpb25cIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0lEaXN0YW5jZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSUV4dGVybmFsSW50ZXJhY3RvclwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSUludGVyYWN0b3JcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0lNb3VzZURhdGFcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0lNb3ZlUGF0aEdlbmVyYXRvclwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSVBhcnRpY2xlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9JUGFydGljbGVHcmFkaWVudEFuaW1hdGlvblwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSVBhcnRpY2xlR3JhZGllbnRDb2xvckFuaW1hdGlvblwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSVBhcnRpY2xlSHNsQW5pbWF0aW9uXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9JUGFydGljbGVMaWZlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9JUGFydGljbGVMb29wc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSVBhcnRpY2xlUmV0aW5hUHJvcHNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0lQYXJ0aWNsZVNwaW5cIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0lQYXJ0aWNsZVVwZGF0ZXJcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0lQYXJ0aWNsZVZhbHVlQW5pbWF0aW9uXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9JUGFydGljbGVzSW50ZXJhY3RvclwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSVBsdWdpblwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSVJhbmdlVmFsdWVcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0lSZWN0U2lkZVJlc3VsdFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSVJlcHVsc2VcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0lTaGFwZURyYXdlclwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSVNoYXBlVmFsdWVzXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Mb2FkZXIgPSB2b2lkIDA7XG5jb25zdCBDb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL0NvbnRhaW5lclwiKTtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vVXRpbHNcIik7XG5jb25zdCB0c1BhcnRpY2xlc0RvbSA9IFtdO1xuZnVuY3Rpb24gZmV0Y2hFcnJvcihzdGF0dXNDb2RlKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgdHNQYXJ0aWNsZXMgLSBmZXRjaCBzdGF0dXM6ICR7c3RhdHVzQ29kZX1gKTtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdHNQYXJ0aWNsZXMgLSBGaWxlIGNvbmZpZyBub3QgZm91bmRcIik7XG59XG5jbGFzcyBMb2FkZXIge1xuICAgIHN0YXRpYyBkb20oKSB7XG4gICAgICAgIHJldHVybiB0c1BhcnRpY2xlc0RvbTtcbiAgICB9XG4gICAgc3RhdGljIGRvbUl0ZW0oaW5kZXgpIHtcbiAgICAgICAgY29uc3QgZG9tID0gTG9hZGVyLmRvbSgpO1xuICAgICAgICBjb25zdCBpdGVtID0gZG9tW2luZGV4XTtcbiAgICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICBkb20uc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGxvYWRPcHRpb25zKHBhcmFtcykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgY29uc3QgdGFnSWQgPSAoX2EgPSBwYXJhbXMudGFnSWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGB0c3BhcnRpY2xlcyR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApfWA7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgaW5kZXggfSA9IHBhcmFtcztcbiAgICAgICAgbGV0IGRvbUNvbnRhaW5lciA9IChfYiA9IHBhcmFtcy5lbGVtZW50KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWdJZCk7XG4gICAgICAgIGlmICghZG9tQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBkb21Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgZG9tQ29udGFpbmVyLmlkID0gdGFnSWQ7XG4gICAgICAgICAgICAoX2MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmFwcGVuZChkb21Db250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRPcHRpb25zID0gb3B0aW9ucyBpbnN0YW5jZW9mIEFycmF5ID8gKDAsIFV0aWxzXzEuaXRlbUZyb21BcnJheSkob3B0aW9ucywgaW5kZXgpIDogb3B0aW9ucztcbiAgICAgICAgY29uc3QgZG9tID0gTG9hZGVyLmRvbSgpO1xuICAgICAgICBjb25zdCBvbGRJbmRleCA9IGRvbS5maW5kSW5kZXgoKHYpID0+IHYuaWQgPT09IHRhZ0lkKTtcbiAgICAgICAgaWYgKG9sZEluZGV4ID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZCA9IExvYWRlci5kb21JdGVtKG9sZEluZGV4KTtcbiAgICAgICAgICAgIGlmIChvbGQgJiYgIW9sZC5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICBvbGQuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGRvbS5zcGxpY2Uob2xkSW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBjYW52YXNFbDtcbiAgICAgICAgbGV0IGdlbmVyYXRlZENhbnZhcztcbiAgICAgICAgaWYgKGRvbUNvbnRhaW5lci50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiY2FudmFzXCIpIHtcbiAgICAgICAgICAgIGNhbnZhc0VsID0gZG9tQ29udGFpbmVyO1xuICAgICAgICAgICAgZ2VuZXJhdGVkQ2FudmFzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0NhbnZhc2VzID0gZG9tQ29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiY2FudmFzXCIpO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nQ2FudmFzZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzRWwgPSBleGlzdGluZ0NhbnZhc2VzWzBdO1xuICAgICAgICAgICAgICAgIGlmICghY2FudmFzRWwuY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc0VsLmNsYXNzTmFtZSA9IFV0aWxzXzEuQ29uc3RhbnRzLmNhbnZhc0NsYXNzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBnZW5lcmF0ZWRDYW52YXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZENhbnZhcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2FudmFzRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICAgICAgICAgIGNhbnZhc0VsLmNsYXNzTmFtZSA9IFV0aWxzXzEuQ29uc3RhbnRzLmNhbnZhc0NsYXNzO1xuICAgICAgICAgICAgICAgIGNhbnZhc0VsLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgICAgICAgICAgY2FudmFzRWwuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgICAgICAgICAgZG9tQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhbnZhc0VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdJdGVtID0gbmV3IENvbnRhaW5lcl8xLkNvbnRhaW5lcih0YWdJZCwgY3VycmVudE9wdGlvbnMpO1xuICAgICAgICBpZiAob2xkSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgZG9tLnNwbGljZShvbGRJbmRleCwgMCwgbmV3SXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb20ucHVzaChuZXdJdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBuZXdJdGVtLmNhbnZhcy5sb2FkQ2FudmFzKGNhbnZhc0VsLCBnZW5lcmF0ZWRDYW52YXMpO1xuICAgICAgICBhd2FpdCBuZXdJdGVtLnN0YXJ0KCk7XG4gICAgICAgIHJldHVybiBuZXdJdGVtO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgbG9hZFJlbW90ZU9wdGlvbnMocGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHsgdXJsOiBqc29uVXJsLCBpbmRleCB9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCB1cmwgPSBqc29uVXJsIGluc3RhbmNlb2YgQXJyYXkgPyAoMCwgVXRpbHNfMS5pdGVtRnJvbUFycmF5KShqc29uVXJsLCBpbmRleCkgOiBqc29uVXJsO1xuICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgZmV0Y2hFcnJvcihyZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiBhd2FpdCBMb2FkZXIubG9hZE9wdGlvbnMoe1xuICAgICAgICAgICAgdGFnSWQ6IHBhcmFtcy50YWdJZCxcbiAgICAgICAgICAgIGVsZW1lbnQ6IHBhcmFtcy5lbGVtZW50LFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBvcHRpb25zOiBkYXRhLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGxvYWQodGFnSWQsIG9wdGlvbnMsIGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHsgaW5kZXggfTtcbiAgICAgICAgaWYgKHR5cGVvZiB0YWdJZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcGFyYW1zLnRhZ0lkID0gdGFnSWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJhbXMub3B0aW9ucyA9IHRhZ0lkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgcGFyYW1zLmluZGV4ID0gb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDogcGFyYW1zLmluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyYW1zLm9wdGlvbnMgPSBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiBwYXJhbXMub3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sb2FkT3B0aW9ucyhwYXJhbXMpO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgc2V0KGlkLCBkb21Db250YWluZXIsIG9wdGlvbnMsIGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHsgaW5kZXggfTtcbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcGFyYW1zLnRhZ0lkID0gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJhbXMuZWxlbWVudCA9IGlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkb21Db250YWluZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgcGFyYW1zLmVsZW1lbnQgPSBkb21Db250YWluZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJhbXMub3B0aW9ucyA9IGRvbUNvbnRhaW5lcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHBhcmFtcy5pbmRleCA9IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJhbXMub3B0aW9ucyA9IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHBhcmFtcy5vcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRPcHRpb25zKHBhcmFtcyk7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBsb2FkSlNPTih0YWdJZCwganNvblVybCwgaW5kZXgpIHtcbiAgICAgICAgbGV0IHVybCwgaWQ7XG4gICAgICAgIGlmICh0eXBlb2YganNvblVybCA9PT0gXCJudW1iZXJcIiB8fCBqc29uVXJsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHVybCA9IHRhZ0lkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWQgPSB0YWdJZDtcbiAgICAgICAgICAgIHVybCA9IGpzb25Vcmw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IExvYWRlci5sb2FkUmVtb3RlT3B0aW9ucyh7IHRhZ0lkOiBpZCwgdXJsLCBpbmRleCB9KTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIHNldEpTT04oaWQsIGRvbUNvbnRhaW5lciwganNvblVybCwgaW5kZXgpIHtcbiAgICAgICAgbGV0IHVybCwgbmV3SWQsIG5ld0luZGV4LCBlbGVtZW50O1xuICAgICAgICBpZiAoaWQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudCA9IGlkO1xuICAgICAgICAgICAgdXJsID0gZG9tQ29udGFpbmVyO1xuICAgICAgICAgICAgbmV3SW5kZXggPSBqc29uVXJsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3SWQgPSBpZDtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBkb21Db250YWluZXI7XG4gICAgICAgICAgICB1cmwgPSBqc29uVXJsO1xuICAgICAgICAgICAgbmV3SW5kZXggPSBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXdhaXQgTG9hZGVyLmxvYWRSZW1vdGVPcHRpb25zKHsgdGFnSWQ6IG5ld0lkLCB1cmwsIGluZGV4OiBuZXdJbmRleCwgZWxlbWVudCB9KTtcbiAgICB9XG4gICAgc3RhdGljIHNldE9uQ2xpY2tIYW5kbGVyKGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGRvbSA9IExvYWRlci5kb20oKTtcbiAgICAgICAgaWYgKGRvbS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbiBvbmx5IHNldCBjbGljayBoYW5kbGVycyBhZnRlciBjYWxsaW5nIHRzUGFydGljbGVzLmxvYWQoKSBvciB0c1BhcnRpY2xlcy5sb2FkSlNPTigpXCIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgZG9tSXRlbSBvZiBkb20pIHtcbiAgICAgICAgICAgIGRvbUl0ZW0uYWRkQ2xpY2tIYW5kbGVyKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuTG9hZGVyID0gTG9hZGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBhcnRpY2xlID0gdm9pZCAwO1xuY29uc3QgUGFydGljbGVzT3B0aW9uc18xID0gcmVxdWlyZShcIi4uL09wdGlvbnMvQ2xhc3Nlcy9QYXJ0aWNsZXMvUGFydGljbGVzT3B0aW9uc1wiKTtcbmNvbnN0IFNoYXBlXzEgPSByZXF1aXJlKFwiLi4vT3B0aW9ucy9DbGFzc2VzL1BhcnRpY2xlcy9TaGFwZS9TaGFwZVwiKTtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vRW51bXNcIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uL1V0aWxzXCIpO1xuY29uc3QgVmVjdG9yXzEgPSByZXF1aXJlKFwiLi9QYXJ0aWNsZS9WZWN0b3JcIik7XG5jb25zdCBWZWN0b3IzZF8xID0gcmVxdWlyZShcIi4vUGFydGljbGUvVmVjdG9yM2RcIik7XG5jb25zdCBmaXhPdXRNb2RlID0gKGRhdGEpID0+IHtcbiAgICBpZiAoKDAsIFV0aWxzXzEuaXNJbkFycmF5KShkYXRhLm91dE1vZGUsIGRhdGEuY2hlY2tNb2RlcykgfHwgKDAsIFV0aWxzXzEuaXNJbkFycmF5KShkYXRhLm91dE1vZGUsIGRhdGEuY2hlY2tNb2RlcykpIHtcbiAgICAgICAgaWYgKGRhdGEuY29vcmQgPiBkYXRhLm1heENvb3JkIC0gZGF0YS5yYWRpdXMgKiAyKSB7XG4gICAgICAgICAgICBkYXRhLnNldENiKC1kYXRhLnJhZGl1cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS5jb29yZCA8IGRhdGEucmFkaXVzICogMikge1xuICAgICAgICAgICAgZGF0YS5zZXRDYihkYXRhLnJhZGl1cyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY2xhc3MgUGFydGljbGUge1xuICAgIGNvbnN0cnVjdG9yKGlkLCBjb250YWluZXIsIHBvc2l0aW9uLCBvdmVycmlkZU9wdGlvbnMsIGdyb3VwKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgICAgIHRoaXMuZmlsbCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2xvc2UgPSB0cnVlO1xuICAgICAgICB0aGlzLmxhc3RQYXRoVGltZSA9IDA7XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMudW5icmVha2FibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zcGxpdENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5taXNwbGFjZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXRpbmEgPSB7XG4gICAgICAgICAgICBtYXhEaXN0YW5jZToge30sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHB4UmF0aW8gPSBjb250YWluZXIucmV0aW5hLnBpeGVsUmF0aW87XG4gICAgICAgIGNvbnN0IG1haW5PcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBhcnRpY2xlc09wdGlvbnMgPSBuZXcgUGFydGljbGVzT3B0aW9uc18xLlBhcnRpY2xlc09wdGlvbnMoKTtcbiAgICAgICAgcGFydGljbGVzT3B0aW9ucy5sb2FkKG1haW5PcHRpb25zLnBhcnRpY2xlcyk7XG4gICAgICAgIGNvbnN0IHNoYXBlVHlwZSA9IHBhcnRpY2xlc09wdGlvbnMuc2hhcGUudHlwZTtcbiAgICAgICAgY29uc3QgcmVkdWNlRHVwbGljYXRlcyA9IHBhcnRpY2xlc09wdGlvbnMucmVkdWNlRHVwbGljYXRlcztcbiAgICAgICAgdGhpcy5zaGFwZSA9IHNoYXBlVHlwZSBpbnN0YW5jZW9mIEFycmF5ID8gKDAsIFV0aWxzXzEuaXRlbUZyb21BcnJheSkoc2hhcGVUeXBlLCB0aGlzLmlkLCByZWR1Y2VEdXBsaWNhdGVzKSA6IHNoYXBlVHlwZTtcbiAgICAgICAgaWYgKG92ZXJyaWRlT3B0aW9ucyA9PT0gbnVsbCB8fCBvdmVycmlkZU9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG92ZXJyaWRlT3B0aW9ucy5zaGFwZSkge1xuICAgICAgICAgICAgaWYgKG92ZXJyaWRlT3B0aW9ucy5zaGFwZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3ZlcnJpZGVTaGFwZVR5cGUgPSBvdmVycmlkZU9wdGlvbnMuc2hhcGUudHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXBlID1cbiAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVTaGFwZVR5cGUgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoMCwgVXRpbHNfMS5pdGVtRnJvbUFycmF5KShvdmVycmlkZVNoYXBlVHlwZSwgdGhpcy5pZCwgcmVkdWNlRHVwbGljYXRlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogb3ZlcnJpZGVTaGFwZVR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzaGFwZU9wdGlvbnMgPSBuZXcgU2hhcGVfMS5TaGFwZSgpO1xuICAgICAgICAgICAgc2hhcGVPcHRpb25zLmxvYWQob3ZlcnJpZGVPcHRpb25zLnNoYXBlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNoYXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFwZURhdGEgPSB0aGlzLmxvYWRTaGFwZURhdGEoc2hhcGVPcHRpb25zLCByZWR1Y2VEdXBsaWNhdGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2hhcGVEYXRhID0gdGhpcy5sb2FkU2hhcGVEYXRhKHBhcnRpY2xlc09wdGlvbnMuc2hhcGUsIHJlZHVjZUR1cGxpY2F0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdmVycmlkZU9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFydGljbGVzT3B0aW9ucy5sb2FkKG92ZXJyaWRlT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgoX2EgPSB0aGlzLnNoYXBlRGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcnRpY2xlcykgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFydGljbGVzT3B0aW9ucy5sb2FkKChfYiA9IHRoaXMuc2hhcGVEYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucGFydGljbGVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpbGwgPSAoX2QgPSAoX2MgPSB0aGlzLnNoYXBlRGF0YSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmZpbGwpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHRoaXMuZmlsbDtcbiAgICAgICAgdGhpcy5jbG9zZSA9IChfZiA9IChfZSA9IHRoaXMuc2hhcGVEYXRhKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2xvc2UpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IHRoaXMuY2xvc2U7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHBhcnRpY2xlc09wdGlvbnM7XG4gICAgICAgIHRoaXMucGF0aERlbGF5ID0gKDAsIFV0aWxzXzEuZ2V0VmFsdWUpKHRoaXMub3B0aW9ucy5tb3ZlLnBhdGguZGVsYXkpICogMTAwMDtcbiAgICAgICAgY29uc3QgekluZGV4VmFsdWUgPSAoMCwgVXRpbHNfMS5nZXRSYW5nZVZhbHVlKSh0aGlzLm9wdGlvbnMuekluZGV4LnZhbHVlKTtcbiAgICAgICAgY29udGFpbmVyLnJldGluYS5pbml0UGFydGljbGUodGhpcyk7XG4gICAgICAgIGNvbnN0IHNpemVPcHRpb25zID0gdGhpcy5vcHRpb25zLnNpemUsIHNpemVSYW5nZSA9IHNpemVPcHRpb25zLnZhbHVlO1xuICAgICAgICB0aGlzLnNpemUgPSB7XG4gICAgICAgICAgICBlbmFibGU6IHNpemVPcHRpb25zLmFuaW1hdGlvbi5lbmFibGUsXG4gICAgICAgICAgICB2YWx1ZTogKDAsIFV0aWxzXzEuZ2V0VmFsdWUpKHNpemVPcHRpb25zKSAqIGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIG1heDogKDAsIFV0aWxzXzEuZ2V0UmFuZ2VNYXgpKHNpemVSYW5nZSkgKiBweFJhdGlvLFxuICAgICAgICAgICAgbWluOiAoMCwgVXRpbHNfMS5nZXRSYW5nZU1pbikoc2l6ZVJhbmdlKSAqIHB4UmF0aW8sXG4gICAgICAgICAgICBsb29wczogMCxcbiAgICAgICAgICAgIG1heExvb3BzOiBzaXplT3B0aW9ucy5hbmltYXRpb24uY291bnQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNpemVBbmltYXRpb24gPSBzaXplT3B0aW9ucy5hbmltYXRpb247XG4gICAgICAgIGlmIChzaXplQW5pbWF0aW9uLmVuYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5zaXplLnN0YXR1cyA9IEVudW1zXzEuQW5pbWF0aW9uU3RhdHVzLmluY3JlYXNpbmc7XG4gICAgICAgICAgICBzd2l0Y2ggKHNpemVBbmltYXRpb24uc3RhcnRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgRW51bXNfMS5TdGFydFZhbHVlVHlwZS5taW46XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZS52YWx1ZSA9IHRoaXMuc2l6ZS5taW47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZS5zdGF0dXMgPSBFbnVtc18xLkFuaW1hdGlvblN0YXR1cy5pbmNyZWFzaW5nO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVudW1zXzEuU3RhcnRWYWx1ZVR5cGUucmFuZG9tOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpemUudmFsdWUgPSAoMCwgVXRpbHNfMS5yYW5kb21JblJhbmdlKSh0aGlzLnNpemUpICogcHhSYXRpbztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaXplLnN0YXR1cyA9IE1hdGgucmFuZG9tKCkgPj0gMC41ID8gRW51bXNfMS5BbmltYXRpb25TdGF0dXMuaW5jcmVhc2luZyA6IEVudW1zXzEuQW5pbWF0aW9uU3RhdHVzLmRlY3JlYXNpbmc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRW51bXNfMS5TdGFydFZhbHVlVHlwZS5tYXg6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaXplLnZhbHVlID0gdGhpcy5zaXplLm1heDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaXplLnN0YXR1cyA9IEVudW1zXzEuQW5pbWF0aW9uU3RhdHVzLmRlY3JlYXNpbmc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zaXplLnZlbG9jaXR5ID1cbiAgICAgICAgICAgICAgICAoKChfZyA9IHRoaXMucmV0aW5hLnNpemVBbmltYXRpb25TcGVlZCkgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogY29udGFpbmVyLnJldGluYS5zaXplQW5pbWF0aW9uU3BlZWQpIC8gMTAwKSAqXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZXRpbmEucmVkdWNlRmFjdG9yO1xuICAgICAgICAgICAgaWYgKCFzaXplQW5pbWF0aW9uLnN5bmMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNpemUudmVsb2NpdHkgKj0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9ICgwLCBVdGlsc18xLmdldFBhcnRpY2xlRGlyZWN0aW9uQW5nbGUpKHRoaXMub3B0aW9ucy5tb3ZlLmRpcmVjdGlvbik7XG4gICAgICAgIHRoaXMuYnViYmxlID0ge1xuICAgICAgICAgICAgaW5SYW5nZTogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaW5pdGlhbFZlbG9jaXR5ID0gdGhpcy5jYWxjdWxhdGVWZWxvY2l0eSgpO1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy5pbml0aWFsVmVsb2NpdHkuY29weSgpO1xuICAgICAgICB0aGlzLm1vdmVEZWNheSA9IDEgLSAoMCwgVXRpbHNfMS5nZXRSYW5nZVZhbHVlKSh0aGlzLm9wdGlvbnMubW92ZS5kZWNheSk7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLmNhbGNQb3NpdGlvbihjb250YWluZXIsIHBvc2l0aW9uLCAoMCwgVXRpbHNfMS5jbGFtcCkoekluZGV4VmFsdWUsIDAsIGNvbnRhaW5lci56TGF5ZXJzKSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbFBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbi5jb3B5KCk7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gVmVjdG9yXzEuVmVjdG9yLm9yaWdpbjtcbiAgICAgICAgY29uc3QgcGFydGljbGVzID0gY29udGFpbmVyLnBhcnRpY2xlcztcbiAgICAgICAgcGFydGljbGVzLm5lZWRzU29ydCA9IHBhcnRpY2xlcy5uZWVkc1NvcnQgfHwgcGFydGljbGVzLmxhc3RaSW5kZXggPCB0aGlzLnBvc2l0aW9uLno7XG4gICAgICAgIHBhcnRpY2xlcy5sYXN0WkluZGV4ID0gdGhpcy5wb3NpdGlvbi56O1xuICAgICAgICB0aGlzLnpJbmRleEZhY3RvciA9IHRoaXMucG9zaXRpb24ueiAvIGNvbnRhaW5lci56TGF5ZXJzO1xuICAgICAgICB0aGlzLnNpZGVzID0gMjQ7XG4gICAgICAgIGxldCBkcmF3ZXIgPSBjb250YWluZXIuZHJhd2Vycy5nZXQodGhpcy5zaGFwZSk7XG4gICAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgICAgICBkcmF3ZXIgPSBVdGlsc18xLlBsdWdpbnMuZ2V0U2hhcGVEcmF3ZXIodGhpcy5zaGFwZSk7XG4gICAgICAgICAgICBpZiAoZHJhd2VyKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmRyYXdlcnMuc2V0KHRoaXMuc2hhcGUsIGRyYXdlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRyYXdlciA9PT0gbnVsbCB8fCBkcmF3ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRyYXdlci5sb2FkU2hhcGUpIHtcbiAgICAgICAgICAgIGRyYXdlciA9PT0gbnVsbCB8fCBkcmF3ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRyYXdlci5sb2FkU2hhcGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2lkZUNvdW50RnVuYyA9IGRyYXdlciA9PT0gbnVsbCB8fCBkcmF3ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRyYXdlci5nZXRTaWRlc0NvdW50O1xuICAgICAgICBpZiAoc2lkZUNvdW50RnVuYykge1xuICAgICAgICAgICAgdGhpcy5zaWRlcyA9IHNpZGVDb3VudEZ1bmModGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saWZlID0gdGhpcy5sb2FkTGlmZSgpO1xuICAgICAgICB0aGlzLnNwYXduaW5nID0gdGhpcy5saWZlLmRlbGF5ID4gMDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tb3ZlLnNwaW4uZW5hYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBzcGluUG9zID0gKF9oID0gdGhpcy5vcHRpb25zLm1vdmUuc3Bpbi5wb3NpdGlvbikgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogeyB4OiA1MCwgeTogNTAgfTtcbiAgICAgICAgICAgIGNvbnN0IHNwaW5DZW50ZXIgPSB7XG4gICAgICAgICAgICAgICAgeDogKHNwaW5Qb3MueCAvIDEwMCkgKiBjb250YWluZXIuY2FudmFzLnNpemUud2lkdGgsXG4gICAgICAgICAgICAgICAgeTogKHNwaW5Qb3MueSAvIDEwMCkgKiBjb250YWluZXIuY2FudmFzLnNpemUuaGVpZ2h0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gKDAsIFV0aWxzXzEuZ2V0RGlzdGFuY2UpKHBvcywgc3BpbkNlbnRlcik7XG4gICAgICAgICAgICB0aGlzLnNwaW4gPSB7XG4gICAgICAgICAgICAgICAgY2VudGVyOiBzcGluQ2VudGVyLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogdGhpcy52ZWxvY2l0eS54ID49IDAgPyBFbnVtc18xLlJvdGF0ZURpcmVjdGlvbi5jbG9ja3dpc2UgOiBFbnVtc18xLlJvdGF0ZURpcmVjdGlvbi5jb3VudGVyQ2xvY2t3aXNlLFxuICAgICAgICAgICAgICAgIGFuZ2xlOiB0aGlzLnZlbG9jaXR5LmFuZ2xlLFxuICAgICAgICAgICAgICAgIHJhZGl1czogZGlzdGFuY2UsXG4gICAgICAgICAgICAgICAgYWNjZWxlcmF0aW9uOiAoX2ogPSB0aGlzLnJldGluYS5zcGluQWNjZWxlcmF0aW9uKSAhPT0gbnVsbCAmJiBfaiAhPT0gdm9pZCAwID8gX2ogOiAoMCwgVXRpbHNfMS5nZXRSYW5nZVZhbHVlKSh0aGlzLm9wdGlvbnMubW92ZS5zcGluLmFjY2VsZXJhdGlvbiksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hhZG93Q29sb3IgPSAoMCwgVXRpbHNfMS5jb2xvclRvUmdiKSh0aGlzLm9wdGlvbnMuc2hhZG93LmNvbG9yKTtcbiAgICAgICAgZm9yIChjb25zdCB1cGRhdGVyIG9mIGNvbnRhaW5lci5wYXJ0aWNsZXMudXBkYXRlcnMpIHtcbiAgICAgICAgICAgIGlmICh1cGRhdGVyLmluaXQpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVyLmluaXQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRyYXdlciAmJiBkcmF3ZXIucGFydGljbGVJbml0KSB7XG4gICAgICAgICAgICBkcmF3ZXIucGFydGljbGVJbml0KGNvbnRhaW5lciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbLCBwbHVnaW5dIG9mIGNvbnRhaW5lci5wbHVnaW5zKSB7XG4gICAgICAgICAgICBpZiAocGx1Z2luLnBhcnRpY2xlQ3JlYXRlZCkge1xuICAgICAgICAgICAgICAgIHBsdWdpbi5wYXJ0aWNsZUNyZWF0ZWQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNWaXNpYmxlKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuZGVzdHJveWVkICYmICF0aGlzLnNwYXduaW5nICYmIHRoaXMuaXNJbnNpZGVDYW52YXMoKTtcbiAgICB9XG4gICAgaXNJbnNpZGVDYW52YXMoKSB7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMuZ2V0UmFkaXVzKCk7XG4gICAgICAgIGNvbnN0IGNhbnZhc1NpemUgPSB0aGlzLmNvbnRhaW5lci5jYW52YXMuc2l6ZTtcbiAgICAgICAgcmV0dXJuICh0aGlzLnBvc2l0aW9uLnggPj0gLXJhZGl1cyAmJlxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi55ID49IC1yYWRpdXMgJiZcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueSA8PSBjYW52YXNTaXplLmhlaWdodCArIHJhZGl1cyAmJlxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi54IDw9IGNhbnZhc1NpemUud2lkdGggKyByYWRpdXMpO1xuICAgIH1cbiAgICBkcmF3KGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgY29udGFpbmVyLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5jYW52YXMuZHJhd1BhcnRpY2xlUGx1Z2luKHBsdWdpbiwgdGhpcywgZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5jYW52YXMuZHJhd1BhcnRpY2xlKHRoaXMsIGRlbHRhKTtcbiAgICB9XG4gICAgZ2V0UG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB0aGlzLnBvc2l0aW9uLnggKyB0aGlzLm9mZnNldC54LFxuICAgICAgICAgICAgeTogdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5vZmZzZXQueSxcbiAgICAgICAgICAgIHo6IHRoaXMucG9zaXRpb24ueixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0UmFkaXVzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLmJ1YmJsZS5yYWRpdXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuc2l6ZS52YWx1ZTtcbiAgICB9XG4gICAgZ2V0TWFzcygpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmdldFJhZGl1cygpICoqIDIgKiBNYXRoLlBJKSAvIDI7XG4gICAgfVxuICAgIGdldEZpbGxDb2xvcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gKF9hID0gdGhpcy5idWJibGUuY29sb3IpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICgwLCBVdGlsc18xLmdldEhzbEZyb21BbmltYXRpb24pKHRoaXMuY29sb3IpO1xuICAgICAgICBpZiAoY29sb3IgJiYgdGhpcy5yb2xsICYmICh0aGlzLmJhY2tDb2xvciB8fCB0aGlzLnJvbGwuYWx0ZXIpKSB7XG4gICAgICAgICAgICBjb25zdCByb2xsZWQgPSBNYXRoLmZsb29yKCgoX2MgPSAoX2IgPSB0aGlzLnJvbGwpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hbmdsZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMCkgLyAoTWF0aC5QSSAvIDIpKSAlIDI7XG4gICAgICAgICAgICBpZiAocm9sbGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja0NvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJhY2tDb2xvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm9sbC5hbHRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAsIFV0aWxzXzEuYWx0ZXJIc2wpKGNvbG9yLCB0aGlzLnJvbGwuYWx0ZXIudHlwZSwgdGhpcy5yb2xsLmFsdGVyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbiAgICBnZXRTdHJva2VDb2xvcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuYnViYmxlLmNvbG9yKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoMCwgVXRpbHNfMS5nZXRIc2xGcm9tQW5pbWF0aW9uKSh0aGlzLnN0cm9rZUNvbG9yKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5nZXRGaWxsQ29sb3IoKTtcbiAgICB9XG4gICAgZGVzdHJveShvdmVycmlkZSkge1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYnViYmxlLmluUmFuZ2UgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMudW5icmVha2FibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYnViYmxlLmluUmFuZ2UgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBbLCBwbHVnaW5dIG9mIHRoaXMuY29udGFpbmVyLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIGlmIChwbHVnaW4ucGFydGljbGVEZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICBwbHVnaW4ucGFydGljbGVEZXN0cm95ZWQodGhpcywgb3ZlcnJpZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvdmVycmlkZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlc3Ryb3lPcHRpb25zID0gdGhpcy5vcHRpb25zLmRlc3Ryb3k7XG4gICAgICAgIGlmIChkZXN0cm95T3B0aW9ucy5tb2RlID09PSBFbnVtc18xLkRlc3Ryb3lNb2RlLnNwbGl0KSB7XG4gICAgICAgICAgICB0aGlzLnNwbGl0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wYWNpdHkpIHtcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eS5sb29wcyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaXplLmxvb3BzID0gMDtcbiAgICB9XG4gICAgc3BsaXQoKSB7XG4gICAgICAgIGNvbnN0IHNwbGl0T3B0aW9ucyA9IHRoaXMub3B0aW9ucy5kZXN0cm95LnNwbGl0O1xuICAgICAgICBpZiAoc3BsaXRPcHRpb25zLmNvdW50ID49IDAgJiYgdGhpcy5zcGxpdENvdW50KysgPiBzcGxpdE9wdGlvbnMuY291bnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXRlID0gKDAsIFV0aWxzXzEuZ2V0UmFuZ2VWYWx1ZSkoc3BsaXRPcHRpb25zLnJhdGUudmFsdWUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdGU7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIucGFydGljbGVzLmFkZFNwbGl0UGFydGljbGUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FsY1Bvc2l0aW9uKGNvbnRhaW5lciwgcG9zaXRpb24sIHpJbmRleCwgdHJ5Q291bnQgPSAwKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgY29udGFpbmVyLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBsdWdpblBvcyA9IHBsdWdpbi5wYXJ0aWNsZVBvc2l0aW9uICE9PSB1bmRlZmluZWQgPyBwbHVnaW4ucGFydGljbGVQb3NpdGlvbihwb3NpdGlvbiwgdGhpcykgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAocGx1Z2luUG9zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gVmVjdG9yM2RfMS5WZWN0b3IzZC5jcmVhdGUocGx1Z2luUG9zLngsIHBsdWdpblBvcy55LCB6SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbnZhc1NpemUgPSBjb250YWluZXIuY2FudmFzLnNpemU7XG4gICAgICAgIGNvbnN0IHBvcyA9IFZlY3RvcjNkXzEuVmVjdG9yM2QuY3JlYXRlKChfYSA9IHBvc2l0aW9uID09PSBudWxsIHx8IHBvc2l0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3NpdGlvbi54KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBNYXRoLnJhbmRvbSgpICogY2FudmFzU2l6ZS53aWR0aCwgKF9iID0gcG9zaXRpb24gPT09IG51bGwgfHwgcG9zaXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvc2l0aW9uLnkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IE1hdGgucmFuZG9tKCkgKiBjYW52YXNTaXplLmhlaWdodCwgekluZGV4KTtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gdGhpcy5nZXRSYWRpdXMoKTtcbiAgICAgICAgY29uc3Qgb3V0TW9kZXMgPSB0aGlzLm9wdGlvbnMubW92ZS5vdXRNb2RlcywgZml4SG9yaXpvbnRhbCA9IChvdXRNb2RlKSA9PiB7XG4gICAgICAgICAgICBmaXhPdXRNb2RlKHtcbiAgICAgICAgICAgICAgICBvdXRNb2RlLFxuICAgICAgICAgICAgICAgIGNoZWNrTW9kZXM6IFtFbnVtc18xLk91dE1vZGUuYm91bmNlLCBFbnVtc18xLk91dE1vZGUuYm91bmNlSG9yaXpvbnRhbF0sXG4gICAgICAgICAgICAgICAgY29vcmQ6IHBvcy54LFxuICAgICAgICAgICAgICAgIG1heENvb3JkOiBjb250YWluZXIuY2FudmFzLnNpemUud2lkdGgsXG4gICAgICAgICAgICAgICAgc2V0Q2I6ICh2YWx1ZSkgPT4gKHBvcy54ICs9IHZhbHVlKSxcbiAgICAgICAgICAgICAgICByYWRpdXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZml4VmVydGljYWwgPSAob3V0TW9kZSkgPT4ge1xuICAgICAgICAgICAgZml4T3V0TW9kZSh7XG4gICAgICAgICAgICAgICAgb3V0TW9kZSxcbiAgICAgICAgICAgICAgICBjaGVja01vZGVzOiBbRW51bXNfMS5PdXRNb2RlLmJvdW5jZSwgRW51bXNfMS5PdXRNb2RlLmJvdW5jZVZlcnRpY2FsXSxcbiAgICAgICAgICAgICAgICBjb29yZDogcG9zLnksXG4gICAgICAgICAgICAgICAgbWF4Q29vcmQ6IGNvbnRhaW5lci5jYW52YXMuc2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgc2V0Q2I6ICh2YWx1ZSkgPT4gKHBvcy55ICs9IHZhbHVlKSxcbiAgICAgICAgICAgICAgICByYWRpdXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZml4SG9yaXpvbnRhbCgoX2MgPSBvdXRNb2Rlcy5sZWZ0KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBvdXRNb2Rlcy5kZWZhdWx0KTtcbiAgICAgICAgZml4SG9yaXpvbnRhbCgoX2QgPSBvdXRNb2Rlcy5yaWdodCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogb3V0TW9kZXMuZGVmYXVsdCk7XG4gICAgICAgIGZpeFZlcnRpY2FsKChfZSA9IG91dE1vZGVzLnRvcCkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogb3V0TW9kZXMuZGVmYXVsdCk7XG4gICAgICAgIGZpeFZlcnRpY2FsKChfZiA9IG91dE1vZGVzLmJvdHRvbSkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogb3V0TW9kZXMuZGVmYXVsdCk7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrT3ZlcmxhcChwb3MsIHRyeUNvdW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FsY1Bvc2l0aW9uKGNvbnRhaW5lciwgdW5kZWZpbmVkLCB6SW5kZXgsIHRyeUNvdW50ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG4gICAgY2hlY2tPdmVybGFwKHBvcywgdHJ5Q291bnQgPSAwKSB7XG4gICAgICAgIGNvbnN0IGNvbGxpc2lvbnNPcHRpb25zID0gdGhpcy5vcHRpb25zLmNvbGxpc2lvbnM7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMuZ2V0UmFkaXVzKCk7XG4gICAgICAgIGlmICghY29sbGlzaW9uc09wdGlvbnMuZW5hYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3ZlcmxhcE9wdGlvbnMgPSBjb2xsaXNpb25zT3B0aW9ucy5vdmVybGFwO1xuICAgICAgICBpZiAob3ZlcmxhcE9wdGlvbnMuZW5hYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmV0cmllcyA9IG92ZXJsYXBPcHRpb25zLnJldHJpZXM7XG4gICAgICAgIGlmIChyZXRyaWVzID49IDAgJiYgdHJ5Q291bnQgPiByZXRyaWVzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXJ0aWNsZSBpcyBvdmVybGFwcGluZyBhbmQgY2FuJ3QgYmUgcGxhY2VkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvdmVybGFwcyA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2xlIG9mIHRoaXMuY29udGFpbmVyLnBhcnRpY2xlcy5hcnJheSkge1xuICAgICAgICAgICAgaWYgKCgwLCBVdGlsc18xLmdldERpc3RhbmNlKShwb3MsIHBhcnRpY2xlLnBvc2l0aW9uKSA8IHJhZGl1cyArIHBhcnRpY2xlLmdldFJhZGl1cygpKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmxhcHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdmVybGFwcztcbiAgICB9XG4gICAgY2FsY3VsYXRlVmVsb2NpdHkoKSB7XG4gICAgICAgIGNvbnN0IGJhc2VWZWxvY2l0eSA9ICgwLCBVdGlsc18xLmdldFBhcnRpY2xlQmFzZVZlbG9jaXR5KSh0aGlzLmRpcmVjdGlvbik7XG4gICAgICAgIGNvbnN0IHJlcyA9IGJhc2VWZWxvY2l0eS5jb3B5KCk7XG4gICAgICAgIGNvbnN0IG1vdmVPcHRpb25zID0gdGhpcy5vcHRpb25zLm1vdmU7XG4gICAgICAgIGNvbnN0IHJhZCA9IChNYXRoLlBJIC8gMTgwKSAqIG1vdmVPcHRpb25zLmFuZ2xlLnZhbHVlO1xuICAgICAgICBjb25zdCByYWRPZmZzZXQgPSAoTWF0aC5QSSAvIDE4MCkgKiBtb3ZlT3B0aW9ucy5hbmdsZS5vZmZzZXQ7XG4gICAgICAgIGNvbnN0IHJhbmdlID0ge1xuICAgICAgICAgICAgbGVmdDogcmFkT2Zmc2V0IC0gcmFkIC8gMixcbiAgICAgICAgICAgIHJpZ2h0OiByYWRPZmZzZXQgKyByYWQgLyAyLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIW1vdmVPcHRpb25zLnN0cmFpZ2h0KSB7XG4gICAgICAgICAgICByZXMuYW5nbGUgKz0gKDAsIFV0aWxzXzEucmFuZG9tSW5SYW5nZSkoKDAsIFV0aWxzXzEuc2V0UmFuZ2VWYWx1ZSkocmFuZ2UubGVmdCwgcmFuZ2UucmlnaHQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW92ZU9wdGlvbnMucmFuZG9tICYmIHR5cGVvZiBtb3ZlT3B0aW9ucy5zcGVlZCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgcmVzLmxlbmd0aCAqPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGxvYWRTaGFwZURhdGEoc2hhcGVPcHRpb25zLCByZWR1Y2VEdXBsaWNhdGVzKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlRGF0YSA9IHNoYXBlT3B0aW9ucy5vcHRpb25zW3RoaXMuc2hhcGVdO1xuICAgICAgICBpZiAoc2hhcGVEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIFV0aWxzXzEuZGVlcEV4dGVuZCkoe30sIHNoYXBlRGF0YSBpbnN0YW5jZW9mIEFycmF5ID8gKDAsIFV0aWxzXzEuaXRlbUZyb21BcnJheSkoc2hhcGVEYXRhLCB0aGlzLmlkLCByZWR1Y2VEdXBsaWNhdGVzKSA6IHNoYXBlRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbG9hZExpZmUoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBwYXJ0aWNsZXNPcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsaWZlT3B0aW9ucyA9IHBhcnRpY2xlc09wdGlvbnMubGlmZTtcbiAgICAgICAgY29uc3QgbGlmZSA9IHtcbiAgICAgICAgICAgIGRlbGF5OiBjb250YWluZXIucmV0aW5hLnJlZHVjZUZhY3RvclxuICAgICAgICAgICAgICAgID8gKCgoMCwgVXRpbHNfMS5nZXRSYW5nZVZhbHVlKShsaWZlT3B0aW9ucy5kZWxheS52YWx1ZSkgKiAobGlmZU9wdGlvbnMuZGVsYXkuc3luYyA/IDEgOiBNYXRoLnJhbmRvbSgpKSkgL1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucmV0aW5hLnJlZHVjZUZhY3RvcikgKlxuICAgICAgICAgICAgICAgICAgICAxMDAwXG4gICAgICAgICAgICAgICAgOiAwLFxuICAgICAgICAgICAgZGVsYXlUaW1lOiAwLFxuICAgICAgICAgICAgZHVyYXRpb246IGNvbnRhaW5lci5yZXRpbmEucmVkdWNlRmFjdG9yXG4gICAgICAgICAgICAgICAgPyAoKCgwLCBVdGlsc18xLmdldFJhbmdlVmFsdWUpKGxpZmVPcHRpb25zLmR1cmF0aW9uLnZhbHVlKSAqIChsaWZlT3B0aW9ucy5kdXJhdGlvbi5zeW5jID8gMSA6IE1hdGgucmFuZG9tKCkpKSAvXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZXRpbmEucmVkdWNlRmFjdG9yKSAqXG4gICAgICAgICAgICAgICAgICAgIDEwMDBcbiAgICAgICAgICAgICAgICA6IDAsXG4gICAgICAgICAgICB0aW1lOiAwLFxuICAgICAgICAgICAgY291bnQ6IHBhcnRpY2xlc09wdGlvbnMubGlmZS5jb3VudCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGxpZmUuZHVyYXRpb24gPD0gMCkge1xuICAgICAgICAgICAgbGlmZS5kdXJhdGlvbiA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaWZlLmNvdW50IDw9IDApIHtcbiAgICAgICAgICAgIGxpZmUuY291bnQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlmZTtcbiAgICB9XG59XG5leHBvcnRzLlBhcnRpY2xlID0gUGFydGljbGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTW92ZXIgPSB2b2lkIDA7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL1V0aWxzXCIpO1xuY29uc3QgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi8uLi9FbnVtc1wiKTtcbmZ1bmN0aW9uIGFwcGx5RGlzdGFuY2UocGFydGljbGUpIHtcbiAgICBjb25zdCBpbml0aWFsUG9zaXRpb24gPSBwYXJ0aWNsZS5pbml0aWFsUG9zaXRpb247XG4gICAgY29uc3QgeyBkeCwgZHkgfSA9ICgwLCBVdGlsc18xLmdldERpc3RhbmNlcykoaW5pdGlhbFBvc2l0aW9uLCBwYXJ0aWNsZS5wb3NpdGlvbik7XG4gICAgY29uc3QgZHhGaXhlZCA9IE1hdGguYWJzKGR4KSwgZHlGaXhlZCA9IE1hdGguYWJzKGR5KTtcbiAgICBjb25zdCBoRGlzdGFuY2UgPSBwYXJ0aWNsZS5yZXRpbmEubWF4RGlzdGFuY2UuaG9yaXpvbnRhbDtcbiAgICBjb25zdCB2RGlzdGFuY2UgPSBwYXJ0aWNsZS5yZXRpbmEubWF4RGlzdGFuY2UudmVydGljYWw7XG4gICAgaWYgKCFoRGlzdGFuY2UgJiYgIXZEaXN0YW5jZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICgoKGhEaXN0YW5jZSAmJiBkeEZpeGVkID49IGhEaXN0YW5jZSkgfHwgKHZEaXN0YW5jZSAmJiBkeUZpeGVkID49IHZEaXN0YW5jZSkpICYmICFwYXJ0aWNsZS5taXNwbGFjZWQpIHtcbiAgICAgICAgcGFydGljbGUubWlzcGxhY2VkID0gKCEhaERpc3RhbmNlICYmIGR4Rml4ZWQgPiBoRGlzdGFuY2UpIHx8ICghIXZEaXN0YW5jZSAmJiBkeUZpeGVkID4gdkRpc3RhbmNlKTtcbiAgICAgICAgaWYgKGhEaXN0YW5jZSkge1xuICAgICAgICAgICAgcGFydGljbGUudmVsb2NpdHkueCA9IHBhcnRpY2xlLnZlbG9jaXR5LnkgLyAyIC0gcGFydGljbGUudmVsb2NpdHkueDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodkRpc3RhbmNlKSB7XG4gICAgICAgICAgICBwYXJ0aWNsZS52ZWxvY2l0eS55ID0gcGFydGljbGUudmVsb2NpdHkueCAvIDIgLSBwYXJ0aWNsZS52ZWxvY2l0eS55O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKCghaERpc3RhbmNlIHx8IGR4Rml4ZWQgPCBoRGlzdGFuY2UpICYmICghdkRpc3RhbmNlIHx8IGR5Rml4ZWQgPCB2RGlzdGFuY2UpICYmIHBhcnRpY2xlLm1pc3BsYWNlZCkge1xuICAgICAgICBwYXJ0aWNsZS5taXNwbGFjZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSBpZiAocGFydGljbGUubWlzcGxhY2VkKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHBhcnRpY2xlLnBvc2l0aW9uLCB2ZWwgPSBwYXJ0aWNsZS52ZWxvY2l0eTtcbiAgICAgICAgaWYgKGhEaXN0YW5jZSAmJiAoKHBvcy54IDwgaW5pdGlhbFBvc2l0aW9uLnggJiYgdmVsLnggPCAwKSB8fCAocG9zLnggPiBpbml0aWFsUG9zaXRpb24ueCAmJiB2ZWwueCA+IDApKSkge1xuICAgICAgICAgICAgdmVsLnggKj0gLU1hdGgucmFuZG9tKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZEaXN0YW5jZSAmJiAoKHBvcy55IDwgaW5pdGlhbFBvc2l0aW9uLnkgJiYgdmVsLnkgPCAwKSB8fCAocG9zLnkgPiBpbml0aWFsUG9zaXRpb24ueSAmJiB2ZWwueSA+IDApKSkge1xuICAgICAgICAgICAgdmVsLnkgKj0gLU1hdGgucmFuZG9tKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBNb3ZlciB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIH1cbiAgICBtb3ZlKHBhcnRpY2xlLCBkZWx0YSkge1xuICAgICAgICBpZiAocGFydGljbGUuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb3ZlUGFydGljbGUocGFydGljbGUsIGRlbHRhKTtcbiAgICAgICAgdGhpcy5tb3ZlUGFyYWxsYXgocGFydGljbGUpO1xuICAgIH1cbiAgICBtb3ZlUGFydGljbGUocGFydGljbGUsIGRlbHRhKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB2YXIgX2QsIF9lO1xuICAgICAgICBjb25zdCBwYXJ0aWNsZU9wdGlvbnMgPSBwYXJ0aWNsZS5vcHRpb25zO1xuICAgICAgICBjb25zdCBtb3ZlT3B0aW9ucyA9IHBhcnRpY2xlT3B0aW9ucy5tb3ZlO1xuICAgICAgICBpZiAoIW1vdmVPcHRpb25zLmVuYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBzbG93RmFjdG9yID0gdGhpcy5nZXRQcm94aW1pdHlTcGVlZEZhY3RvcihwYXJ0aWNsZSksIGJhc2VTcGVlZCA9ICgoX2EgPSAoX2QgPSBwYXJ0aWNsZS5yZXRpbmEpLm1vdmVTcGVlZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKF9kLm1vdmVTcGVlZCA9ICgwLCBVdGlsc18xLmdldFJhbmdlVmFsdWUpKG1vdmVPcHRpb25zLnNwZWVkKSAqIGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbykpICpcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZXRpbmEucmVkdWNlRmFjdG9yLCBtb3ZlRHJpZnQgPSAoKF9iID0gKF9lID0gcGFydGljbGUucmV0aW5hKS5tb3ZlRHJpZnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IChfZS5tb3ZlRHJpZnQgPSAoMCwgVXRpbHNfMS5nZXRSYW5nZVZhbHVlKShwYXJ0aWNsZS5vcHRpb25zLm1vdmUuZHJpZnQpICogY29udGFpbmVyLnJldGluYS5waXhlbFJhdGlvKSksIG1heFNpemUgPSAoMCwgVXRpbHNfMS5nZXRSYW5nZU1heCkocGFydGljbGVPcHRpb25zLnNpemUudmFsdWUpICogY29udGFpbmVyLnJldGluYS5waXhlbFJhdGlvLCBzaXplRmFjdG9yID0gbW92ZU9wdGlvbnMuc2l6ZSA/IHBhcnRpY2xlLmdldFJhZGl1cygpIC8gbWF4U2l6ZSA6IDEsIGRpZmZGYWN0b3IgPSAyLCBzcGVlZEZhY3RvciA9IChzaXplRmFjdG9yICogc2xvd0ZhY3RvciAqIChkZWx0YS5mYWN0b3IgfHwgMSkpIC8gZGlmZkZhY3RvciwgbW92ZVNwZWVkID0gYmFzZVNwZWVkICogc3BlZWRGYWN0b3I7XG4gICAgICAgIHRoaXMuYXBwbHlQYXRoKHBhcnRpY2xlLCBkZWx0YSk7XG4gICAgICAgIGNvbnN0IGdyYXZpdHlPcHRpb25zID0gbW92ZU9wdGlvbnMuZ3Jhdml0eTtcbiAgICAgICAgY29uc3QgZ3Jhdml0eUZhY3RvciA9IGdyYXZpdHlPcHRpb25zLmVuYWJsZSAmJiBncmF2aXR5T3B0aW9ucy5pbnZlcnNlID8gLTEgOiAxO1xuICAgICAgICBpZiAoZ3Jhdml0eU9wdGlvbnMuZW5hYmxlICYmIG1vdmVTcGVlZCkge1xuICAgICAgICAgICAgcGFydGljbGUudmVsb2NpdHkueSArPSAoZ3Jhdml0eUZhY3RvciAqIChncmF2aXR5T3B0aW9ucy5hY2NlbGVyYXRpb24gKiBkZWx0YS5mYWN0b3IpKSAvICg2MCAqIG1vdmVTcGVlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vdmVEcmlmdCAmJiBtb3ZlU3BlZWQpIHtcbiAgICAgICAgICAgIHBhcnRpY2xlLnZlbG9jaXR5LnggKz0gKG1vdmVEcmlmdCAqIGRlbHRhLmZhY3RvcikgLyAoNjAgKiBtb3ZlU3BlZWQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlY2F5ID0gcGFydGljbGUubW92ZURlY2F5O1xuICAgICAgICBpZiAoZGVjYXkgIT0gMSkge1xuICAgICAgICAgICAgcGFydGljbGUudmVsb2NpdHkubXVsdFRvKGRlY2F5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2ZWxvY2l0eSA9IHBhcnRpY2xlLnZlbG9jaXR5Lm11bHQobW92ZVNwZWVkKTtcbiAgICAgICAgY29uc3QgbWF4U3BlZWQgPSAoX2MgPSBwYXJ0aWNsZS5yZXRpbmEubWF4U3BlZWQpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGNvbnRhaW5lci5yZXRpbmEubWF4U3BlZWQ7XG4gICAgICAgIGlmIChncmF2aXR5T3B0aW9ucy5lbmFibGUgJiZcbiAgICAgICAgICAgIGdyYXZpdHlPcHRpb25zLm1heFNwZWVkID4gMCAmJlxuICAgICAgICAgICAgKCghZ3Jhdml0eU9wdGlvbnMuaW52ZXJzZSAmJiB2ZWxvY2l0eS55ID49IDAgJiYgdmVsb2NpdHkueSA+PSBtYXhTcGVlZCkgfHxcbiAgICAgICAgICAgICAgICAoZ3Jhdml0eU9wdGlvbnMuaW52ZXJzZSAmJiB2ZWxvY2l0eS55IDw9IDAgJiYgdmVsb2NpdHkueSA8PSAtbWF4U3BlZWQpKSkge1xuICAgICAgICAgICAgdmVsb2NpdHkueSA9IGdyYXZpdHlGYWN0b3IgKiBtYXhTcGVlZDtcbiAgICAgICAgICAgIGlmIChtb3ZlU3BlZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS52ZWxvY2l0eS55ID0gdmVsb2NpdHkueSAvIG1vdmVTcGVlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB6SW5kZXhPcHRpb25zID0gcGFydGljbGUub3B0aW9ucy56SW5kZXgsIHpWZWxvY2l0eUZhY3RvciA9ICgxIC0gcGFydGljbGUuekluZGV4RmFjdG9yKSAqKiB6SW5kZXhPcHRpb25zLnZlbG9jaXR5UmF0ZTtcbiAgICAgICAgaWYgKG1vdmVPcHRpb25zLnNwaW4uZW5hYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnNwaW4ocGFydGljbGUsIG1vdmVTcGVlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoelZlbG9jaXR5RmFjdG9yICE9IDEpIHtcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eS5tdWx0VG8oelZlbG9jaXR5RmFjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLmFkZFRvKHZlbG9jaXR5KTtcbiAgICAgICAgICAgIGlmIChtb3ZlT3B0aW9ucy52aWJyYXRlKSB7XG4gICAgICAgICAgICAgICAgcGFydGljbGUucG9zaXRpb24ueCArPSBNYXRoLnNpbihwYXJ0aWNsZS5wb3NpdGlvbi54ICogTWF0aC5jb3MocGFydGljbGUucG9zaXRpb24ueSkpO1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnkgKz0gTWF0aC5jb3MocGFydGljbGUucG9zaXRpb24ueSAqIE1hdGguc2luKHBhcnRpY2xlLnBvc2l0aW9uLngpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhcHBseURpc3RhbmNlKHBhcnRpY2xlKTtcbiAgICB9XG4gICAgc3BpbihwYXJ0aWNsZSwgbW92ZVNwZWVkKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBpZiAoIXBhcnRpY2xlLnNwaW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVGdW5jID0ge1xuICAgICAgICAgICAgeDogcGFydGljbGUuc3Bpbi5kaXJlY3Rpb24gPT09IEVudW1zXzEuUm90YXRlRGlyZWN0aW9uLmNsb2Nrd2lzZSA/IE1hdGguY29zIDogTWF0aC5zaW4sXG4gICAgICAgICAgICB5OiBwYXJ0aWNsZS5zcGluLmRpcmVjdGlvbiA9PT0gRW51bXNfMS5Sb3RhdGVEaXJlY3Rpb24uY2xvY2t3aXNlID8gTWF0aC5zaW4gOiBNYXRoLmNvcyxcbiAgICAgICAgfTtcbiAgICAgICAgcGFydGljbGUucG9zaXRpb24ueCA9IHBhcnRpY2xlLnNwaW4uY2VudGVyLnggKyBwYXJ0aWNsZS5zcGluLnJhZGl1cyAqIHVwZGF0ZUZ1bmMueChwYXJ0aWNsZS5zcGluLmFuZ2xlKTtcbiAgICAgICAgcGFydGljbGUucG9zaXRpb24ueSA9IHBhcnRpY2xlLnNwaW4uY2VudGVyLnkgKyBwYXJ0aWNsZS5zcGluLnJhZGl1cyAqIHVwZGF0ZUZ1bmMueShwYXJ0aWNsZS5zcGluLmFuZ2xlKTtcbiAgICAgICAgcGFydGljbGUuc3Bpbi5yYWRpdXMgKz0gcGFydGljbGUuc3Bpbi5hY2NlbGVyYXRpb247XG4gICAgICAgIGNvbnN0IG1heENhbnZhc1NpemUgPSBNYXRoLm1heChjb250YWluZXIuY2FudmFzLnNpemUud2lkdGgsIGNvbnRhaW5lci5jYW52YXMuc2l6ZS5oZWlnaHQpO1xuICAgICAgICBpZiAocGFydGljbGUuc3Bpbi5yYWRpdXMgPiBtYXhDYW52YXNTaXplIC8gMikge1xuICAgICAgICAgICAgcGFydGljbGUuc3Bpbi5yYWRpdXMgPSBtYXhDYW52YXNTaXplIC8gMjtcbiAgICAgICAgICAgIHBhcnRpY2xlLnNwaW4uYWNjZWxlcmF0aW9uICo9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcnRpY2xlLnNwaW4ucmFkaXVzIDwgMCkge1xuICAgICAgICAgICAgcGFydGljbGUuc3Bpbi5yYWRpdXMgPSAwO1xuICAgICAgICAgICAgcGFydGljbGUuc3Bpbi5hY2NlbGVyYXRpb24gKj0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcGFydGljbGUuc3Bpbi5hbmdsZSArPSAobW92ZVNwZWVkIC8gMTAwKSAqICgxIC0gcGFydGljbGUuc3Bpbi5yYWRpdXMgLyBtYXhDYW52YXNTaXplKTtcbiAgICB9XG4gICAgYXBwbHlQYXRoKHBhcnRpY2xlLCBkZWx0YSkge1xuICAgICAgICBjb25zdCBwYXJ0aWNsZXNPcHRpb25zID0gcGFydGljbGUub3B0aW9ucztcbiAgICAgICAgY29uc3QgcGF0aE9wdGlvbnMgPSBwYXJ0aWNsZXNPcHRpb25zLm1vdmUucGF0aDtcbiAgICAgICAgY29uc3QgcGF0aEVuYWJsZWQgPSBwYXRoT3B0aW9ucy5lbmFibGU7XG4gICAgICAgIGlmICghcGF0aEVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgaWYgKHBhcnRpY2xlLmxhc3RQYXRoVGltZSA8PSBwYXJ0aWNsZS5wYXRoRGVsYXkpIHtcbiAgICAgICAgICAgIHBhcnRpY2xlLmxhc3RQYXRoVGltZSArPSBkZWx0YS52YWx1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXRoID0gY29udGFpbmVyLnBhdGhHZW5lcmF0b3IuZ2VuZXJhdGUocGFydGljbGUpO1xuICAgICAgICBwYXJ0aWNsZS52ZWxvY2l0eS5hZGRUbyhwYXRoKTtcbiAgICAgICAgaWYgKHBhdGhPcHRpb25zLmNsYW1wKSB7XG4gICAgICAgICAgICBwYXJ0aWNsZS52ZWxvY2l0eS54ID0gKDAsIFV0aWxzXzEuY2xhbXApKHBhcnRpY2xlLnZlbG9jaXR5LngsIC0xLCAxKTtcbiAgICAgICAgICAgIHBhcnRpY2xlLnZlbG9jaXR5LnkgPSAoMCwgVXRpbHNfMS5jbGFtcCkocGFydGljbGUudmVsb2NpdHkueSwgLTEsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnRpY2xlLmxhc3RQYXRoVGltZSAtPSBwYXJ0aWNsZS5wYXRoRGVsYXk7XG4gICAgfVxuICAgIG1vdmVQYXJhbGxheChwYXJ0aWNsZSkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICBpZiAoKDAsIFV0aWxzXzEuaXNTc3IpKCkgfHwgIW9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25Ib3Zlci5wYXJhbGxheC5lbmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbGxheEZvcmNlID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbkhvdmVyLnBhcmFsbGF4LmZvcmNlO1xuICAgICAgICBjb25zdCBtb3VzZVBvcyA9IGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5Lm1vdXNlLnBvc2l0aW9uO1xuICAgICAgICBpZiAoIW1vdXNlUG9zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FudmFzQ2VudGVyID0ge1xuICAgICAgICAgICAgeDogY29udGFpbmVyLmNhbnZhcy5zaXplLndpZHRoIC8gMixcbiAgICAgICAgICAgIHk6IGNvbnRhaW5lci5jYW52YXMuc2l6ZS5oZWlnaHQgLyAyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwYXJhbGxheFNtb290aCA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25Ib3Zlci5wYXJhbGxheC5zbW9vdGg7XG4gICAgICAgIGNvbnN0IGZhY3RvciA9IHBhcnRpY2xlLmdldFJhZGl1cygpIC8gcGFyYWxsYXhGb3JjZTtcbiAgICAgICAgY29uc3QgdG1wID0ge1xuICAgICAgICAgICAgeDogKG1vdXNlUG9zLnggLSBjYW52YXNDZW50ZXIueCkgKiBmYWN0b3IsXG4gICAgICAgICAgICB5OiAobW91c2VQb3MueSAtIGNhbnZhc0NlbnRlci55KSAqIGZhY3RvcixcbiAgICAgICAgfTtcbiAgICAgICAgcGFydGljbGUub2Zmc2V0LnggKz0gKHRtcC54IC0gcGFydGljbGUub2Zmc2V0LngpIC8gcGFyYWxsYXhTbW9vdGg7XG4gICAgICAgIHBhcnRpY2xlLm9mZnNldC55ICs9ICh0bXAueSAtIHBhcnRpY2xlLm9mZnNldC55KSAvIHBhcmFsbGF4U21vb3RoO1xuICAgIH1cbiAgICBnZXRQcm94aW1pdHlTcGVlZEZhY3RvcihwYXJ0aWNsZSkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICBjb25zdCBhY3RpdmUgPSAoMCwgVXRpbHNfMS5pc0luQXJyYXkpKEVudW1zXzEuSG92ZXJNb2RlLnNsb3csIG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25Ib3Zlci5tb2RlKTtcbiAgICAgICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vdXNlUG9zID0gdGhpcy5jb250YWluZXIuaW50ZXJhY3Rpdml0eS5tb3VzZS5wb3NpdGlvbjtcbiAgICAgICAgaWYgKCFtb3VzZVBvcykge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFydGljbGVQb3MgPSBwYXJ0aWNsZS5nZXRQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBkaXN0ID0gKDAsIFV0aWxzXzEuZ2V0RGlzdGFuY2UpKG1vdXNlUG9zLCBwYXJ0aWNsZVBvcyk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IGNvbnRhaW5lci5yZXRpbmEuc2xvd01vZGVSYWRpdXM7XG4gICAgICAgIGlmIChkaXN0ID4gcmFkaXVzKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm94aW1pdHlGYWN0b3IgPSBkaXN0IC8gcmFkaXVzIHx8IDA7XG4gICAgICAgIGNvbnN0IHNsb3dGYWN0b3IgPSBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMuc2xvdy5mYWN0b3I7XG4gICAgICAgIHJldHVybiBwcm94aW1pdHlGYWN0b3IgLyBzbG93RmFjdG9yO1xuICAgIH1cbn1cbmV4cG9ydHMuTW92ZXIgPSBNb3ZlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5WZWN0b3IgPSB2b2lkIDA7XG5jbGFzcyBWZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcbiAgICAgICAgbGV0IGRlZlgsIGRlZlk7XG4gICAgICAgIGlmICh5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgeCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRzUGFydGljbGVzIC0gVmVjdG9yIG5vdCBpbml0aWFsaXplZCBjb3JyZWN0bHlcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb29yZHMgPSB4O1xuICAgICAgICAgICAgW2RlZlgsIGRlZlldID0gW2Nvb3Jkcy54LCBjb29yZHMueV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBbZGVmWCwgZGVmWV0gPSBbeCwgeV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy54ID0gZGVmWDtcbiAgICAgICAgdGhpcy55ID0gZGVmWTtcbiAgICB9XG4gICAgc3RhdGljIGNsb25lKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gVmVjdG9yLmNyZWF0ZShzb3VyY2UueCwgc291cmNlLnkpO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoeCwgeSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgb3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gVmVjdG9yLmNyZWF0ZSgwLCAwKTtcbiAgICB9XG4gICAgZ2V0IGFuZ2xlKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksIHRoaXMueCk7XG4gICAgfVxuICAgIHNldCBhbmdsZShhbmdsZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZUZyb21BbmdsZShhbmdsZSwgdGhpcy5sZW5ndGgpO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqKiAyICsgdGhpcy55ICoqIDIpO1xuICAgIH1cbiAgICBzZXQgbGVuZ3RoKGxlbmd0aCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUZyb21BbmdsZSh0aGlzLmFuZ2xlLCBsZW5ndGgpO1xuICAgIH1cbiAgICBhZGQodikge1xuICAgICAgICByZXR1cm4gVmVjdG9yLmNyZWF0ZSh0aGlzLnggKyB2LngsIHRoaXMueSArIHYueSk7XG4gICAgfVxuICAgIGFkZFRvKHYpIHtcbiAgICAgICAgdGhpcy54ICs9IHYueDtcbiAgICAgICAgdGhpcy55ICs9IHYueTtcbiAgICB9XG4gICAgc3ViKHYpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5jcmVhdGUodGhpcy54IC0gdi54LCB0aGlzLnkgLSB2LnkpO1xuICAgIH1cbiAgICBzdWJGcm9tKHYpIHtcbiAgICAgICAgdGhpcy54IC09IHYueDtcbiAgICAgICAgdGhpcy55IC09IHYueTtcbiAgICB9XG4gICAgbXVsdChuKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3IuY3JlYXRlKHRoaXMueCAqIG4sIHRoaXMueSAqIG4pO1xuICAgIH1cbiAgICBtdWx0VG8obikge1xuICAgICAgICB0aGlzLnggKj0gbjtcbiAgICAgICAgdGhpcy55ICo9IG47XG4gICAgfVxuICAgIGRpdihuKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3IuY3JlYXRlKHRoaXMueCAvIG4sIHRoaXMueSAvIG4pO1xuICAgIH1cbiAgICBkaXZUbyhuKSB7XG4gICAgICAgIHRoaXMueCAvPSBuO1xuICAgICAgICB0aGlzLnkgLz0gbjtcbiAgICB9XG4gICAgZGlzdGFuY2VUbyh2KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1Yih2KS5sZW5ndGg7XG4gICAgfVxuICAgIGdldExlbmd0aFNxKCkge1xuICAgICAgICByZXR1cm4gdGhpcy54ICoqIDIgKyB0aGlzLnkgKiogMjtcbiAgICB9XG4gICAgZGlzdGFuY2VUb1NxKHYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ViKHYpLmdldExlbmd0aFNxKCk7XG4gICAgfVxuICAgIG1hbmhhdHRhbkRpc3RhbmNlVG8odikge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnModi54IC0gdGhpcy54KSArIE1hdGguYWJzKHYueSAtIHRoaXMueSk7XG4gICAgfVxuICAgIGNvcHkoKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3IuY2xvbmUodGhpcyk7XG4gICAgfVxuICAgIHNldFRvKHZlbG9jaXR5KSB7XG4gICAgICAgIHRoaXMueCA9IHZlbG9jaXR5Lng7XG4gICAgICAgIHRoaXMueSA9IHZlbG9jaXR5Lnk7XG4gICAgfVxuICAgIHJvdGF0ZShhbmdsZSkge1xuICAgICAgICByZXR1cm4gVmVjdG9yLmNyZWF0ZSh0aGlzLnggKiBNYXRoLmNvcyhhbmdsZSkgLSB0aGlzLnkgKiBNYXRoLnNpbihhbmdsZSksIHRoaXMueCAqIE1hdGguc2luKGFuZ2xlKSArIHRoaXMueSAqIE1hdGguY29zKGFuZ2xlKSk7XG4gICAgfVxuICAgIHVwZGF0ZUZyb21BbmdsZShhbmdsZSwgbGVuZ3RoKSB7XG4gICAgICAgIHRoaXMueCA9IE1hdGguY29zKGFuZ2xlKSAqIGxlbmd0aDtcbiAgICAgICAgdGhpcy55ID0gTWF0aC5zaW4oYW5nbGUpICogbGVuZ3RoO1xuICAgIH1cbn1cbmV4cG9ydHMuVmVjdG9yID0gVmVjdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlZlY3RvcjNkID0gdm9pZCAwO1xuY29uc3QgVmVjdG9yXzEgPSByZXF1aXJlKFwiLi9WZWN0b3JcIik7XG5jbGFzcyBWZWN0b3IzZCBleHRlbmRzIFZlY3Rvcl8xLlZlY3RvciB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgeikge1xuICAgICAgICBzdXBlcih4LCB5KTtcbiAgICAgICAgdGhpcy56ID0geiA9PT0gdW5kZWZpbmVkID8geC56IDogejtcbiAgICB9XG4gICAgc3RhdGljIGNsb25lKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gVmVjdG9yM2QuY3JlYXRlKHNvdXJjZS54LCBzb3VyY2UueSwgc291cmNlLnopO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKHgsIHksIHopIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzZCh4LCB5LCB6KTtcbiAgICB9XG4gICAgYWRkKHYpIHtcbiAgICAgICAgcmV0dXJuIHYgaW5zdGFuY2VvZiBWZWN0b3IzZCA/IFZlY3RvcjNkLmNyZWF0ZSh0aGlzLnggKyB2LngsIHRoaXMueSArIHYueSwgdGhpcy56ICsgdi56KSA6IHN1cGVyLmFkZCh2KTtcbiAgICB9XG4gICAgYWRkVG8odikge1xuICAgICAgICBzdXBlci5hZGRUbyh2KTtcbiAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBWZWN0b3IzZCkge1xuICAgICAgICAgICAgdGhpcy56ICs9IHYuejtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdWIodikge1xuICAgICAgICByZXR1cm4gdiBpbnN0YW5jZW9mIFZlY3RvcjNkID8gVmVjdG9yM2QuY3JlYXRlKHRoaXMueCAtIHYueCwgdGhpcy55IC0gdi55LCB0aGlzLnogLSB2LnopIDogc3VwZXIuc3ViKHYpO1xuICAgIH1cbiAgICBzdWJGcm9tKHYpIHtcbiAgICAgICAgc3VwZXIuc3ViRnJvbSh2KTtcbiAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBWZWN0b3IzZCkge1xuICAgICAgICAgICAgdGhpcy56IC09IHYuejtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtdWx0KG4pIHtcbiAgICAgICAgcmV0dXJuIFZlY3RvcjNkLmNyZWF0ZSh0aGlzLnggKiBuLCB0aGlzLnkgKiBuLCB0aGlzLnogKiBuKTtcbiAgICB9XG4gICAgbXVsdFRvKG4pIHtcbiAgICAgICAgc3VwZXIubXVsdFRvKG4pO1xuICAgICAgICB0aGlzLnogKj0gbjtcbiAgICB9XG4gICAgZGl2KG4pIHtcbiAgICAgICAgcmV0dXJuIFZlY3RvcjNkLmNyZWF0ZSh0aGlzLnggLyBuLCB0aGlzLnkgLyBuLCB0aGlzLnogLyBuKTtcbiAgICB9XG4gICAgZGl2VG8obikge1xuICAgICAgICBzdXBlci5kaXZUbyhuKTtcbiAgICAgICAgdGhpcy56IC89IG47XG4gICAgfVxuICAgIGNvcHkoKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3IzZC5jbG9uZSh0aGlzKTtcbiAgICB9XG4gICAgc2V0VG8odikge1xuICAgICAgICBzdXBlci5zZXRUbyh2KTtcbiAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBWZWN0b3IzZCkge1xuICAgICAgICAgICAgdGhpcy56ID0gdi56O1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5WZWN0b3IzZCA9IFZlY3RvcjNkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBhcnRpY2xlcyA9IHZvaWQgMDtcbmNvbnN0IFBhcnRpY2xlXzEgPSByZXF1aXJlKFwiLi9QYXJ0aWNsZVwiKTtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vVXRpbHNcIik7XG5jb25zdCBJbnRlcmFjdGlvbk1hbmFnZXJfMSA9IHJlcXVpcmUoXCIuL0ludGVyYWN0aW9uTWFuYWdlclwiKTtcbmNvbnN0IFBhcnRpY2xlc09wdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9PcHRpb25zL0NsYXNzZXMvUGFydGljbGVzL1BhcnRpY2xlc09wdGlvbnNcIik7XG5jb25zdCBNb3Zlcl8xID0gcmVxdWlyZShcIi4vUGFydGljbGUvTW92ZXJcIik7XG5jbGFzcyBQYXJ0aWNsZXMge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5uZXh0SWQgPSAwO1xuICAgICAgICB0aGlzLmFycmF5ID0gW107XG4gICAgICAgIHRoaXMuekFycmF5ID0gW107XG4gICAgICAgIHRoaXMubW92ZXIgPSBuZXcgTW92ZXJfMS5Nb3Zlcihjb250YWluZXIpO1xuICAgICAgICB0aGlzLmxpbWl0ID0gMDtcbiAgICAgICAgdGhpcy5uZWVkc1NvcnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXN0WkluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5mcmVxcyA9IHtcbiAgICAgICAgICAgIGxpbmtzOiBuZXcgTWFwKCksXG4gICAgICAgICAgICB0cmlhbmdsZXM6IG5ldyBNYXAoKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbk1hbmFnZXIgPSBuZXcgSW50ZXJhY3Rpb25NYW5hZ2VyXzEuSW50ZXJhY3Rpb25NYW5hZ2VyKGNvbnRhaW5lcik7XG4gICAgICAgIGNvbnN0IGNhbnZhc1NpemUgPSB0aGlzLmNvbnRhaW5lci5jYW52YXMuc2l6ZTtcbiAgICAgICAgdGhpcy5saW5rc0NvbG9ycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5xdWFkVHJlZSA9IG5ldyBVdGlsc18xLlF1YWRUcmVlKG5ldyBVdGlsc18xLlJlY3RhbmdsZSgtY2FudmFzU2l6ZS53aWR0aCAvIDQsIC1jYW52YXNTaXplLmhlaWdodCAvIDQsIChjYW52YXNTaXplLndpZHRoICogMykgLyAyLCAoY2FudmFzU2l6ZS5oZWlnaHQgKiAzKSAvIDIpLCA0KTtcbiAgICAgICAgdGhpcy51cGRhdGVycyA9IFV0aWxzXzEuUGx1Z2lucy5nZXRVcGRhdGVycyhjb250YWluZXIsIHRydWUpO1xuICAgIH1cbiAgICBnZXQgY291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5Lmxlbmd0aDtcbiAgICB9XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICB0aGlzLmxhc3RaSW5kZXggPSAwO1xuICAgICAgICB0aGlzLm5lZWRzU29ydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZyZXFzLmxpbmtzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmZyZXFzLnRyaWFuZ2xlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgbGV0IGhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51cGRhdGVycyA9IFV0aWxzXzEuUGx1Z2lucy5nZXRVcGRhdGVycyhjb250YWluZXIsIHRydWUpO1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uTWFuYWdlci5pbml0KCk7XG4gICAgICAgIGZvciAoY29uc3QgWywgcGx1Z2luXSBvZiBjb250YWluZXIucGx1Z2lucykge1xuICAgICAgICAgICAgaWYgKHBsdWdpbi5wYXJ0aWNsZXNJbml0aWFsaXphdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlZCA9IHBsdWdpbi5wYXJ0aWNsZXNJbml0aWFsaXphdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhbmRsZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZE1hbnVhbFBhcnRpY2xlcygpO1xuICAgICAgICBpZiAoIWhhbmRsZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZ3JvdXAgaW4gb3B0aW9ucy5wYXJ0aWNsZXMuZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXBPcHRpb25zID0gb3B0aW9ucy5wYXJ0aWNsZXMuZ3JvdXBzW2dyb3VwXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5jb3VudCwgaiA9IDA7IGogPCAoKF9hID0gZ3JvdXBPcHRpb25zLm51bWJlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhbHVlKSAmJiBpIDwgb3B0aW9ucy5wYXJ0aWNsZXMubnVtYmVyLnZhbHVlOyBpKyssIGorKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFBhcnRpY2xlKHVuZGVmaW5lZCwgZ3JvdXBPcHRpb25zLCBncm91cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuY291bnQ7IGkgPCBvcHRpb25zLnBhcnRpY2xlcy5udW1iZXIudmFsdWU7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUGFydGljbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIucGF0aEdlbmVyYXRvci5pbml0KGNvbnRhaW5lcik7XG4gICAgfVxuICAgIHJlZHJhdygpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgdGhpcy5kcmF3KHsgdmFsdWU6IDAsIGZhY3RvcjogMCB9KTtcbiAgICB9XG4gICAgcmVtb3ZlQXQoaW5kZXgsIHF1YW50aXR5ID0gMSwgZ3JvdXAsIG92ZXJyaWRlKSB7XG4gICAgICAgIGlmICghKGluZGV4ID49IDAgJiYgaW5kZXggPD0gdGhpcy5jb3VudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGVsZXRlZCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSBpbmRleDsgZGVsZXRlZCA8IHF1YW50aXR5ICYmIGkgPCB0aGlzLmNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2xlID0gdGhpcy5hcnJheVtpXTtcbiAgICAgICAgICAgIGlmICghcGFydGljbGUgfHwgcGFydGljbGUuZ3JvdXAgIT09IGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0aWNsZS5kZXN0cm95KG92ZXJyaWRlKTtcbiAgICAgICAgICAgIHRoaXMuYXJyYXkuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICBjb25zdCB6SWR4ID0gdGhpcy56QXJyYXkuaW5kZXhPZihwYXJ0aWNsZSk7XG4gICAgICAgICAgICB0aGlzLnpBcnJheS5zcGxpY2UoeklkeCwgMSk7XG4gICAgICAgICAgICBkZWxldGVkKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlKHBhcnRpY2xlLCBncm91cCwgb3ZlcnJpZGUpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdCh0aGlzLmFycmF5LmluZGV4T2YocGFydGljbGUpLCB1bmRlZmluZWQsIGdyb3VwLCBvdmVycmlkZSk7XG4gICAgfVxuICAgIHVwZGF0ZShkZWx0YSkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgcGFydGljbGVzVG9EZWxldGUgPSBbXTtcbiAgICAgICAgY29udGFpbmVyLnBhdGhHZW5lcmF0b3IudXBkYXRlKCk7XG4gICAgICAgIGZvciAoY29uc3QgWywgcGx1Z2luXSBvZiBjb250YWluZXIucGx1Z2lucykge1xuICAgICAgICAgICAgaWYgKHBsdWdpbi51cGRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBsdWdpbi51cGRhdGUoZGVsdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcGFydGljbGUgb2YgdGhpcy5hcnJheSkge1xuICAgICAgICAgICAgY29uc3QgcmVzaXplRmFjdG9yID0gY29udGFpbmVyLmNhbnZhcy5yZXNpemVGYWN0b3I7XG4gICAgICAgICAgICBpZiAocmVzaXplRmFjdG9yKSB7XG4gICAgICAgICAgICAgICAgcGFydGljbGUucG9zaXRpb24ueCAqPSByZXNpemVGYWN0b3Iud2lkdGg7XG4gICAgICAgICAgICAgICAgcGFydGljbGUucG9zaXRpb24ueSAqPSByZXNpemVGYWN0b3IuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFydGljbGUuYnViYmxlLmluUmFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgWywgcGx1Z2luXSBvZiB0aGlzLmNvbnRhaW5lci5wbHVnaW5zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRpY2xlLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5wYXJ0aWNsZVVwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4ucGFydGljbGVVcGRhdGUocGFydGljbGUsIGRlbHRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1vdmVyLm1vdmUocGFydGljbGUsIGRlbHRhKTtcbiAgICAgICAgICAgIGlmIChwYXJ0aWNsZS5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZXNUb0RlbGV0ZS5wdXNoKHBhcnRpY2xlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucXVhZFRyZWUuaW5zZXJ0KG5ldyBVdGlsc18xLlBvaW50KHBhcnRpY2xlLmdldFBvc2l0aW9uKCksIHBhcnRpY2xlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNsZSBvZiBwYXJ0aWNsZXNUb0RlbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUocGFydGljbGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25NYW5hZ2VyLmV4dGVybmFsSW50ZXJhY3QoZGVsdGEpO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2xlIG9mIGNvbnRhaW5lci5wYXJ0aWNsZXMuYXJyYXkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBkYXRlciBvZiB0aGlzLnVwZGF0ZXJzKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlci51cGRhdGUocGFydGljbGUsIGRlbHRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcGFydGljbGUuZGVzdHJveWVkICYmICFwYXJ0aWNsZS5zcGF3bmluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25NYW5hZ2VyLnBhcnRpY2xlc0ludGVyYWN0KHBhcnRpY2xlLCBkZWx0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGNvbnRhaW5lci5jYW52YXMucmVzaXplRmFjdG9yO1xuICAgIH1cbiAgICBkcmF3KGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb250YWluZXIuY2FudmFzLmNsZWFyKCk7XG4gICAgICAgIGNvbnN0IGNhbnZhc1NpemUgPSB0aGlzLmNvbnRhaW5lci5jYW52YXMuc2l6ZTtcbiAgICAgICAgdGhpcy5xdWFkVHJlZSA9IG5ldyBVdGlsc18xLlF1YWRUcmVlKG5ldyBVdGlsc18xLlJlY3RhbmdsZSgtY2FudmFzU2l6ZS53aWR0aCAvIDQsIC1jYW52YXNTaXplLmhlaWdodCAvIDQsIChjYW52YXNTaXplLndpZHRoICogMykgLyAyLCAoY2FudmFzU2l6ZS5oZWlnaHQgKiAzKSAvIDIpLCA0KTtcbiAgICAgICAgdGhpcy51cGRhdGUoZGVsdGEpO1xuICAgICAgICBpZiAodGhpcy5uZWVkc1NvcnQpIHtcbiAgICAgICAgICAgIHRoaXMuekFycmF5LnNvcnQoKGEsIGIpID0+IGIucG9zaXRpb24ueiAtIGEucG9zaXRpb24ueiB8fCBhLmlkIC0gYi5pZCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RaSW5kZXggPSB0aGlzLnpBcnJheVt0aGlzLnpBcnJheS5sZW5ndGggLSAxXS5wb3NpdGlvbi56O1xuICAgICAgICAgICAgdGhpcy5uZWVkc1NvcnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgY29udGFpbmVyLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5jYW52YXMuZHJhd1BsdWdpbihwbHVnaW4sIGRlbHRhKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgdGhpcy56QXJyYXkpIHtcbiAgICAgICAgICAgIHAuZHJhdyhkZWx0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuYXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy56QXJyYXkgPSBbXTtcbiAgICB9XG4gICAgcHVzaChuYiwgbW91c2UsIG92ZXJyaWRlT3B0aW9ucywgZ3JvdXApIHtcbiAgICAgICAgdGhpcy5wdXNoaW5nID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFBhcnRpY2xlKG1vdXNlID09PSBudWxsIHx8IG1vdXNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb3VzZS5wb3NpdGlvbiwgb3ZlcnJpZGVPcHRpb25zLCBncm91cCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wdXNoaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGFkZFBhcnRpY2xlKHBvc2l0aW9uLCBvdmVycmlkZU9wdGlvbnMsIGdyb3VwKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gb3B0aW9ucy5wYXJ0aWNsZXMubnVtYmVyLmxpbWl0ICogY29udGFpbmVyLmRlbnNpdHk7XG4gICAgICAgIGlmIChsaW1pdCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNvdW50VG9SZW1vdmUgPSB0aGlzLmNvdW50ICsgMSAtIGxpbWl0O1xuICAgICAgICAgICAgaWYgKGNvdW50VG9SZW1vdmUgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVRdWFudGl0eShjb3VudFRvUmVtb3ZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wdXNoUGFydGljbGUocG9zaXRpb24sIG92ZXJyaWRlT3B0aW9ucywgZ3JvdXApO1xuICAgIH1cbiAgICBhZGRTcGxpdFBhcnRpY2xlKHBhcmVudCkge1xuICAgICAgICBjb25zdCBzcGxpdE9wdGlvbnMgPSBwYXJlbnQub3B0aW9ucy5kZXN0cm95LnNwbGl0O1xuICAgICAgICBjb25zdCBvcHRpb25zID0gbmV3IFBhcnRpY2xlc09wdGlvbnNfMS5QYXJ0aWNsZXNPcHRpb25zKCk7XG4gICAgICAgIG9wdGlvbnMubG9hZChwYXJlbnQub3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGZhY3RvciA9ICgwLCBVdGlsc18xLmdldFJhbmdlVmFsdWUpKHNwbGl0T3B0aW9ucy5mYWN0b3IudmFsdWUpO1xuICAgICAgICBvcHRpb25zLmNvbG9yLmxvYWQoe1xuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICBoc2w6IHBhcmVudC5nZXRGaWxsQ29sb3IoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2l6ZS52YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgb3B0aW9ucy5zaXplLnZhbHVlIC89IGZhY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMuc2l6ZS52YWx1ZS5taW4gLz0gZmFjdG9yO1xuICAgICAgICAgICAgb3B0aW9ucy5zaXplLnZhbHVlLm1heCAvPSBmYWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5sb2FkKHNwbGl0T3B0aW9ucy5wYXJ0aWNsZXMpO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBzcGxpdE9wdGlvbnMuc2l6ZU9mZnNldCA/ICgwLCBVdGlsc18xLnNldFJhbmdlVmFsdWUpKC1wYXJlbnQuc2l6ZS52YWx1ZSwgcGFyZW50LnNpemUudmFsdWUpIDogMDtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB7XG4gICAgICAgICAgICB4OiBwYXJlbnQucG9zaXRpb24ueCArICgwLCBVdGlsc18xLnJhbmRvbUluUmFuZ2UpKG9mZnNldCksXG4gICAgICAgICAgICB5OiBwYXJlbnQucG9zaXRpb24ueSArICgwLCBVdGlsc18xLnJhbmRvbUluUmFuZ2UpKG9mZnNldCksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLnB1c2hQYXJ0aWNsZShwb3NpdGlvbiwgb3B0aW9ucywgcGFyZW50Lmdyb3VwLCAocGFydGljbGUpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXJ0aWNsZS5zaXplLnZhbHVlIDwgMC41KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFydGljbGUudmVsb2NpdHkubGVuZ3RoID0gKDAsIFV0aWxzXzEucmFuZG9tSW5SYW5nZSkoKDAsIFV0aWxzXzEuc2V0UmFuZ2VWYWx1ZSkocGFyZW50LnZlbG9jaXR5Lmxlbmd0aCwgcGFydGljbGUudmVsb2NpdHkubGVuZ3RoKSk7XG4gICAgICAgICAgICBwYXJ0aWNsZS5zcGxpdENvdW50ID0gcGFyZW50LnNwbGl0Q291bnQgKyAxO1xuICAgICAgICAgICAgcGFydGljbGUudW5icmVha2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcGFydGljbGUudW5icmVha2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZVF1YW50aXR5KHF1YW50aXR5LCBncm91cCkge1xuICAgICAgICB0aGlzLnJlbW92ZUF0KDAsIHF1YW50aXR5LCBncm91cCk7XG4gICAgfVxuICAgIGdldExpbmtGcmVxdWVuY3kocDEsIHAyKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGAke01hdGgubWluKHAxLmlkLCBwMi5pZCl9XyR7TWF0aC5tYXgocDEuaWQsIHAyLmlkKX1gO1xuICAgICAgICBsZXQgcmVzID0gdGhpcy5mcmVxcy5saW5rcy5nZXQoa2V5KTtcbiAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXMgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICAgICAgdGhpcy5mcmVxcy5saW5rcy5zZXQoa2V5LCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGdldFRyaWFuZ2xlRnJlcXVlbmN5KHAxLCBwMiwgcDMpIHtcbiAgICAgICAgbGV0IFtpZDEsIGlkMiwgaWQzXSA9IFtwMS5pZCwgcDIuaWQsIHAzLmlkXTtcbiAgICAgICAgaWYgKGlkMSA+IGlkMikge1xuICAgICAgICAgICAgW2lkMiwgaWQxXSA9IFtpZDEsIGlkMl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkMiA+IGlkMykge1xuICAgICAgICAgICAgW2lkMywgaWQyXSA9IFtpZDIsIGlkM107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkMSA+IGlkMykge1xuICAgICAgICAgICAgW2lkMywgaWQxXSA9IFtpZDEsIGlkM107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5ID0gYCR7aWQxfV8ke2lkMn1fJHtpZDN9YDtcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMuZnJlcXMudHJpYW5nbGVzLmdldChrZXkpO1xuICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcyA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgICAgICB0aGlzLmZyZXFzLnRyaWFuZ2xlcy5zZXQoa2V5LCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGFkZE1hbnVhbFBhcnRpY2xlcygpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucztcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNsZSBvZiBvcHRpb25zLm1hbnVhbFBhcnRpY2xlcykge1xuICAgICAgICAgICAgY29uc3QgcG9zID0gcGFydGljbGUucG9zaXRpb25cbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgeDogKHBhcnRpY2xlLnBvc2l0aW9uLnggKiBjb250YWluZXIuY2FudmFzLnNpemUud2lkdGgpIC8gMTAwLFxuICAgICAgICAgICAgICAgICAgICB5OiAocGFydGljbGUucG9zaXRpb24ueSAqIGNvbnRhaW5lci5jYW52YXMuc2l6ZS5oZWlnaHQpIC8gMTAwLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuYWRkUGFydGljbGUocG9zLCBwYXJ0aWNsZS5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXREZW5zaXR5KCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5jb250YWluZXIuYWN0dWFsT3B0aW9ucztcbiAgICAgICAgZm9yIChjb25zdCBncm91cCBpbiBvcHRpb25zLnBhcnRpY2xlcy5ncm91cHMpIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlEZW5zaXR5KG9wdGlvbnMucGFydGljbGVzLmdyb3Vwc1tncm91cF0sIDAsIGdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFwcGx5RGVuc2l0eShvcHRpb25zLnBhcnRpY2xlcywgb3B0aW9ucy5tYW51YWxQYXJ0aWNsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgYXBwbHlEZW5zaXR5KG9wdGlvbnMsIG1hbnVhbENvdW50LCBncm91cCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghKChfYSA9IG9wdGlvbnMubnVtYmVyLmRlbnNpdHkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbmFibGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbnVtYmVyT3B0aW9ucyA9IG9wdGlvbnMubnVtYmVyO1xuICAgICAgICBjb25zdCBkZW5zaXR5RmFjdG9yID0gdGhpcy5pbml0RGVuc2l0eUZhY3RvcihudW1iZXJPcHRpb25zLmRlbnNpdHkpO1xuICAgICAgICBjb25zdCBvcHRQYXJ0aWNsZXNOdW1iZXIgPSBudW1iZXJPcHRpb25zLnZhbHVlO1xuICAgICAgICBjb25zdCBvcHRQYXJ0aWNsZXNMaW1pdCA9IG51bWJlck9wdGlvbnMubGltaXQgPiAwID8gbnVtYmVyT3B0aW9ucy5saW1pdCA6IG9wdFBhcnRpY2xlc051bWJlcjtcbiAgICAgICAgY29uc3QgcGFydGljbGVzTnVtYmVyID0gTWF0aC5taW4ob3B0UGFydGljbGVzTnVtYmVyLCBvcHRQYXJ0aWNsZXNMaW1pdCkgKiBkZW5zaXR5RmFjdG9yICsgbWFudWFsQ291bnQ7XG4gICAgICAgIGNvbnN0IHBhcnRpY2xlc0NvdW50ID0gTWF0aC5taW4odGhpcy5jb3VudCwgdGhpcy5hcnJheS5maWx0ZXIoKHQpID0+IHQuZ3JvdXAgPT09IGdyb3VwKS5sZW5ndGgpO1xuICAgICAgICB0aGlzLmxpbWl0ID0gbnVtYmVyT3B0aW9ucy5saW1pdCAqIGRlbnNpdHlGYWN0b3I7XG4gICAgICAgIGlmIChwYXJ0aWNsZXNDb3VudCA8IHBhcnRpY2xlc051bWJlcikge1xuICAgICAgICAgICAgdGhpcy5wdXNoKE1hdGguYWJzKHBhcnRpY2xlc051bWJlciAtIHBhcnRpY2xlc0NvdW50KSwgdW5kZWZpbmVkLCBvcHRpb25zLCBncm91cCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFydGljbGVzQ291bnQgPiBwYXJ0aWNsZXNOdW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlUXVhbnRpdHkocGFydGljbGVzQ291bnQgLSBwYXJ0aWNsZXNOdW1iZXIsIGdyb3VwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0RGVuc2l0eUZhY3RvcihkZW5zaXR5T3B0aW9ucykge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgaWYgKCFjb250YWluZXIuY2FudmFzLmVsZW1lbnQgfHwgIWRlbnNpdHlPcHRpb25zLmVuYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FudmFzID0gY29udGFpbmVyLmNhbnZhcy5lbGVtZW50O1xuICAgICAgICBjb25zdCBweFJhdGlvID0gY29udGFpbmVyLnJldGluYS5waXhlbFJhdGlvO1xuICAgICAgICByZXR1cm4gKGNhbnZhcy53aWR0aCAqIGNhbnZhcy5oZWlnaHQpIC8gKGRlbnNpdHlPcHRpb25zLmZhY3RvciAqIHB4UmF0aW8gKiogMiAqIGRlbnNpdHlPcHRpb25zLmFyZWEpO1xuICAgIH1cbiAgICBwdXNoUGFydGljbGUocG9zaXRpb24sIG92ZXJyaWRlT3B0aW9ucywgZ3JvdXAsIGluaXRpYWxpemVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0aWNsZSA9IG5ldyBQYXJ0aWNsZV8xLlBhcnRpY2xlKHRoaXMubmV4dElkLCB0aGlzLmNvbnRhaW5lciwgcG9zaXRpb24sIG92ZXJyaWRlT3B0aW9ucywgZ3JvdXApO1xuICAgICAgICAgICAgbGV0IGNhbkFkZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoaW5pdGlhbGl6ZXIpIHtcbiAgICAgICAgICAgICAgICBjYW5BZGQgPSBpbml0aWFsaXplcihwYXJ0aWNsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNhbkFkZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYXJyYXkucHVzaChwYXJ0aWNsZSk7XG4gICAgICAgICAgICB0aGlzLnpBcnJheS5wdXNoKHBhcnRpY2xlKTtcbiAgICAgICAgICAgIHRoaXMubmV4dElkKys7XG4gICAgICAgICAgICByZXR1cm4gcGFydGljbGU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgZXJyb3IgYWRkaW5nIHBhcnRpY2xlOiAke2V9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlBhcnRpY2xlcyA9IFBhcnRpY2xlcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QYXJ0aWNsZXNJbnRlcmFjdG9yQmFzZSA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vRW51bXNcIik7XG5jbGFzcyBQYXJ0aWNsZXNJbnRlcmFjdG9yQmFzZSB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLnR5cGUgPSBFbnVtc18xLkludGVyYWN0b3JUeXBlLlBhcnRpY2xlcztcbiAgICB9XG59XG5leHBvcnRzLlBhcnRpY2xlc0ludGVyYWN0b3JCYXNlID0gUGFydGljbGVzSW50ZXJhY3RvckJhc2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmV0aW5hID0gdm9pZCAwO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9VdGlsc1wiKTtcbmNsYXNzIFJldGluYSB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIH1cbiAgICBpbml0KCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICB0aGlzLnBpeGVsUmF0aW8gPSAhb3B0aW9ucy5kZXRlY3RSZXRpbmEgfHwgKDAsIFV0aWxzXzEuaXNTc3IpKCkgPyAxIDogd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIGNvbnN0IG1vdGlvbk9wdGlvbnMgPSB0aGlzLmNvbnRhaW5lci5hY3R1YWxPcHRpb25zLm1vdGlvbjtcbiAgICAgICAgaWYgKG1vdGlvbk9wdGlvbnMgJiYgKG1vdGlvbk9wdGlvbnMuZGlzYWJsZSB8fCBtb3Rpb25PcHRpb25zLnJlZHVjZS52YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICgoMCwgVXRpbHNfMS5pc1NzcikoKSB8fCB0eXBlb2YgbWF0Y2hNZWRpYSA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhbWF0Y2hNZWRpYSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVkdWNlRmFjdG9yID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lZGlhUXVlcnkgPSBtYXRjaE1lZGlhKFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSlcIik7XG4gICAgICAgICAgICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3Rpb25DaGFuZ2UobWVkaWFRdWVyeSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW90aW9uQ2hhbmdlKG1lZGlhUXVlcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnJlZnJlc2goKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lZGlhUXVlcnkuYWRkRXZlbnRMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZWRpYVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaGFuZGxlQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtZWRpYVF1ZXJ5LmFkZExpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhUXVlcnkuYWRkTGlzdGVuZXIoaGFuZGxlQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVkdWNlRmFjdG9yID0gMTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXRpbyA9IHRoaXMucGl4ZWxSYXRpbztcbiAgICAgICAgaWYgKGNvbnRhaW5lci5jYW52YXMuZWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGNvbnRhaW5lci5jYW52YXMuZWxlbWVudDtcbiAgICAgICAgICAgIGNvbnRhaW5lci5jYW52YXMuc2l6ZS53aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGggKiByYXRpbztcbiAgICAgICAgICAgIGNvbnRhaW5lci5jYW52YXMuc2l6ZS5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodCAqIHJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnRpY2xlcyA9IG9wdGlvbnMucGFydGljbGVzO1xuICAgICAgICB0aGlzLmF0dHJhY3REaXN0YW5jZSA9IHBhcnRpY2xlcy5tb3ZlLmF0dHJhY3QuZGlzdGFuY2UgKiByYXRpbztcbiAgICAgICAgdGhpcy5saW5rc0Rpc3RhbmNlID0gcGFydGljbGVzLmxpbmtzLmRpc3RhbmNlICogcmF0aW87XG4gICAgICAgIHRoaXMubGlua3NXaWR0aCA9IHBhcnRpY2xlcy5saW5rcy53aWR0aCAqIHJhdGlvO1xuICAgICAgICB0aGlzLnNpemVBbmltYXRpb25TcGVlZCA9IHBhcnRpY2xlcy5zaXplLmFuaW1hdGlvbi5zcGVlZCAqIHJhdGlvO1xuICAgICAgICB0aGlzLm1heFNwZWVkID0gcGFydGljbGVzLm1vdmUuZ3Jhdml0eS5tYXhTcGVlZCAqIHJhdGlvO1xuICAgICAgICBpZiAocGFydGljbGVzLm9yYml0LnJhZGl1cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm9yYml0UmFkaXVzID0gcGFydGljbGVzLm9yYml0LnJhZGl1cyAqIHRoaXMuY29udGFpbmVyLnJldGluYS5waXhlbFJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGVzID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzO1xuICAgICAgICB0aGlzLmNvbm5lY3RNb2RlRGlzdGFuY2UgPSBtb2Rlcy5jb25uZWN0LmRpc3RhbmNlICogcmF0aW87XG4gICAgICAgIHRoaXMuY29ubmVjdE1vZGVSYWRpdXMgPSBtb2Rlcy5jb25uZWN0LnJhZGl1cyAqIHJhdGlvO1xuICAgICAgICB0aGlzLmdyYWJNb2RlRGlzdGFuY2UgPSBtb2Rlcy5ncmFiLmRpc3RhbmNlICogcmF0aW87XG4gICAgICAgIHRoaXMucmVwdWxzZU1vZGVEaXN0YW5jZSA9IG1vZGVzLnJlcHVsc2UuZGlzdGFuY2UgKiByYXRpbztcbiAgICAgICAgdGhpcy5ib3VuY2VNb2RlRGlzdGFuY2UgPSBtb2Rlcy5ib3VuY2UuZGlzdGFuY2UgKiByYXRpbztcbiAgICAgICAgdGhpcy5hdHRyYWN0TW9kZURpc3RhbmNlID0gbW9kZXMuYXR0cmFjdC5kaXN0YW5jZSAqIHJhdGlvO1xuICAgICAgICB0aGlzLnNsb3dNb2RlUmFkaXVzID0gbW9kZXMuc2xvdy5yYWRpdXMgKiByYXRpbztcbiAgICAgICAgdGhpcy5idWJibGVNb2RlRGlzdGFuY2UgPSBtb2Rlcy5idWJibGUuZGlzdGFuY2UgKiByYXRpbztcbiAgICAgICAgaWYgKG1vZGVzLmJ1YmJsZS5zaXplKSB7XG4gICAgICAgICAgICB0aGlzLmJ1YmJsZU1vZGVTaXplID0gbW9kZXMuYnViYmxlLnNpemUgKiByYXRpbztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0UGFydGljbGUocGFydGljbGUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHBhcnRpY2xlLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICBjb25zdCBtb3ZlRGlzdGFuY2UgPSBvcHRpb25zLm1vdmUuZGlzdGFuY2U7XG4gICAgICAgIGNvbnN0IHByb3BzID0gcGFydGljbGUucmV0aW5hO1xuICAgICAgICBwcm9wcy5hdHRyYWN0RGlzdGFuY2UgPSBvcHRpb25zLm1vdmUuYXR0cmFjdC5kaXN0YW5jZSAqIHJhdGlvO1xuICAgICAgICBwcm9wcy5saW5rc0Rpc3RhbmNlID0gb3B0aW9ucy5saW5rcy5kaXN0YW5jZSAqIHJhdGlvO1xuICAgICAgICBwcm9wcy5saW5rc1dpZHRoID0gb3B0aW9ucy5saW5rcy53aWR0aCAqIHJhdGlvO1xuICAgICAgICBwcm9wcy5tb3ZlRHJpZnQgPSAoMCwgVXRpbHNfMS5nZXRSYW5nZVZhbHVlKShvcHRpb25zLm1vdmUuZHJpZnQpICogcmF0aW87XG4gICAgICAgIHByb3BzLm1vdmVTcGVlZCA9ICgwLCBVdGlsc18xLmdldFJhbmdlVmFsdWUpKG9wdGlvbnMubW92ZS5zcGVlZCkgKiByYXRpbztcbiAgICAgICAgcHJvcHMuc2l6ZUFuaW1hdGlvblNwZWVkID0gb3B0aW9ucy5zaXplLmFuaW1hdGlvbi5zcGVlZCAqIHJhdGlvO1xuICAgICAgICBpZiAocGFydGljbGUuc3Bpbikge1xuICAgICAgICAgICAgcHJvcHMuc3BpbkFjY2VsZXJhdGlvbiA9ICgwLCBVdGlsc18xLmdldFJhbmdlVmFsdWUpKG9wdGlvbnMubW92ZS5zcGluLmFjY2VsZXJhdGlvbikgKiByYXRpbztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYXhEaXN0YW5jZSA9IHByb3BzLm1heERpc3RhbmNlO1xuICAgICAgICBtYXhEaXN0YW5jZS5ob3Jpem9udGFsID0gbW92ZURpc3RhbmNlLmhvcml6b250YWwgIT09IHVuZGVmaW5lZCA/IG1vdmVEaXN0YW5jZS5ob3Jpem9udGFsICogcmF0aW8gOiB1bmRlZmluZWQ7XG4gICAgICAgIG1heERpc3RhbmNlLnZlcnRpY2FsID0gbW92ZURpc3RhbmNlLnZlcnRpY2FsICE9PSB1bmRlZmluZWQgPyBtb3ZlRGlzdGFuY2UudmVydGljYWwgKiByYXRpbyA6IHVuZGVmaW5lZDtcbiAgICAgICAgcHJvcHMubWF4U3BlZWQgPSBvcHRpb25zLm1vdmUuZ3Jhdml0eS5tYXhTcGVlZCAqIHJhdGlvO1xuICAgIH1cbiAgICBoYW5kbGVNb3Rpb25DaGFuZ2UobWVkaWFRdWVyeSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5jb250YWluZXIuYWN0dWFsT3B0aW9ucztcbiAgICAgICAgaWYgKG1lZGlhUXVlcnkubWF0Y2hlcykge1xuICAgICAgICAgICAgY29uc3QgbW90aW9uID0gb3B0aW9ucy5tb3Rpb247XG4gICAgICAgICAgICB0aGlzLnJlZHVjZUZhY3RvciA9IG1vdGlvbi5kaXNhYmxlID8gMCA6IG1vdGlvbi5yZWR1Y2UudmFsdWUgPyAxIC8gbW90aW9uLnJlZHVjZS5mYWN0b3IgOiAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZWR1Y2VGYWN0b3IgPSAxO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5SZXRpbmEgPSBSZXRpbmE7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQW5pbWF0aW9uU3RhdHVzID0gdm9pZCAwO1xudmFyIEFuaW1hdGlvblN0YXR1cztcbihmdW5jdGlvbiAoQW5pbWF0aW9uU3RhdHVzKSB7XG4gICAgQW5pbWF0aW9uU3RhdHVzW0FuaW1hdGlvblN0YXR1c1tcImluY3JlYXNpbmdcIl0gPSAwXSA9IFwiaW5jcmVhc2luZ1wiO1xuICAgIEFuaW1hdGlvblN0YXR1c1tBbmltYXRpb25TdGF0dXNbXCJkZWNyZWFzaW5nXCJdID0gMV0gPSBcImRlY3JlYXNpbmdcIjtcbn0pKEFuaW1hdGlvblN0YXR1cyA9IGV4cG9ydHMuQW5pbWF0aW9uU3RhdHVzIHx8IChleHBvcnRzLkFuaW1hdGlvblN0YXR1cyA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTW92ZURpcmVjdGlvbiA9IHZvaWQgMDtcbnZhciBNb3ZlRGlyZWN0aW9uO1xuKGZ1bmN0aW9uIChNb3ZlRGlyZWN0aW9uKSB7XG4gICAgTW92ZURpcmVjdGlvbltcImJvdHRvbVwiXSA9IFwiYm90dG9tXCI7XG4gICAgTW92ZURpcmVjdGlvbltcImJvdHRvbUxlZnRcIl0gPSBcImJvdHRvbS1sZWZ0XCI7XG4gICAgTW92ZURpcmVjdGlvbltcImJvdHRvbVJpZ2h0XCJdID0gXCJib3R0b20tcmlnaHRcIjtcbiAgICBNb3ZlRGlyZWN0aW9uW1wibGVmdFwiXSA9IFwibGVmdFwiO1xuICAgIE1vdmVEaXJlY3Rpb25bXCJub25lXCJdID0gXCJub25lXCI7XG4gICAgTW92ZURpcmVjdGlvbltcInJpZ2h0XCJdID0gXCJyaWdodFwiO1xuICAgIE1vdmVEaXJlY3Rpb25bXCJ0b3BcIl0gPSBcInRvcFwiO1xuICAgIE1vdmVEaXJlY3Rpb25bXCJ0b3BMZWZ0XCJdID0gXCJ0b3AtbGVmdFwiO1xuICAgIE1vdmVEaXJlY3Rpb25bXCJ0b3BSaWdodFwiXSA9IFwidG9wLXJpZ2h0XCI7XG59KShNb3ZlRGlyZWN0aW9uID0gZXhwb3J0cy5Nb3ZlRGlyZWN0aW9uIHx8IChleHBvcnRzLk1vdmVEaXJlY3Rpb24gPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk91dE1vZGVEaXJlY3Rpb24gPSB2b2lkIDA7XG52YXIgT3V0TW9kZURpcmVjdGlvbjtcbihmdW5jdGlvbiAoT3V0TW9kZURpcmVjdGlvbikge1xuICAgIE91dE1vZGVEaXJlY3Rpb25bXCJib3R0b21cIl0gPSBcImJvdHRvbVwiO1xuICAgIE91dE1vZGVEaXJlY3Rpb25bXCJsZWZ0XCJdID0gXCJsZWZ0XCI7XG4gICAgT3V0TW9kZURpcmVjdGlvbltcInJpZ2h0XCJdID0gXCJyaWdodFwiO1xuICAgIE91dE1vZGVEaXJlY3Rpb25bXCJ0b3BcIl0gPSBcInRvcFwiO1xufSkoT3V0TW9kZURpcmVjdGlvbiA9IGV4cG9ydHMuT3V0TW9kZURpcmVjdGlvbiB8fCAoZXhwb3J0cy5PdXRNb2RlRGlyZWN0aW9uID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Sb3RhdGVEaXJlY3Rpb24gPSB2b2lkIDA7XG52YXIgUm90YXRlRGlyZWN0aW9uO1xuKGZ1bmN0aW9uIChSb3RhdGVEaXJlY3Rpb24pIHtcbiAgICBSb3RhdGVEaXJlY3Rpb25bXCJjbG9ja3dpc2VcIl0gPSBcImNsb2Nrd2lzZVwiO1xuICAgIFJvdGF0ZURpcmVjdGlvbltcImNvdW50ZXJDbG9ja3dpc2VcIl0gPSBcImNvdW50ZXItY2xvY2t3aXNlXCI7XG4gICAgUm90YXRlRGlyZWN0aW9uW1wicmFuZG9tXCJdID0gXCJyYW5kb21cIjtcbn0pKFJvdGF0ZURpcmVjdGlvbiA9IGV4cG9ydHMuUm90YXRlRGlyZWN0aW9uIHx8IChleHBvcnRzLlJvdGF0ZURpcmVjdGlvbiA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVGlsdERpcmVjdGlvbiA9IHZvaWQgMDtcbnZhciBUaWx0RGlyZWN0aW9uO1xuKGZ1bmN0aW9uIChUaWx0RGlyZWN0aW9uKSB7XG4gICAgVGlsdERpcmVjdGlvbltcImNsb2Nrd2lzZVwiXSA9IFwiY2xvY2t3aXNlXCI7XG4gICAgVGlsdERpcmVjdGlvbltcImNvdW50ZXJDbG9ja3dpc2VcIl0gPSBcImNvdW50ZXItY2xvY2t3aXNlXCI7XG4gICAgVGlsdERpcmVjdGlvbltcInJhbmRvbVwiXSA9IFwicmFuZG9tXCI7XG59KShUaWx0RGlyZWN0aW9uID0gZXhwb3J0cy5UaWx0RGlyZWN0aW9uIHx8IChleHBvcnRzLlRpbHREaXJlY3Rpb24gPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9Nb3ZlRGlyZWN0aW9uXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9Sb3RhdGVEaXJlY3Rpb25cIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL091dE1vZGVEaXJlY3Rpb25cIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1RpbHREaXJlY3Rpb25cIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkludGVyYWN0aXZpdHlEZXRlY3QgPSB2b2lkIDA7XG52YXIgSW50ZXJhY3Rpdml0eURldGVjdDtcbihmdW5jdGlvbiAoSW50ZXJhY3Rpdml0eURldGVjdCkge1xuICAgIEludGVyYWN0aXZpdHlEZXRlY3RbXCJjYW52YXNcIl0gPSBcImNhbnZhc1wiO1xuICAgIEludGVyYWN0aXZpdHlEZXRlY3RbXCJwYXJlbnRcIl0gPSBcInBhcmVudFwiO1xuICAgIEludGVyYWN0aXZpdHlEZXRlY3RbXCJ3aW5kb3dcIl0gPSBcIndpbmRvd1wiO1xufSkoSW50ZXJhY3Rpdml0eURldGVjdCA9IGV4cG9ydHMuSW50ZXJhY3Rpdml0eURldGVjdCB8fCAoZXhwb3J0cy5JbnRlcmFjdGl2aXR5RGV0ZWN0ID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DbGlja01vZGUgPSB2b2lkIDA7XG52YXIgQ2xpY2tNb2RlO1xuKGZ1bmN0aW9uIChDbGlja01vZGUpIHtcbiAgICBDbGlja01vZGVbXCJhdHRyYWN0XCJdID0gXCJhdHRyYWN0XCI7XG4gICAgQ2xpY2tNb2RlW1wiYnViYmxlXCJdID0gXCJidWJibGVcIjtcbiAgICBDbGlja01vZGVbXCJwdXNoXCJdID0gXCJwdXNoXCI7XG4gICAgQ2xpY2tNb2RlW1wicmVtb3ZlXCJdID0gXCJyZW1vdmVcIjtcbiAgICBDbGlja01vZGVbXCJyZXB1bHNlXCJdID0gXCJyZXB1bHNlXCI7XG4gICAgQ2xpY2tNb2RlW1wicGF1c2VcIl0gPSBcInBhdXNlXCI7XG4gICAgQ2xpY2tNb2RlW1widHJhaWxcIl0gPSBcInRyYWlsXCI7XG59KShDbGlja01vZGUgPSBleHBvcnRzLkNsaWNrTW9kZSB8fCAoZXhwb3J0cy5DbGlja01vZGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbGxpc2lvbk1vZGUgPSB2b2lkIDA7XG52YXIgQ29sbGlzaW9uTW9kZTtcbihmdW5jdGlvbiAoQ29sbGlzaW9uTW9kZSkge1xuICAgIENvbGxpc2lvbk1vZGVbXCJhYnNvcmJcIl0gPSBcImFic29yYlwiO1xuICAgIENvbGxpc2lvbk1vZGVbXCJib3VuY2VcIl0gPSBcImJvdW5jZVwiO1xuICAgIENvbGxpc2lvbk1vZGVbXCJkZXN0cm95XCJdID0gXCJkZXN0cm95XCI7XG59KShDb2xsaXNpb25Nb2RlID0gZXhwb3J0cy5Db2xsaXNpb25Nb2RlIHx8IChleHBvcnRzLkNvbGxpc2lvbk1vZGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRlc3Ryb3lNb2RlID0gdm9pZCAwO1xudmFyIERlc3Ryb3lNb2RlO1xuKGZ1bmN0aW9uIChEZXN0cm95TW9kZSkge1xuICAgIERlc3Ryb3lNb2RlW1wibm9uZVwiXSA9IFwibm9uZVwiO1xuICAgIERlc3Ryb3lNb2RlW1wic3BsaXRcIl0gPSBcInNwbGl0XCI7XG59KShEZXN0cm95TW9kZSA9IGV4cG9ydHMuRGVzdHJveU1vZGUgfHwgKGV4cG9ydHMuRGVzdHJveU1vZGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRpdk1vZGUgPSB2b2lkIDA7XG52YXIgRGl2TW9kZTtcbihmdW5jdGlvbiAoRGl2TW9kZSkge1xuICAgIERpdk1vZGVbXCJib3VuY2VcIl0gPSBcImJvdW5jZVwiO1xuICAgIERpdk1vZGVbXCJidWJibGVcIl0gPSBcImJ1YmJsZVwiO1xuICAgIERpdk1vZGVbXCJyZXB1bHNlXCJdID0gXCJyZXB1bHNlXCI7XG59KShEaXZNb2RlID0gZXhwb3J0cy5EaXZNb2RlIHx8IChleHBvcnRzLkRpdk1vZGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkhvdmVyTW9kZSA9IHZvaWQgMDtcbnZhciBIb3Zlck1vZGU7XG4oZnVuY3Rpb24gKEhvdmVyTW9kZSkge1xuICAgIEhvdmVyTW9kZVtcImF0dHJhY3RcIl0gPSBcImF0dHJhY3RcIjtcbiAgICBIb3Zlck1vZGVbXCJib3VuY2VcIl0gPSBcImJvdW5jZVwiO1xuICAgIEhvdmVyTW9kZVtcImJ1YmJsZVwiXSA9IFwiYnViYmxlXCI7XG4gICAgSG92ZXJNb2RlW1wiY29ubmVjdFwiXSA9IFwiY29ubmVjdFwiO1xuICAgIEhvdmVyTW9kZVtcImdyYWJcIl0gPSBcImdyYWJcIjtcbiAgICBIb3Zlck1vZGVbXCJsaWdodFwiXSA9IFwibGlnaHRcIjtcbiAgICBIb3Zlck1vZGVbXCJyZXB1bHNlXCJdID0gXCJyZXB1bHNlXCI7XG4gICAgSG92ZXJNb2RlW1wic2xvd1wiXSA9IFwic2xvd1wiO1xuICAgIEhvdmVyTW9kZVtcInRyYWlsXCJdID0gXCJ0cmFpbFwiO1xufSkoSG92ZXJNb2RlID0gZXhwb3J0cy5Ib3Zlck1vZGUgfHwgKGV4cG9ydHMuSG92ZXJNb2RlID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PdXRNb2RlID0gdm9pZCAwO1xudmFyIE91dE1vZGU7XG4oZnVuY3Rpb24gKE91dE1vZGUpIHtcbiAgICBPdXRNb2RlW1wiYm91bmNlXCJdID0gXCJib3VuY2VcIjtcbiAgICBPdXRNb2RlW1wiYm91bmNlSG9yaXpvbnRhbFwiXSA9IFwiYm91bmNlLWhvcml6b250YWxcIjtcbiAgICBPdXRNb2RlW1wiYm91bmNlVmVydGljYWxcIl0gPSBcImJvdW5jZS12ZXJ0aWNhbFwiO1xuICAgIE91dE1vZGVbXCJub25lXCJdID0gXCJub25lXCI7XG4gICAgT3V0TW9kZVtcIm91dFwiXSA9IFwib3V0XCI7XG4gICAgT3V0TW9kZVtcImRlc3Ryb3lcIl0gPSBcImRlc3Ryb3lcIjtcbiAgICBPdXRNb2RlW1wic3BsaXRcIl0gPSBcInNwbGl0XCI7XG59KShPdXRNb2RlID0gZXhwb3J0cy5PdXRNb2RlIHx8IChleHBvcnRzLk91dE1vZGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJlc3BvbnNpdmVNb2RlID0gdm9pZCAwO1xudmFyIFJlc3BvbnNpdmVNb2RlO1xuKGZ1bmN0aW9uIChSZXNwb25zaXZlTW9kZSkge1xuICAgIFJlc3BvbnNpdmVNb2RlW1wic2NyZWVuXCJdID0gXCJzY3JlZW5cIjtcbiAgICBSZXNwb25zaXZlTW9kZVtcImNhbnZhc1wiXSA9IFwiY2FudmFzXCI7XG59KShSZXNwb25zaXZlTW9kZSA9IGV4cG9ydHMuUmVzcG9uc2l2ZU1vZGUgfHwgKGV4cG9ydHMuUmVzcG9uc2l2ZU1vZGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJvbGxNb2RlID0gdm9pZCAwO1xudmFyIFJvbGxNb2RlO1xuKGZ1bmN0aW9uIChSb2xsTW9kZSkge1xuICAgIFJvbGxNb2RlW1wiYm90aFwiXSA9IFwiYm90aFwiO1xuICAgIFJvbGxNb2RlW1wiaG9yaXpvbnRhbFwiXSA9IFwiaG9yaXpvbnRhbFwiO1xuICAgIFJvbGxNb2RlW1widmVydGljYWxcIl0gPSBcInZlcnRpY2FsXCI7XG59KShSb2xsTW9kZSA9IGV4cG9ydHMuUm9sbE1vZGUgfHwgKGV4cG9ydHMuUm9sbE1vZGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNpemVNb2RlID0gdm9pZCAwO1xudmFyIFNpemVNb2RlO1xuKGZ1bmN0aW9uIChTaXplTW9kZSkge1xuICAgIFNpemVNb2RlW1wicHJlY2lzZVwiXSA9IFwicHJlY2lzZVwiO1xuICAgIFNpemVNb2RlW1wicGVyY2VudFwiXSA9IFwicGVyY2VudFwiO1xufSkoU2l6ZU1vZGUgPSBleHBvcnRzLlNpemVNb2RlIHx8IChleHBvcnRzLlNpemVNb2RlID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UaGVtZU1vZGUgPSB2b2lkIDA7XG52YXIgVGhlbWVNb2RlO1xuKGZ1bmN0aW9uIChUaGVtZU1vZGUpIHtcbiAgICBUaGVtZU1vZGVbXCJhbnlcIl0gPSBcImFueVwiO1xuICAgIFRoZW1lTW9kZVtcImRhcmtcIl0gPSBcImRhcmtcIjtcbiAgICBUaGVtZU1vZGVbXCJsaWdodFwiXSA9IFwibGlnaHRcIjtcbn0pKFRoZW1lTW9kZSA9IGV4cG9ydHMuVGhlbWVNb2RlIHx8IChleHBvcnRzLlRoZW1lTW9kZSA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0NsaWNrTW9kZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vRGVzdHJveU1vZGVcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0Rpdk1vZGVcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0hvdmVyTW9kZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vQ29sbGlzaW9uTW9kZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vT3V0TW9kZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vUm9sbE1vZGVcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1NpemVNb2RlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9UaGVtZU1vZGVcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1Jlc3BvbnNpdmVNb2RlXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BbHRlclR5cGUgPSB2b2lkIDA7XG52YXIgQWx0ZXJUeXBlO1xuKGZ1bmN0aW9uIChBbHRlclR5cGUpIHtcbiAgICBBbHRlclR5cGVbXCJkYXJrZW5cIl0gPSBcImRhcmtlblwiO1xuICAgIEFsdGVyVHlwZVtcImVubGlnaHRlblwiXSA9IFwiZW5saWdodGVuXCI7XG59KShBbHRlclR5cGUgPSBleHBvcnRzLkFsdGVyVHlwZSB8fCAoZXhwb3J0cy5BbHRlclR5cGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRlc3Ryb3lUeXBlID0gdm9pZCAwO1xudmFyIERlc3Ryb3lUeXBlO1xuKGZ1bmN0aW9uIChEZXN0cm95VHlwZSkge1xuICAgIERlc3Ryb3lUeXBlW1wibm9uZVwiXSA9IFwibm9uZVwiO1xuICAgIERlc3Ryb3lUeXBlW1wibWF4XCJdID0gXCJtYXhcIjtcbiAgICBEZXN0cm95VHlwZVtcIm1pblwiXSA9IFwibWluXCI7XG59KShEZXN0cm95VHlwZSA9IGV4cG9ydHMuRGVzdHJveVR5cGUgfHwgKGV4cG9ydHMuRGVzdHJveVR5cGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRpdlR5cGUgPSB2b2lkIDA7XG52YXIgRGl2VHlwZTtcbihmdW5jdGlvbiAoRGl2VHlwZSkge1xuICAgIERpdlR5cGVbXCJjaXJjbGVcIl0gPSBcImNpcmNsZVwiO1xuICAgIERpdlR5cGVbXCJyZWN0YW5nbGVcIl0gPSBcInJlY3RhbmdsZVwiO1xufSkoRGl2VHlwZSA9IGV4cG9ydHMuRGl2VHlwZSB8fCAoZXhwb3J0cy5EaXZUeXBlID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FYXNpbmdUeXBlID0gdm9pZCAwO1xudmFyIEVhc2luZ1R5cGU7XG4oZnVuY3Rpb24gKEVhc2luZ1R5cGUpIHtcbiAgICBFYXNpbmdUeXBlW1wiZWFzZU91dEJhY2tcIl0gPSBcImVhc2Utb3V0LWJhY2tcIjtcbiAgICBFYXNpbmdUeXBlW1wiZWFzZU91dENpcmNcIl0gPSBcImVhc2Utb3V0LWNpcmNcIjtcbiAgICBFYXNpbmdUeXBlW1wiZWFzZU91dEN1YmljXCJdID0gXCJlYXNlLW91dC1jdWJpY1wiO1xuICAgIEVhc2luZ1R5cGVbXCJlYXNlT3V0UXVhZFwiXSA9IFwiZWFzZS1vdXQtcXVhZFwiO1xuICAgIEVhc2luZ1R5cGVbXCJlYXNlT3V0UXVhcnRcIl0gPSBcImVhc2Utb3V0LXF1YXJ0XCI7XG4gICAgRWFzaW5nVHlwZVtcImVhc2VPdXRRdWludFwiXSA9IFwiZWFzZS1vdXQtcXVpbnRcIjtcbiAgICBFYXNpbmdUeXBlW1wiZWFzZU91dEV4cG9cIl0gPSBcImVhc2Utb3V0LWV4cG9cIjtcbiAgICBFYXNpbmdUeXBlW1wiZWFzZU91dFNpbmVcIl0gPSBcImVhc2Utb3V0LXNpbmVcIjtcbn0pKEVhc2luZ1R5cGUgPSBleHBvcnRzLkVhc2luZ1R5cGUgfHwgKGV4cG9ydHMuRWFzaW5nVHlwZSA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR3JhZGllbnRUeXBlID0gdm9pZCAwO1xudmFyIEdyYWRpZW50VHlwZTtcbihmdW5jdGlvbiAoR3JhZGllbnRUeXBlKSB7XG4gICAgR3JhZGllbnRUeXBlW1wibGluZWFyXCJdID0gXCJsaW5lYXJcIjtcbiAgICBHcmFkaWVudFR5cGVbXCJyYWRpYWxcIl0gPSBcInJhZGlhbFwiO1xuICAgIEdyYWRpZW50VHlwZVtcInJhbmRvbVwiXSA9IFwicmFuZG9tXCI7XG59KShHcmFkaWVudFR5cGUgPSBleHBvcnRzLkdyYWRpZW50VHlwZSB8fCAoZXhwb3J0cy5HcmFkaWVudFR5cGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkludGVyYWN0b3JUeXBlID0gdm9pZCAwO1xudmFyIEludGVyYWN0b3JUeXBlO1xuKGZ1bmN0aW9uIChJbnRlcmFjdG9yVHlwZSkge1xuICAgIEludGVyYWN0b3JUeXBlW0ludGVyYWN0b3JUeXBlW1wiRXh0ZXJuYWxcIl0gPSAwXSA9IFwiRXh0ZXJuYWxcIjtcbiAgICBJbnRlcmFjdG9yVHlwZVtJbnRlcmFjdG9yVHlwZVtcIlBhcnRpY2xlc1wiXSA9IDFdID0gXCJQYXJ0aWNsZXNcIjtcbn0pKEludGVyYWN0b3JUeXBlID0gZXhwb3J0cy5JbnRlcmFjdG9yVHlwZSB8fCAoZXhwb3J0cy5JbnRlcmFjdG9yVHlwZSA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT3JiaXRUeXBlID0gdm9pZCAwO1xudmFyIE9yYml0VHlwZTtcbihmdW5jdGlvbiAoT3JiaXRUeXBlKSB7XG4gICAgT3JiaXRUeXBlW1wiZnJvbnRcIl0gPSBcImZyb250XCI7XG4gICAgT3JiaXRUeXBlW1wiYmFja1wiXSA9IFwiYmFja1wiO1xufSkoT3JiaXRUeXBlID0gZXhwb3J0cy5PcmJpdFR5cGUgfHwgKGV4cG9ydHMuT3JiaXRUeXBlID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaGFwZVR5cGUgPSB2b2lkIDA7XG52YXIgU2hhcGVUeXBlO1xuKGZ1bmN0aW9uIChTaGFwZVR5cGUpIHtcbiAgICBTaGFwZVR5cGVbXCJjaGFyXCJdID0gXCJjaGFyXCI7XG4gICAgU2hhcGVUeXBlW1wiY2hhcmFjdGVyXCJdID0gXCJjaGFyYWN0ZXJcIjtcbiAgICBTaGFwZVR5cGVbXCJjaXJjbGVcIl0gPSBcImNpcmNsZVwiO1xuICAgIFNoYXBlVHlwZVtcImVkZ2VcIl0gPSBcImVkZ2VcIjtcbiAgICBTaGFwZVR5cGVbXCJpbWFnZVwiXSA9IFwiaW1hZ2VcIjtcbiAgICBTaGFwZVR5cGVbXCJpbWFnZXNcIl0gPSBcImltYWdlc1wiO1xuICAgIFNoYXBlVHlwZVtcImxpbmVcIl0gPSBcImxpbmVcIjtcbiAgICBTaGFwZVR5cGVbXCJwb2x5Z29uXCJdID0gXCJwb2x5Z29uXCI7XG4gICAgU2hhcGVUeXBlW1wic3F1YXJlXCJdID0gXCJzcXVhcmVcIjtcbiAgICBTaGFwZVR5cGVbXCJzdGFyXCJdID0gXCJzdGFyXCI7XG4gICAgU2hhcGVUeXBlW1widHJpYW5nbGVcIl0gPSBcInRyaWFuZ2xlXCI7XG59KShTaGFwZVR5cGUgPSBleHBvcnRzLlNoYXBlVHlwZSB8fCAoZXhwb3J0cy5TaGFwZVR5cGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0YXJ0VmFsdWVUeXBlID0gdm9pZCAwO1xudmFyIFN0YXJ0VmFsdWVUeXBlO1xuKGZ1bmN0aW9uIChTdGFydFZhbHVlVHlwZSkge1xuICAgIFN0YXJ0VmFsdWVUeXBlW1wibWF4XCJdID0gXCJtYXhcIjtcbiAgICBTdGFydFZhbHVlVHlwZVtcIm1pblwiXSA9IFwibWluXCI7XG4gICAgU3RhcnRWYWx1ZVR5cGVbXCJyYW5kb21cIl0gPSBcInJhbmRvbVwiO1xufSkoU3RhcnRWYWx1ZVR5cGUgPSBleHBvcnRzLlN0YXJ0VmFsdWVUeXBlIHx8IChleHBvcnRzLlN0YXJ0VmFsdWVUeXBlID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vQWx0ZXJUeXBlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9EZXN0cm95VHlwZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vR3JhZGllbnRUeXBlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9JbnRlcmFjdG9yVHlwZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vU2hhcGVUeXBlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9TdGFydFZhbHVlVHlwZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vRGl2VHlwZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vRWFzaW5nVHlwZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vT3JiaXRUeXBlXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vRGlyZWN0aW9uc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vTW9kZXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0FuaW1hdGlvblN0YXR1c1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vVHlwZXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0ludGVyYWN0aXZpdHlEZXRlY3RcIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkF0dHJhY3RvciA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vRW51bXNcIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL1V0aWxzXCIpO1xuY29uc3QgRXh0ZXJuYWxJbnRlcmFjdG9yQmFzZV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL0NvcmUvRXh0ZXJuYWxJbnRlcmFjdG9yQmFzZVwiKTtcbmNvbnN0IFZlY3Rvcl8xID0gcmVxdWlyZShcIi4uLy4uLy4uL0NvcmUvUGFydGljbGUvVmVjdG9yXCIpO1xuY2xhc3MgQXR0cmFjdG9yIGV4dGVuZHMgRXh0ZXJuYWxJbnRlcmFjdG9yQmFzZV8xLkV4dGVybmFsSW50ZXJhY3RvckJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgICAgICBzdXBlcihjb250YWluZXIpO1xuICAgIH1cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnMsIG1vdXNlID0gY29udGFpbmVyLmludGVyYWN0aXZpdHkubW91c2UsIGV2ZW50cyA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHM7XG4gICAgICAgIGlmICgoIW1vdXNlLnBvc2l0aW9uIHx8ICFldmVudHMub25Ib3Zlci5lbmFibGUpICYmICghbW91c2UuY2xpY2tQb3NpdGlvbiB8fCAhZXZlbnRzLm9uQ2xpY2suZW5hYmxlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhvdmVyTW9kZSA9IGV2ZW50cy5vbkhvdmVyLm1vZGUsIGNsaWNrTW9kZSA9IGV2ZW50cy5vbkNsaWNrLm1vZGU7XG4gICAgICAgIHJldHVybiAoMCwgVXRpbHNfMS5pc0luQXJyYXkpKEVudW1zXzEuSG92ZXJNb2RlLmF0dHJhY3QsIGhvdmVyTW9kZSkgfHwgKDAsIFV0aWxzXzEuaXNJbkFycmF5KShFbnVtc18xLkNsaWNrTW9kZS5hdHRyYWN0LCBjbGlja01vZGUpO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICB9XG4gICAgaW50ZXJhY3QoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnMsIG1vdXNlTW92ZVN0YXR1cyA9IGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5LnN0YXR1cyA9PT0gVXRpbHNfMS5Db25zdGFudHMubW91c2VNb3ZlRXZlbnQsIGV2ZW50cyA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMsIGhvdmVyRW5hYmxlZCA9IGV2ZW50cy5vbkhvdmVyLmVuYWJsZSwgaG92ZXJNb2RlID0gZXZlbnRzLm9uSG92ZXIubW9kZSwgY2xpY2tFbmFibGVkID0gZXZlbnRzLm9uQ2xpY2suZW5hYmxlLCBjbGlja01vZGUgPSBldmVudHMub25DbGljay5tb2RlO1xuICAgICAgICBpZiAobW91c2VNb3ZlU3RhdHVzICYmIGhvdmVyRW5hYmxlZCAmJiAoMCwgVXRpbHNfMS5pc0luQXJyYXkpKEVudW1zXzEuSG92ZXJNb2RlLmF0dHJhY3QsIGhvdmVyTW9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuaG92ZXJBdHRyYWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2xpY2tFbmFibGVkICYmICgwLCBVdGlsc18xLmlzSW5BcnJheSkoRW51bXNfMS5DbGlja01vZGUuYXR0cmFjdCwgY2xpY2tNb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5jbGlja0F0dHJhY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBob3ZlckF0dHJhY3QoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBtb3VzZVBvcyA9IGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5Lm1vdXNlLnBvc2l0aW9uO1xuICAgICAgICBpZiAoIW1vdXNlUG9zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXR0cmFjdFJhZGl1cyA9IGNvbnRhaW5lci5yZXRpbmEuYXR0cmFjdE1vZGVEaXN0YW5jZTtcbiAgICAgICAgdGhpcy5wcm9jZXNzQXR0cmFjdChtb3VzZVBvcywgYXR0cmFjdFJhZGl1cywgbmV3IFV0aWxzXzEuQ2lyY2xlKG1vdXNlUG9zLngsIG1vdXNlUG9zLnksIGF0dHJhY3RSYWRpdXMpKTtcbiAgICB9XG4gICAgcHJvY2Vzc0F0dHJhY3QocG9zaXRpb24sIGF0dHJhY3RSYWRpdXMsIGFyZWEpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IGF0dHJhY3RPcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5hdHRyYWN0O1xuICAgICAgICBjb25zdCBxdWVyeSA9IGNvbnRhaW5lci5wYXJ0aWNsZXMucXVhZFRyZWUucXVlcnkoYXJlYSk7XG4gICAgICAgIGZvciAoY29uc3QgcGFydGljbGUgb2YgcXVlcnkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZHgsIGR5LCBkaXN0YW5jZSB9ID0gKDAsIFV0aWxzXzEuZ2V0RGlzdGFuY2VzKShwYXJ0aWNsZS5wb3NpdGlvbiwgcG9zaXRpb24pO1xuICAgICAgICAgICAgY29uc3QgdmVsb2NpdHkgPSBhdHRyYWN0T3B0aW9ucy5zcGVlZCAqIGF0dHJhY3RPcHRpb25zLmZhY3RvcjtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJhY3RGYWN0b3IgPSAoMCwgVXRpbHNfMS5jbGFtcCkoKDAsIFV0aWxzXzEuY2FsY0Vhc2luZykoMSAtIGRpc3RhbmNlIC8gYXR0cmFjdFJhZGl1cywgYXR0cmFjdE9wdGlvbnMuZWFzaW5nKSAqIHZlbG9jaXR5LCAwLCBhdHRyYWN0T3B0aW9ucy5tYXhTcGVlZCk7XG4gICAgICAgICAgICBjb25zdCBub3JtVmVjID0gVmVjdG9yXzEuVmVjdG9yLmNyZWF0ZShkaXN0YW5jZSA9PT0gMCA/IHZlbG9jaXR5IDogKGR4IC8gZGlzdGFuY2UpICogYXR0cmFjdEZhY3RvciwgZGlzdGFuY2UgPT09IDAgPyB2ZWxvY2l0eSA6IChkeSAvIGRpc3RhbmNlKSAqIGF0dHJhY3RGYWN0b3IpO1xuICAgICAgICAgICAgcGFydGljbGUucG9zaXRpb24uc3ViRnJvbShub3JtVmVjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGlja0F0dHJhY3QoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBpZiAoIWNvbnRhaW5lci5hdHRyYWN0LmZpbmlzaCkge1xuICAgICAgICAgICAgaWYgKCFjb250YWluZXIuYXR0cmFjdC5jb3VudCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hdHRyYWN0LmNvdW50ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRhaW5lci5hdHRyYWN0LmNvdW50Kys7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLmF0dHJhY3QuY291bnQgPT09IGNvbnRhaW5lci5wYXJ0aWNsZXMuY291bnQpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXR0cmFjdC5maW5pc2ggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb250YWluZXIuYXR0cmFjdC5jbGlja2luZykge1xuICAgICAgICAgICAgY29uc3QgbW91c2VQb3MgPSBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5tb3VzZS5jbGlja1Bvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKCFtb3VzZVBvcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGF0dHJhY3RSYWRpdXMgPSBjb250YWluZXIucmV0aW5hLmF0dHJhY3RNb2RlRGlzdGFuY2U7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NBdHRyYWN0KG1vdXNlUG9zLCBhdHRyYWN0UmFkaXVzLCBuZXcgVXRpbHNfMS5DaXJjbGUobW91c2VQb3MueCwgbW91c2VQb3MueSwgYXR0cmFjdFJhZGl1cykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lci5hdHRyYWN0LmNsaWNraW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY29udGFpbmVyLmF0dHJhY3QucGFydGljbGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cbmV4cG9ydHMuQXR0cmFjdG9yID0gQXR0cmFjdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRFeHRlcm5hbEF0dHJhY3RJbnRlcmFjdGlvbiA9IHZvaWQgMDtcbmNvbnN0IEF0dHJhY3Rvcl8xID0gcmVxdWlyZShcIi4vQXR0cmFjdG9yXCIpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZEV4dGVybmFsQXR0cmFjdEludGVyYWN0aW9uKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkSW50ZXJhY3RvcihcImV4dGVybmFsQXR0cmFjdFwiLCAoY29udGFpbmVyKSA9PiBuZXcgQXR0cmFjdG9yXzEuQXR0cmFjdG9yKGNvbnRhaW5lcikpO1xufVxuZXhwb3J0cy5sb2FkRXh0ZXJuYWxBdHRyYWN0SW50ZXJhY3Rpb24gPSBsb2FkRXh0ZXJuYWxBdHRyYWN0SW50ZXJhY3Rpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQm91bmNlciA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vVXRpbHNcIik7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL0VudW1zXCIpO1xuY29uc3QgVmVjdG9yXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vQ29yZS9QYXJ0aWNsZS9WZWN0b3JcIik7XG5jb25zdCBFeHRlcm5hbEludGVyYWN0b3JCYXNlXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vQ29yZS9FeHRlcm5hbEludGVyYWN0b3JCYXNlXCIpO1xuY2xhc3MgQm91bmNlciBleHRlbmRzIEV4dGVybmFsSW50ZXJhY3RvckJhc2VfMS5FeHRlcm5hbEludGVyYWN0b3JCYXNlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcbiAgICB9XG4gICAgaXNFbmFibGVkKCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciwgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zLCBtb3VzZSA9IGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5Lm1vdXNlLCBldmVudHMgPSBvcHRpb25zLmludGVyYWN0aXZpdHkuZXZlbnRzLCBkaXZzID0gZXZlbnRzLm9uRGl2O1xuICAgICAgICByZXR1cm4gKChtb3VzZS5wb3NpdGlvbiAmJiBldmVudHMub25Ib3Zlci5lbmFibGUgJiYgKDAsIFV0aWxzXzEuaXNJbkFycmF5KShFbnVtc18xLkhvdmVyTW9kZS5ib3VuY2UsIGV2ZW50cy5vbkhvdmVyLm1vZGUpKSB8fFxuICAgICAgICAgICAgKDAsIFV0aWxzXzEuaXNEaXZNb2RlRW5hYmxlZCkoRW51bXNfMS5EaXZNb2RlLmJvdW5jZSwgZGl2cykpO1xuICAgIH1cbiAgICBpbnRlcmFjdCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsIG9wdGlvbnMgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucywgZXZlbnRzID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5LmV2ZW50cywgbW91c2VNb3ZlU3RhdHVzID0gY29udGFpbmVyLmludGVyYWN0aXZpdHkuc3RhdHVzID09PSBVdGlsc18xLkNvbnN0YW50cy5tb3VzZU1vdmVFdmVudCwgaG92ZXJFbmFibGVkID0gZXZlbnRzLm9uSG92ZXIuZW5hYmxlLCBob3Zlck1vZGUgPSBldmVudHMub25Ib3Zlci5tb2RlLCBkaXZzID0gZXZlbnRzLm9uRGl2O1xuICAgICAgICBpZiAobW91c2VNb3ZlU3RhdHVzICYmIGhvdmVyRW5hYmxlZCAmJiAoMCwgVXRpbHNfMS5pc0luQXJyYXkpKEVudW1zXzEuSG92ZXJNb2RlLmJvdW5jZSwgaG92ZXJNb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzTW91c2VCb3VuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICgwLCBVdGlsc18xLmRpdk1vZGVFeGVjdXRlKShFbnVtc18xLkRpdk1vZGUuYm91bmNlLCBkaXZzLCAoc2VsZWN0b3IsIGRpdikgPT4gdGhpcy5zaW5nbGVTZWxlY3RvckJvdW5jZShzZWxlY3RvciwgZGl2KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgfVxuICAgIHByb2Nlc3NNb3VzZUJvdW5jZSgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsIHB4UmF0aW8gPSBjb250YWluZXIucmV0aW5hLnBpeGVsUmF0aW8sIHRvbGVyYW5jZSA9IDEwICogcHhSYXRpbywgbW91c2VQb3MgPSBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5tb3VzZS5wb3NpdGlvbiwgcmFkaXVzID0gY29udGFpbmVyLnJldGluYS5ib3VuY2VNb2RlRGlzdGFuY2U7XG4gICAgICAgIGlmIChtb3VzZVBvcykge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzQm91bmNlKG1vdXNlUG9zLCByYWRpdXMsIG5ldyBVdGlsc18xLkNpcmNsZShtb3VzZVBvcy54LCBtb3VzZVBvcy55LCByYWRpdXMgKyB0b2xlcmFuY2UpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaW5nbGVTZWxlY3RvckJvdW5jZShzZWxlY3RvciwgZGl2KSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBxdWVyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICBpZiAoIXF1ZXJ5Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHF1ZXJ5LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBpdGVtLCBweFJhdGlvID0gY29udGFpbmVyLnJldGluYS5waXhlbFJhdGlvLCBwb3MgPSB7XG4gICAgICAgICAgICAgICAgeDogKGVsZW0ub2Zmc2V0TGVmdCArIGVsZW0ub2Zmc2V0V2lkdGggLyAyKSAqIHB4UmF0aW8sXG4gICAgICAgICAgICAgICAgeTogKGVsZW0ub2Zmc2V0VG9wICsgZWxlbS5vZmZzZXRIZWlnaHQgLyAyKSAqIHB4UmF0aW8sXG4gICAgICAgICAgICB9LCByYWRpdXMgPSAoZWxlbS5vZmZzZXRXaWR0aCAvIDIpICogcHhSYXRpbywgdG9sZXJhbmNlID0gMTAgKiBweFJhdGlvO1xuICAgICAgICAgICAgY29uc3QgYXJlYSA9IGRpdi50eXBlID09PSBFbnVtc18xLkRpdlR5cGUuY2lyY2xlXG4gICAgICAgICAgICAgICAgPyBuZXcgVXRpbHNfMS5DaXJjbGUocG9zLngsIHBvcy55LCByYWRpdXMgKyB0b2xlcmFuY2UpXG4gICAgICAgICAgICAgICAgOiBuZXcgVXRpbHNfMS5SZWN0YW5nbGUoZWxlbS5vZmZzZXRMZWZ0ICogcHhSYXRpbyAtIHRvbGVyYW5jZSwgZWxlbS5vZmZzZXRUb3AgKiBweFJhdGlvIC0gdG9sZXJhbmNlLCBlbGVtLm9mZnNldFdpZHRoICogcHhSYXRpbyArIHRvbGVyYW5jZSAqIDIsIGVsZW0ub2Zmc2V0SGVpZ2h0ICogcHhSYXRpbyArIHRvbGVyYW5jZSAqIDIpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzQm91bmNlKHBvcywgcmFkaXVzLCBhcmVhKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHByb2Nlc3NCb3VuY2UocG9zaXRpb24sIHJhZGl1cywgYXJlYSkge1xuICAgICAgICBjb25zdCBxdWVyeSA9IHRoaXMuY29udGFpbmVyLnBhcnRpY2xlcy5xdWFkVHJlZS5xdWVyeShhcmVhKTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNsZSBvZiBxdWVyeSkge1xuICAgICAgICAgICAgaWYgKGFyZWEgaW5zdGFuY2VvZiBVdGlsc18xLkNpcmNsZSkge1xuICAgICAgICAgICAgICAgICgwLCBVdGlsc18xLmNpcmNsZUJvdW5jZSkoKDAsIFV0aWxzXzEuY2lyY2xlQm91bmNlRGF0YUZyb21QYXJ0aWNsZSkocGFydGljbGUpLCB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICByYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgIG1hc3M6IChyYWRpdXMgKiogMiAqIE1hdGguUEkpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHk6IFZlY3Rvcl8xLlZlY3Rvci5vcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgIGZhY3RvcjogVmVjdG9yXzEuVmVjdG9yLm9yaWdpbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFyZWEgaW5zdGFuY2VvZiBVdGlsc18xLlJlY3RhbmdsZSkge1xuICAgICAgICAgICAgICAgICgwLCBVdGlsc18xLnJlY3RCb3VuY2UpKHBhcnRpY2xlLCAoMCwgVXRpbHNfMS5jYWxjdWxhdGVCb3VuZHMpKHBvc2l0aW9uLCByYWRpdXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQm91bmNlciA9IEJvdW5jZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZEV4dGVybmFsQm91bmNlSW50ZXJhY3Rpb24gPSB2b2lkIDA7XG5jb25zdCBCb3VuY2VyXzEgPSByZXF1aXJlKFwiLi9Cb3VuY2VyXCIpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZEV4dGVybmFsQm91bmNlSW50ZXJhY3Rpb24odHNQYXJ0aWNsZXMpIHtcbiAgICBhd2FpdCB0c1BhcnRpY2xlcy5hZGRJbnRlcmFjdG9yKFwiZXh0ZXJuYWxCb3VuY2VcIiwgKGNvbnRhaW5lcikgPT4gbmV3IEJvdW5jZXJfMS5Cb3VuY2VyKGNvbnRhaW5lcikpO1xufVxuZXhwb3J0cy5sb2FkRXh0ZXJuYWxCb3VuY2VJbnRlcmFjdGlvbiA9IGxvYWRFeHRlcm5hbEJvdW5jZUludGVyYWN0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJ1YmJsZXIgPSB2b2lkIDA7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL1V0aWxzXCIpO1xuY29uc3QgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9FbnVtc1wiKTtcbmNvbnN0IEV4dGVybmFsSW50ZXJhY3RvckJhc2VfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9Db3JlL0V4dGVybmFsSW50ZXJhY3RvckJhc2VcIik7XG5jb25zdCBQcm9jZXNzQnViYmxlVHlwZV8xID0gcmVxdWlyZShcIi4vUHJvY2Vzc0J1YmJsZVR5cGVcIik7XG5mdW5jdGlvbiBjYWxjdWxhdGVCdWJibGVWYWx1ZShwYXJ0aWNsZVZhbHVlLCBtb2RlVmFsdWUsIG9wdGlvbnNWYWx1ZSwgcmF0aW8pIHtcbiAgICBpZiAobW9kZVZhbHVlID49IG9wdGlvbnNWYWx1ZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnRpY2xlVmFsdWUgKyAobW9kZVZhbHVlIC0gb3B0aW9uc1ZhbHVlKSAqIHJhdGlvO1xuICAgICAgICByZXR1cm4gKDAsIFV0aWxzXzEuY2xhbXApKHZhbHVlLCBwYXJ0aWNsZVZhbHVlLCBtb2RlVmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtb2RlVmFsdWUgPCBvcHRpb25zVmFsdWUpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJ0aWNsZVZhbHVlIC0gKG9wdGlvbnNWYWx1ZSAtIG1vZGVWYWx1ZSkgKiByYXRpbztcbiAgICAgICAgcmV0dXJuICgwLCBVdGlsc18xLmNsYW1wKSh2YWx1ZSwgbW9kZVZhbHVlLCBwYXJ0aWNsZVZhbHVlKTtcbiAgICB9XG59XG5jbGFzcyBCdWJibGVyIGV4dGVuZHMgRXh0ZXJuYWxJbnRlcmFjdG9yQmFzZV8xLkV4dGVybmFsSW50ZXJhY3RvckJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgICAgICBzdXBlcihjb250YWluZXIpO1xuICAgIH1cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnMsIG1vdXNlID0gY29udGFpbmVyLmludGVyYWN0aXZpdHkubW91c2UsIGV2ZW50cyA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMsIGRpdnMgPSBldmVudHMub25EaXYsIGRpdkJ1YmJsZSA9ICgwLCBVdGlsc18xLmlzRGl2TW9kZUVuYWJsZWQpKEVudW1zXzEuRGl2TW9kZS5idWJibGUsIGRpdnMpO1xuICAgICAgICBpZiAoIShkaXZCdWJibGUgfHwgKGV2ZW50cy5vbkhvdmVyLmVuYWJsZSAmJiBtb3VzZS5wb3NpdGlvbikgfHwgKGV2ZW50cy5vbkNsaWNrLmVuYWJsZSAmJiBtb3VzZS5jbGlja1Bvc2l0aW9uKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBob3Zlck1vZGUgPSBldmVudHMub25Ib3Zlci5tb2RlO1xuICAgICAgICBjb25zdCBjbGlja01vZGUgPSBldmVudHMub25DbGljay5tb2RlO1xuICAgICAgICByZXR1cm4gKDAsIFV0aWxzXzEuaXNJbkFycmF5KShFbnVtc18xLkhvdmVyTW9kZS5idWJibGUsIGhvdmVyTW9kZSkgfHwgKDAsIFV0aWxzXzEuaXNJbkFycmF5KShFbnVtc18xLkNsaWNrTW9kZS5idWJibGUsIGNsaWNrTW9kZSkgfHwgZGl2QnViYmxlO1xuICAgIH1cbiAgICByZXNldChwYXJ0aWNsZSwgZm9yY2UpIHtcbiAgICAgICAgaWYgKCEoIXBhcnRpY2xlLmJ1YmJsZS5pblJhbmdlIHx8IGZvcmNlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBwYXJ0aWNsZS5idWJibGUuZGl2O1xuICAgICAgICBkZWxldGUgcGFydGljbGUuYnViYmxlLm9wYWNpdHk7XG4gICAgICAgIGRlbGV0ZSBwYXJ0aWNsZS5idWJibGUucmFkaXVzO1xuICAgICAgICBkZWxldGUgcGFydGljbGUuYnViYmxlLmNvbG9yO1xuICAgIH1cbiAgICBpbnRlcmFjdCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuY29udGFpbmVyLmFjdHVhbE9wdGlvbnMsIGV2ZW50cyA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMsIG9uSG92ZXIgPSBldmVudHMub25Ib3Zlciwgb25DbGljayA9IGV2ZW50cy5vbkNsaWNrLCBob3ZlckVuYWJsZWQgPSBvbkhvdmVyLmVuYWJsZSwgaG92ZXJNb2RlID0gb25Ib3Zlci5tb2RlLCBjbGlja0VuYWJsZWQgPSBvbkNsaWNrLmVuYWJsZSwgY2xpY2tNb2RlID0gb25DbGljay5tb2RlLCBkaXZzID0gZXZlbnRzLm9uRGl2O1xuICAgICAgICBpZiAoaG92ZXJFbmFibGVkICYmICgwLCBVdGlsc18xLmlzSW5BcnJheSkoRW51bXNfMS5Ib3Zlck1vZGUuYnViYmxlLCBob3Zlck1vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLmhvdmVyQnViYmxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2xpY2tFbmFibGVkICYmICgwLCBVdGlsc18xLmlzSW5BcnJheSkoRW51bXNfMS5DbGlja01vZGUuYnViYmxlLCBjbGlja01vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLmNsaWNrQnViYmxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAoMCwgVXRpbHNfMS5kaXZNb2RlRXhlY3V0ZSkoRW51bXNfMS5EaXZNb2RlLmJ1YmJsZSwgZGl2cywgKHNlbGVjdG9yLCBkaXYpID0+IHRoaXMuc2luZ2xlU2VsZWN0b3JIb3ZlcihzZWxlY3RvciwgZGl2KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2luZ2xlU2VsZWN0b3JIb3ZlcihzZWxlY3RvciwgZGl2KSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBzZWxlY3RvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgICAgaWYgKCFzZWxlY3RvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsZWN0b3JzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBpdGVtLCBweFJhdGlvID0gY29udGFpbmVyLnJldGluYS5waXhlbFJhdGlvLCBwb3MgPSB7XG4gICAgICAgICAgICAgICAgeDogKGVsZW0ub2Zmc2V0TGVmdCArIGVsZW0ub2Zmc2V0V2lkdGggLyAyKSAqIHB4UmF0aW8sXG4gICAgICAgICAgICAgICAgeTogKGVsZW0ub2Zmc2V0VG9wICsgZWxlbS5vZmZzZXRIZWlnaHQgLyAyKSAqIHB4UmF0aW8sXG4gICAgICAgICAgICB9LCByZXB1bHNlUmFkaXVzID0gKGVsZW0ub2Zmc2V0V2lkdGggLyAyKSAqIHB4UmF0aW8sIGFyZWEgPSBkaXYudHlwZSA9PT0gRW51bXNfMS5EaXZUeXBlLmNpcmNsZVxuICAgICAgICAgICAgICAgID8gbmV3IFV0aWxzXzEuQ2lyY2xlKHBvcy54LCBwb3MueSwgcmVwdWxzZVJhZGl1cylcbiAgICAgICAgICAgICAgICA6IG5ldyBVdGlsc18xLlJlY3RhbmdsZShlbGVtLm9mZnNldExlZnQgKiBweFJhdGlvLCBlbGVtLm9mZnNldFRvcCAqIHB4UmF0aW8sIGVsZW0ub2Zmc2V0V2lkdGggKiBweFJhdGlvLCBlbGVtLm9mZnNldEhlaWdodCAqIHB4UmF0aW8pLCBxdWVyeSA9IGNvbnRhaW5lci5wYXJ0aWNsZXMucXVhZFRyZWUucXVlcnkoYXJlYSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2xlIG9mIHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhcmVhLmNvbnRhaW5zKHBhcnRpY2xlLmdldFBvc2l0aW9uKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5idWJibGUuaW5SYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgZGl2cyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLmRpdnM7XG4gICAgICAgICAgICAgICAgY29uc3QgZGl2QnViYmxlID0gKDAsIFV0aWxzXzEuZGl2TW9kZSkoZGl2cywgZWxlbSk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJ0aWNsZS5idWJibGUuZGl2IHx8IHBhcnRpY2xlLmJ1YmJsZS5kaXYgIT09IGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldChwYXJ0aWNsZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlLmJ1YmJsZS5kaXYgPSBlbGVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmhvdmVyQnViYmxlU2l6ZShwYXJ0aWNsZSwgMSwgZGl2QnViYmxlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhvdmVyQnViYmxlT3BhY2l0eShwYXJ0aWNsZSwgMSwgZGl2QnViYmxlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhvdmVyQnViYmxlQ29sb3IocGFydGljbGUsIDEsIGRpdkJ1YmJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwcm9jZXNzKHBhcnRpY2xlLCBkaXN0TW91c2UsIHRpbWVTcGVudCwgZGF0YSkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciwgYnViYmxlUGFyYW0gPSBkYXRhLmJ1YmJsZU9iai5vcHRWYWx1ZTtcbiAgICAgICAgaWYgKGJ1YmJsZVBhcmFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnMsIGJ1YmJsZUR1cmF0aW9uID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5kdXJhdGlvbiwgYnViYmxlRGlzdGFuY2UgPSBjb250YWluZXIucmV0aW5hLmJ1YmJsZU1vZGVEaXN0YW5jZSwgcGFydGljbGVzUGFyYW0gPSBkYXRhLnBhcnRpY2xlc09iai5vcHRWYWx1ZSwgcE9iakJ1YmJsZSA9IGRhdGEuYnViYmxlT2JqLnZhbHVlLCBwT2JqID0gZGF0YS5wYXJ0aWNsZXNPYmoudmFsdWUgfHwgMCwgdHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgaWYgKGJ1YmJsZVBhcmFtID09PSBwYXJ0aWNsZXNQYXJhbSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29udGFpbmVyLmJ1YmJsZS5kdXJhdGlvbkVuZCkge1xuICAgICAgICAgICAgaWYgKGRpc3RNb3VzZSA8PSBidWJibGVEaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHBPYmpCdWJibGUgIT09IG51bGwgJiYgcE9iakJ1YmJsZSAhPT0gdm9pZCAwID8gcE9iakJ1YmJsZSA6IHBPYmo7XG4gICAgICAgICAgICAgICAgaWYgKG9iaiAhPT0gYnViYmxlUGFyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwT2JqIC0gKHRpbWVTcGVudCAqIChwT2JqIC0gYnViYmxlUGFyYW0pKSAvIGJ1YmJsZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gUHJvY2Vzc0J1YmJsZVR5cGVfMS5Qcm9jZXNzQnViYmxlVHlwZS5zaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZS5idWJibGUucmFkaXVzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFByb2Nlc3NCdWJibGVUeXBlXzEuUHJvY2Vzc0J1YmJsZVR5cGUub3BhY2l0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljbGUuYnViYmxlLm9wYWNpdHkgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBQcm9jZXNzQnViYmxlVHlwZV8xLlByb2Nlc3NCdWJibGVUeXBlLnNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBhcnRpY2xlLmJ1YmJsZS5yYWRpdXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBQcm9jZXNzQnViYmxlVHlwZV8xLlByb2Nlc3NCdWJibGVUeXBlLm9wYWNpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBhcnRpY2xlLmJ1YmJsZS5vcGFjaXR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwT2JqQnViYmxlKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gUHJvY2Vzc0J1YmJsZVR5cGVfMS5Qcm9jZXNzQnViYmxlVHlwZS5zaXplKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcnRpY2xlLmJ1YmJsZS5yYWRpdXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gUHJvY2Vzc0J1YmJsZVR5cGVfMS5Qcm9jZXNzQnViYmxlVHlwZS5vcGFjaXR5KSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcnRpY2xlLmJ1YmJsZS5vcGFjaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNsaWNrQnViYmxlKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciwgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zLCBtb3VzZUNsaWNrUG9zID0gY29udGFpbmVyLmludGVyYWN0aXZpdHkubW91c2UuY2xpY2tQb3NpdGlvbjtcbiAgICAgICAgaWYgKCFtb3VzZUNsaWNrUG9zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBjb250YWluZXIucmV0aW5hLmJ1YmJsZU1vZGVEaXN0YW5jZSwgcXVlcnkgPSBjb250YWluZXIucGFydGljbGVzLnF1YWRUcmVlLnF1ZXJ5Q2lyY2xlKG1vdXNlQ2xpY2tQb3MsIGRpc3RhbmNlKTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNsZSBvZiBxdWVyeSkge1xuICAgICAgICAgICAgaWYgKCFjb250YWluZXIuYnViYmxlLmNsaWNraW5nKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0aWNsZS5idWJibGUuaW5SYW5nZSA9ICFjb250YWluZXIuYnViYmxlLmR1cmF0aW9uRW5kO1xuICAgICAgICAgICAgY29uc3QgcG9zID0gcGFydGljbGUuZ2V0UG9zaXRpb24oKSwgZGlzdE1vdXNlID0gKDAsIFV0aWxzXzEuZ2V0RGlzdGFuY2UpKHBvcywgbW91c2VDbGlja1BvcyksIHRpbWVTcGVudCA9IChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIChjb250YWluZXIuaW50ZXJhY3Rpdml0eS5tb3VzZS5jbGlja1RpbWUgfHwgMCkpIC8gMTAwMDtcbiAgICAgICAgICAgIGlmICh0aW1lU3BlbnQgPiBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmJ1YmJsZS5kdXJhdGlvbkVuZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGltZVNwZW50ID4gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5kdXJhdGlvbiAqIDIpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYnViYmxlLmNsaWNraW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmJ1YmJsZS5kdXJhdGlvbkVuZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2l6ZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgYnViYmxlT2JqOiB7XG4gICAgICAgICAgICAgICAgICAgIG9wdFZhbHVlOiBjb250YWluZXIucmV0aW5hLmJ1YmJsZU1vZGVTaXplLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGFydGljbGUuYnViYmxlLnJhZGl1cyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBhcnRpY2xlc09iajoge1xuICAgICAgICAgICAgICAgICAgICBvcHRWYWx1ZTogKDAsIFV0aWxzXzEuZ2V0UmFuZ2VNYXgpKHBhcnRpY2xlLm9wdGlvbnMuc2l6ZS52YWx1ZSkgKiBjb250YWluZXIucmV0aW5hLnBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwYXJ0aWNsZS5zaXplLnZhbHVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogUHJvY2Vzc0J1YmJsZVR5cGVfMS5Qcm9jZXNzQnViYmxlVHlwZS5zaXplLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMucHJvY2VzcyhwYXJ0aWNsZSwgZGlzdE1vdXNlLCB0aW1lU3BlbnQsIHNpemVEYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IG9wYWNpdHlEYXRhID0ge1xuICAgICAgICAgICAgICAgIGJ1YmJsZU9iajoge1xuICAgICAgICAgICAgICAgICAgICBvcHRWYWx1ZTogb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5vcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGFydGljbGUuYnViYmxlLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZXNPYmo6IHtcbiAgICAgICAgICAgICAgICAgICAgb3B0VmFsdWU6ICgwLCBVdGlsc18xLmdldFJhbmdlTWF4KShwYXJ0aWNsZS5vcHRpb25zLm9wYWNpdHkudmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKF9iID0gKF9hID0gcGFydGljbGUub3BhY2l0eSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhbHVlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAxLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogUHJvY2Vzc0J1YmJsZVR5cGVfMS5Qcm9jZXNzQnViYmxlVHlwZS5vcGFjaXR5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMucHJvY2VzcyhwYXJ0aWNsZSwgZGlzdE1vdXNlLCB0aW1lU3BlbnQsIG9wYWNpdHlEYXRhKTtcbiAgICAgICAgICAgIGlmICghY29udGFpbmVyLmJ1YmJsZS5kdXJhdGlvbkVuZCkge1xuICAgICAgICAgICAgICAgIGlmIChkaXN0TW91c2UgPD0gY29udGFpbmVyLnJldGluYS5idWJibGVNb2RlRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckJ1YmJsZUNvbG9yKHBhcnRpY2xlLCBkaXN0TW91c2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBhcnRpY2xlLmJ1YmJsZS5jb2xvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcGFydGljbGUuYnViYmxlLmNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGhvdmVyQnViYmxlKCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciwgbW91c2VQb3MgPSBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5tb3VzZS5wb3NpdGlvbjtcbiAgICAgICAgaWYgKG1vdXNlUG9zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGNvbnRhaW5lci5yZXRpbmEuYnViYmxlTW9kZURpc3RhbmNlLCBxdWVyeSA9IGNvbnRhaW5lci5wYXJ0aWNsZXMucXVhZFRyZWUucXVlcnlDaXJjbGUobW91c2VQb3MsIGRpc3RhbmNlKTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNsZSBvZiBxdWVyeSkge1xuICAgICAgICAgICAgcGFydGljbGUuYnViYmxlLmluUmFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgcG9zID0gcGFydGljbGUuZ2V0UG9zaXRpb24oKSwgcG9pbnREaXN0YW5jZSA9ICgwLCBVdGlsc18xLmdldERpc3RhbmNlKShwb3MsIG1vdXNlUG9zKSwgcmF0aW8gPSAxIC0gcG9pbnREaXN0YW5jZSAvIGRpc3RhbmNlO1xuICAgICAgICAgICAgaWYgKHBvaW50RGlzdGFuY2UgPD0gZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAocmF0aW8gPj0gMCAmJiBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5zdGF0dXMgPT09IFV0aWxzXzEuQ29uc3RhbnRzLm1vdXNlTW92ZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJCdWJibGVTaXplKHBhcnRpY2xlLCByYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJCdWJibGVPcGFjaXR5KHBhcnRpY2xlLCByYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJCdWJibGVDb2xvcihwYXJ0aWNsZSwgcmF0aW8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXQocGFydGljbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5LnN0YXR1cyA9PT0gVXRpbHNfMS5Db25zdGFudHMubW91c2VMZWF2ZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldChwYXJ0aWNsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaG92ZXJCdWJibGVTaXplKHBhcnRpY2xlLCByYXRpbywgZGl2QnViYmxlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBtb2RlU2l6ZSA9IChkaXZCdWJibGUgPT09IG51bGwgfHwgZGl2QnViYmxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkaXZCdWJibGUuc2l6ZSkgPyBkaXZCdWJibGUuc2l6ZSAqIGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbyA6IGNvbnRhaW5lci5yZXRpbmEuYnViYmxlTW9kZVNpemU7XG4gICAgICAgIGlmIChtb2RlU2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0U2l6ZSA9ICgwLCBVdGlsc18xLmdldFJhbmdlTWF4KShwYXJ0aWNsZS5vcHRpb25zLnNpemUudmFsdWUpICogY29udGFpbmVyLnJldGluYS5waXhlbFJhdGlvO1xuICAgICAgICBjb25zdCBwU2l6ZSA9IHBhcnRpY2xlLnNpemUudmFsdWU7XG4gICAgICAgIGNvbnN0IHNpemUgPSBjYWxjdWxhdGVCdWJibGVWYWx1ZShwU2l6ZSwgbW9kZVNpemUsIG9wdFNpemUsIHJhdGlvKTtcbiAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFydGljbGUuYnViYmxlLnJhZGl1cyA9IHNpemU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaG92ZXJCdWJibGVPcGFjaXR5KHBhcnRpY2xlLCByYXRpbywgZGl2QnViYmxlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciwgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zLCBtb2RlT3BhY2l0eSA9IChfYSA9IGRpdkJ1YmJsZSA9PT0gbnVsbCB8fCBkaXZCdWJibGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRpdkJ1YmJsZS5vcGFjaXR5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLm9wYWNpdHk7XG4gICAgICAgIGlmICghbW9kZU9wYWNpdHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRPcGFjaXR5ID0gcGFydGljbGUub3B0aW9ucy5vcGFjaXR5LnZhbHVlO1xuICAgICAgICBjb25zdCBwT3BhY2l0eSA9IChfYyA9IChfYiA9IHBhcnRpY2xlLm9wYWNpdHkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi52YWx1ZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMTtcbiAgICAgICAgY29uc3Qgb3BhY2l0eSA9IGNhbGN1bGF0ZUJ1YmJsZVZhbHVlKHBPcGFjaXR5LCBtb2RlT3BhY2l0eSwgKDAsIFV0aWxzXzEuZ2V0UmFuZ2VNYXgpKG9wdE9wYWNpdHkpLCByYXRpbyk7XG4gICAgICAgIGlmIChvcGFjaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcnRpY2xlLmJ1YmJsZS5vcGFjaXR5ID0gb3BhY2l0eTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBob3ZlckJ1YmJsZUNvbG9yKHBhcnRpY2xlLCByYXRpbywgZGl2QnViYmxlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICBjb25zdCBidWJibGVPcHRpb25zID0gZGl2QnViYmxlICE9PSBudWxsICYmIGRpdkJ1YmJsZSAhPT0gdm9pZCAwID8gZGl2QnViYmxlIDogb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZTtcbiAgICAgICAgaWYgKCFwYXJ0aWNsZS5idWJibGUuZmluYWxDb2xvcikge1xuICAgICAgICAgICAgY29uc3QgbW9kZUNvbG9yID0gYnViYmxlT3B0aW9ucy5jb2xvcjtcbiAgICAgICAgICAgIGlmICghbW9kZUNvbG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYnViYmxlQ29sb3IgPSBtb2RlQ29sb3IgaW5zdGFuY2VvZiBBcnJheSA/ICgwLCBVdGlsc18xLml0ZW1Gcm9tQXJyYXkpKG1vZGVDb2xvcikgOiBtb2RlQ29sb3I7XG4gICAgICAgICAgICBwYXJ0aWNsZS5idWJibGUuZmluYWxDb2xvciA9ICgwLCBVdGlsc18xLmNvbG9yVG9Ic2wpKGJ1YmJsZUNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcnRpY2xlLmJ1YmJsZS5maW5hbENvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1YmJsZU9wdGlvbnMubWl4KSB7XG4gICAgICAgICAgICBwYXJ0aWNsZS5idWJibGUuY29sb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBwQ29sb3IgPSBwYXJ0aWNsZS5nZXRGaWxsQ29sb3IoKTtcbiAgICAgICAgICAgIHBhcnRpY2xlLmJ1YmJsZS5jb2xvciA9IHBDb2xvclxuICAgICAgICAgICAgICAgID8gKDAsIFV0aWxzXzEucmdiVG9Ic2wpKCgwLCBVdGlsc18xLmNvbG9yTWl4KShwQ29sb3IsIHBhcnRpY2xlLmJ1YmJsZS5maW5hbENvbG9yLCAxIC0gcmF0aW8sIHJhdGlvKSlcbiAgICAgICAgICAgICAgICA6IHBhcnRpY2xlLmJ1YmJsZS5maW5hbENvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFydGljbGUuYnViYmxlLmNvbG9yID0gcGFydGljbGUuYnViYmxlLmZpbmFsQ29sb3I7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkJ1YmJsZXIgPSBCdWJibGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlByb2Nlc3NCdWJibGVUeXBlID0gdm9pZCAwO1xudmFyIFByb2Nlc3NCdWJibGVUeXBlO1xuKGZ1bmN0aW9uIChQcm9jZXNzQnViYmxlVHlwZSkge1xuICAgIFByb2Nlc3NCdWJibGVUeXBlW1wiY29sb3JcIl0gPSBcImNvbG9yXCI7XG4gICAgUHJvY2Vzc0J1YmJsZVR5cGVbXCJvcGFjaXR5XCJdID0gXCJvcGFjaXR5XCI7XG4gICAgUHJvY2Vzc0J1YmJsZVR5cGVbXCJzaXplXCJdID0gXCJzaXplXCI7XG59KShQcm9jZXNzQnViYmxlVHlwZSA9IGV4cG9ydHMuUHJvY2Vzc0J1YmJsZVR5cGUgfHwgKGV4cG9ydHMuUHJvY2Vzc0J1YmJsZVR5cGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRFeHRlcm5hbEJ1YmJsZUludGVyYWN0aW9uID0gdm9pZCAwO1xuY29uc3QgQnViYmxlcl8xID0gcmVxdWlyZShcIi4vQnViYmxlclwiKTtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRFeHRlcm5hbEJ1YmJsZUludGVyYWN0aW9uKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkSW50ZXJhY3RvcihcImV4dGVybmFsQnViYmxlXCIsIChjb250YWluZXIpID0+IG5ldyBCdWJibGVyXzEuQnViYmxlcihjb250YWluZXIpKTtcbn1cbmV4cG9ydHMubG9hZEV4dGVybmFsQnViYmxlSW50ZXJhY3Rpb24gPSBsb2FkRXh0ZXJuYWxCdWJibGVJbnRlcmFjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db25uZWN0b3IgPSB2b2lkIDA7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL1V0aWxzXCIpO1xuY29uc3QgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9FbnVtc1wiKTtcbmNvbnN0IEV4dGVybmFsSW50ZXJhY3RvckJhc2VfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9Db3JlL0V4dGVybmFsSW50ZXJhY3RvckJhc2VcIik7XG5jbGFzcyBDb25uZWN0b3IgZXh0ZW5kcyBFeHRlcm5hbEludGVyYWN0b3JCYXNlXzEuRXh0ZXJuYWxJbnRlcmFjdG9yQmFzZSB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XG4gICAgfVxuICAgIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsIG1vdXNlID0gY29udGFpbmVyLmludGVyYWN0aXZpdHkubW91c2UsIGV2ZW50cyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zLmludGVyYWN0aXZpdHkuZXZlbnRzO1xuICAgICAgICBpZiAoIShldmVudHMub25Ib3Zlci5lbmFibGUgJiYgbW91c2UucG9zaXRpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBVdGlsc18xLmlzSW5BcnJheSkoRW51bXNfMS5Ib3Zlck1vZGUuY29ubmVjdCwgZXZlbnRzLm9uSG92ZXIubW9kZSk7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgIH1cbiAgICBpbnRlcmFjdCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsIG9wdGlvbnMgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25Ib3Zlci5lbmFibGUgJiYgY29udGFpbmVyLmludGVyYWN0aXZpdHkuc3RhdHVzID09PSBcIm1vdXNlbW92ZVwiKSB7XG4gICAgICAgICAgICBjb25zdCBtb3VzZVBvcyA9IGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5Lm1vdXNlLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKCFtb3VzZVBvcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoY29udGFpbmVyLnJldGluYS5jb25uZWN0TW9kZVJhZGl1cyksIHF1ZXJ5ID0gY29udGFpbmVyLnBhcnRpY2xlcy5xdWFkVHJlZS5xdWVyeUNpcmNsZShtb3VzZVBvcywgZGlzdGFuY2UpO1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwMSBvZiBxdWVyeSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvczEgPSBwMS5nZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcDIgb2YgcXVlcnkuc2xpY2UoaSArIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvczIgPSBwMi5nZXRQb3NpdGlvbigpLCBkaXN0TWF4ID0gTWF0aC5hYnMoY29udGFpbmVyLnJldGluYS5jb25uZWN0TW9kZURpc3RhbmNlKSwgeERpZmYgPSBNYXRoLmFicyhwb3MxLnggLSBwb3MyLngpLCB5RGlmZiA9IE1hdGguYWJzKHBvczEueSAtIHBvczIueSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4RGlmZiA8IGRpc3RNYXggJiYgeURpZmYgPCBkaXN0TWF4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuY2FudmFzLmRyYXdDb25uZWN0TGluZShwMSwgcDIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQ29ubmVjdG9yID0gQ29ubmVjdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRFeHRlcm5hbENvbm5lY3RJbnRlcmFjdGlvbiA9IHZvaWQgMDtcbmNvbnN0IENvbm5lY3Rvcl8xID0gcmVxdWlyZShcIi4vQ29ubmVjdG9yXCIpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZEV4dGVybmFsQ29ubmVjdEludGVyYWN0aW9uKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkSW50ZXJhY3RvcihcImV4dGVybmFsQ29ubmVjdFwiLCAoY29udGFpbmVyKSA9PiBuZXcgQ29ubmVjdG9yXzEuQ29ubmVjdG9yKGNvbnRhaW5lcikpO1xufVxuZXhwb3J0cy5sb2FkRXh0ZXJuYWxDb25uZWN0SW50ZXJhY3Rpb24gPSBsb2FkRXh0ZXJuYWxDb25uZWN0SW50ZXJhY3Rpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR3JhYmJlciA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vVXRpbHNcIik7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL0VudW1zXCIpO1xuY29uc3QgRXh0ZXJuYWxJbnRlcmFjdG9yQmFzZV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL0NvcmUvRXh0ZXJuYWxJbnRlcmFjdG9yQmFzZVwiKTtcbmNsYXNzIEdyYWJiZXIgZXh0ZW5kcyBFeHRlcm5hbEludGVyYWN0b3JCYXNlXzEuRXh0ZXJuYWxJbnRlcmFjdG9yQmFzZSB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XG4gICAgfVxuICAgIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsIG1vdXNlID0gY29udGFpbmVyLmludGVyYWN0aXZpdHkubW91c2UsIGV2ZW50cyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zLmludGVyYWN0aXZpdHkuZXZlbnRzO1xuICAgICAgICByZXR1cm4gZXZlbnRzLm9uSG92ZXIuZW5hYmxlICYmICEhbW91c2UucG9zaXRpb24gJiYgKDAsIFV0aWxzXzEuaXNJbkFycmF5KShFbnVtc18xLkhvdmVyTW9kZS5ncmFiLCBldmVudHMub25Ib3Zlci5tb2RlKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgfVxuICAgIGludGVyYWN0KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnMsIGludGVyYWN0aXZpdHkgPSBvcHRpb25zLmludGVyYWN0aXZpdHk7XG4gICAgICAgIGlmIChpbnRlcmFjdGl2aXR5LmV2ZW50cy5vbkhvdmVyLmVuYWJsZSAmJiBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5zdGF0dXMgPT09IFV0aWxzXzEuQ29uc3RhbnRzLm1vdXNlTW92ZUV2ZW50KSB7XG4gICAgICAgICAgICBjb25zdCBtb3VzZVBvcyA9IGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5Lm1vdXNlLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKCFtb3VzZVBvcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gY29udGFpbmVyLnJldGluYS5ncmFiTW9kZURpc3RhbmNlLCBxdWVyeSA9IGNvbnRhaW5lci5wYXJ0aWNsZXMucXVhZFRyZWUucXVlcnlDaXJjbGUobW91c2VQb3MsIGRpc3RhbmNlKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydGljbGUgb2YgcXVlcnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJ0aWNsZS5nZXRQb3NpdGlvbigpLCBwb2ludERpc3RhbmNlID0gKDAsIFV0aWxzXzEuZ2V0RGlzdGFuY2UpKHBvcywgbW91c2VQb3MpO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludERpc3RhbmNlIDw9IGRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdyYWJMaW5lT3B0aW9ucyA9IGludGVyYWN0aXZpdHkubW9kZXMuZ3JhYi5saW5rcywgbGluZU9wYWNpdHkgPSBncmFiTGluZU9wdGlvbnMub3BhY2l0eSwgb3BhY2l0eUxpbmUgPSBsaW5lT3BhY2l0eSAtIChwb2ludERpc3RhbmNlICogbGluZU9wYWNpdHkpIC8gZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcGFjaXR5TGluZSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRDb2xvciA9IChfYSA9IGdyYWJMaW5lT3B0aW9ucy5jb2xvcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcGFydGljbGUub3B0aW9ucy5saW5rcy5jb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWluZXIucGFydGljbGVzLmdyYWJMaW5lQ29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtzT3B0aW9ucyA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5ncmFiLmxpbmtzO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnBhcnRpY2xlcy5ncmFiTGluZUNvbG9yID0gKDAsIFV0aWxzXzEuZ2V0TGlua1JhbmRvbUNvbG9yKShvcHRDb2xvciwgbGlua3NPcHRpb25zLmJsaW5rLCBsaW5rc09wdGlvbnMuY29uc2VudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3JMaW5lID0gKDAsIFV0aWxzXzEuZ2V0TGlua0NvbG9yKShwYXJ0aWNsZSwgdW5kZWZpbmVkLCBjb250YWluZXIucGFydGljbGVzLmdyYWJMaW5lQ29sb3IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbG9yTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jYW52YXMuZHJhd0dyYWJMaW5lKHBhcnRpY2xlLCBjb2xvckxpbmUsIG9wYWNpdHlMaW5lLCBtb3VzZVBvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5HcmFiYmVyID0gR3JhYmJlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5sb2FkRXh0ZXJuYWxHcmFiSW50ZXJhY3Rpb24gPSB2b2lkIDA7XG5jb25zdCBHcmFiYmVyXzEgPSByZXF1aXJlKFwiLi9HcmFiYmVyXCIpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZEV4dGVybmFsR3JhYkludGVyYWN0aW9uKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkSW50ZXJhY3RvcihcImV4dGVybmFsR3JhYlwiLCAoY29udGFpbmVyKSA9PiBuZXcgR3JhYmJlcl8xLkdyYWJiZXIoY29udGFpbmVyKSk7XG59XG5leHBvcnRzLmxvYWRFeHRlcm5hbEdyYWJJbnRlcmFjdGlvbiA9IGxvYWRFeHRlcm5hbEdyYWJJbnRlcmFjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXB1bHNlciA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vRW51bXNcIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL1V0aWxzXCIpO1xuY29uc3QgVmVjdG9yXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vQ29yZS9QYXJ0aWNsZS9WZWN0b3JcIik7XG5jb25zdCBFeHRlcm5hbEludGVyYWN0b3JCYXNlXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vQ29yZS9FeHRlcm5hbEludGVyYWN0b3JCYXNlXCIpO1xuY2xhc3MgUmVwdWxzZXIgZXh0ZW5kcyBFeHRlcm5hbEludGVyYWN0b3JCYXNlXzEuRXh0ZXJuYWxJbnRlcmFjdG9yQmFzZSB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XG4gICAgfVxuICAgIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsIG9wdGlvbnMgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucywgbW91c2UgPSBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5tb3VzZSwgZXZlbnRzID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5LmV2ZW50cywgZGl2cyA9IGV2ZW50cy5vbkRpdiwgZGl2UmVwdWxzZSA9ICgwLCBVdGlsc18xLmlzRGl2TW9kZUVuYWJsZWQpKEVudW1zXzEuRGl2TW9kZS5yZXB1bHNlLCBkaXZzKTtcbiAgICAgICAgaWYgKCEoZGl2UmVwdWxzZSB8fCAoZXZlbnRzLm9uSG92ZXIuZW5hYmxlICYmIG1vdXNlLnBvc2l0aW9uKSB8fCAoZXZlbnRzLm9uQ2xpY2suZW5hYmxlICYmIG1vdXNlLmNsaWNrUG9zaXRpb24pKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhvdmVyTW9kZSA9IGV2ZW50cy5vbkhvdmVyLm1vZGUsIGNsaWNrTW9kZSA9IGV2ZW50cy5vbkNsaWNrLm1vZGU7XG4gICAgICAgIHJldHVybiAoMCwgVXRpbHNfMS5pc0luQXJyYXkpKEVudW1zXzEuSG92ZXJNb2RlLnJlcHVsc2UsIGhvdmVyTW9kZSkgfHwgKDAsIFV0aWxzXzEuaXNJbkFycmF5KShFbnVtc18xLkNsaWNrTW9kZS5yZXB1bHNlLCBjbGlja01vZGUpIHx8IGRpdlJlcHVsc2U7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgIH1cbiAgICBpbnRlcmFjdCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsIG9wdGlvbnMgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucywgbW91c2VNb3ZlU3RhdHVzID0gY29udGFpbmVyLmludGVyYWN0aXZpdHkuc3RhdHVzID09PSBVdGlsc18xLkNvbnN0YW50cy5tb3VzZU1vdmVFdmVudCwgZXZlbnRzID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5LmV2ZW50cywgaG92ZXJFbmFibGVkID0gZXZlbnRzLm9uSG92ZXIuZW5hYmxlLCBob3Zlck1vZGUgPSBldmVudHMub25Ib3Zlci5tb2RlLCBjbGlja0VuYWJsZWQgPSBldmVudHMub25DbGljay5lbmFibGUsIGNsaWNrTW9kZSA9IGV2ZW50cy5vbkNsaWNrLm1vZGUsIGRpdnMgPSBldmVudHMub25EaXY7XG4gICAgICAgIGlmIChtb3VzZU1vdmVTdGF0dXMgJiYgaG92ZXJFbmFibGVkICYmICgwLCBVdGlsc18xLmlzSW5BcnJheSkoRW51bXNfMS5Ib3Zlck1vZGUucmVwdWxzZSwgaG92ZXJNb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5ob3ZlclJlcHVsc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjbGlja0VuYWJsZWQgJiYgKDAsIFV0aWxzXzEuaXNJbkFycmF5KShFbnVtc18xLkNsaWNrTW9kZS5yZXB1bHNlLCBjbGlja01vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLmNsaWNrUmVwdWxzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgKDAsIFV0aWxzXzEuZGl2TW9kZUV4ZWN1dGUpKEVudW1zXzEuRGl2TW9kZS5yZXB1bHNlLCBkaXZzLCAoc2VsZWN0b3IsIGRpdikgPT4gdGhpcy5zaW5nbGVTZWxlY3RvclJlcHVsc2Uoc2VsZWN0b3IsIGRpdikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNpbmdsZVNlbGVjdG9yUmVwdWxzZShzZWxlY3RvciwgZGl2KSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBxdWVyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICBpZiAoIXF1ZXJ5Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHF1ZXJ5LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBpdGVtLCBweFJhdGlvID0gY29udGFpbmVyLnJldGluYS5waXhlbFJhdGlvLCBwb3MgPSB7XG4gICAgICAgICAgICAgICAgeDogKGVsZW0ub2Zmc2V0TGVmdCArIGVsZW0ub2Zmc2V0V2lkdGggLyAyKSAqIHB4UmF0aW8sXG4gICAgICAgICAgICAgICAgeTogKGVsZW0ub2Zmc2V0VG9wICsgZWxlbS5vZmZzZXRIZWlnaHQgLyAyKSAqIHB4UmF0aW8sXG4gICAgICAgICAgICB9LCByZXB1bHNlUmFkaXVzID0gKGVsZW0ub2Zmc2V0V2lkdGggLyAyKSAqIHB4UmF0aW8sIGFyZWEgPSBkaXYudHlwZSA9PT0gRW51bXNfMS5EaXZUeXBlLmNpcmNsZVxuICAgICAgICAgICAgICAgID8gbmV3IFV0aWxzXzEuQ2lyY2xlKHBvcy54LCBwb3MueSwgcmVwdWxzZVJhZGl1cylcbiAgICAgICAgICAgICAgICA6IG5ldyBVdGlsc18xLlJlY3RhbmdsZShlbGVtLm9mZnNldExlZnQgKiBweFJhdGlvLCBlbGVtLm9mZnNldFRvcCAqIHB4UmF0aW8sIGVsZW0ub2Zmc2V0V2lkdGggKiBweFJhdGlvLCBlbGVtLm9mZnNldEhlaWdodCAqIHB4UmF0aW8pLCBkaXZzID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5yZXB1bHNlLmRpdnMsIGRpdlJlcHVsc2UgPSAoMCwgVXRpbHNfMS5kaXZNb2RlKShkaXZzLCBlbGVtKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1JlcHVsc2UocG9zLCByZXB1bHNlUmFkaXVzLCBhcmVhLCBkaXZSZXB1bHNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhvdmVyUmVwdWxzZSgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsIG1vdXNlUG9zID0gY29udGFpbmVyLmludGVyYWN0aXZpdHkubW91c2UucG9zaXRpb247XG4gICAgICAgIGlmICghbW91c2VQb3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXB1bHNlUmFkaXVzID0gY29udGFpbmVyLnJldGluYS5yZXB1bHNlTW9kZURpc3RhbmNlO1xuICAgICAgICB0aGlzLnByb2Nlc3NSZXB1bHNlKG1vdXNlUG9zLCByZXB1bHNlUmFkaXVzLCBuZXcgVXRpbHNfMS5DaXJjbGUobW91c2VQb3MueCwgbW91c2VQb3MueSwgcmVwdWxzZVJhZGl1cykpO1xuICAgIH1cbiAgICBwcm9jZXNzUmVwdWxzZShwb3NpdGlvbiwgcmVwdWxzZVJhZGl1cywgYXJlYSwgZGl2UmVwdWxzZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBxdWVyeSA9IGNvbnRhaW5lci5wYXJ0aWNsZXMucXVhZFRyZWUucXVlcnkoYXJlYSksIHJlcHVsc2VPcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5yZXB1bHNlO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2xlIG9mIHF1ZXJ5KSB7XG4gICAgICAgICAgICBjb25zdCB7IGR4LCBkeSwgZGlzdGFuY2UgfSA9ICgwLCBVdGlsc18xLmdldERpc3RhbmNlcykocGFydGljbGUucG9zaXRpb24sIHBvc2l0aW9uKSwgdmVsb2NpdHkgPSAoKF9hID0gZGl2UmVwdWxzZSA9PT0gbnVsbCB8fCBkaXZSZXB1bHNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkaXZSZXB1bHNlLnNwZWVkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiByZXB1bHNlT3B0aW9ucy5zcGVlZCkgKiByZXB1bHNlT3B0aW9ucy5mYWN0b3IsIHJlcHVsc2VGYWN0b3IgPSAoMCwgVXRpbHNfMS5jbGFtcCkoKDAsIFV0aWxzXzEuY2FsY0Vhc2luZykoMSAtIGRpc3RhbmNlIC8gcmVwdWxzZVJhZGl1cywgcmVwdWxzZU9wdGlvbnMuZWFzaW5nKSAqIHZlbG9jaXR5LCAwLCByZXB1bHNlT3B0aW9ucy5tYXhTcGVlZCksIG5vcm1WZWMgPSBWZWN0b3JfMS5WZWN0b3IuY3JlYXRlKGRpc3RhbmNlID09PSAwID8gdmVsb2NpdHkgOiAoZHggLyBkaXN0YW5jZSkgKiByZXB1bHNlRmFjdG9yLCBkaXN0YW5jZSA9PT0gMCA/IHZlbG9jaXR5IDogKGR5IC8gZGlzdGFuY2UpICogcmVwdWxzZUZhY3Rvcik7XG4gICAgICAgICAgICBwYXJ0aWNsZS5wb3NpdGlvbi5hZGRUbyhub3JtVmVjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGlja1JlcHVsc2UoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBpZiAoIWNvbnRhaW5lci5yZXB1bHNlLmZpbmlzaCkge1xuICAgICAgICAgICAgaWYgKCFjb250YWluZXIucmVwdWxzZS5jb3VudCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZXB1bHNlLmNvdW50ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRhaW5lci5yZXB1bHNlLmNvdW50Kys7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLnJlcHVsc2UuY291bnQgPT09IGNvbnRhaW5lci5wYXJ0aWNsZXMuY291bnQpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIucmVwdWxzZS5maW5pc2ggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb250YWluZXIucmVwdWxzZS5jbGlja2luZykge1xuICAgICAgICAgICAgY29uc3QgcmVwdWxzZURpc3RhbmNlID0gY29udGFpbmVyLnJldGluYS5yZXB1bHNlTW9kZURpc3RhbmNlLCByZXB1bHNlUmFkaXVzID0gTWF0aC5wb3cocmVwdWxzZURpc3RhbmNlIC8gNiwgMyksIG1vdXNlQ2xpY2tQb3MgPSBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5tb3VzZS5jbGlja1Bvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKG1vdXNlQ2xpY2tQb3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gbmV3IFV0aWxzXzEuQ2lyY2xlKG1vdXNlQ2xpY2tQb3MueCwgbW91c2VDbGlja1Bvcy55LCByZXB1bHNlUmFkaXVzKSwgcXVlcnkgPSBjb250YWluZXIucGFydGljbGVzLnF1YWRUcmVlLnF1ZXJ5KHJhbmdlKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydGljbGUgb2YgcXVlcnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGR4LCBkeSwgZGlzdGFuY2UgfSA9ICgwLCBVdGlsc18xLmdldERpc3RhbmNlcykobW91c2VDbGlja1BvcywgcGFydGljbGUucG9zaXRpb24pLCBkID0gZGlzdGFuY2UgKiogMiwgdmVsb2NpdHkgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLnJlcHVsc2Uuc3BlZWQsIGZvcmNlID0gKC1yZXB1bHNlUmFkaXVzICogdmVsb2NpdHkpIC8gZDtcbiAgICAgICAgICAgICAgICBpZiAoZCA8PSByZXB1bHNlUmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZXB1bHNlLnBhcnRpY2xlcy5wdXNoKHBhcnRpY2xlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVjdCA9IFZlY3Rvcl8xLlZlY3Rvci5jcmVhdGUoZHgsIGR5KTtcbiAgICAgICAgICAgICAgICAgICAgdmVjdC5sZW5ndGggPSBmb3JjZTtcbiAgICAgICAgICAgICAgICAgICAgcGFydGljbGUudmVsb2NpdHkuc2V0VG8odmVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lci5yZXB1bHNlLmNsaWNraW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNsZSBvZiBjb250YWluZXIucmVwdWxzZS5wYXJ0aWNsZXMpIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS52ZWxvY2l0eS5zZXRUbyhwYXJ0aWNsZS5pbml0aWFsVmVsb2NpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGFpbmVyLnJlcHVsc2UucGFydGljbGVzID0gW107XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlJlcHVsc2VyID0gUmVwdWxzZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZEV4dGVybmFsUmVwdWxzZUludGVyYWN0aW9uID0gdm9pZCAwO1xuY29uc3QgUmVwdWxzZXJfMSA9IHJlcXVpcmUoXCIuL1JlcHVsc2VyXCIpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZEV4dGVybmFsUmVwdWxzZUludGVyYWN0aW9uKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkSW50ZXJhY3RvcihcImV4dGVybmFsUmVwdWxzZVwiLCAoY29udGFpbmVyKSA9PiBuZXcgUmVwdWxzZXJfMS5SZXB1bHNlcihjb250YWluZXIpKTtcbn1cbmV4cG9ydHMubG9hZEV4dGVybmFsUmVwdWxzZUludGVyYWN0aW9uID0gbG9hZEV4dGVybmFsUmVwdWxzZUludGVyYWN0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRyYWlsTWFrZXIgPSB2b2lkIDA7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL1V0aWxzXCIpO1xuY29uc3QgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9FbnVtc1wiKTtcbmNvbnN0IEV4dGVybmFsSW50ZXJhY3RvckJhc2VfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9Db3JlL0V4dGVybmFsSW50ZXJhY3RvckJhc2VcIik7XG5jbGFzcyBUcmFpbE1ha2VyIGV4dGVuZHMgRXh0ZXJuYWxJbnRlcmFjdG9yQmFzZV8xLkV4dGVybmFsSW50ZXJhY3RvckJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgICAgICBzdXBlcihjb250YWluZXIpO1xuICAgICAgICB0aGlzLmRlbGF5ID0gMDtcbiAgICB9XG4gICAgaW50ZXJhY3QoZGVsdGEpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBpZiAoIXRoaXMuY29udGFpbmVyLnJldGluYS5yZWR1Y2VGYWN0b3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciwgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zLCB0cmFpbE9wdGlvbnMgPSBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMudHJhaWwsIG9wdERlbGF5ID0gKHRyYWlsT3B0aW9ucy5kZWxheSAqIDEwMDApIC8gdGhpcy5jb250YWluZXIucmV0aW5hLnJlZHVjZUZhY3RvcjtcbiAgICAgICAgaWYgKHRoaXMuZGVsYXkgPCBvcHREZWxheSkge1xuICAgICAgICAgICAgdGhpcy5kZWxheSArPSBkZWx0YS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWxheSA8IG9wdERlbGF5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNhbkVtaXQgPSB0cnVlO1xuICAgICAgICBpZiAodHJhaWxPcHRpb25zLnBhdXNlT25TdG9wKSB7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLmludGVyYWN0aXZpdHkubW91c2UucG9zaXRpb24gPT09IHRoaXMubGFzdFBvc2l0aW9uIHx8XG4gICAgICAgICAgICAgICAgKCgoX2EgPSBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5tb3VzZS5wb3NpdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLngpID09PSAoKF9iID0gdGhpcy5sYXN0UG9zaXRpb24pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi54KSAmJlxuICAgICAgICAgICAgICAgICAgICAoKF9jID0gY29udGFpbmVyLmludGVyYWN0aXZpdHkubW91c2UucG9zaXRpb24pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy55KSA9PT0gKChfZCA9IHRoaXMubGFzdFBvc2l0aW9uKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QueSkpKSB7XG4gICAgICAgICAgICAgICAgY2FuRW1pdCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb250YWluZXIuaW50ZXJhY3Rpdml0eS5tb3VzZS5wb3NpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeDogY29udGFpbmVyLmludGVyYWN0aXZpdHkubW91c2UucG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICB5OiBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5tb3VzZS5wb3NpdGlvbi55LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxhc3RQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FuRW1pdCkge1xuICAgICAgICAgICAgY29udGFpbmVyLnBhcnRpY2xlcy5wdXNoKHRyYWlsT3B0aW9ucy5xdWFudGl0eSwgY29udGFpbmVyLmludGVyYWN0aXZpdHkubW91c2UsIHRyYWlsT3B0aW9ucy5wYXJ0aWNsZXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVsYXkgLT0gb3B0RGVsYXk7XG4gICAgfVxuICAgIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsIG9wdGlvbnMgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucywgbW91c2UgPSBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5tb3VzZSwgZXZlbnRzID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5LmV2ZW50cztcbiAgICAgICAgcmV0dXJuICgobW91c2UuY2xpY2tpbmcgJiYgbW91c2UuaW5zaWRlICYmICEhbW91c2UucG9zaXRpb24gJiYgKDAsIFV0aWxzXzEuaXNJbkFycmF5KShFbnVtc18xLkNsaWNrTW9kZS50cmFpbCwgZXZlbnRzLm9uQ2xpY2subW9kZSkpIHx8XG4gICAgICAgICAgICAobW91c2UuaW5zaWRlICYmICEhbW91c2UucG9zaXRpb24gJiYgKDAsIFV0aWxzXzEuaXNJbkFycmF5KShFbnVtc18xLkhvdmVyTW9kZS50cmFpbCwgZXZlbnRzLm9uSG92ZXIubW9kZSkpKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgfVxufVxuZXhwb3J0cy5UcmFpbE1ha2VyID0gVHJhaWxNYWtlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5sb2FkRXh0ZXJuYWxUcmFpbEludGVyYWN0aW9uID0gdm9pZCAwO1xuY29uc3QgVHJhaWxNYWtlcl8xID0gcmVxdWlyZShcIi4vVHJhaWxNYWtlclwiKTtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRFeHRlcm5hbFRyYWlsSW50ZXJhY3Rpb24odHNQYXJ0aWNsZXMpIHtcbiAgICBhd2FpdCB0c1BhcnRpY2xlcy5hZGRJbnRlcmFjdG9yKFwiZXh0ZXJuYWxUcmFpbFwiLCAoY29udGFpbmVyKSA9PiBuZXcgVHJhaWxNYWtlcl8xLlRyYWlsTWFrZXIoY29udGFpbmVyKSk7XG59XG5leHBvcnRzLmxvYWRFeHRlcm5hbFRyYWlsSW50ZXJhY3Rpb24gPSBsb2FkRXh0ZXJuYWxUcmFpbEludGVyYWN0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkF0dHJhY3RvciA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vVXRpbHNcIik7XG5jb25zdCBQYXJ0aWNsZXNJbnRlcmFjdG9yQmFzZV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL0NvcmUvUGFydGljbGVzSW50ZXJhY3RvckJhc2VcIik7XG5jbGFzcyBBdHRyYWN0b3IgZXh0ZW5kcyBQYXJ0aWNsZXNJbnRlcmFjdG9yQmFzZV8xLlBhcnRpY2xlc0ludGVyYWN0b3JCYXNlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcbiAgICB9XG4gICAgaW50ZXJhY3QocDEpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciwgZGlzdGFuY2UgPSAoX2EgPSBwMS5yZXRpbmEuYXR0cmFjdERpc3RhbmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb250YWluZXIucmV0aW5hLmF0dHJhY3REaXN0YW5jZSwgcG9zMSA9IHAxLmdldFBvc2l0aW9uKCksIHF1ZXJ5ID0gY29udGFpbmVyLnBhcnRpY2xlcy5xdWFkVHJlZS5xdWVyeUNpcmNsZShwb3MxLCBkaXN0YW5jZSk7XG4gICAgICAgIGZvciAoY29uc3QgcDIgb2YgcXVlcnkpIHtcbiAgICAgICAgICAgIGlmIChwMSA9PT0gcDIgfHwgIXAyLm9wdGlvbnMubW92ZS5hdHRyYWN0LmVuYWJsZSB8fCBwMi5kZXN0cm95ZWQgfHwgcDIuc3Bhd25pbmcpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvczIgPSBwMi5nZXRQb3NpdGlvbigpLCB7IGR4LCBkeSB9ID0gKDAsIFV0aWxzXzEuZ2V0RGlzdGFuY2VzKShwb3MxLCBwb3MyKSwgcm90YXRlID0gcDEub3B0aW9ucy5tb3ZlLmF0dHJhY3Qucm90YXRlLCBheCA9IGR4IC8gKHJvdGF0ZS54ICogMTAwMCksIGF5ID0gZHkgLyAocm90YXRlLnkgKiAxMDAwKSwgcDFGYWN0b3IgPSBwMi5zaXplLnZhbHVlIC8gcDEuc2l6ZS52YWx1ZSwgcDJGYWN0b3IgPSAxIC8gcDFGYWN0b3I7XG4gICAgICAgICAgICBwMS52ZWxvY2l0eS54IC09IGF4ICogcDFGYWN0b3I7XG4gICAgICAgICAgICBwMS52ZWxvY2l0eS55IC09IGF5ICogcDFGYWN0b3I7XG4gICAgICAgICAgICBwMi52ZWxvY2l0eS54ICs9IGF4ICogcDJGYWN0b3I7XG4gICAgICAgICAgICBwMi52ZWxvY2l0eS55ICs9IGF5ICogcDJGYWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNFbmFibGVkKHBhcnRpY2xlKSB7XG4gICAgICAgIHJldHVybiBwYXJ0aWNsZS5vcHRpb25zLm1vdmUuYXR0cmFjdC5lbmFibGU7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgIH1cbn1cbmV4cG9ydHMuQXR0cmFjdG9yID0gQXR0cmFjdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRQYXJ0aWNsZXNBdHRyYWN0SW50ZXJhY3Rpb24gPSB2b2lkIDA7XG5jb25zdCBBdHRyYWN0b3JfMSA9IHJlcXVpcmUoXCIuL0F0dHJhY3RvclwiKTtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRQYXJ0aWNsZXNBdHRyYWN0SW50ZXJhY3Rpb24odHNQYXJ0aWNsZXMpIHtcbiAgICBhd2FpdCB0c1BhcnRpY2xlcy5hZGRJbnRlcmFjdG9yKFwicGFydGljbGVzQXR0cmFjdFwiLCAoY29udGFpbmVyKSA9PiBuZXcgQXR0cmFjdG9yXzEuQXR0cmFjdG9yKGNvbnRhaW5lcikpO1xufVxuZXhwb3J0cy5sb2FkUGFydGljbGVzQXR0cmFjdEludGVyYWN0aW9uID0gbG9hZFBhcnRpY2xlc0F0dHJhY3RJbnRlcmFjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db2xsaWRlciA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vRW51bXNcIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL1V0aWxzXCIpO1xuY29uc3QgUGFydGljbGVzSW50ZXJhY3RvckJhc2VfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9Db3JlL1BhcnRpY2xlc0ludGVyYWN0b3JCYXNlXCIpO1xuZnVuY3Rpb24gYm91bmNlKHAxLCBwMikge1xuICAgICgwLCBVdGlsc18xLmNpcmNsZUJvdW5jZSkoKDAsIFV0aWxzXzEuY2lyY2xlQm91bmNlRGF0YUZyb21QYXJ0aWNsZSkocDEpLCAoMCwgVXRpbHNfMS5jaXJjbGVCb3VuY2VEYXRhRnJvbVBhcnRpY2xlKShwMikpO1xufVxuZnVuY3Rpb24gZGVzdHJveShwMSwgcDIpIHtcbiAgICBpZiAoIXAxLnVuYnJlYWthYmxlICYmICFwMi51bmJyZWFrYWJsZSkge1xuICAgICAgICBib3VuY2UocDEsIHAyKTtcbiAgICB9XG4gICAgaWYgKHAxLmdldFJhZGl1cygpID09PSB1bmRlZmluZWQgJiYgcDIuZ2V0UmFkaXVzKCkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwMS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHAxLmdldFJhZGl1cygpICE9PSB1bmRlZmluZWQgJiYgcDIuZ2V0UmFkaXVzKCkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwMi5kZXN0cm95KCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHAxLmdldFJhZGl1cygpICE9PSB1bmRlZmluZWQgJiYgcDIuZ2V0UmFkaXVzKCkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAocDEuZ2V0UmFkaXVzKCkgPj0gcDIuZ2V0UmFkaXVzKCkpIHtcbiAgICAgICAgICAgIHAyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHAxLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIENvbGxpZGVyIGV4dGVuZHMgUGFydGljbGVzSW50ZXJhY3RvckJhc2VfMS5QYXJ0aWNsZXNJbnRlcmFjdG9yQmFzZSB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XG4gICAgfVxuICAgIGlzRW5hYmxlZChwYXJ0aWNsZSkge1xuICAgICAgICByZXR1cm4gcGFydGljbGUub3B0aW9ucy5jb2xsaXNpb25zLmVuYWJsZTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgfVxuICAgIGludGVyYWN0KHAxKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBwb3MxID0gcDEuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgcmFkaXVzMSA9IHAxLmdldFJhZGl1cygpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IGNvbnRhaW5lci5wYXJ0aWNsZXMucXVhZFRyZWUucXVlcnlDaXJjbGUocG9zMSwgcmFkaXVzMSAqIDIpO1xuICAgICAgICBmb3IgKGNvbnN0IHAyIG9mIHF1ZXJ5KSB7XG4gICAgICAgICAgICBpZiAocDEgPT09IHAyIHx8XG4gICAgICAgICAgICAgICAgIXAyLm9wdGlvbnMuY29sbGlzaW9ucy5lbmFibGUgfHxcbiAgICAgICAgICAgICAgICBwMS5vcHRpb25zLmNvbGxpc2lvbnMubW9kZSAhPT0gcDIub3B0aW9ucy5jb2xsaXNpb25zLm1vZGUgfHxcbiAgICAgICAgICAgICAgICBwMi5kZXN0cm95ZWQgfHxcbiAgICAgICAgICAgICAgICBwMi5zcGF3bmluZykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zMiA9IHAyLmdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICBpZiAoTWF0aC5yb3VuZChwb3MxLnopICE9PSBNYXRoLnJvdW5kKHBvczIueikpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSAoMCwgVXRpbHNfMS5nZXREaXN0YW5jZSkocG9zMSwgcG9zMik7XG4gICAgICAgICAgICBjb25zdCByYWRpdXMyID0gcDIuZ2V0UmFkaXVzKCk7XG4gICAgICAgICAgICBjb25zdCBkaXN0UCA9IHJhZGl1czEgKyByYWRpdXMyO1xuICAgICAgICAgICAgaWYgKGRpc3QgPD0gZGlzdFApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVDb2xsaXNpb24ocDEsIHAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNvbHZlQ29sbGlzaW9uKHAxLCBwMikge1xuICAgICAgICBzd2l0Y2ggKHAxLm9wdGlvbnMuY29sbGlzaW9ucy5tb2RlKSB7XG4gICAgICAgICAgICBjYXNlIEVudW1zXzEuQ29sbGlzaW9uTW9kZS5hYnNvcmI6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFic29yYihwMSwgcDIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBFbnVtc18xLkNvbGxpc2lvbk1vZGUuYm91bmNlOiB7XG4gICAgICAgICAgICAgICAgYm91bmNlKHAxLCBwMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEVudW1zXzEuQ29sbGlzaW9uTW9kZS5kZXN0cm95OiB7XG4gICAgICAgICAgICAgICAgZGVzdHJveShwMSwgcDIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFic29yYihwMSwgcDIpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IGZwcyA9IGNvbnRhaW5lci5mcHNMaW1pdCAvIDEwMDA7XG4gICAgICAgIGlmIChwMS5nZXRSYWRpdXMoKSA9PT0gdW5kZWZpbmVkICYmIHAyLmdldFJhZGl1cygpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHAxLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwMS5nZXRSYWRpdXMoKSAhPT0gdW5kZWZpbmVkICYmIHAyLmdldFJhZGl1cygpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHAyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwMS5nZXRSYWRpdXMoKSAhPT0gdW5kZWZpbmVkICYmIHAyLmdldFJhZGl1cygpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChwMS5nZXRSYWRpdXMoKSA+PSBwMi5nZXRSYWRpdXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZhY3RvciA9ICgwLCBVdGlsc18xLmNsYW1wKShwMS5nZXRSYWRpdXMoKSAvIHAyLmdldFJhZGl1cygpLCAwLCBwMi5nZXRSYWRpdXMoKSkgKiBmcHM7XG4gICAgICAgICAgICAgICAgcDEuc2l6ZS52YWx1ZSArPSBmYWN0b3I7XG4gICAgICAgICAgICAgICAgcDIuc2l6ZS52YWx1ZSAtPSBmYWN0b3I7XG4gICAgICAgICAgICAgICAgaWYgKHAyLmdldFJhZGl1cygpIDw9IGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbykge1xuICAgICAgICAgICAgICAgICAgICBwMi5zaXplLnZhbHVlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcDIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZhY3RvciA9ICgwLCBVdGlsc18xLmNsYW1wKShwMi5nZXRSYWRpdXMoKSAvIHAxLmdldFJhZGl1cygpLCAwLCBwMS5nZXRSYWRpdXMoKSkgKiBmcHM7XG4gICAgICAgICAgICAgICAgcDEuc2l6ZS52YWx1ZSAtPSBmYWN0b3I7XG4gICAgICAgICAgICAgICAgcDIuc2l6ZS52YWx1ZSArPSBmYWN0b3I7XG4gICAgICAgICAgICAgICAgaWYgKHAxLmdldFJhZGl1cygpIDw9IGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbykge1xuICAgICAgICAgICAgICAgICAgICBwMS5zaXplLnZhbHVlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcDEuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQ29sbGlkZXIgPSBDb2xsaWRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5sb2FkUGFydGljbGVzQ29sbGlzaW9uc0ludGVyYWN0aW9uID0gdm9pZCAwO1xuY29uc3QgQ29sbGlkZXJfMSA9IHJlcXVpcmUoXCIuL0NvbGxpZGVyXCIpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZFBhcnRpY2xlc0NvbGxpc2lvbnNJbnRlcmFjdGlvbih0c1BhcnRpY2xlcykge1xuICAgIGF3YWl0IHRzUGFydGljbGVzLmFkZEludGVyYWN0b3IoXCJwYXJ0aWNsZXNDb2xsaXNpb25zXCIsIChjb250YWluZXIpID0+IG5ldyBDb2xsaWRlcl8xLkNvbGxpZGVyKGNvbnRhaW5lcikpO1xufVxuZXhwb3J0cy5sb2FkUGFydGljbGVzQ29sbGlzaW9uc0ludGVyYWN0aW9uID0gbG9hZFBhcnRpY2xlc0NvbGxpc2lvbnNJbnRlcmFjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MaW5rSW5zdGFuY2UgPSB2b2lkIDA7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL1V0aWxzXCIpO1xuY2xhc3MgTGlua0luc3RhbmNlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgfVxuICAgIHBhcnRpY2xlQ3JlYXRlZChwYXJ0aWNsZSkge1xuICAgICAgICBjb25zdCBsaW5rUGFydGljbGUgPSBwYXJ0aWNsZTtcbiAgICAgICAgbGlua1BhcnRpY2xlLmxpbmtzID0gW107XG4gICAgfVxuICAgIHBhcnRpY2xlRGVzdHJveWVkKHBhcnRpY2xlKSB7XG4gICAgICAgIGNvbnN0IGxpbmtQYXJ0aWNsZSA9IHBhcnRpY2xlO1xuICAgICAgICBsaW5rUGFydGljbGUubGlua3MgPSBbXTtcbiAgICB9XG4gICAgZHJhd1BhcnRpY2xlKGNvbnRleHQsIHBhcnRpY2xlKSB7XG4gICAgICAgIGNvbnN0IGxpbmtQYXJ0aWNsZSA9IHBhcnRpY2xlO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgcGFydGljbGVzID0gY29udGFpbmVyLnBhcnRpY2xlcztcbiAgICAgICAgY29uc3QgcE9wdGlvbnMgPSBwYXJ0aWNsZS5vcHRpb25zO1xuICAgICAgICBpZiAobGlua1BhcnRpY2xlLmxpbmtzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgY29uc3QgcDFMaW5rcyA9IGxpbmtQYXJ0aWNsZS5saW5rcy5maWx0ZXIoKGwpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rRnJlcSA9IGNvbnRhaW5lci5wYXJ0aWNsZXMuZ2V0TGlua0ZyZXF1ZW5jeShsaW5rUGFydGljbGUsIGwuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgIHJldHVybiBsaW5rRnJlcSA8PSBwT3B0aW9ucy5saW5rcy5mcmVxdWVuY3k7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluayBvZiBwMUxpbmtzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcDIgPSBsaW5rLmRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChwT3B0aW9ucy5saW5rcy50cmlhbmdsZXMuZW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtzID0gcDFMaW5rcy5tYXAoKGwpID0+IGwuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IHAyLmxpbmtzLmZpbHRlcigodCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlua0ZyZXEgPSBjb250YWluZXIucGFydGljbGVzLmdldExpbmtGcmVxdWVuY3kocDIsIHQuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpbmtGcmVxIDw9IHAyLm9wdGlvbnMubGlua3MuZnJlcXVlbmN5ICYmIGxpbmtzLmluZGV4T2YodC5kZXN0aW5hdGlvbikgPj0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2ZXJ0aWNlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdmVydGV4IG9mIHZlcnRpY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcDMgPSB2ZXJ0ZXguZGVzdGluYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpYW5nbGVGcmVxID0gcGFydGljbGVzLmdldFRyaWFuZ2xlRnJlcXVlbmN5KGxpbmtQYXJ0aWNsZSwgcDIsIHAzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpYW5nbGVGcmVxID4gcE9wdGlvbnMubGlua3MudHJpYW5nbGVzLmZyZXF1ZW5jeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGlua1RyaWFuZ2xlKGxpbmtQYXJ0aWNsZSwgbGluaywgdmVydGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGluay5vcGFjaXR5ID4gMCAmJiBjb250YWluZXIucmV0aW5hLmxpbmtzV2lkdGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xpbmtMaW5lKGxpbmtQYXJ0aWNsZSwgbGluayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZHJhd0xpbmtUcmlhbmdsZShwMSwgbGluazEsIGxpbmsyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucztcbiAgICAgICAgY29uc3QgcDIgPSBsaW5rMS5kZXN0aW5hdGlvbjtcbiAgICAgICAgY29uc3QgcDMgPSBsaW5rMi5kZXN0aW5hdGlvbjtcbiAgICAgICAgY29uc3QgdHJpYW5nbGVPcHRpb25zID0gcDEub3B0aW9ucy5saW5rcy50cmlhbmdsZXM7XG4gICAgICAgIGNvbnN0IG9wYWNpdHlUcmlhbmdsZSA9IChfYSA9IHRyaWFuZ2xlT3B0aW9ucy5vcGFjaXR5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAobGluazEub3BhY2l0eSArIGxpbmsyLm9wYWNpdHkpIC8gMjtcbiAgICAgICAgaWYgKG9wYWNpdHlUcmlhbmdsZSA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9zMSA9IHAxLmdldFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHBvczIgPSBwMi5nZXRQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBwb3MzID0gcDMuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgY29udGFpbmVyLmNhbnZhcy5kcmF3KChjdHgpID0+IHtcbiAgICAgICAgICAgIGlmICgoMCwgVXRpbHNfMS5nZXREaXN0YW5jZSkocG9zMSwgcG9zMikgPiBjb250YWluZXIucmV0aW5hLmxpbmtzRGlzdGFuY2UgfHxcbiAgICAgICAgICAgICAgICAoMCwgVXRpbHNfMS5nZXREaXN0YW5jZSkocG9zMywgcG9zMikgPiBjb250YWluZXIucmV0aW5hLmxpbmtzRGlzdGFuY2UgfHxcbiAgICAgICAgICAgICAgICAoMCwgVXRpbHNfMS5nZXREaXN0YW5jZSkocG9zMywgcG9zMSkgPiBjb250YWluZXIucmV0aW5hLmxpbmtzRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgY29sb3JUcmlhbmdsZSA9ICgwLCBVdGlsc18xLmNvbG9yVG9SZ2IpKHRyaWFuZ2xlT3B0aW9ucy5jb2xvcik7XG4gICAgICAgICAgICBpZiAoIWNvbG9yVHJpYW5nbGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rc09wdGlvbnMgPSBwMS5vcHRpb25zLmxpbmtzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtDb2xvciA9IGxpbmtzT3B0aW9ucy5pZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gY29udGFpbmVyLnBhcnRpY2xlcy5saW5rc0NvbG9ycy5nZXQobGlua3NPcHRpb25zLmlkKVxuICAgICAgICAgICAgICAgICAgICA6IGNvbnRhaW5lci5wYXJ0aWNsZXMubGlua3NDb2xvcjtcbiAgICAgICAgICAgICAgICBjb2xvclRyaWFuZ2xlID0gKDAsIFV0aWxzXzEuZ2V0TGlua0NvbG9yKShwMSwgcDIsIGxpbmtDb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNvbG9yVHJpYW5nbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoMCwgVXRpbHNfMS5kcmF3TGlua1RyaWFuZ2xlKShjdHgsIHBvczEsIHBvczIsIHBvczMsIG9wdGlvbnMuYmFja2dyb3VuZE1hc2suZW5hYmxlLCBvcHRpb25zLmJhY2tncm91bmRNYXNrLmNvbXBvc2l0ZSwgY29sb3JUcmlhbmdsZSwgb3BhY2l0eVRyaWFuZ2xlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRyYXdMaW5rTGluZShwMSwgbGluaykge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICBjb25zdCBwMiA9IGxpbmsuZGVzdGluYXRpb247XG4gICAgICAgIGxldCBvcGFjaXR5ID0gbGluay5vcGFjaXR5O1xuICAgICAgICBjb25zdCBwb3MxID0gcDEuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgcG9zMiA9IHAyLmdldFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnRhaW5lci5jYW52YXMuZHJhdygoY3R4KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgbGV0IGNvbG9yTGluZTtcbiAgICAgICAgICAgIGNvbnN0IHR3aW5rbGUgPSBwMS5vcHRpb25zLnR3aW5rbGUubGluZXM7XG4gICAgICAgICAgICBpZiAodHdpbmtsZS5lbmFibGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0d2lua2xlRnJlcSA9IHR3aW5rbGUuZnJlcXVlbmN5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHR3aW5rbGVSZ2IgPSAoMCwgVXRpbHNfMS5jb2xvclRvUmdiKSh0d2lua2xlLmNvbG9yKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0d2lua2xpbmcgPSBNYXRoLnJhbmRvbSgpIDwgdHdpbmtsZUZyZXE7XG4gICAgICAgICAgICAgICAgaWYgKHR3aW5rbGluZyAmJiB0d2lua2xlUmdiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3JMaW5lID0gdHdpbmtsZVJnYjtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eSA9IHR3aW5rbGUub3BhY2l0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNvbG9yTGluZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtzT3B0aW9ucyA9IHAxLm9wdGlvbnMubGlua3M7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlua0NvbG9yID0gbGlua3NPcHRpb25zLmlkICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBjb250YWluZXIucGFydGljbGVzLmxpbmtzQ29sb3JzLmdldChsaW5rc09wdGlvbnMuaWQpXG4gICAgICAgICAgICAgICAgICAgIDogY29udGFpbmVyLnBhcnRpY2xlcy5saW5rc0NvbG9yO1xuICAgICAgICAgICAgICAgIGNvbG9yTGluZSA9ICgwLCBVdGlsc18xLmdldExpbmtDb2xvcikocDEsIHAyLCBsaW5rQ29sb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjb2xvckxpbmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IChfYSA9IHAxLnJldGluYS5saW5rc1dpZHRoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb250YWluZXIucmV0aW5hLmxpbmtzV2lkdGg7XG4gICAgICAgICAgICBjb25zdCBtYXhEaXN0YW5jZSA9IChfYiA9IHAxLnJldGluYS5saW5rc0Rpc3RhbmNlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjb250YWluZXIucmV0aW5hLmxpbmtzRGlzdGFuY2U7XG4gICAgICAgICAgICAoMCwgVXRpbHNfMS5kcmF3TGlua0xpbmUpKGN0eCwgd2lkdGgsIHBvczEsIHBvczIsIG1heERpc3RhbmNlLCBjb250YWluZXIuY2FudmFzLnNpemUsIHAxLm9wdGlvbnMubGlua3Mud2FycCwgb3B0aW9ucy5iYWNrZ3JvdW5kTWFzay5lbmFibGUsIG9wdGlvbnMuYmFja2dyb3VuZE1hc2suY29tcG9zaXRlLCBjb2xvckxpbmUsIG9wYWNpdHksIHAxLm9wdGlvbnMubGlua3Muc2hhZG93KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5MaW5rSW5zdGFuY2UgPSBMaW5rSW5zdGFuY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGlua2VyID0gdm9pZCAwO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9VdGlsc1wiKTtcbmNvbnN0IFBhcnRpY2xlc0ludGVyYWN0b3JCYXNlXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vQ29yZS9QYXJ0aWNsZXNJbnRlcmFjdG9yQmFzZVwiKTtcbmZ1bmN0aW9uIGdldExpbmtEaXN0YW5jZShwb3MxLCBwb3MyLCBvcHREaXN0YW5jZSwgY2FudmFzU2l6ZSwgd2FycCkge1xuICAgIGxldCBkaXN0YW5jZSA9ICgwLCBVdGlsc18xLmdldERpc3RhbmNlKShwb3MxLCBwb3MyKTtcbiAgICBpZiAoIXdhcnAgfHwgZGlzdGFuY2UgPD0gb3B0RGlzdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlO1xuICAgIH1cbiAgICBjb25zdCBwb3MyTkUgPSB7XG4gICAgICAgIHg6IHBvczIueCAtIGNhbnZhc1NpemUud2lkdGgsXG4gICAgICAgIHk6IHBvczIueSxcbiAgICB9O1xuICAgIGRpc3RhbmNlID0gKDAsIFV0aWxzXzEuZ2V0RGlzdGFuY2UpKHBvczEsIHBvczJORSk7XG4gICAgaWYgKGRpc3RhbmNlIDw9IG9wdERpc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBkaXN0YW5jZTtcbiAgICB9XG4gICAgY29uc3QgcG9zMlNFID0ge1xuICAgICAgICB4OiBwb3MyLnggLSBjYW52YXNTaXplLndpZHRoLFxuICAgICAgICB5OiBwb3MyLnkgLSBjYW52YXNTaXplLmhlaWdodCxcbiAgICB9O1xuICAgIGRpc3RhbmNlID0gKDAsIFV0aWxzXzEuZ2V0RGlzdGFuY2UpKHBvczEsIHBvczJTRSk7XG4gICAgaWYgKGRpc3RhbmNlIDw9IG9wdERpc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBkaXN0YW5jZTtcbiAgICB9XG4gICAgY29uc3QgcG9zMlNXID0ge1xuICAgICAgICB4OiBwb3MyLngsXG4gICAgICAgIHk6IHBvczIueSAtIGNhbnZhc1NpemUuaGVpZ2h0LFxuICAgIH07XG4gICAgZGlzdGFuY2UgPSAoMCwgVXRpbHNfMS5nZXREaXN0YW5jZSkocG9zMSwgcG9zMlNXKTtcbiAgICByZXR1cm4gZGlzdGFuY2U7XG59XG5jbGFzcyBMaW5rZXIgZXh0ZW5kcyBQYXJ0aWNsZXNJbnRlcmFjdG9yQmFzZV8xLlBhcnRpY2xlc0ludGVyYWN0b3JCYXNlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcbiAgICB9XG4gICAgaXNFbmFibGVkKHBhcnRpY2xlKSB7XG4gICAgICAgIHJldHVybiBwYXJ0aWNsZS5vcHRpb25zLmxpbmtzLmVuYWJsZTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgfVxuICAgIGludGVyYWN0KHAxKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcDEubGlua3MgPSBbXTtcbiAgICAgICAgY29uc3QgcG9zMSA9IHAxLmdldFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBjYW52YXNTaXplID0gY29udGFpbmVyLmNhbnZhcy5zaXplO1xuICAgICAgICBpZiAocG9zMS54IDwgMCB8fCBwb3MxLnkgPCAwIHx8IHBvczEueCA+IGNhbnZhc1NpemUud2lkdGggfHwgcG9zMS55ID4gY2FudmFzU2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5rT3B0MSA9IHAxLm9wdGlvbnMubGlua3M7XG4gICAgICAgIGNvbnN0IG9wdE9wYWNpdHkgPSBsaW5rT3B0MS5vcGFjaXR5O1xuICAgICAgICBjb25zdCBvcHREaXN0YW5jZSA9IChfYSA9IHAxLnJldGluYS5saW5rc0Rpc3RhbmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb250YWluZXIucmV0aW5hLmxpbmtzRGlzdGFuY2U7XG4gICAgICAgIGNvbnN0IHdhcnAgPSBsaW5rT3B0MS53YXJwO1xuICAgICAgICBjb25zdCByYW5nZSA9IHdhcnBcbiAgICAgICAgICAgID8gbmV3IFV0aWxzXzEuQ2lyY2xlV2FycChwb3MxLngsIHBvczEueSwgb3B0RGlzdGFuY2UsIGNhbnZhc1NpemUpXG4gICAgICAgICAgICA6IG5ldyBVdGlsc18xLkNpcmNsZShwb3MxLngsIHBvczEueSwgb3B0RGlzdGFuY2UpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IGNvbnRhaW5lci5wYXJ0aWNsZXMucXVhZFRyZWUucXVlcnkocmFuZ2UpO1xuICAgICAgICBmb3IgKGNvbnN0IHAyIG9mIHF1ZXJ5KSB7XG4gICAgICAgICAgICBjb25zdCBsaW5rT3B0MiA9IHAyLm9wdGlvbnMubGlua3M7XG4gICAgICAgICAgICBpZiAocDEgPT09IHAyIHx8XG4gICAgICAgICAgICAgICAgIWxpbmtPcHQyLmVuYWJsZSB8fFxuICAgICAgICAgICAgICAgIGxpbmtPcHQxLmlkICE9PSBsaW5rT3B0Mi5pZCB8fFxuICAgICAgICAgICAgICAgIHAyLnNwYXduaW5nIHx8XG4gICAgICAgICAgICAgICAgcDIuZGVzdHJveWVkIHx8XG4gICAgICAgICAgICAgICAgcDEubGlua3MubWFwKCh0KSA9PiB0LmRlc3RpbmF0aW9uKS5pbmRleE9mKHAyKSAhPT0gLTEgfHxcbiAgICAgICAgICAgICAgICBwMi5saW5rcy5tYXAoKHQpID0+IHQuZGVzdGluYXRpb24pLmluZGV4T2YocDEpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zMiA9IHAyLmdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICBpZiAocG9zMi54IDwgMCB8fCBwb3MyLnkgPCAwIHx8IHBvczIueCA+IGNhbnZhc1NpemUud2lkdGggfHwgcG9zMi55ID4gY2FudmFzU2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gZ2V0TGlua0Rpc3RhbmNlKHBvczEsIHBvczIsIG9wdERpc3RhbmNlLCBjYW52YXNTaXplLCB3YXJwICYmIGxpbmtPcHQyLndhcnApO1xuICAgICAgICAgICAgaWYgKGRpc3RhbmNlID4gb3B0RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcGFjaXR5TGluZSA9ICgxIC0gZGlzdGFuY2UgLyBvcHREaXN0YW5jZSkgKiBvcHRPcGFjaXR5O1xuICAgICAgICAgICAgdGhpcy5zZXRDb2xvcihwMSk7XG4gICAgICAgICAgICBwMS5saW5rcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogcDIsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogb3BhY2l0eUxpbmUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRDb2xvcihwMSkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgbGlua3NPcHRpb25zID0gcDEub3B0aW9ucy5saW5rcztcbiAgICAgICAgbGV0IGxpbmtDb2xvciA9IGxpbmtzT3B0aW9ucy5pZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGNvbnRhaW5lci5wYXJ0aWNsZXMubGlua3NDb2xvclxuICAgICAgICAgICAgOiBjb250YWluZXIucGFydGljbGVzLmxpbmtzQ29sb3JzLmdldChsaW5rc09wdGlvbnMuaWQpO1xuICAgICAgICBpZiAoIWxpbmtDb2xvcikge1xuICAgICAgICAgICAgY29uc3Qgb3B0Q29sb3IgPSBsaW5rc09wdGlvbnMuY29sb3I7XG4gICAgICAgICAgICBsaW5rQ29sb3IgPSAoMCwgVXRpbHNfMS5nZXRMaW5rUmFuZG9tQ29sb3IpKG9wdENvbG9yLCBsaW5rc09wdGlvbnMuYmxpbmssIGxpbmtzT3B0aW9ucy5jb25zZW50KTtcbiAgICAgICAgICAgIGlmIChsaW5rc09wdGlvbnMuaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wYXJ0aWNsZXMubGlua3NDb2xvciA9IGxpbmtDb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wYXJ0aWNsZXMubGlua3NDb2xvcnMuc2V0KGxpbmtzT3B0aW9ucy5pZCwgbGlua0NvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuTGlua2VyID0gTGlua2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRQYXJ0aWNsZXNMaW5rc0ludGVyYWN0aW9uID0gZXhwb3J0cy5sb2FkSW50ZXJhY3Rpb24gPSB2b2lkIDA7XG5jb25zdCBMaW5rZXJfMSA9IHJlcXVpcmUoXCIuL0xpbmtlclwiKTtcbmNvbnN0IHBsdWdpbl8xID0gcmVxdWlyZShcIi4vcGx1Z2luXCIpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZEludGVyYWN0aW9uKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkSW50ZXJhY3RvcihcInBhcnRpY2xlc0xpbmtzXCIsIChjb250YWluZXIpID0+IG5ldyBMaW5rZXJfMS5MaW5rZXIoY29udGFpbmVyKSk7XG59XG5leHBvcnRzLmxvYWRJbnRlcmFjdGlvbiA9IGxvYWRJbnRlcmFjdGlvbjtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRQYXJ0aWNsZXNMaW5rc0ludGVyYWN0aW9uKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgbG9hZEludGVyYWN0aW9uKHRzUGFydGljbGVzKTtcbiAgICBhd2FpdCAoMCwgcGx1Z2luXzEubG9hZFBsdWdpbikodHNQYXJ0aWNsZXMpO1xufVxuZXhwb3J0cy5sb2FkUGFydGljbGVzTGlua3NJbnRlcmFjdGlvbiA9IGxvYWRQYXJ0aWNsZXNMaW5rc0ludGVyYWN0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRQbHVnaW4gPSB2b2lkIDA7XG5jb25zdCBMaW5rSW5zdGFuY2VfMSA9IHJlcXVpcmUoXCIuL0xpbmtJbnN0YW5jZVwiKTtcbmNsYXNzIFBsdWdpbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaWQgPSBcImxpbmtzXCI7XG4gICAgfVxuICAgIGdldFBsdWdpbihjb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5rSW5zdGFuY2VfMS5MaW5rSW5zdGFuY2UoY29udGFpbmVyKTtcbiAgICB9XG4gICAgbmVlZHNQbHVnaW4oKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsb2FkT3B0aW9ucygpIHtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBsb2FkUGx1Z2luKHRzUGFydGljbGVzKSB7XG4gICAgY29uc3QgcGx1Z2luID0gbmV3IFBsdWdpbigpO1xuICAgIGF3YWl0IHRzUGFydGljbGVzLmFkZFBsdWdpbihwbHVnaW4pO1xufVxuZXhwb3J0cy5sb2FkUGx1Z2luID0gbG9hZFBsdWdpbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BbmltYXRhYmxlQ29sb3IgPSB2b2lkIDA7XG5jb25zdCBPcHRpb25zQ29sb3JfMSA9IHJlcXVpcmUoXCIuL09wdGlvbnNDb2xvclwiKTtcbmNvbnN0IEhzbEFuaW1hdGlvbl8xID0gcmVxdWlyZShcIi4vSHNsQW5pbWF0aW9uXCIpO1xuY2xhc3MgQW5pbWF0YWJsZUNvbG9yIGV4dGVuZHMgT3B0aW9uc0NvbG9yXzEuT3B0aW9uc0NvbG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBuZXcgSHNsQW5pbWF0aW9uXzEuSHNsQW5pbWF0aW9uKCk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoc291cmNlLCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gbmV3IEFuaW1hdGFibGVDb2xvcigpO1xuICAgICAgICBjb2xvci5sb2FkKHNvdXJjZSk7XG4gICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiB8fCBkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBjb2xvci5sb2FkKHsgdmFsdWU6IGRhdGEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb2xvci5sb2FkKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIHN1cGVyLmxvYWQoZGF0YSk7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbG9yQW5pbWF0aW9uID0gZGF0YS5hbmltYXRpb247XG4gICAgICAgIGlmIChjb2xvckFuaW1hdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoY29sb3JBbmltYXRpb24uZW5hYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5oLmxvYWQoY29sb3JBbmltYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb24ubG9hZChkYXRhLmFuaW1hdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkFuaW1hdGFibGVDb2xvciA9IEFuaW1hdGFibGVDb2xvcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5HcmFkaWVudENvbG9yT3BhY2l0eUFuaW1hdGlvbiA9IGV4cG9ydHMuR3JhZGllbnRBbmdsZUFuaW1hdGlvbiA9IGV4cG9ydHMuQW5pbWF0YWJsZUdyYWRpZW50Q29sb3IgPSBleHBvcnRzLkdyYWRpZW50Q29sb3JPcGFjaXR5ID0gZXhwb3J0cy5HcmFkaWVudEFuZ2xlID0gZXhwb3J0cy5BbmltYXRhYmxlR3JhZGllbnQgPSB2b2lkIDA7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uL0VudW1zXCIpO1xuY29uc3QgQW5pbWF0YWJsZUNvbG9yXzEgPSByZXF1aXJlKFwiLi9BbmltYXRhYmxlQ29sb3JcIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL1V0aWxzXCIpO1xuY2xhc3MgQW5pbWF0YWJsZUdyYWRpZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hbmdsZSA9IG5ldyBHcmFkaWVudEFuZ2xlKCk7XG4gICAgICAgIHRoaXMuY29sb3JzID0gW107XG4gICAgICAgIHRoaXMudHlwZSA9IEVudW1zXzEuR3JhZGllbnRUeXBlLnJhbmRvbTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5nbGUubG9hZChkYXRhLmFuZ2xlKTtcbiAgICAgICAgaWYgKGRhdGEuY29sb3JzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29sb3JzID0gZGF0YS5jb2xvcnMubWFwKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG1wID0gbmV3IEFuaW1hdGFibGVHcmFkaWVudENvbG9yKCk7XG4gICAgICAgICAgICAgICAgdG1wLmxvYWQocyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gZGF0YS50eXBlO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5BbmltYXRhYmxlR3JhZGllbnQgPSBBbmltYXRhYmxlR3JhZGllbnQ7XG5jbGFzcyBHcmFkaWVudEFuZ2xlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IDA7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gbmV3IEdyYWRpZW50QW5nbGVBbmltYXRpb24oKTtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBFbnVtc18xLlJvdGF0ZURpcmVjdGlvbi5jbG9ja3dpc2U7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5sb2FkKGRhdGEuYW5pbWF0aW9uKTtcbiAgICAgICAgaWYgKGRhdGEudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGRhdGEudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZGlyZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gZGF0YS5kaXJlY3Rpb247XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkdyYWRpZW50QW5nbGUgPSBHcmFkaWVudEFuZ2xlO1xuY2xhc3MgR3JhZGllbnRDb2xvck9wYWNpdHkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gMDtcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBuZXcgR3JhZGllbnRDb2xvck9wYWNpdHlBbmltYXRpb24oKTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmxvYWQoZGF0YS5hbmltYXRpb24pO1xuICAgICAgICBpZiAoZGF0YS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gKDAsIFV0aWxzXzEuc2V0UmFuZ2VWYWx1ZSkoZGF0YS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkdyYWRpZW50Q29sb3JPcGFjaXR5ID0gR3JhZGllbnRDb2xvck9wYWNpdHk7XG5jbGFzcyBBbmltYXRhYmxlR3JhZGllbnRDb2xvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3RvcCA9IDA7XG4gICAgICAgIHRoaXMudmFsdWUgPSBuZXcgQW5pbWF0YWJsZUNvbG9yXzEuQW5pbWF0YWJsZUNvbG9yKCk7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5zdG9wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCA9IGRhdGEuc3RvcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlID0gQW5pbWF0YWJsZUNvbG9yXzEuQW5pbWF0YWJsZUNvbG9yLmNyZWF0ZSh0aGlzLnZhbHVlLCBkYXRhLnZhbHVlKTtcbiAgICAgICAgaWYgKGRhdGEub3BhY2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSBuZXcgR3JhZGllbnRDb2xvck9wYWNpdHkoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5vcGFjaXR5ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGFjaXR5LnZhbHVlID0gZGF0YS5vcGFjaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGFjaXR5LmxvYWQoZGF0YS5vcGFjaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQW5pbWF0YWJsZUdyYWRpZW50Q29sb3IgPSBBbmltYXRhYmxlR3JhZGllbnRDb2xvcjtcbmNsYXNzIEdyYWRpZW50QW5nbGVBbmltYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5lbmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zcGVlZCA9IDA7XG4gICAgICAgIHRoaXMuc3luYyA9IGZhbHNlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuY291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jb3VudCA9IGRhdGEuY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZW5hYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZGF0YS5lbmFibGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc3BlZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zcGVlZCA9IGRhdGEuc3BlZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc3luYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnN5bmMgPSBkYXRhLnN5bmM7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkdyYWRpZW50QW5nbGVBbmltYXRpb24gPSBHcmFkaWVudEFuZ2xlQW5pbWF0aW9uO1xuY2xhc3MgR3JhZGllbnRDb2xvck9wYWNpdHlBbmltYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5lbmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zcGVlZCA9IDA7XG4gICAgICAgIHRoaXMuc3luYyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0VmFsdWUgPSBFbnVtc18xLlN0YXJ0VmFsdWVUeXBlLnJhbmRvbTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmNvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY291bnQgPSBkYXRhLmNvdW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnNwZWVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgPSBkYXRhLnNwZWVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnN5bmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zeW5jID0gZGF0YS5zeW5jO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnN0YXJ0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFZhbHVlID0gZGF0YS5zdGFydFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5HcmFkaWVudENvbG9yT3BhY2l0eUFuaW1hdGlvbiA9IEdyYWRpZW50Q29sb3JPcGFjaXR5QW5pbWF0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFuaW1hdGlvbk9wdGlvbnMgPSB2b2lkIDA7XG5jbGFzcyBBbmltYXRpb25PcHRpb25zIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHRoaXMuZW5hYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgICAgICB0aGlzLnN5bmMgPSBmYWxzZTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmNvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY291bnQgPSBkYXRhLmNvdW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnNwZWVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgPSBkYXRhLnNwZWVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnN5bmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zeW5jID0gZGF0YS5zeW5jO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5BbmltYXRpb25PcHRpb25zID0gQW5pbWF0aW9uT3B0aW9ucztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CYWNrZ3JvdW5kID0gdm9pZCAwO1xuY29uc3QgT3B0aW9uc0NvbG9yXzEgPSByZXF1aXJlKFwiLi4vT3B0aW9uc0NvbG9yXCIpO1xuY2xhc3MgQmFja2dyb3VuZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY29sb3IgPSBuZXcgT3B0aW9uc0NvbG9yXzEuT3B0aW9uc0NvbG9yKCk7XG4gICAgICAgIHRoaXMuY29sb3IudmFsdWUgPSBcIlwiO1xuICAgICAgICB0aGlzLmltYWdlID0gXCJcIjtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IFwiXCI7XG4gICAgICAgIHRoaXMucmVwZWF0ID0gXCJcIjtcbiAgICAgICAgdGhpcy5zaXplID0gXCJcIjtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbG9yID0gT3B0aW9uc0NvbG9yXzEuT3B0aW9uc0NvbG9yLmNyZWF0ZSh0aGlzLmNvbG9yLCBkYXRhLmNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5pbWFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlID0gZGF0YS5pbWFnZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gZGF0YS5wb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5yZXBlYXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5yZXBlYXQgPSBkYXRhLnJlcGVhdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5zaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5vcGFjaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eSA9IGRhdGEub3BhY2l0eTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQmFja2dyb3VuZCA9IEJhY2tncm91bmQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQmFja2dyb3VuZE1hc2sgPSB2b2lkIDA7XG5jb25zdCBCYWNrZ3JvdW5kTWFza0NvdmVyXzEgPSByZXF1aXJlKFwiLi9CYWNrZ3JvdW5kTWFza0NvdmVyXCIpO1xuY2xhc3MgQmFja2dyb3VuZE1hc2sge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvbXBvc2l0ZSA9IFwiZGVzdGluYXRpb24tb3V0XCI7XG4gICAgICAgIHRoaXMuY292ZXIgPSBuZXcgQmFja2dyb3VuZE1hc2tDb3Zlcl8xLkJhY2tncm91bmRNYXNrQ292ZXIoKTtcbiAgICAgICAgdGhpcy5lbmFibGUgPSBmYWxzZTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5jb21wb3NpdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jb21wb3NpdGUgPSBkYXRhLmNvbXBvc2l0ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5jb3ZlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjb3ZlciA9IGRhdGEuY292ZXI7XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9ICh0eXBlb2YgZGF0YS5jb3ZlciA9PT0gXCJzdHJpbmdcIiA/IHsgY29sb3I6IGRhdGEuY292ZXIgfSA6IGRhdGEuY292ZXIpO1xuICAgICAgICAgICAgdGhpcy5jb3Zlci5sb2FkKGNvdmVyLmNvbG9yICE9PSB1bmRlZmluZWQgPyBjb3ZlciA6IHsgY29sb3I6IGNvbG9yIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5CYWNrZ3JvdW5kTWFzayA9IEJhY2tncm91bmRNYXNrO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJhY2tncm91bmRNYXNrQ292ZXIgPSB2b2lkIDA7XG5jb25zdCBPcHRpb25zQ29sb3JfMSA9IHJlcXVpcmUoXCIuLi9PcHRpb25zQ29sb3JcIik7XG5jbGFzcyBCYWNrZ3JvdW5kTWFza0NvdmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jb2xvciA9IG5ldyBPcHRpb25zQ29sb3JfMS5PcHRpb25zQ29sb3IoKTtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbG9yID0gT3B0aW9uc0NvbG9yXzEuT3B0aW9uc0NvbG9yLmNyZWF0ZSh0aGlzLmNvbG9yLCBkYXRhLmNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5vcGFjaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eSA9IGRhdGEub3BhY2l0eTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQmFja2dyb3VuZE1hc2tDb3ZlciA9IEJhY2tncm91bmRNYXNrQ292ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29sb3JBbmltYXRpb24gPSB2b2lkIDA7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL1V0aWxzXCIpO1xuY2xhc3MgQ29sb3JBbmltYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5lbmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLnNwZWVkID0gMTtcbiAgICAgICAgdGhpcy5zeW5jID0gdHJ1ZTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5jb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50ID0gZGF0YS5jb3VudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5lbmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGUgPSBkYXRhLmVuYWJsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5vZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vZmZzZXQgPSAoMCwgVXRpbHNfMS5zZXRSYW5nZVZhbHVlKShkYXRhLm9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc3BlZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zcGVlZCA9IGRhdGEuc3BlZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc3luYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnN5bmMgPSBkYXRhLnN5bmM7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkNvbG9yQW5pbWF0aW9uID0gQ29sb3JBbmltYXRpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRnVsbFNjcmVlbiA9IHZvaWQgMDtcbmNsYXNzIEZ1bGxTY3JlZW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmVuYWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuekluZGV4ID0gMDtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnpJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnpJbmRleCA9IGRhdGEuekluZGV4O1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5GdWxsU2NyZWVuID0gRnVsbFNjcmVlbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Ic2xBbmltYXRpb24gPSB2b2lkIDA7XG5jb25zdCBDb2xvckFuaW1hdGlvbl8xID0gcmVxdWlyZShcIi4vQ29sb3JBbmltYXRpb25cIik7XG5jbGFzcyBIc2xBbmltYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmggPSBuZXcgQ29sb3JBbmltYXRpb25fMS5Db2xvckFuaW1hdGlvbigpO1xuICAgICAgICB0aGlzLnMgPSBuZXcgQ29sb3JBbmltYXRpb25fMS5Db2xvckFuaW1hdGlvbigpO1xuICAgICAgICB0aGlzLmwgPSBuZXcgQ29sb3JBbmltYXRpb25fMS5Db2xvckFuaW1hdGlvbigpO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oLmxvYWQoZGF0YS5oKTtcbiAgICAgICAgdGhpcy5zLmxvYWQoZGF0YS5zKTtcbiAgICAgICAgdGhpcy5sLmxvYWQoZGF0YS5sKTtcbiAgICB9XG59XG5leHBvcnRzLkhzbEFuaW1hdGlvbiA9IEhzbEFuaW1hdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DbGlja0V2ZW50ID0gdm9pZCAwO1xuY2xhc3MgQ2xpY2tFdmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW9kZSA9IFtdO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLm1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5tb2RlID0gZGF0YS5tb2RlO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5DbGlja0V2ZW50ID0gQ2xpY2tFdmVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EaXZFdmVudCA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vRW51bXNcIik7XG5jbGFzcyBEaXZFdmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0b3JzID0gW107XG4gICAgICAgIHRoaXMuZW5hYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW9kZSA9IFtdO1xuICAgICAgICB0aGlzLnR5cGUgPSBFbnVtc18xLkRpdlR5cGUuY2lyY2xlO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZHM7XG4gICAgfVxuICAgIHNldCBlbGVtZW50SWQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5pZHMgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50SWQ7XG4gICAgfVxuICAgIHNldCBlbCh2YWx1ZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnRJZCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgaWRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RvcnMgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgPyB0aGlzLnNlbGVjdG9ycy5tYXAoKHQpID0+IHQucmVwbGFjZShcIiNcIiwgXCJcIikpXG4gICAgICAgICAgICA6IHRoaXMuc2VsZWN0b3JzLnJlcGxhY2UoXCIjXCIsIFwiXCIpO1xuICAgIH1cbiAgICBzZXQgaWRzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0b3JzID0gdmFsdWUgaW5zdGFuY2VvZiBBcnJheSA/IHZhbHVlLm1hcCgodCkgPT4gYCMke3R9YCkgOiBgIyR7dmFsdWV9YDtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpZHMgPSAoX2IgPSAoX2EgPSBkYXRhLmlkcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGF0YS5lbGVtZW50SWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRhdGEuZWw7XG4gICAgICAgIGlmIChpZHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5pZHMgPSBpZHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc2VsZWN0b3JzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0b3JzID0gZGF0YS5zZWxlY3RvcnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZW5hYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZGF0YS5lbmFibGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEubW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEudHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkRpdkV2ZW50ID0gRGl2RXZlbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRXZlbnRzID0gdm9pZCAwO1xuY29uc3QgQ2xpY2tFdmVudF8xID0gcmVxdWlyZShcIi4vQ2xpY2tFdmVudFwiKTtcbmNvbnN0IERpdkV2ZW50XzEgPSByZXF1aXJlKFwiLi9EaXZFdmVudFwiKTtcbmNvbnN0IEhvdmVyRXZlbnRfMSA9IHJlcXVpcmUoXCIuL0hvdmVyRXZlbnRcIik7XG5jbGFzcyBFdmVudHMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm9uQ2xpY2sgPSBuZXcgQ2xpY2tFdmVudF8xLkNsaWNrRXZlbnQoKTtcbiAgICAgICAgdGhpcy5vbkRpdiA9IG5ldyBEaXZFdmVudF8xLkRpdkV2ZW50KCk7XG4gICAgICAgIHRoaXMub25Ib3ZlciA9IG5ldyBIb3ZlckV2ZW50XzEuSG92ZXJFdmVudCgpO1xuICAgICAgICB0aGlzLnJlc2l6ZSA9IHRydWU7XG4gICAgfVxuICAgIGdldCBvbmNsaWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vbkNsaWNrO1xuICAgIH1cbiAgICBzZXQgb25jbGljayh2YWx1ZSkge1xuICAgICAgICB0aGlzLm9uQ2xpY2sgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IG9uZGl2KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vbkRpdjtcbiAgICB9XG4gICAgc2V0IG9uZGl2KHZhbHVlKSB7XG4gICAgICAgIHRoaXMub25EaXYgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IG9uaG92ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9uSG92ZXI7XG4gICAgfVxuICAgIHNldCBvbmhvdmVyKHZhbHVlKSB7XG4gICAgICAgIHRoaXMub25Ib3ZlciA9IHZhbHVlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uQ2xpY2subG9hZCgoX2EgPSBkYXRhLm9uQ2xpY2spICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRhdGEub25jbGljayk7XG4gICAgICAgIGNvbnN0IG9uRGl2ID0gKF9iID0gZGF0YS5vbkRpdikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGF0YS5vbmRpdjtcbiAgICAgICAgaWYgKG9uRGl2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChvbkRpdiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkRpdiA9IG9uRGl2Lm1hcCgoZGl2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRtcCA9IG5ldyBEaXZFdmVudF8xLkRpdkV2ZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHRtcC5sb2FkKGRpdik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0bXA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGl2ID0gbmV3IERpdkV2ZW50XzEuRGl2RXZlbnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGl2LmxvYWQob25EaXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub25Ib3Zlci5sb2FkKChfYyA9IGRhdGEub25Ib3ZlcikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZGF0YS5vbmhvdmVyKTtcbiAgICAgICAgaWYgKGRhdGEucmVzaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplID0gZGF0YS5yZXNpemU7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkV2ZW50cyA9IEV2ZW50cztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Ib3ZlckV2ZW50ID0gdm9pZCAwO1xuY29uc3QgUGFyYWxsYXhfMSA9IHJlcXVpcmUoXCIuL1BhcmFsbGF4XCIpO1xuY2xhc3MgSG92ZXJFdmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW9kZSA9IFtdO1xuICAgICAgICB0aGlzLnBhcmFsbGF4ID0gbmV3IFBhcmFsbGF4XzEuUGFyYWxsYXgoKTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5lbmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGUgPSBkYXRhLmVuYWJsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5tb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZSA9IGRhdGEubW9kZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcmFsbGF4LmxvYWQoZGF0YS5wYXJhbGxheCk7XG4gICAgfVxufVxuZXhwb3J0cy5Ib3ZlckV2ZW50ID0gSG92ZXJFdmVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QYXJhbGxheCA9IHZvaWQgMDtcbmNsYXNzIFBhcmFsbGF4IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lbmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mb3JjZSA9IDI7XG4gICAgICAgIHRoaXMuc21vb3RoID0gMTA7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZW5hYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZGF0YS5lbmFibGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZm9yY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5mb3JjZSA9IGRhdGEuZm9yY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc21vb3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoID0gZGF0YS5zbW9vdGg7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlBhcmFsbGF4ID0gUGFyYWxsYXg7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW50ZXJhY3Rpdml0eSA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vRW51bXNcIik7XG5jb25zdCBFdmVudHNfMSA9IHJlcXVpcmUoXCIuL0V2ZW50cy9FdmVudHNcIik7XG5jb25zdCBNb2Rlc18xID0gcmVxdWlyZShcIi4vTW9kZXMvTW9kZXNcIik7XG5jbGFzcyBJbnRlcmFjdGl2aXR5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kZXRlY3RzT24gPSBFbnVtc18xLkludGVyYWN0aXZpdHlEZXRlY3Qud2luZG93O1xuICAgICAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudHNfMS5FdmVudHMoKTtcbiAgICAgICAgdGhpcy5tb2RlcyA9IG5ldyBNb2Rlc18xLk1vZGVzKCk7XG4gICAgfVxuICAgIGdldCBkZXRlY3Rfb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRldGVjdHNPbjtcbiAgICB9XG4gICAgc2V0IGRldGVjdF9vbih2YWx1ZSkge1xuICAgICAgICB0aGlzLmRldGVjdHNPbiA9IHZhbHVlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZXRlY3RzT24gPSAoX2EgPSBkYXRhLmRldGVjdHNPbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGF0YS5kZXRlY3Rfb247XG4gICAgICAgIGlmIChkZXRlY3RzT24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kZXRlY3RzT24gPSBkZXRlY3RzT247XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudHMubG9hZChkYXRhLmV2ZW50cyk7XG4gICAgICAgIHRoaXMubW9kZXMubG9hZChkYXRhLm1vZGVzKTtcbiAgICAgICAgaWYgKCgoX2MgPSAoX2IgPSBkYXRhLm1vZGVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc2xvdykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmFjdGl2ZSkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5vbkhvdmVyLm1vZGUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5vbkhvdmVyLm1vZGUuaW5kZXhPZihFbnVtc18xLkhvdmVyTW9kZS5zbG93KSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMub25Ib3Zlci5tb2RlLnB1c2goRW51bXNfMS5Ib3Zlck1vZGUuc2xvdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5ldmVudHMub25Ib3Zlci5tb2RlICE9PSBFbnVtc18xLkhvdmVyTW9kZS5zbG93KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMub25Ib3Zlci5tb2RlID0gW3RoaXMuZXZlbnRzLm9uSG92ZXIubW9kZSwgRW51bXNfMS5Ib3Zlck1vZGUuc2xvd107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkludGVyYWN0aXZpdHkgPSBJbnRlcmFjdGl2aXR5O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkF0dHJhY3QgPSB2b2lkIDA7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL0VudW1zXCIpO1xuY2xhc3MgQXR0cmFjdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSAyMDA7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSAwLjQ7XG4gICAgICAgIHRoaXMuZWFzaW5nID0gRW51bXNfMS5FYXNpbmdUeXBlLmVhc2VPdXRRdWFkO1xuICAgICAgICB0aGlzLmZhY3RvciA9IDE7XG4gICAgICAgIHRoaXMubWF4U3BlZWQgPSA1MDtcbiAgICAgICAgdGhpcy5zcGVlZCA9IDE7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kaXN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3RhbmNlID0gZGF0YS5kaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5lYXNpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lYXNpbmcgPSBkYXRhLmVhc2luZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5mYWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5mYWN0b3IgPSBkYXRhLmZhY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5tYXhTcGVlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1heFNwZWVkID0gZGF0YS5tYXhTcGVlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5zcGVlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNwZWVkID0gZGF0YS5zcGVlZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQXR0cmFjdCA9IEF0dHJhY3Q7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQm91bmNlID0gdm9pZCAwO1xuY2xhc3MgQm91bmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IDIwMDtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmRpc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzdGFuY2UgPSBkYXRhLmRpc3RhbmNlO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Cb3VuY2UgPSBCb3VuY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQnViYmxlID0gdm9pZCAwO1xuY29uc3QgQnViYmxlRGl2XzEgPSByZXF1aXJlKFwiLi9CdWJibGVEaXZcIik7XG5jb25zdCBCdWJibGVCYXNlXzEgPSByZXF1aXJlKFwiLi9CdWJibGVCYXNlXCIpO1xuY2xhc3MgQnViYmxlIGV4dGVuZHMgQnViYmxlQmFzZV8xLkJ1YmJsZUJhc2Uge1xuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBzdXBlci5sb2FkKGRhdGEpO1xuICAgICAgICBpZiAoIShkYXRhICE9PSB1bmRlZmluZWQgJiYgZGF0YS5kaXZzICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZGl2cyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLmRpdnMgPSBkYXRhLmRpdnMubWFwKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG1wID0gbmV3IEJ1YmJsZURpdl8xLkJ1YmJsZURpdigpO1xuICAgICAgICAgICAgICAgIHRtcC5sb2FkKHMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0bXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpdnMgaW5zdGFuY2VvZiBBcnJheSB8fCAhdGhpcy5kaXZzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXZzID0gbmV3IEJ1YmJsZURpdl8xLkJ1YmJsZURpdigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXZzLmxvYWQoZGF0YS5kaXZzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQnViYmxlID0gQnViYmxlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJ1YmJsZUJhc2UgPSB2b2lkIDA7XG5jb25zdCBPcHRpb25zQ29sb3JfMSA9IHJlcXVpcmUoXCIuLi8uLi9PcHRpb25zQ29sb3JcIik7XG5jbGFzcyBCdWJibGVCYXNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IDIwMDtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IDAuNDtcbiAgICAgICAgdGhpcy5taXggPSBmYWxzZTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kaXN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3RhbmNlID0gZGF0YS5kaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5taXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5taXggPSBkYXRhLm1peDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5vcGFjaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eSA9IGRhdGEub3BhY2l0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5jb2xvciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IGRhdGEuY29sb3IubWFwKChzKSA9PiBPcHRpb25zQ29sb3JfMS5PcHRpb25zQ29sb3IuY3JlYXRlKHVuZGVmaW5lZCwgcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sb3IgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gbmV3IE9wdGlvbnNDb2xvcl8xLk9wdGlvbnNDb2xvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gT3B0aW9uc0NvbG9yXzEuT3B0aW9uc0NvbG9yLmNyZWF0ZSh0aGlzLmNvbG9yLCBkYXRhLmNvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5zaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQnViYmxlQmFzZSA9IEJ1YmJsZUJhc2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQnViYmxlRGl2ID0gdm9pZCAwO1xuY29uc3QgQnViYmxlQmFzZV8xID0gcmVxdWlyZShcIi4vQnViYmxlQmFzZVwiKTtcbmNsYXNzIEJ1YmJsZURpdiBleHRlbmRzIEJ1YmJsZUJhc2VfMS5CdWJibGVCYXNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zZWxlY3RvcnMgPSBbXTtcbiAgICB9XG4gICAgZ2V0IGlkcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0b3JzIGluc3RhbmNlb2YgQXJyYXlcbiAgICAgICAgICAgID8gdGhpcy5zZWxlY3RvcnMubWFwKCh0KSA9PiB0LnJlcGxhY2UoXCIjXCIsIFwiXCIpKVxuICAgICAgICAgICAgOiB0aGlzLnNlbGVjdG9ycy5yZXBsYWNlKFwiI1wiLCBcIlwiKTtcbiAgICB9XG4gICAgc2V0IGlkcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNlbGVjdG9ycyA9IHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgPyB2YWx1ZS5tYXAoKHQpID0+IGAjJHt0fWApIDogYCMke3ZhbHVlfWA7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBzdXBlci5sb2FkKGRhdGEpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuaWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaWRzID0gZGF0YS5pZHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc2VsZWN0b3JzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0b3JzID0gZGF0YS5zZWxlY3RvcnM7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkJ1YmJsZURpdiA9IEJ1YmJsZURpdjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db25uZWN0ID0gdm9pZCAwO1xuY29uc3QgQ29ubmVjdExpbmtzXzEgPSByZXF1aXJlKFwiLi9Db25uZWN0TGlua3NcIik7XG5jbGFzcyBDb25uZWN0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IDgwO1xuICAgICAgICB0aGlzLmxpbmtzID0gbmV3IENvbm5lY3RMaW5rc18xLkNvbm5lY3RMaW5rcygpO1xuICAgICAgICB0aGlzLnJhZGl1cyA9IDYwO1xuICAgIH1cbiAgICBnZXQgbGluZV9saW5rZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmtzO1xuICAgIH1cbiAgICBzZXQgbGluZV9saW5rZWQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5saW5rcyA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgbGluZUxpbmtlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlua3M7XG4gICAgfVxuICAgIHNldCBsaW5lTGlua2VkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlua3MgPSB2YWx1ZTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kaXN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3RhbmNlID0gZGF0YS5kaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpbmtzLmxvYWQoKF9iID0gKF9hID0gZGF0YS5saW5rcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGF0YS5saW5lTGlua2VkKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBkYXRhLmxpbmVfbGlua2VkKTtcbiAgICAgICAgaWYgKGRhdGEucmFkaXVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmFkaXVzID0gZGF0YS5yYWRpdXM7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkNvbm5lY3QgPSBDb25uZWN0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbm5lY3RMaW5rcyA9IHZvaWQgMDtcbmNsYXNzIENvbm5lY3RMaW5rcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IDAuNTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmICghKGRhdGEgIT09IHVuZGVmaW5lZCAmJiBkYXRhLm9wYWNpdHkgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wYWNpdHkgPSBkYXRhLm9wYWNpdHk7XG4gICAgfVxufVxuZXhwb3J0cy5Db25uZWN0TGlua3MgPSBDb25uZWN0TGlua3M7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR3JhYiA9IHZvaWQgMDtcbmNvbnN0IEdyYWJMaW5rc18xID0gcmVxdWlyZShcIi4vR3JhYkxpbmtzXCIpO1xuY2xhc3MgR3JhYiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSAxMDA7XG4gICAgICAgIHRoaXMubGlua3MgPSBuZXcgR3JhYkxpbmtzXzEuR3JhYkxpbmtzKCk7XG4gICAgfVxuICAgIGdldCBsaW5lX2xpbmtlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlua3M7XG4gICAgfVxuICAgIHNldCBsaW5lX2xpbmtlZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLmxpbmtzID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBsaW5lTGlua2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5rcztcbiAgICB9XG4gICAgc2V0IGxpbmVMaW5rZWQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5saW5rcyA9IHZhbHVlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmRpc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzdGFuY2UgPSBkYXRhLmRpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlua3MubG9hZCgoX2IgPSAoX2EgPSBkYXRhLmxpbmtzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkYXRhLmxpbmVMaW5rZWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRhdGEubGluZV9saW5rZWQpO1xuICAgIH1cbn1cbmV4cG9ydHMuR3JhYiA9IEdyYWI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR3JhYkxpbmtzID0gdm9pZCAwO1xuY29uc3QgT3B0aW9uc0NvbG9yXzEgPSByZXF1aXJlKFwiLi4vLi4vT3B0aW9uc0NvbG9yXCIpO1xuY2xhc3MgR3JhYkxpbmtzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ibGluayA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbnNlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5ibGluayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmJsaW5rID0gZGF0YS5ibGluaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbG9yID0gT3B0aW9uc0NvbG9yXzEuT3B0aW9uc0NvbG9yLmNyZWF0ZSh0aGlzLmNvbG9yLCBkYXRhLmNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5jb25zZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc2VudCA9IGRhdGEuY29uc2VudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5vcGFjaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eSA9IGRhdGEub3BhY2l0eTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuR3JhYkxpbmtzID0gR3JhYkxpbmtzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxpZ2h0ID0gdm9pZCAwO1xuY29uc3QgTGlnaHRBcmVhXzEgPSByZXF1aXJlKFwiLi9MaWdodEFyZWFcIik7XG5jb25zdCBMaWdodFNoYWRvd18xID0gcmVxdWlyZShcIi4vTGlnaHRTaGFkb3dcIik7XG5jbGFzcyBMaWdodCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYXJlYSA9IG5ldyBMaWdodEFyZWFfMS5MaWdodEFyZWEoKTtcbiAgICAgICAgdGhpcy5zaGFkb3cgPSBuZXcgTGlnaHRTaGFkb3dfMS5MaWdodFNoYWRvdygpO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXJlYS5sb2FkKGRhdGEuYXJlYSk7XG4gICAgICAgIHRoaXMuc2hhZG93LmxvYWQoZGF0YS5zaGFkb3cpO1xuICAgIH1cbn1cbmV4cG9ydHMuTGlnaHQgPSBMaWdodDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MaWdodEFyZWEgPSB2b2lkIDA7XG5jb25zdCBMaWdodEdyYWRpZW50XzEgPSByZXF1aXJlKFwiLi9MaWdodEdyYWRpZW50XCIpO1xuY2xhc3MgTGlnaHRBcmVhIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ncmFkaWVudCA9IG5ldyBMaWdodEdyYWRpZW50XzEuTGlnaHRHcmFkaWVudCgpO1xuICAgICAgICB0aGlzLnJhZGl1cyA9IDEwMDA7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ncmFkaWVudC5sb2FkKGRhdGEuZ3JhZGllbnQpO1xuICAgICAgICBpZiAoZGF0YS5yYWRpdXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSBkYXRhLnJhZGl1cztcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuTGlnaHRBcmVhID0gTGlnaHRBcmVhO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxpZ2h0R3JhZGllbnQgPSB2b2lkIDA7XG5jb25zdCBPcHRpb25zQ29sb3JfMSA9IHJlcXVpcmUoXCIuLi8uLi9PcHRpb25zQ29sb3JcIik7XG5jbGFzcyBMaWdodEdyYWRpZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IG5ldyBPcHRpb25zQ29sb3JfMS5PcHRpb25zQ29sb3IoKTtcbiAgICAgICAgdGhpcy5zdG9wID0gbmV3IE9wdGlvbnNDb2xvcl8xLk9wdGlvbnNDb2xvcigpO1xuICAgICAgICB0aGlzLnN0YXJ0LnZhbHVlID0gXCIjZmZmZmZmXCI7XG4gICAgICAgIHRoaXMuc3RvcC52YWx1ZSA9IFwiIzAwMDAwMFwiO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhcnQgPSBPcHRpb25zQ29sb3JfMS5PcHRpb25zQ29sb3IuY3JlYXRlKHRoaXMuc3RhcnQsIGRhdGEuc3RhcnQpO1xuICAgICAgICB0aGlzLnN0b3AgPSBPcHRpb25zQ29sb3JfMS5PcHRpb25zQ29sb3IuY3JlYXRlKHRoaXMuc3RvcCwgZGF0YS5zdG9wKTtcbiAgICB9XG59XG5leHBvcnRzLkxpZ2h0R3JhZGllbnQgPSBMaWdodEdyYWRpZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxpZ2h0U2hhZG93ID0gdm9pZCAwO1xuY29uc3QgT3B0aW9uc0NvbG9yXzEgPSByZXF1aXJlKFwiLi4vLi4vT3B0aW9uc0NvbG9yXCIpO1xuY2xhc3MgTGlnaHRTaGFkb3cge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvbG9yID0gbmV3IE9wdGlvbnNDb2xvcl8xLk9wdGlvbnNDb2xvcigpO1xuICAgICAgICB0aGlzLmNvbG9yLnZhbHVlID0gXCIjMDAwMDAwXCI7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMjAwMDtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbG9yID0gT3B0aW9uc0NvbG9yXzEuT3B0aW9uc0NvbG9yLmNyZWF0ZSh0aGlzLmNvbG9yLCBkYXRhLmNvbG9yKTtcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkxpZ2h0U2hhZG93ID0gTGlnaHRTaGFkb3c7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTW9kZXMgPSB2b2lkIDA7XG5jb25zdCBCdWJibGVfMSA9IHJlcXVpcmUoXCIuL0J1YmJsZVwiKTtcbmNvbnN0IENvbm5lY3RfMSA9IHJlcXVpcmUoXCIuL0Nvbm5lY3RcIik7XG5jb25zdCBHcmFiXzEgPSByZXF1aXJlKFwiLi9HcmFiXCIpO1xuY29uc3QgUmVtb3ZlXzEgPSByZXF1aXJlKFwiLi9SZW1vdmVcIik7XG5jb25zdCBQdXNoXzEgPSByZXF1aXJlKFwiLi9QdXNoXCIpO1xuY29uc3QgUmVwdWxzZV8xID0gcmVxdWlyZShcIi4vUmVwdWxzZVwiKTtcbmNvbnN0IFNsb3dfMSA9IHJlcXVpcmUoXCIuL1Nsb3dcIik7XG5jb25zdCBUcmFpbF8xID0gcmVxdWlyZShcIi4vVHJhaWxcIik7XG5jb25zdCBBdHRyYWN0XzEgPSByZXF1aXJlKFwiLi9BdHRyYWN0XCIpO1xuY29uc3QgTGlnaHRfMSA9IHJlcXVpcmUoXCIuL0xpZ2h0XCIpO1xuY29uc3QgQm91bmNlXzEgPSByZXF1aXJlKFwiLi9Cb3VuY2VcIik7XG5jbGFzcyBNb2RlcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYXR0cmFjdCA9IG5ldyBBdHRyYWN0XzEuQXR0cmFjdCgpO1xuICAgICAgICB0aGlzLmJvdW5jZSA9IG5ldyBCb3VuY2VfMS5Cb3VuY2UoKTtcbiAgICAgICAgdGhpcy5idWJibGUgPSBuZXcgQnViYmxlXzEuQnViYmxlKCk7XG4gICAgICAgIHRoaXMuY29ubmVjdCA9IG5ldyBDb25uZWN0XzEuQ29ubmVjdCgpO1xuICAgICAgICB0aGlzLmdyYWIgPSBuZXcgR3JhYl8xLkdyYWIoKTtcbiAgICAgICAgdGhpcy5saWdodCA9IG5ldyBMaWdodF8xLkxpZ2h0KCk7XG4gICAgICAgIHRoaXMucHVzaCA9IG5ldyBQdXNoXzEuUHVzaCgpO1xuICAgICAgICB0aGlzLnJlbW92ZSA9IG5ldyBSZW1vdmVfMS5SZW1vdmUoKTtcbiAgICAgICAgdGhpcy5yZXB1bHNlID0gbmV3IFJlcHVsc2VfMS5SZXB1bHNlKCk7XG4gICAgICAgIHRoaXMuc2xvdyA9IG5ldyBTbG93XzEuU2xvdygpO1xuICAgICAgICB0aGlzLnRyYWlsID0gbmV3IFRyYWlsXzEuVHJhaWwoKTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF0dHJhY3QubG9hZChkYXRhLmF0dHJhY3QpO1xuICAgICAgICB0aGlzLmJ1YmJsZS5sb2FkKGRhdGEuYnViYmxlKTtcbiAgICAgICAgdGhpcy5jb25uZWN0LmxvYWQoZGF0YS5jb25uZWN0KTtcbiAgICAgICAgdGhpcy5ncmFiLmxvYWQoZGF0YS5ncmFiKTtcbiAgICAgICAgdGhpcy5saWdodC5sb2FkKGRhdGEubGlnaHQpO1xuICAgICAgICB0aGlzLnB1c2gubG9hZChkYXRhLnB1c2gpO1xuICAgICAgICB0aGlzLnJlbW92ZS5sb2FkKGRhdGEucmVtb3ZlKTtcbiAgICAgICAgdGhpcy5yZXB1bHNlLmxvYWQoZGF0YS5yZXB1bHNlKTtcbiAgICAgICAgdGhpcy5zbG93LmxvYWQoZGF0YS5zbG93KTtcbiAgICAgICAgdGhpcy50cmFpbC5sb2FkKGRhdGEudHJhaWwpO1xuICAgIH1cbn1cbmV4cG9ydHMuTW9kZXMgPSBNb2RlcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QdXNoID0gdm9pZCAwO1xuY2xhc3MgUHVzaCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHRydWU7XG4gICAgICAgIHRoaXMuZ3JvdXBzID0gW107XG4gICAgICAgIHRoaXMucXVhbnRpdHkgPSA0O1xuICAgIH1cbiAgICBnZXQgcGFydGljbGVzX25iKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWFudGl0eTtcbiAgICB9XG4gICAgc2V0IHBhcnRpY2xlc19uYih2YWx1ZSkge1xuICAgICAgICB0aGlzLnF1YW50aXR5ID0gdmFsdWU7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kZWZhdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdCA9IGRhdGEuZGVmYXVsdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5ncm91cHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5ncm91cHMgPSBkYXRhLmdyb3Vwcy5tYXAoKHQpID0+IHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5ncm91cHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHF1YW50aXR5ID0gKF9hID0gZGF0YS5xdWFudGl0eSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGF0YS5wYXJ0aWNsZXNfbmI7XG4gICAgICAgIGlmIChxdWFudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnF1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlB1c2ggPSBQdXNoO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJlbW92ZSA9IHZvaWQgMDtcbmNsYXNzIFJlbW92ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucXVhbnRpdHkgPSAyO1xuICAgIH1cbiAgICBnZXQgcGFydGljbGVzX25iKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWFudGl0eTtcbiAgICB9XG4gICAgc2V0IHBhcnRpY2xlc19uYih2YWx1ZSkge1xuICAgICAgICB0aGlzLnF1YW50aXR5ID0gdmFsdWU7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWFudGl0eSA9IChfYSA9IGRhdGEucXVhbnRpdHkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRhdGEucGFydGljbGVzX25iO1xuICAgICAgICBpZiAocXVhbnRpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5xdWFudGl0eSA9IHF1YW50aXR5O1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5SZW1vdmUgPSBSZW1vdmU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVwdWxzZSA9IHZvaWQgMDtcbmNvbnN0IFJlcHVsc2VEaXZfMSA9IHJlcXVpcmUoXCIuL1JlcHVsc2VEaXZcIik7XG5jb25zdCBSZXB1bHNlQmFzZV8xID0gcmVxdWlyZShcIi4vUmVwdWxzZUJhc2VcIik7XG5jbGFzcyBSZXB1bHNlIGV4dGVuZHMgUmVwdWxzZUJhc2VfMS5SZXB1bHNlQmFzZSB7XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIHN1cGVyLmxvYWQoZGF0YSk7XG4gICAgICAgIGlmICgoZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLmRpdnMpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kaXZzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHRoaXMuZGl2cyA9IGRhdGEuZGl2cy5tYXAoKHMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0bXAgPSBuZXcgUmVwdWxzZURpdl8xLlJlcHVsc2VEaXYoKTtcbiAgICAgICAgICAgICAgICB0bXAubG9hZChzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXZzIGluc3RhbmNlb2YgQXJyYXkgfHwgIXRoaXMuZGl2cykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2cyA9IG5ldyBSZXB1bHNlRGl2XzEuUmVwdWxzZURpdigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXZzLmxvYWQoZGF0YS5kaXZzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUmVwdWxzZSA9IFJlcHVsc2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVwdWxzZUJhc2UgPSB2b2lkIDA7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL0VudW1zXCIpO1xuY2xhc3MgUmVwdWxzZUJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRpc3RhbmNlID0gMjAwO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gMC40O1xuICAgICAgICB0aGlzLmZhY3RvciA9IDEwMDtcbiAgICAgICAgdGhpcy5zcGVlZCA9IDE7XG4gICAgICAgIHRoaXMubWF4U3BlZWQgPSA1MDtcbiAgICAgICAgdGhpcy5lYXNpbmcgPSBFbnVtc18xLkVhc2luZ1R5cGUuZWFzZU91dFF1YWQ7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kaXN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3RhbmNlID0gZGF0YS5kaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5lYXNpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lYXNpbmcgPSBkYXRhLmVhc2luZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5mYWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5mYWN0b3IgPSBkYXRhLmZhY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5zcGVlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNwZWVkID0gZGF0YS5zcGVlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5tYXhTcGVlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1heFNwZWVkID0gZGF0YS5tYXhTcGVlZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUmVwdWxzZUJhc2UgPSBSZXB1bHNlQmFzZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXB1bHNlRGl2ID0gdm9pZCAwO1xuY29uc3QgUmVwdWxzZUJhc2VfMSA9IHJlcXVpcmUoXCIuL1JlcHVsc2VCYXNlXCIpO1xuY2xhc3MgUmVwdWxzZURpdiBleHRlbmRzIFJlcHVsc2VCYXNlXzEuUmVwdWxzZUJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNlbGVjdG9ycyA9IFtdO1xuICAgIH1cbiAgICBnZXQgaWRzKCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RvcnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0b3JzLm1hcCgodCkgPT4gdC5yZXBsYWNlKFwiI1wiLCBcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RvcnMucmVwbGFjZShcIiNcIiwgXCJcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0IGlkcyh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RvcnMgPSB2YWx1ZS5tYXAoKCkgPT4gYCMke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RvcnMgPSBgIyR7dmFsdWV9YDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgc3VwZXIubG9hZChkYXRhKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmlkcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmlkcyA9IGRhdGEuaWRzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnNlbGVjdG9ycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdG9ycyA9IGRhdGEuc2VsZWN0b3JzO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5SZXB1bHNlRGl2ID0gUmVwdWxzZURpdjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TbG93ID0gdm9pZCAwO1xuY2xhc3MgU2xvdyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yID0gMztcbiAgICAgICAgdGhpcy5yYWRpdXMgPSAyMDA7XG4gICAgfVxuICAgIGdldCBhY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc2V0IGFjdGl2ZShfdmFsdWUpIHtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5mYWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5mYWN0b3IgPSBkYXRhLmZhY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5yYWRpdXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSBkYXRhLnJhZGl1cztcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuU2xvdyA9IFNsb3c7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVHJhaWwgPSB2b2lkIDA7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL1V0aWxzXCIpO1xuY2xhc3MgVHJhaWwge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRlbGF5ID0gMTtcbiAgICAgICAgdGhpcy5wYXVzZU9uU3RvcCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnF1YW50aXR5ID0gMTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kZWxheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGF5ID0gZGF0YS5kZWxheTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5xdWFudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnF1YW50aXR5ID0gZGF0YS5xdWFudGl0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5wYXJ0aWNsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5wYXJ0aWNsZXMgPSAoMCwgVXRpbHNfMS5kZWVwRXh0ZW5kKSh7fSwgZGF0YS5wYXJ0aWNsZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnBhdXNlT25TdG9wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGF1c2VPblN0b3AgPSBkYXRhLnBhdXNlT25TdG9wO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5UcmFpbCA9IFRyYWlsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1hbnVhbFBhcnRpY2xlID0gdm9pZCAwO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9VdGlsc1wiKTtcbmNsYXNzIE1hbnVhbFBhcnRpY2xlIHtcbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEucG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB4OiAoX2EgPSBkYXRhLnBvc2l0aW9uLngpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDUwLFxuICAgICAgICAgICAgICAgIHk6IChfYiA9IGRhdGEucG9zaXRpb24ueSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogNTAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLm9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gKDAsIFV0aWxzXzEuZGVlcEV4dGVuZCkoe30sIGRhdGEub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLk1hbnVhbFBhcnRpY2xlID0gTWFudWFsUGFydGljbGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTW90aW9uID0gdm9pZCAwO1xuY29uc3QgTW90aW9uUmVkdWNlXzEgPSByZXF1aXJlKFwiLi9Nb3Rpb25SZWR1Y2VcIik7XG5jbGFzcyBNb3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRpc2FibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWR1Y2UgPSBuZXcgTW90aW9uUmVkdWNlXzEuTW90aW9uUmVkdWNlKCk7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kaXNhYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZSA9IGRhdGEuZGlzYWJsZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlZHVjZS5sb2FkKGRhdGEucmVkdWNlKTtcbiAgICB9XG59XG5leHBvcnRzLk1vdGlvbiA9IE1vdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Nb3Rpb25SZWR1Y2UgPSB2b2lkIDA7XG5jbGFzcyBNb3Rpb25SZWR1Y2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmZhY3RvciA9IDQ7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0cnVlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZmFjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmFjdG9yID0gZGF0YS5mYWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGRhdGEudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLk1vdGlvblJlZHVjZSA9IE1vdGlvblJlZHVjZTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX09wdGlvbnNfaW5zdGFuY2VzLCBfT3B0aW9uc19maW5kRGVmYXVsdFRoZW1lO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PcHRpb25zID0gdm9pZCAwO1xuY29uc3QgSW50ZXJhY3Rpdml0eV8xID0gcmVxdWlyZShcIi4vSW50ZXJhY3Rpdml0eS9JbnRlcmFjdGl2aXR5XCIpO1xuY29uc3QgUGFydGljbGVzT3B0aW9uc18xID0gcmVxdWlyZShcIi4vUGFydGljbGVzL1BhcnRpY2xlc09wdGlvbnNcIik7XG5jb25zdCBCYWNrZ3JvdW5kTWFza18xID0gcmVxdWlyZShcIi4vQmFja2dyb3VuZE1hc2svQmFja2dyb3VuZE1hc2tcIik7XG5jb25zdCBCYWNrZ3JvdW5kXzEgPSByZXF1aXJlKFwiLi9CYWNrZ3JvdW5kL0JhY2tncm91bmRcIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL1V0aWxzXCIpO1xuY29uc3QgVGhlbWVfMSA9IHJlcXVpcmUoXCIuL1RoZW1lL1RoZW1lXCIpO1xuY29uc3QgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi8uLi9FbnVtc1wiKTtcbmNvbnN0IEZ1bGxTY3JlZW5fMSA9IHJlcXVpcmUoXCIuL0Z1bGxTY3JlZW4vRnVsbFNjcmVlblwiKTtcbmNvbnN0IE1vdGlvbl8xID0gcmVxdWlyZShcIi4vTW90aW9uL01vdGlvblwiKTtcbmNvbnN0IE1hbnVhbFBhcnRpY2xlXzEgPSByZXF1aXJlKFwiLi9NYW51YWxQYXJ0aWNsZVwiKTtcbmNvbnN0IFJlc3BvbnNpdmVfMSA9IHJlcXVpcmUoXCIuL1Jlc3BvbnNpdmVcIik7XG5jbGFzcyBPcHRpb25zIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgX09wdGlvbnNfaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hdXRvUGxheSA9IHRydWU7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IG5ldyBCYWNrZ3JvdW5kXzEuQmFja2dyb3VuZCgpO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRNYXNrID0gbmV3IEJhY2tncm91bmRNYXNrXzEuQmFja2dyb3VuZE1hc2soKTtcbiAgICAgICAgdGhpcy5mdWxsU2NyZWVuID0gbmV3IEZ1bGxTY3JlZW5fMS5GdWxsU2NyZWVuKCk7XG4gICAgICAgIHRoaXMuZGV0ZWN0UmV0aW5hID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IDA7XG4gICAgICAgIHRoaXMuZnBzTGltaXQgPSA2MDtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2aXR5ID0gbmV3IEludGVyYWN0aXZpdHlfMS5JbnRlcmFjdGl2aXR5KCk7XG4gICAgICAgIHRoaXMubWFudWFsUGFydGljbGVzID0gW107XG4gICAgICAgIHRoaXMubW90aW9uID0gbmV3IE1vdGlvbl8xLk1vdGlvbigpO1xuICAgICAgICB0aGlzLnBhcnRpY2xlcyA9IG5ldyBQYXJ0aWNsZXNPcHRpb25zXzEuUGFydGljbGVzT3B0aW9ucygpO1xuICAgICAgICB0aGlzLnBhdXNlT25CbHVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wYXVzZU9uT3V0c2lkZVZpZXdwb3J0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZXNwb25zaXZlID0gW107XG4gICAgICAgIHRoaXMudGhlbWVzID0gW107XG4gICAgICAgIHRoaXMuekxheWVycyA9IDEwMDtcbiAgICB9XG4gICAgZ2V0IGZwc19saW1pdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnBzTGltaXQ7XG4gICAgfVxuICAgIHNldCBmcHNfbGltaXQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5mcHNMaW1pdCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgcmV0aW5hX2RldGVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGV0ZWN0UmV0aW5hO1xuICAgIH1cbiAgICBzZXQgcmV0aW5hX2RldGVjdCh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRldGVjdFJldGluYSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgYmFja2dyb3VuZE1vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bGxTY3JlZW47XG4gICAgfVxuICAgIHNldCBiYWNrZ3JvdW5kTW9kZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmZ1bGxTY3JlZW4ubG9hZCh2YWx1ZSk7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEucHJlc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLnByZXNldCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcmVzZXQgb2YgZGF0YS5wcmVzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbXBvcnRQcmVzZXQocHJlc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltcG9ydFByZXNldChkYXRhLnByZXNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuYXV0b1BsYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hdXRvUGxheSA9IGRhdGEuYXV0b1BsYXk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGV0ZWN0UmV0aW5hID0gKF9hID0gZGF0YS5kZXRlY3RSZXRpbmEpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRhdGEucmV0aW5hX2RldGVjdDtcbiAgICAgICAgaWYgKGRldGVjdFJldGluYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRldGVjdFJldGluYSA9IGRldGVjdFJldGluYTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmcHNMaW1pdCA9IChfYiA9IGRhdGEuZnBzTGltaXQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRhdGEuZnBzX2xpbWl0O1xuICAgICAgICBpZiAoZnBzTGltaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5mcHNMaW1pdCA9IGZwc0xpbWl0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnBhdXNlT25CbHVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGF1c2VPbkJsdXIgPSBkYXRhLnBhdXNlT25CbHVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnBhdXNlT25PdXRzaWRlVmlld3BvcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5wYXVzZU9uT3V0c2lkZVZpZXdwb3J0ID0gZGF0YS5wYXVzZU9uT3V0c2lkZVZpZXdwb3J0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnpMYXllcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy56TGF5ZXJzID0gZGF0YS56TGF5ZXJzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZC5sb2FkKGRhdGEuYmFja2dyb3VuZCk7XG4gICAgICAgIGNvbnN0IGZ1bGxTY3JlZW4gPSAoX2MgPSBkYXRhLmZ1bGxTY3JlZW4pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGRhdGEuYmFja2dyb3VuZE1vZGU7XG4gICAgICAgIGlmICh0eXBlb2YgZnVsbFNjcmVlbiA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZnVsbFNjcmVlbi5lbmFibGUgPSBmdWxsU2NyZWVuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mdWxsU2NyZWVuLmxvYWQoZnVsbFNjcmVlbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kTWFzay5sb2FkKGRhdGEuYmFja2dyb3VuZE1hc2spO1xuICAgICAgICB0aGlzLmludGVyYWN0aXZpdHkubG9hZChkYXRhLmludGVyYWN0aXZpdHkpO1xuICAgICAgICBpZiAoZGF0YS5tYW51YWxQYXJ0aWNsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5tYW51YWxQYXJ0aWNsZXMgPSBkYXRhLm1hbnVhbFBhcnRpY2xlcy5tYXAoKHQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0bXAgPSBuZXcgTWFudWFsUGFydGljbGVfMS5NYW51YWxQYXJ0aWNsZSgpO1xuICAgICAgICAgICAgICAgIHRtcC5sb2FkKHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0bXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vdGlvbi5sb2FkKGRhdGEubW90aW9uKTtcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMubG9hZChkYXRhLnBhcnRpY2xlcyk7XG4gICAgICAgIFV0aWxzXzEuUGx1Z2lucy5sb2FkT3B0aW9ucyh0aGlzLCBkYXRhKTtcbiAgICAgICAgaWYgKGRhdGEucmVzcG9uc2l2ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3BvbnNpdmUgb2YgZGF0YS5yZXNwb25zaXZlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0UmVzcG9uc2l2ZSA9IG5ldyBSZXNwb25zaXZlXzEuUmVzcG9uc2l2ZSgpO1xuICAgICAgICAgICAgICAgIG9wdFJlc3BvbnNpdmUubG9hZChyZXNwb25zaXZlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNpdmUucHVzaChvcHRSZXNwb25zaXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc3BvbnNpdmUuc29ydCgoYSwgYikgPT4gYS5tYXhXaWR0aCAtIGIubWF4V2lkdGgpO1xuICAgICAgICBpZiAoZGF0YS50aGVtZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0aGVtZSBvZiBkYXRhLnRoZW1lcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdFRoZW1lID0gbmV3IFRoZW1lXzEuVGhlbWUoKTtcbiAgICAgICAgICAgICAgICBvcHRUaGVtZS5sb2FkKHRoZW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRoZW1lcy5wdXNoKG9wdFRoZW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlZmF1bHREYXJrVGhlbWUgPSAoX2QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9PcHRpb25zX2luc3RhbmNlcywgXCJtXCIsIF9PcHRpb25zX2ZpbmREZWZhdWx0VGhlbWUpLmNhbGwodGhpcywgRW51bXNfMS5UaGVtZU1vZGUuZGFyaykpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5uYW1lO1xuICAgICAgICB0aGlzLmRlZmF1bHRMaWdodFRoZW1lID0gKF9lID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfT3B0aW9uc19pbnN0YW5jZXMsIFwibVwiLCBfT3B0aW9uc19maW5kRGVmYXVsdFRoZW1lKS5jYWxsKHRoaXMsIEVudW1zXzEuVGhlbWVNb2RlLmxpZ2h0KSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLm5hbWU7XG4gICAgfVxuICAgIHNldFRoZW1lKG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNob3NlblRoZW1lID0gdGhpcy50aGVtZXMuZmluZCgodGhlbWUpID0+IHRoZW1lLm5hbWUgPT09IG5hbWUpO1xuICAgICAgICAgICAgaWYgKGNob3NlblRoZW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkKGNob3NlblRoZW1lLm9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbWVkaWFNYXRjaCA9IHR5cGVvZiBtYXRjaE1lZGlhICE9PSBcInVuZGVmaW5lZFwiICYmIG1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLCBjbGllbnREYXJrTW9kZSA9IG1lZGlhTWF0Y2ggJiYgbWVkaWFNYXRjaC5tYXRjaGVzLCBkZWZhdWx0VGhlbWUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9PcHRpb25zX2luc3RhbmNlcywgXCJtXCIsIF9PcHRpb25zX2ZpbmREZWZhdWx0VGhlbWUpLmNhbGwodGhpcywgY2xpZW50RGFya01vZGUgPyBFbnVtc18xLlRoZW1lTW9kZS5kYXJrIDogRW51bXNfMS5UaGVtZU1vZGUubGlnaHQpO1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRUaGVtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZChkZWZhdWx0VGhlbWUub3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UmVzcG9uc2l2ZSh3aWR0aCwgcHhSYXRpbywgZGVmYXVsdE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5sb2FkKGRlZmF1bHRPcHRpb25zKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2l2ZU9wdGlvbnMgPSB0aGlzLnJlc3BvbnNpdmUuZmluZCgodCkgPT4gdC5tb2RlID09PSBFbnVtc18xLlJlc3BvbnNpdmVNb2RlLnNjcmVlbiAmJiBzY3JlZW5cbiAgICAgICAgICAgID8gdC5tYXhXaWR0aCAqIHB4UmF0aW8gPiBzY3JlZW4uYXZhaWxXaWR0aFxuICAgICAgICAgICAgOiB0Lm1heFdpZHRoICogcHhSYXRpbyA+IHdpZHRoKTtcbiAgICAgICAgdGhpcy5sb2FkKHJlc3BvbnNpdmVPcHRpb25zID09PSBudWxsIHx8IHJlc3BvbnNpdmVPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zaXZlT3B0aW9ucy5vcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNpdmVPcHRpb25zID09PSBudWxsIHx8IHJlc3BvbnNpdmVPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zaXZlT3B0aW9ucy5tYXhXaWR0aDtcbiAgICB9XG4gICAgaW1wb3J0UHJlc2V0KHByZXNldCkge1xuICAgICAgICB0aGlzLmxvYWQoVXRpbHNfMS5QbHVnaW5zLmdldFByZXNldChwcmVzZXQpKTtcbiAgICB9XG59XG5leHBvcnRzLk9wdGlvbnMgPSBPcHRpb25zO1xuX09wdGlvbnNfaW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgX09wdGlvbnNfZmluZERlZmF1bHRUaGVtZSA9IGZ1bmN0aW9uIF9PcHRpb25zX2ZpbmREZWZhdWx0VGhlbWUobW9kZSkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKChfYSA9IHRoaXMudGhlbWVzLmZpbmQoKHRoZW1lKSA9PiB0aGVtZS5kZWZhdWx0LnZhbHVlICYmIHRoZW1lLmRlZmF1bHQubW9kZSA9PT0gbW9kZSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMudGhlbWVzLmZpbmQoKHRoZW1lKSA9PiB0aGVtZS5kZWZhdWx0LnZhbHVlICYmIHRoZW1lLmRlZmF1bHQubW9kZSA9PT0gRW51bXNfMS5UaGVtZU1vZGUuYW55KSk7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk9wdGlvbnNDb2xvciA9IHZvaWQgMDtcbmNsYXNzIE9wdGlvbnNDb2xvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcIiNmZmZcIjtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShzb3VyY2UsIGRhdGEpIHtcbiAgICAgICAgY29uc3QgY29sb3IgPSBuZXcgT3B0aW9uc0NvbG9yKCk7XG4gICAgICAgIGNvbG9yLmxvYWQoc291cmNlKTtcbiAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiIHx8IGRhdGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGNvbG9yLmxvYWQoeyB2YWx1ZTogZGF0YSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbG9yLmxvYWQoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEudmFsdWUpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlID0gZGF0YS52YWx1ZTtcbiAgICB9XG59XG5leHBvcnRzLk9wdGlvbnNDb2xvciA9IE9wdGlvbnNDb2xvcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Cb3VuY2UgPSB2b2lkIDA7XG5jb25zdCBCb3VuY2VGYWN0b3JfMSA9IHJlcXVpcmUoXCIuL0JvdW5jZUZhY3RvclwiKTtcbmNsYXNzIEJvdW5jZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IG5ldyBCb3VuY2VGYWN0b3JfMS5Cb3VuY2VGYWN0b3IoKTtcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCA9IG5ldyBCb3VuY2VGYWN0b3JfMS5Cb3VuY2VGYWN0b3IoKTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbC5sb2FkKGRhdGEuaG9yaXpvbnRhbCk7XG4gICAgICAgIHRoaXMudmVydGljYWwubG9hZChkYXRhLnZlcnRpY2FsKTtcbiAgICB9XG59XG5leHBvcnRzLkJvdW5jZSA9IEJvdW5jZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Cb3VuY2VGYWN0b3IgPSB2b2lkIDA7XG5jb25zdCBWYWx1ZVdpdGhSYW5kb21fMSA9IHJlcXVpcmUoXCIuLi8uLi9WYWx1ZVdpdGhSYW5kb21cIik7XG5jbGFzcyBCb3VuY2VGYWN0b3IgZXh0ZW5kcyBWYWx1ZVdpdGhSYW5kb21fMS5WYWx1ZVdpdGhSYW5kb20ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhbmRvbS5taW5pbXVtVmFsdWUgPSAwLjE7XG4gICAgICAgIHRoaXMudmFsdWUgPSAxO1xuICAgIH1cbn1cbmV4cG9ydHMuQm91bmNlRmFjdG9yID0gQm91bmNlRmFjdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbGxpc2lvbnMgPSB2b2lkIDA7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL0VudW1zXCIpO1xuY29uc3QgQm91bmNlXzEgPSByZXF1aXJlKFwiLi4vQm91bmNlL0JvdW5jZVwiKTtcbmNvbnN0IENvbGxpc2lvbnNPdmVybGFwXzEgPSByZXF1aXJlKFwiLi9Db2xsaXNpb25zT3ZlcmxhcFwiKTtcbmNsYXNzIENvbGxpc2lvbnMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJvdW5jZSA9IG5ldyBCb3VuY2VfMS5Cb3VuY2UoKTtcbiAgICAgICAgdGhpcy5lbmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tb2RlID0gRW51bXNfMS5Db2xsaXNpb25Nb2RlLmJvdW5jZTtcbiAgICAgICAgdGhpcy5vdmVybGFwID0gbmV3IENvbGxpc2lvbnNPdmVybGFwXzEuQ29sbGlzaW9uc092ZXJsYXAoKTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvdW5jZS5sb2FkKGRhdGEuYm91bmNlKTtcbiAgICAgICAgaWYgKGRhdGEuZW5hYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZGF0YS5lbmFibGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEubW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdmVybGFwLmxvYWQoZGF0YS5vdmVybGFwKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbGxpc2lvbnMgPSBDb2xsaXNpb25zO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbGxpc2lvbnNPdmVybGFwID0gdm9pZCAwO1xuY2xhc3MgQ29sbGlzaW9uc092ZXJsYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmVuYWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMucmV0cmllcyA9IDA7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5lbmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGUgPSBkYXRhLmVuYWJsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5yZXRyaWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmV0cmllcyA9IGRhdGEucmV0cmllcztcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQ29sbGlzaW9uc092ZXJsYXAgPSBDb2xsaXNpb25zT3ZlcmxhcDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EZXN0cm95ID0gdm9pZCAwO1xuY29uc3QgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9FbnVtc1wiKTtcbmNvbnN0IFNwbGl0XzEgPSByZXF1aXJlKFwiLi9TcGxpdFwiKTtcbmNsYXNzIERlc3Ryb3kge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1vZGUgPSBFbnVtc18xLkRlc3Ryb3lNb2RlLm5vbmU7XG4gICAgICAgIHRoaXMuc3BsaXQgPSBuZXcgU3BsaXRfMS5TcGxpdCgpO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEubW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zcGxpdC5sb2FkKGRhdGEuc3BsaXQpO1xuICAgIH1cbn1cbmV4cG9ydHMuRGVzdHJveSA9IERlc3Ryb3k7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3BsaXQgPSB2b2lkIDA7XG5jb25zdCBTcGxpdEZhY3Rvcl8xID0gcmVxdWlyZShcIi4vU3BsaXRGYWN0b3JcIik7XG5jb25zdCBTcGxpdFJhdGVfMSA9IHJlcXVpcmUoXCIuL1NwbGl0UmF0ZVwiKTtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vVXRpbHNcIik7XG5jbGFzcyBTcGxpdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY291bnQgPSAxO1xuICAgICAgICB0aGlzLmZhY3RvciA9IG5ldyBTcGxpdEZhY3Rvcl8xLlNwbGl0RmFjdG9yKCk7XG4gICAgICAgIHRoaXMucmF0ZSA9IG5ldyBTcGxpdFJhdGVfMS5TcGxpdFJhdGUoKTtcbiAgICAgICAgdGhpcy5zaXplT2Zmc2V0ID0gdHJ1ZTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmNvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY291bnQgPSBkYXRhLmNvdW50O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmFjdG9yLmxvYWQoZGF0YS5mYWN0b3IpO1xuICAgICAgICB0aGlzLnJhdGUubG9hZChkYXRhLnJhdGUpO1xuICAgICAgICBpZiAoZGF0YS5wYXJ0aWNsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5wYXJ0aWNsZXMgPSAoMCwgVXRpbHNfMS5kZWVwRXh0ZW5kKSh7fSwgZGF0YS5wYXJ0aWNsZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnNpemVPZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zaXplT2Zmc2V0ID0gZGF0YS5zaXplT2Zmc2V0O1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5TcGxpdCA9IFNwbGl0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNwbGl0RmFjdG9yID0gdm9pZCAwO1xuY29uc3QgVmFsdWVXaXRoUmFuZG9tXzEgPSByZXF1aXJlKFwiLi4vLi4vVmFsdWVXaXRoUmFuZG9tXCIpO1xuY2xhc3MgU3BsaXRGYWN0b3IgZXh0ZW5kcyBWYWx1ZVdpdGhSYW5kb21fMS5WYWx1ZVdpdGhSYW5kb20ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnZhbHVlID0gMztcbiAgICB9XG59XG5leHBvcnRzLlNwbGl0RmFjdG9yID0gU3BsaXRGYWN0b3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3BsaXRSYXRlID0gdm9pZCAwO1xuY29uc3QgVmFsdWVXaXRoUmFuZG9tXzEgPSByZXF1aXJlKFwiLi4vLi4vVmFsdWVXaXRoUmFuZG9tXCIpO1xuY2xhc3MgU3BsaXRSYXRlIGV4dGVuZHMgVmFsdWVXaXRoUmFuZG9tXzEuVmFsdWVXaXRoUmFuZG9tIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHsgbWluOiA0LCBtYXg6IDkgfTtcbiAgICB9XG59XG5leHBvcnRzLlNwbGl0UmF0ZSA9IFNwbGl0UmF0ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MaWZlID0gdm9pZCAwO1xuY29uc3QgTGlmZURlbGF5XzEgPSByZXF1aXJlKFwiLi9MaWZlRGVsYXlcIik7XG5jb25zdCBMaWZlRHVyYXRpb25fMSA9IHJlcXVpcmUoXCIuL0xpZmVEdXJhdGlvblwiKTtcbmNsYXNzIExpZmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5kZWxheSA9IG5ldyBMaWZlRGVsYXlfMS5MaWZlRGVsYXkoKTtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IG5ldyBMaWZlRHVyYXRpb25fMS5MaWZlRHVyYXRpb24oKTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5jb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50ID0gZGF0YS5jb3VudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGF5LmxvYWQoZGF0YS5kZWxheSk7XG4gICAgICAgIHRoaXMuZHVyYXRpb24ubG9hZChkYXRhLmR1cmF0aW9uKTtcbiAgICB9XG59XG5leHBvcnRzLkxpZmUgPSBMaWZlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxpZmVEZWxheSA9IHZvaWQgMDtcbmNvbnN0IFZhbHVlV2l0aFJhbmRvbV8xID0gcmVxdWlyZShcIi4uLy4uL1ZhbHVlV2l0aFJhbmRvbVwiKTtcbmNsYXNzIExpZmVEZWxheSBleHRlbmRzIFZhbHVlV2l0aFJhbmRvbV8xLlZhbHVlV2l0aFJhbmRvbSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3luYyA9IGZhbHNlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIubG9hZChkYXRhKTtcbiAgICAgICAgaWYgKGRhdGEuc3luYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnN5bmMgPSBkYXRhLnN5bmM7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkxpZmVEZWxheSA9IExpZmVEZWxheTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MaWZlRHVyYXRpb24gPSB2b2lkIDA7XG5jb25zdCBWYWx1ZVdpdGhSYW5kb21fMSA9IHJlcXVpcmUoXCIuLi8uLi9WYWx1ZVdpdGhSYW5kb21cIik7XG5jbGFzcyBMaWZlRHVyYXRpb24gZXh0ZW5kcyBWYWx1ZVdpdGhSYW5kb21fMS5WYWx1ZVdpdGhSYW5kb20ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhbmRvbS5taW5pbXVtVmFsdWUgPSAwLjAwMDE7XG4gICAgICAgIHRoaXMuc3luYyA9IGZhbHNlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmxvYWQoZGF0YSk7XG4gICAgICAgIGlmIChkYXRhLnN5bmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zeW5jID0gZGF0YS5zeW5jO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5MaWZlRHVyYXRpb24gPSBMaWZlRHVyYXRpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGlua3MgPSB2b2lkIDA7XG5jb25zdCBMaW5rc1NoYWRvd18xID0gcmVxdWlyZShcIi4vTGlua3NTaGFkb3dcIik7XG5jb25zdCBMaW5rc1RyaWFuZ2xlXzEgPSByZXF1aXJlKFwiLi9MaW5rc1RyaWFuZ2xlXCIpO1xuY29uc3QgT3B0aW9uc0NvbG9yXzEgPSByZXF1aXJlKFwiLi4vLi4vT3B0aW9uc0NvbG9yXCIpO1xuY2xhc3MgTGlua3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJsaW5rID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29sb3IgPSBuZXcgT3B0aW9uc0NvbG9yXzEuT3B0aW9uc0NvbG9yKCk7XG4gICAgICAgIHRoaXMuY29uc2VudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpc3RhbmNlID0gMTAwO1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeSA9IDE7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IDE7XG4gICAgICAgIHRoaXMuc2hhZG93ID0gbmV3IExpbmtzU2hhZG93XzEuTGlua3NTaGFkb3coKTtcbiAgICAgICAgdGhpcy50cmlhbmdsZXMgPSBuZXcgTGlua3NUcmlhbmdsZV8xLkxpbmtzVHJpYW5nbGUoKTtcbiAgICAgICAgdGhpcy53aWR0aCA9IDE7XG4gICAgICAgIHRoaXMud2FycCA9IGZhbHNlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmJsaW5rICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYmxpbmsgPSBkYXRhLmJsaW5rO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sb3IgPSBPcHRpb25zQ29sb3JfMS5PcHRpb25zQ29sb3IuY3JlYXRlKHRoaXMuY29sb3IsIGRhdGEuY29sb3IpO1xuICAgICAgICBpZiAoZGF0YS5jb25zZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc2VudCA9IGRhdGEuY29uc2VudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kaXN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3RhbmNlID0gZGF0YS5kaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5lbmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGUgPSBkYXRhLmVuYWJsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5mcmVxdWVuY3kgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5mcmVxdWVuY3kgPSBkYXRhLmZyZXF1ZW5jeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5vcGFjaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eSA9IGRhdGEub3BhY2l0eTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNoYWRvdy5sb2FkKGRhdGEuc2hhZG93KTtcbiAgICAgICAgdGhpcy50cmlhbmdsZXMubG9hZChkYXRhLnRyaWFuZ2xlcyk7XG4gICAgICAgIGlmIChkYXRhLndpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBkYXRhLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLndhcnAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53YXJwID0gZGF0YS53YXJwO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5MaW5rcyA9IExpbmtzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxpbmtzU2hhZG93ID0gdm9pZCAwO1xuY29uc3QgT3B0aW9uc0NvbG9yXzEgPSByZXF1aXJlKFwiLi4vLi4vT3B0aW9uc0NvbG9yXCIpO1xuY2xhc3MgTGlua3NTaGFkb3cge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJsdXIgPSA1O1xuICAgICAgICB0aGlzLmNvbG9yID0gbmV3IE9wdGlvbnNDb2xvcl8xLk9wdGlvbnNDb2xvcigpO1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbG9yLnZhbHVlID0gXCIjMDBmZjAwXCI7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuYmx1ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXIgPSBkYXRhLmJsdXI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xvciA9IE9wdGlvbnNDb2xvcl8xLk9wdGlvbnNDb2xvci5jcmVhdGUodGhpcy5jb2xvciwgZGF0YS5jb2xvcik7XG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5MaW5rc1NoYWRvdyA9IExpbmtzU2hhZG93O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxpbmtzVHJpYW5nbGUgPSB2b2lkIDA7XG5jb25zdCBPcHRpb25zQ29sb3JfMSA9IHJlcXVpcmUoXCIuLi8uLi9PcHRpb25zQ29sb3JcIik7XG5jbGFzcyBMaW5rc1RyaWFuZ2xlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lbmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kgPSAxO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBPcHRpb25zQ29sb3JfMS5PcHRpb25zQ29sb3IuY3JlYXRlKHRoaXMuY29sb3IsIGRhdGEuY29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmZyZXF1ZW5jeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZyZXF1ZW5jeSA9IGRhdGEuZnJlcXVlbmN5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLm9wYWNpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gZGF0YS5vcGFjaXR5O1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5MaW5rc1RyaWFuZ2xlID0gTGlua3NUcmlhbmdsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BdHRyYWN0ID0gdm9pZCAwO1xuY2xhc3MgQXR0cmFjdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSAyMDA7XG4gICAgICAgIHRoaXMuZW5hYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucm90YXRlID0ge1xuICAgICAgICAgICAgeDogMzAwMCxcbiAgICAgICAgICAgIHk6IDMwMDAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCByb3RhdGVYKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGUueDtcbiAgICB9XG4gICAgc2V0IHJvdGF0ZVgodmFsdWUpIHtcbiAgICAgICAgdGhpcy5yb3RhdGUueCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgcm90YXRlWSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRlLnk7XG4gICAgfVxuICAgIHNldCByb3RhdGVZKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucm90YXRlLnkgPSB2YWx1ZTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZGlzdGFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kaXN0YW5jZSA9IGRhdGEuZGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZW5hYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZGF0YS5lbmFibGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgcm90YXRlWCA9IChfYiA9IChfYSA9IGRhdGEucm90YXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EueCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGF0YS5yb3RhdGVYO1xuICAgICAgICBpZiAocm90YXRlWCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJvdGF0ZS54ID0gcm90YXRlWDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByb3RhdGVZID0gKF9kID0gKF9jID0gZGF0YS5yb3RhdGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy55KSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBkYXRhLnJvdGF0ZVk7XG4gICAgICAgIGlmIChyb3RhdGVZICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucm90YXRlLnkgPSByb3RhdGVZO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5BdHRyYWN0ID0gQXR0cmFjdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Nb3ZlID0gdm9pZCAwO1xuY29uc3QgQXR0cmFjdF8xID0gcmVxdWlyZShcIi4vQXR0cmFjdFwiKTtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vRW51bXNcIik7XG5jb25zdCBUcmFpbF8xID0gcmVxdWlyZShcIi4vVHJhaWxcIik7XG5jb25zdCBQYXRoXzEgPSByZXF1aXJlKFwiLi9QYXRoL1BhdGhcIik7XG5jb25zdCBNb3ZlQW5nbGVfMSA9IHJlcXVpcmUoXCIuL01vdmVBbmdsZVwiKTtcbmNvbnN0IE1vdmVHcmF2aXR5XzEgPSByZXF1aXJlKFwiLi9Nb3ZlR3Jhdml0eVwiKTtcbmNvbnN0IE91dE1vZGVzXzEgPSByZXF1aXJlKFwiLi9PdXRNb2Rlc1wiKTtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vVXRpbHNcIik7XG5jb25zdCBTcGluXzEgPSByZXF1aXJlKFwiLi9TcGluXCIpO1xuY2xhc3MgTW92ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYW5nbGUgPSBuZXcgTW92ZUFuZ2xlXzEuTW92ZUFuZ2xlKCk7XG4gICAgICAgIHRoaXMuYXR0cmFjdCA9IG5ldyBBdHRyYWN0XzEuQXR0cmFjdCgpO1xuICAgICAgICB0aGlzLmRlY2F5ID0gMDtcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IHt9O1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IEVudW1zXzEuTW92ZURpcmVjdGlvbi5ub25lO1xuICAgICAgICB0aGlzLmRyaWZ0ID0gMDtcbiAgICAgICAgdGhpcy5lbmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ncmF2aXR5ID0gbmV3IE1vdmVHcmF2aXR5XzEuTW92ZUdyYXZpdHkoKTtcbiAgICAgICAgdGhpcy5wYXRoID0gbmV3IFBhdGhfMS5QYXRoKCk7XG4gICAgICAgIHRoaXMub3V0TW9kZXMgPSBuZXcgT3V0TW9kZXNfMS5PdXRNb2RlcygpO1xuICAgICAgICB0aGlzLnJhbmRvbSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNpemUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zcGVlZCA9IDI7XG4gICAgICAgIHRoaXMuc3BpbiA9IG5ldyBTcGluXzEuU3BpbigpO1xuICAgICAgICB0aGlzLnN0cmFpZ2h0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHJhaWwgPSBuZXcgVHJhaWxfMS5UcmFpbCgpO1xuICAgICAgICB0aGlzLnZpYnJhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53YXJwID0gZmFsc2U7XG4gICAgfVxuICAgIGdldCBjb2xsaXNpb25zKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNldCBjb2xsaXNpb25zKHZhbHVlKSB7XG4gICAgfVxuICAgIGdldCBib3VuY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpc2lvbnM7XG4gICAgfVxuICAgIHNldCBib3VuY2UodmFsdWUpIHtcbiAgICAgICAgdGhpcy5jb2xsaXNpb25zID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBvdXRfbW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0TW9kZTtcbiAgICB9XG4gICAgc2V0IG91dF9tb2RlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMub3V0TW9kZSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgb3V0TW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0TW9kZXMuZGVmYXVsdDtcbiAgICB9XG4gICAgc2V0IG91dE1vZGUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5vdXRNb2Rlcy5kZWZhdWx0ID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBub2lzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aDtcbiAgICB9XG4gICAgc2V0IG5vaXNlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGF0aCA9IHZhbHVlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5hbmdsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEuYW5nbGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuZ2xlLnZhbHVlID0gZGF0YS5hbmdsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5nbGUubG9hZChkYXRhLmFuZ2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF0dHJhY3QubG9hZChkYXRhLmF0dHJhY3QpO1xuICAgICAgICBpZiAoZGF0YS5kZWNheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlY2F5ID0gZGF0YS5kZWNheTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kaXJlY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkYXRhLmRpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kaXN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3RhbmNlID1cbiAgICAgICAgICAgICAgICB0eXBlb2YgZGF0YS5kaXN0YW5jZSA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvcml6b250YWw6IGRhdGEuZGlzdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogZGF0YS5kaXN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA6ICgwLCBVdGlsc18xLmRlZXBFeHRlbmQpKHt9LCBkYXRhLmRpc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kcmlmdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRyaWZ0ID0gKDAsIFV0aWxzXzEuc2V0UmFuZ2VWYWx1ZSkoZGF0YS5kcmlmdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZW5hYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZGF0YS5lbmFibGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ncmF2aXR5LmxvYWQoZGF0YS5ncmF2aXR5KTtcbiAgICAgICAgY29uc3Qgb3V0TW9kZSA9IChfYSA9IGRhdGEub3V0TW9kZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGF0YS5vdXRfbW9kZTtcbiAgICAgICAgaWYgKGRhdGEub3V0TW9kZXMgIT09IHVuZGVmaW5lZCB8fCBvdXRNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5vdXRNb2RlcyA9PT0gXCJzdHJpbmdcIiB8fCAoZGF0YS5vdXRNb2RlcyA9PT0gdW5kZWZpbmVkICYmIG91dE1vZGUgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dE1vZGVzLmxvYWQoe1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAoX2IgPSBkYXRhLm91dE1vZGVzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBvdXRNb2RlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXRNb2Rlcy5sb2FkKGRhdGEub3V0TW9kZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGF0aC5sb2FkKChfYyA9IGRhdGEucGF0aCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZGF0YS5ub2lzZSk7XG4gICAgICAgIGlmIChkYXRhLnJhbmRvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJhbmRvbSA9IGRhdGEucmFuZG9tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnNwZWVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgPSAoMCwgVXRpbHNfMS5zZXRSYW5nZVZhbHVlKShkYXRhLnNwZWVkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwaW4ubG9hZChkYXRhLnNwaW4pO1xuICAgICAgICBpZiAoZGF0YS5zdHJhaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmFpZ2h0ID0gZGF0YS5zdHJhaWdodDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWlsLmxvYWQoZGF0YS50cmFpbCk7XG4gICAgICAgIGlmIChkYXRhLnZpYnJhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy52aWJyYXRlID0gZGF0YS52aWJyYXRlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLndhcnAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53YXJwID0gZGF0YS53YXJwO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Nb3ZlID0gTW92ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Nb3ZlQW5nbGUgPSB2b2lkIDA7XG5jbGFzcyBNb3ZlQW5nbGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMudmFsdWUgPSA5MDtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5vZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vZmZzZXQgPSBkYXRhLm9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gZGF0YS52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuTW92ZUFuZ2xlID0gTW92ZUFuZ2xlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1vdmVHcmF2aXR5ID0gdm9pZCAwO1xuY2xhc3MgTW92ZUdyYXZpdHkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbiA9IDkuODE7XG4gICAgICAgIHRoaXMuZW5hYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW52ZXJzZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1heFNwZWVkID0gNTA7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5hY2NlbGVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24gPSBkYXRhLmFjY2VsZXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5lbmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGUgPSBkYXRhLmVuYWJsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5pbnZlcnNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW52ZXJzZSA9IGRhdGEuaW52ZXJzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5tYXhTcGVlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1heFNwZWVkID0gZGF0YS5tYXhTcGVlZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuTW92ZUdyYXZpdHkgPSBNb3ZlR3Jhdml0eTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PdXRNb2RlcyA9IHZvaWQgMDtcbmNvbnN0IE1vZGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vRW51bXMvTW9kZXNcIik7XG5jbGFzcyBPdXRNb2RlcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IE1vZGVzXzEuT3V0TW9kZS5vdXQ7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmRlZmF1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0ID0gZGF0YS5kZWZhdWx0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYm90dG9tID0gKF9hID0gZGF0YS5ib3R0b20pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRhdGEuZGVmYXVsdDtcbiAgICAgICAgdGhpcy5sZWZ0ID0gKF9iID0gZGF0YS5sZWZ0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBkYXRhLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMucmlnaHQgPSAoX2MgPSBkYXRhLnJpZ2h0KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkYXRhLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMudG9wID0gKF9kID0gZGF0YS50b3ApICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRhdGEuZGVmYXVsdDtcbiAgICB9XG59XG5leHBvcnRzLk91dE1vZGVzID0gT3V0TW9kZXM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGF0aCA9IHZvaWQgMDtcbmNvbnN0IFBhdGhEZWxheV8xID0gcmVxdWlyZShcIi4vUGF0aERlbGF5XCIpO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9VdGlsc1wiKTtcbmNsYXNzIFBhdGgge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNsYW1wID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZWxheSA9IG5ldyBQYXRoRGVsYXlfMS5QYXRoRGVsYXkoKTtcbiAgICAgICAgdGhpcy5lbmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge307XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuY2xhbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jbGFtcCA9IGRhdGEuY2xhbXA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxheS5sb2FkKGRhdGEuZGVsYXkpO1xuICAgICAgICBpZiAoZGF0YS5lbmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGUgPSBkYXRhLmVuYWJsZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdlbmVyYXRvciA9IGRhdGEuZ2VuZXJhdG9yO1xuICAgICAgICBpZiAoZGF0YS5vcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSAoMCwgVXRpbHNfMS5kZWVwRXh0ZW5kKSh0aGlzLm9wdGlvbnMsIGRhdGEub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlBhdGggPSBQYXRoO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBhdGhEZWxheSA9IHZvaWQgMDtcbmNvbnN0IFZhbHVlV2l0aFJhbmRvbV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL1ZhbHVlV2l0aFJhbmRvbVwiKTtcbmNsYXNzIFBhdGhEZWxheSBleHRlbmRzIFZhbHVlV2l0aFJhbmRvbV8xLlZhbHVlV2l0aFJhbmRvbSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxufVxuZXhwb3J0cy5QYXRoRGVsYXkgPSBQYXRoRGVsYXk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3BpbiA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vVXRpbHNcIik7XG5jbGFzcyBTcGluIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24gPSAwO1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuYWNjZWxlcmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gKDAsIFV0aWxzXzEuc2V0UmFuZ2VWYWx1ZSkoZGF0YS5hY2NlbGVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBkYXRhLnBvc2l0aW9uID8gKDAsIFV0aWxzXzEuZGVlcEV4dGVuZCkoe30sIGRhdGEucG9zaXRpb24pIDogdW5kZWZpbmVkO1xuICAgIH1cbn1cbmV4cG9ydHMuU3BpbiA9IFNwaW47XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVHJhaWwgPSB2b2lkIDA7XG5jb25zdCBPcHRpb25zQ29sb3JfMSA9IHJlcXVpcmUoXCIuLi8uLi9PcHRpb25zQ29sb3JcIik7XG5jbGFzcyBUcmFpbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMTA7XG4gICAgICAgIHRoaXMuZmlsbENvbG9yID0gbmV3IE9wdGlvbnNDb2xvcl8xLk9wdGlvbnNDb2xvcigpO1xuICAgICAgICB0aGlzLmZpbGxDb2xvci52YWx1ZSA9IFwiIzAwMDAwMFwiO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmlsbENvbG9yID0gT3B0aW9uc0NvbG9yXzEuT3B0aW9uc0NvbG9yLmNyZWF0ZSh0aGlzLmZpbGxDb2xvciwgZGF0YS5maWxsQ29sb3IpO1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuVHJhaWwgPSBUcmFpbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EZW5zaXR5ID0gdm9pZCAwO1xuY2xhc3MgRGVuc2l0eSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYXJlYSA9IDgwMDtcbiAgICAgICAgdGhpcy5mYWN0b3IgPSAxMDAwO1xuICAgIH1cbiAgICBnZXQgdmFsdWVfYXJlYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJlYTtcbiAgICB9XG4gICAgc2V0IHZhbHVlX2FyZWEodmFsdWUpIHtcbiAgICAgICAgdGhpcy5hcmVhID0gdmFsdWU7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5lbmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGUgPSBkYXRhLmVuYWJsZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcmVhID0gKF9hID0gZGF0YS5hcmVhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkYXRhLnZhbHVlX2FyZWE7XG4gICAgICAgIGlmIChhcmVhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYXJlYSA9IGFyZWE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZmFjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmFjdG9yID0gZGF0YS5mYWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkRlbnNpdHkgPSBEZW5zaXR5O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBhcnRpY2xlc051bWJlciA9IHZvaWQgMDtcbmNvbnN0IERlbnNpdHlfMSA9IHJlcXVpcmUoXCIuL0RlbnNpdHlcIik7XG5jbGFzcyBQYXJ0aWNsZXNOdW1iZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRlbnNpdHkgPSBuZXcgRGVuc2l0eV8xLkRlbnNpdHkoKTtcbiAgICAgICAgdGhpcy5saW1pdCA9IDA7XG4gICAgICAgIHRoaXMudmFsdWUgPSAxMDA7XG4gICAgfVxuICAgIGdldCBtYXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbWl0O1xuICAgIH1cbiAgICBzZXQgbWF4KHZhbHVlKSB7XG4gICAgICAgIHRoaXMubGltaXQgPSB2YWx1ZTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVuc2l0eS5sb2FkKGRhdGEuZGVuc2l0eSk7XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gKF9hID0gZGF0YS5saW1pdCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGF0YS5tYXg7XG4gICAgICAgIGlmIChsaW1pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmxpbWl0ID0gbGltaXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGRhdGEudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlBhcnRpY2xlc051bWJlciA9IFBhcnRpY2xlc051bWJlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PcGFjaXR5ID0gdm9pZCAwO1xuY29uc3QgT3BhY2l0eUFuaW1hdGlvbl8xID0gcmVxdWlyZShcIi4vT3BhY2l0eUFuaW1hdGlvblwiKTtcbmNvbnN0IFZhbHVlV2l0aFJhbmRvbV8xID0gcmVxdWlyZShcIi4uLy4uL1ZhbHVlV2l0aFJhbmRvbVwiKTtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vVXRpbHNcIik7XG5jbGFzcyBPcGFjaXR5IGV4dGVuZHMgVmFsdWVXaXRoUmFuZG9tXzEuVmFsdWVXaXRoUmFuZG9tIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBuZXcgT3BhY2l0eUFuaW1hdGlvbl8xLk9wYWNpdHlBbmltYXRpb24oKTtcbiAgICAgICAgdGhpcy5yYW5kb20ubWluaW11bVZhbHVlID0gMC4xO1xuICAgICAgICB0aGlzLnZhbHVlID0gMTtcbiAgICB9XG4gICAgZ2V0IGFuaW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbjtcbiAgICB9XG4gICAgc2V0IGFuaW0odmFsdWUpIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSB2YWx1ZTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIubG9hZChkYXRhKTtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gKF9hID0gZGF0YS5hbmltYXRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRhdGEuYW5pbTtcbiAgICAgICAgaWYgKGFuaW1hdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5sb2FkKGFuaW1hdGlvbik7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gKDAsIFV0aWxzXzEuc2V0UmFuZ2VWYWx1ZSkodGhpcy52YWx1ZSwgdGhpcy5hbmltYXRpb24uZW5hYmxlID8gdGhpcy5hbmltYXRpb24ubWluaW11bVZhbHVlIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuT3BhY2l0eSA9IE9wYWNpdHk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT3BhY2l0eUFuaW1hdGlvbiA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vRW51bXNcIik7XG5jb25zdCBBbmltYXRpb25PcHRpb25zXzEgPSByZXF1aXJlKFwiLi4vLi4vQW5pbWF0aW9uT3B0aW9uc1wiKTtcbmNsYXNzIE9wYWNpdHlBbmltYXRpb24gZXh0ZW5kcyBBbmltYXRpb25PcHRpb25zXzEuQW5pbWF0aW9uT3B0aW9ucyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZGVzdHJveSA9IEVudW1zXzEuRGVzdHJveVR5cGUubm9uZTtcbiAgICAgICAgdGhpcy5lbmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zcGVlZCA9IDI7XG4gICAgICAgIHRoaXMuc3RhcnRWYWx1ZSA9IEVudW1zXzEuU3RhcnRWYWx1ZVR5cGUucmFuZG9tO1xuICAgICAgICB0aGlzLnN5bmMgPSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IG9wYWNpdHlfbWluKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5pbXVtVmFsdWU7XG4gICAgfVxuICAgIHNldCBvcGFjaXR5X21pbih2YWx1ZSkge1xuICAgICAgICB0aGlzLm1pbmltdW1WYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIubG9hZChkYXRhKTtcbiAgICAgICAgaWYgKGRhdGEuZGVzdHJveSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBkYXRhLmRlc3Ryb3k7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZW5hYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZGF0YS5lbmFibGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taW5pbXVtVmFsdWUgPSAoX2EgPSBkYXRhLm1pbmltdW1WYWx1ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGF0YS5vcGFjaXR5X21pbjtcbiAgICAgICAgaWYgKGRhdGEuc3BlZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zcGVlZCA9IGRhdGEuc3BlZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc3RhcnRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0VmFsdWUgPSBkYXRhLnN0YXJ0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc3luYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnN5bmMgPSBkYXRhLnN5bmM7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLk9wYWNpdHlBbmltYXRpb24gPSBPcGFjaXR5QW5pbWF0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk9yYml0ID0gdm9pZCAwO1xuY29uc3QgT3JiaXRSb3RhdGlvbl8xID0gcmVxdWlyZShcIi4vT3JiaXRSb3RhdGlvblwiKTtcbmNvbnN0IE9wdGlvbnNDb2xvcl8xID0gcmVxdWlyZShcIi4uLy4uL09wdGlvbnNDb2xvclwiKTtcbmNvbnN0IEFuaW1hdGlvbk9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi8uLi9BbmltYXRpb25PcHRpb25zXCIpO1xuY2xhc3MgT3JiaXQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IG5ldyBBbmltYXRpb25PcHRpb25zXzEuQW5pbWF0aW9uT3B0aW9ucygpO1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAxO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gbmV3IE9yYml0Um90YXRpb25fMS5PcmJpdFJvdGF0aW9uKCk7XG4gICAgICAgIHRoaXMud2lkdGggPSAxO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmxvYWQoZGF0YS5hbmltYXRpb24pO1xuICAgICAgICB0aGlzLnJvdGF0aW9uLmxvYWQoZGF0YS5yb3RhdGlvbik7XG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLm9wYWNpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gZGF0YS5vcGFjaXR5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLndpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBkYXRhLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnJhZGl1cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJhZGl1cyA9IGRhdGEucmFkaXVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBPcHRpb25zQ29sb3JfMS5PcHRpb25zQ29sb3IuY3JlYXRlKHRoaXMuY29sb3IsIGRhdGEuY29sb3IpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5PcmJpdCA9IE9yYml0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk9yYml0Um90YXRpb24gPSB2b2lkIDA7XG5jb25zdCBWYWx1ZVdpdGhSYW5kb21fMSA9IHJlcXVpcmUoXCIuLi8uLi9WYWx1ZVdpdGhSYW5kb21cIik7XG5jbGFzcyBPcmJpdFJvdGF0aW9uIGV4dGVuZHMgVmFsdWVXaXRoUmFuZG9tXzEuVmFsdWVXaXRoUmFuZG9tIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IDQ1O1xuICAgICAgICB0aGlzLnJhbmRvbS5lbmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yYW5kb20ubWluaW11bVZhbHVlID0gMDtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5sb2FkKGRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuT3JiaXRSb3RhdGlvbiA9IE9yYml0Um90YXRpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGFydGljbGVzT3B0aW9ucyA9IHZvaWQgMDtcbmNvbnN0IExpbmtzXzEgPSByZXF1aXJlKFwiLi9MaW5rcy9MaW5rc1wiKTtcbmNvbnN0IE1vdmVfMSA9IHJlcXVpcmUoXCIuL01vdmUvTW92ZVwiKTtcbmNvbnN0IFBhcnRpY2xlc051bWJlcl8xID0gcmVxdWlyZShcIi4vTnVtYmVyL1BhcnRpY2xlc051bWJlclwiKTtcbmNvbnN0IE9wYWNpdHlfMSA9IHJlcXVpcmUoXCIuL09wYWNpdHkvT3BhY2l0eVwiKTtcbmNvbnN0IFNoYXBlXzEgPSByZXF1aXJlKFwiLi9TaGFwZS9TaGFwZVwiKTtcbmNvbnN0IFNpemVfMSA9IHJlcXVpcmUoXCIuL1NpemUvU2l6ZVwiKTtcbmNvbnN0IFJvdGF0ZV8xID0gcmVxdWlyZShcIi4vUm90YXRlL1JvdGF0ZVwiKTtcbmNvbnN0IFNoYWRvd18xID0gcmVxdWlyZShcIi4vU2hhZG93XCIpO1xuY29uc3QgU3Ryb2tlXzEgPSByZXF1aXJlKFwiLi9TdHJva2VcIik7XG5jb25zdCBDb2xsaXNpb25zXzEgPSByZXF1aXJlKFwiLi9Db2xsaXNpb25zL0NvbGxpc2lvbnNcIik7XG5jb25zdCBUd2lua2xlXzEgPSByZXF1aXJlKFwiLi9Ud2lua2xlL1R3aW5rbGVcIik7XG5jb25zdCBBbmltYXRhYmxlQ29sb3JfMSA9IHJlcXVpcmUoXCIuLi9BbmltYXRhYmxlQ29sb3JcIik7XG5jb25zdCBMaWZlXzEgPSByZXF1aXJlKFwiLi9MaWZlL0xpZmVcIik7XG5jb25zdCBCb3VuY2VfMSA9IHJlcXVpcmUoXCIuL0JvdW5jZS9Cb3VuY2VcIik7XG5jb25zdCBEZXN0cm95XzEgPSByZXF1aXJlKFwiLi9EZXN0cm95L0Rlc3Ryb3lcIik7XG5jb25zdCBXb2JibGVfMSA9IHJlcXVpcmUoXCIuL1dvYmJsZS9Xb2JibGVcIik7XG5jb25zdCBUaWx0XzEgPSByZXF1aXJlKFwiLi9UaWx0L1RpbHRcIik7XG5jb25zdCBSb2xsXzEgPSByZXF1aXJlKFwiLi9Sb2xsL1JvbGxcIik7XG5jb25zdCBaSW5kZXhfMSA9IHJlcXVpcmUoXCIuL1pJbmRleC9aSW5kZXhcIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL1V0aWxzXCIpO1xuY29uc3QgT3JiaXRfMSA9IHJlcXVpcmUoXCIuL09yYml0L09yYml0XCIpO1xuY29uc3QgUmVwdWxzZV8xID0gcmVxdWlyZShcIi4vUmVwdWxzZS9SZXB1bHNlXCIpO1xuY29uc3QgQW5pbWF0YWJsZUdyYWRpZW50XzEgPSByZXF1aXJlKFwiLi4vQW5pbWF0YWJsZUdyYWRpZW50XCIpO1xuY2xhc3MgUGFydGljbGVzT3B0aW9ucyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYm91bmNlID0gbmV3IEJvdW5jZV8xLkJvdW5jZSgpO1xuICAgICAgICB0aGlzLmNvbGxpc2lvbnMgPSBuZXcgQ29sbGlzaW9uc18xLkNvbGxpc2lvbnMoKTtcbiAgICAgICAgdGhpcy5jb2xvciA9IG5ldyBBbmltYXRhYmxlQ29sb3JfMS5BbmltYXRhYmxlQ29sb3IoKTtcbiAgICAgICAgdGhpcy5kZXN0cm95ID0gbmV3IERlc3Ryb3lfMS5EZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZ3JhZGllbnQgPSBbXTtcbiAgICAgICAgdGhpcy5ncm91cHMgPSB7fTtcbiAgICAgICAgdGhpcy5saWZlID0gbmV3IExpZmVfMS5MaWZlKCk7XG4gICAgICAgIHRoaXMubGlua3MgPSBuZXcgTGlua3NfMS5MaW5rcygpO1xuICAgICAgICB0aGlzLm1vdmUgPSBuZXcgTW92ZV8xLk1vdmUoKTtcbiAgICAgICAgdGhpcy5udW1iZXIgPSBuZXcgUGFydGljbGVzTnVtYmVyXzEuUGFydGljbGVzTnVtYmVyKCk7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IG5ldyBPcGFjaXR5XzEuT3BhY2l0eSgpO1xuICAgICAgICB0aGlzLm9yYml0ID0gbmV3IE9yYml0XzEuT3JiaXQoKTtcbiAgICAgICAgdGhpcy5yZWR1Y2VEdXBsaWNhdGVzID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVwdWxzZSA9IG5ldyBSZXB1bHNlXzEuUmVwdWxzZSgpO1xuICAgICAgICB0aGlzLnJvbGwgPSBuZXcgUm9sbF8xLlJvbGwoKTtcbiAgICAgICAgdGhpcy5yb3RhdGUgPSBuZXcgUm90YXRlXzEuUm90YXRlKCk7XG4gICAgICAgIHRoaXMuc2hhZG93ID0gbmV3IFNoYWRvd18xLlNoYWRvdygpO1xuICAgICAgICB0aGlzLnNoYXBlID0gbmV3IFNoYXBlXzEuU2hhcGUoKTtcbiAgICAgICAgdGhpcy5zaXplID0gbmV3IFNpemVfMS5TaXplKCk7XG4gICAgICAgIHRoaXMuc3Ryb2tlID0gbmV3IFN0cm9rZV8xLlN0cm9rZSgpO1xuICAgICAgICB0aGlzLnRpbHQgPSBuZXcgVGlsdF8xLlRpbHQoKTtcbiAgICAgICAgdGhpcy50d2lua2xlID0gbmV3IFR3aW5rbGVfMS5Ud2lua2xlKCk7XG4gICAgICAgIHRoaXMud29iYmxlID0gbmV3IFdvYmJsZV8xLldvYmJsZSgpO1xuICAgICAgICB0aGlzLnpJbmRleCA9IG5ldyBaSW5kZXhfMS5aSW5kZXgoKTtcbiAgICB9XG4gICAgZ2V0IGxpbmVfbGlua2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5rcztcbiAgICB9XG4gICAgc2V0IGxpbmVfbGlua2VkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlua3MgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGxpbmVMaW5rZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmtzO1xuICAgIH1cbiAgICBzZXQgbGluZUxpbmtlZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLmxpbmtzID0gdmFsdWU7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ib3VuY2UubG9hZChkYXRhLmJvdW5jZSk7XG4gICAgICAgIHRoaXMuY29sb3IubG9hZChBbmltYXRhYmxlQ29sb3JfMS5BbmltYXRhYmxlQ29sb3IuY3JlYXRlKHRoaXMuY29sb3IsIGRhdGEuY29sb3IpKTtcbiAgICAgICAgdGhpcy5kZXN0cm95LmxvYWQoZGF0YS5kZXN0cm95KTtcbiAgICAgICAgdGhpcy5saWZlLmxvYWQoZGF0YS5saWZlKTtcbiAgICAgICAgY29uc3QgbGlua3MgPSAoX2IgPSAoX2EgPSBkYXRhLmxpbmtzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkYXRhLmxpbmVMaW5rZWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRhdGEubGluZV9saW5rZWQ7XG4gICAgICAgIGlmIChsaW5rcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmtzLmxvYWQobGlua3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmdyb3VwcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGdyb3VwIGluIGRhdGEuZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRhdGEuZ3JvdXBzW2dyb3VwXTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBzW2dyb3VwXSA9ICgwLCBVdGlsc18xLmRlZXBFeHRlbmQpKChfYyA9IHRoaXMuZ3JvdXBzW2dyb3VwXSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDoge30sIGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vdmUubG9hZChkYXRhLm1vdmUpO1xuICAgICAgICB0aGlzLm51bWJlci5sb2FkKGRhdGEubnVtYmVyKTtcbiAgICAgICAgdGhpcy5vcGFjaXR5LmxvYWQoZGF0YS5vcGFjaXR5KTtcbiAgICAgICAgdGhpcy5vcmJpdC5sb2FkKGRhdGEub3JiaXQpO1xuICAgICAgICBpZiAoZGF0YS5yZWR1Y2VEdXBsaWNhdGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVkdWNlRHVwbGljYXRlcyA9IGRhdGEucmVkdWNlRHVwbGljYXRlcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcHVsc2UubG9hZChkYXRhLnJlcHVsc2UpO1xuICAgICAgICB0aGlzLnJvbGwubG9hZChkYXRhLnJvbGwpO1xuICAgICAgICB0aGlzLnJvdGF0ZS5sb2FkKGRhdGEucm90YXRlKTtcbiAgICAgICAgdGhpcy5zaGFwZS5sb2FkKGRhdGEuc2hhcGUpO1xuICAgICAgICB0aGlzLnNpemUubG9hZChkYXRhLnNpemUpO1xuICAgICAgICB0aGlzLnNoYWRvdy5sb2FkKGRhdGEuc2hhZG93KTtcbiAgICAgICAgdGhpcy50aWx0LmxvYWQoZGF0YS50aWx0KTtcbiAgICAgICAgdGhpcy50d2lua2xlLmxvYWQoZGF0YS50d2lua2xlKTtcbiAgICAgICAgdGhpcy53b2JibGUubG9hZChkYXRhLndvYmJsZSk7XG4gICAgICAgIHRoaXMuekluZGV4LmxvYWQoZGF0YS56SW5kZXgpO1xuICAgICAgICBjb25zdCBjb2xsaXNpb25zID0gKF9lID0gKF9kID0gZGF0YS5tb3ZlKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY29sbGlzaW9ucykgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogKF9mID0gZGF0YS5tb3ZlKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuYm91bmNlO1xuICAgICAgICBpZiAoY29sbGlzaW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxpc2lvbnMuZW5hYmxlID0gY29sbGlzaW9ucztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbGxpc2lvbnMubG9hZChkYXRhLmNvbGxpc2lvbnMpO1xuICAgICAgICBjb25zdCBzdHJva2VUb0xvYWQgPSAoX2cgPSBkYXRhLnN0cm9rZSkgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogKF9oID0gZGF0YS5zaGFwZSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLnN0cm9rZTtcbiAgICAgICAgaWYgKHN0cm9rZVRvTG9hZCkge1xuICAgICAgICAgICAgaWYgKHN0cm9rZVRvTG9hZCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJva2UgPSBzdHJva2VUb0xvYWQubWFwKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRtcCA9IG5ldyBTdHJva2VfMS5TdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdG1wLmxvYWQocyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0bXA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdHJva2UgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cm9rZSA9IG5ldyBTdHJva2VfMS5TdHJva2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJva2UubG9hZChzdHJva2VUb0xvYWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdyYWRpZW50VG9Mb2FkID0gZGF0YS5ncmFkaWVudDtcbiAgICAgICAgaWYgKGdyYWRpZW50VG9Mb2FkKSB7XG4gICAgICAgICAgICBpZiAoZ3JhZGllbnRUb0xvYWQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JhZGllbnQgPSBncmFkaWVudFRvTG9hZC5tYXAoKHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG1wID0gbmV3IEFuaW1hdGFibGVHcmFkaWVudF8xLkFuaW1hdGFibGVHcmFkaWVudCgpO1xuICAgICAgICAgICAgICAgICAgICB0bXAubG9hZChzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRtcDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdyYWRpZW50IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmFkaWVudCA9IG5ldyBBbmltYXRhYmxlR3JhZGllbnRfMS5BbmltYXRhYmxlR3JhZGllbnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ncmFkaWVudC5sb2FkKGdyYWRpZW50VG9Mb2FkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUGFydGljbGVzT3B0aW9ucyA9IFBhcnRpY2xlc09wdGlvbnM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVwdWxzZSA9IHZvaWQgMDtcbmNvbnN0IFZhbHVlV2l0aFJhbmRvbV8xID0gcmVxdWlyZShcIi4uLy4uL1ZhbHVlV2l0aFJhbmRvbVwiKTtcbmNsYXNzIFJlcHVsc2UgZXh0ZW5kcyBWYWx1ZVdpdGhSYW5kb21fMS5WYWx1ZVdpdGhSYW5kb20ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IDE7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSAxO1xuICAgICAgICB0aGlzLmZhY3RvciA9IDE7XG4gICAgICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgc3VwZXIubG9hZChkYXRhKTtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZWQgPSBkYXRhLmVuYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZGlzdGFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kaXN0YW5jZSA9IGRhdGEuZGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZHVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGRhdGEuZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZmFjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmFjdG9yID0gZGF0YS5mYWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc3BlZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zcGVlZCA9IGRhdGEuc3BlZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlJlcHVsc2UgPSBSZXB1bHNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJvbGwgPSB2b2lkIDA7XG5jb25zdCBPcHRpb25zQ29sb3JfMSA9IHJlcXVpcmUoXCIuLi8uLi9PcHRpb25zQ29sb3JcIik7XG5jb25zdCBSb2xsTGlnaHRfMSA9IHJlcXVpcmUoXCIuL1JvbGxMaWdodFwiKTtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vVXRpbHNcIik7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL0VudW1zXCIpO1xuY2xhc3MgUm9sbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGFya2VuID0gbmV3IFJvbGxMaWdodF8xLlJvbGxMaWdodCgpO1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVubGlnaHRlbiA9IG5ldyBSb2xsTGlnaHRfMS5Sb2xsTGlnaHQoKTtcbiAgICAgICAgdGhpcy5tb2RlID0gRW51bXNfMS5Sb2xsTW9kZS52ZXJ0aWNhbDtcbiAgICAgICAgdGhpcy5zcGVlZCA9IDI1O1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuYmFja0NvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYmFja0NvbG9yID0gT3B0aW9uc0NvbG9yXzEuT3B0aW9uc0NvbG9yLmNyZWF0ZSh0aGlzLmJhY2tDb2xvciwgZGF0YS5iYWNrQ29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGFya2VuLmxvYWQoZGF0YS5kYXJrZW4pO1xuICAgICAgICBpZiAoZGF0YS5lbmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGUgPSBkYXRhLmVuYWJsZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVubGlnaHRlbi5sb2FkKGRhdGEuZW5saWdodGVuKTtcbiAgICAgICAgaWYgKGRhdGEubW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc3BlZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zcGVlZCA9ICgwLCBVdGlsc18xLnNldFJhbmdlVmFsdWUpKGRhdGEuc3BlZWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Sb2xsID0gUm9sbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Sb2xsTGlnaHQgPSB2b2lkIDA7XG5jbGFzcyBSb2xsTGlnaHQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnZhbHVlID0gMDtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBkYXRhLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Sb2xsTGlnaHQgPSBSb2xsTGlnaHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUm90YXRlID0gdm9pZCAwO1xuY29uc3QgUm90YXRlQW5pbWF0aW9uXzEgPSByZXF1aXJlKFwiLi9Sb3RhdGVBbmltYXRpb25cIik7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL0VudW1zXCIpO1xuY29uc3QgVmFsdWVXaXRoUmFuZG9tXzEgPSByZXF1aXJlKFwiLi4vLi4vVmFsdWVXaXRoUmFuZG9tXCIpO1xuY2xhc3MgUm90YXRlIGV4dGVuZHMgVmFsdWVXaXRoUmFuZG9tXzEuVmFsdWVXaXRoUmFuZG9tIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBuZXcgUm90YXRlQW5pbWF0aW9uXzEuUm90YXRlQW5pbWF0aW9uKCk7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gRW51bXNfMS5Sb3RhdGVEaXJlY3Rpb24uY2xvY2t3aXNlO1xuICAgICAgICB0aGlzLnBhdGggPSBmYWxzZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IDA7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5sb2FkKGRhdGEpO1xuICAgICAgICBpZiAoZGF0YS5kaXJlY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkYXRhLmRpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5sb2FkKGRhdGEuYW5pbWF0aW9uKTtcbiAgICAgICAgaWYgKGRhdGEucGF0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnBhdGggPSBkYXRhLnBhdGg7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlJvdGF0ZSA9IFJvdGF0ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Sb3RhdGVBbmltYXRpb24gPSB2b2lkIDA7XG5jbGFzcyBSb3RhdGVBbmltYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNwZWVkID0gMDtcbiAgICAgICAgdGhpcy5zeW5jID0gZmFsc2U7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZW5hYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZGF0YS5lbmFibGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc3BlZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zcGVlZCA9IGRhdGEuc3BlZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc3luYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnN5bmMgPSBkYXRhLnN5bmM7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlJvdGF0ZUFuaW1hdGlvbiA9IFJvdGF0ZUFuaW1hdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaGFkb3cgPSB2b2lkIDA7XG5jb25zdCBPcHRpb25zQ29sb3JfMSA9IHJlcXVpcmUoXCIuLi9PcHRpb25zQ29sb3JcIik7XG5jbGFzcyBTaGFkb3cge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJsdXIgPSAwO1xuICAgICAgICB0aGlzLmNvbG9yID0gbmV3IE9wdGlvbnNDb2xvcl8xLk9wdGlvbnNDb2xvcigpO1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9mZnNldCA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbG9yLnZhbHVlID0gXCIjMDAwMDAwXCI7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuYmx1ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXIgPSBkYXRhLmJsdXI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xvciA9IE9wdGlvbnNDb2xvcl8xLk9wdGlvbnNDb2xvci5jcmVhdGUodGhpcy5jb2xvciwgZGF0YS5jb2xvcik7XG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLm9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEub2Zmc2V0LnggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vZmZzZXQueCA9IGRhdGEub2Zmc2V0Lng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEub2Zmc2V0LnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vZmZzZXQueSA9IGRhdGEub2Zmc2V0Lnk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlNoYWRvdyA9IFNoYWRvdztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaGFwZSA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vRW51bXNcIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL1V0aWxzXCIpO1xuY2xhc3MgU2hhcGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy50eXBlID0gRW51bXNfMS5TaGFwZVR5cGUuY2lyY2xlO1xuICAgIH1cbiAgICBnZXQgaW1hZ2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLm9wdGlvbnNbRW51bXNfMS5TaGFwZVR5cGUuaW1hZ2VdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLm9wdGlvbnNbRW51bXNfMS5TaGFwZVR5cGUuaW1hZ2VzXSk7XG4gICAgfVxuICAgIHNldCBpbWFnZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLm9wdGlvbnNbRW51bXNfMS5TaGFwZVR5cGUuaW1hZ2VdID0gdmFsdWU7XG4gICAgICAgIHRoaXMub3B0aW9uc1tFbnVtc18xLlNoYXBlVHlwZS5pbWFnZXNdID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBjdXN0b20oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gICAgfVxuICAgIHNldCBjdXN0b20odmFsdWUpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBpbWFnZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlO1xuICAgIH1cbiAgICBzZXQgaW1hZ2VzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaW1hZ2UgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHN0cm9rZSgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBzZXQgc3Ryb2tlKF92YWx1ZSkge1xuICAgIH1cbiAgICBnZXQgY2hhcmFjdGVyKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoKF9hID0gdGhpcy5vcHRpb25zW0VudW1zXzEuU2hhcGVUeXBlLmNoYXJhY3Rlcl0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMub3B0aW9uc1tFbnVtc18xLlNoYXBlVHlwZS5jaGFyXSk7XG4gICAgfVxuICAgIHNldCBjaGFyYWN0ZXIodmFsdWUpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zW0VudW1zXzEuU2hhcGVUeXBlLmNoYXJhY3Rlcl0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5vcHRpb25zW0VudW1zXzEuU2hhcGVUeXBlLmNoYXJdID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBwb2x5Z29uKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoKF9hID0gdGhpcy5vcHRpb25zW0VudW1zXzEuU2hhcGVUeXBlLnBvbHlnb25dKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLm9wdGlvbnNbRW51bXNfMS5TaGFwZVR5cGUuc3Rhcl0pO1xuICAgIH1cbiAgICBzZXQgcG9seWdvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLm9wdGlvbnNbRW51bXNfMS5TaGFwZVR5cGUucG9seWdvbl0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5vcHRpb25zW0VudW1zXzEuU2hhcGVUeXBlLnN0YXJdID0gdmFsdWU7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSAoX2EgPSBkYXRhLm9wdGlvbnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRhdGEuY3VzdG9tO1xuICAgICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNoYXBlIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gb3B0aW9uc1tzaGFwZV07XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNbc2hhcGVdID0gKDAsIFV0aWxzXzEuZGVlcEV4dGVuZCkoKF9iID0gdGhpcy5vcHRpb25zW3NoYXBlXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDoge30sIGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvYWRTaGFwZShkYXRhLmNoYXJhY3RlciwgRW51bXNfMS5TaGFwZVR5cGUuY2hhcmFjdGVyLCBFbnVtc18xLlNoYXBlVHlwZS5jaGFyLCB0cnVlKTtcbiAgICAgICAgdGhpcy5sb2FkU2hhcGUoZGF0YS5wb2x5Z29uLCBFbnVtc18xLlNoYXBlVHlwZS5wb2x5Z29uLCBFbnVtc18xLlNoYXBlVHlwZS5zdGFyLCBmYWxzZSk7XG4gICAgICAgIHRoaXMubG9hZFNoYXBlKChfYyA9IGRhdGEuaW1hZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGRhdGEuaW1hZ2VzLCBFbnVtc18xLlNoYXBlVHlwZS5pbWFnZSwgRW51bXNfMS5TaGFwZVR5cGUuaW1hZ2VzLCB0cnVlKTtcbiAgICAgICAgaWYgKGRhdGEudHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbG9hZFNoYXBlKGl0ZW0sIG1haW5LZXksIGFsdEtleSwgYWx0T3ZlcnJpZGUpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBpZiAoaXRlbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5vcHRpb25zW21haW5LZXldIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zW21haW5LZXldID0gW107XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnNbYWx0S2V5XSB8fCBhbHRPdmVycmlkZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNbYWx0S2V5XSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3B0aW9uc1ttYWluS2V5XSA9ICgwLCBVdGlsc18xLmRlZXBFeHRlbmQpKChfYSA9IHRoaXMub3B0aW9uc1ttYWluS2V5XSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10sIGl0ZW0pO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnNbYWx0S2V5XSB8fCBhbHRPdmVycmlkZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uc1thbHRLZXldID0gKDAsIFV0aWxzXzEuZGVlcEV4dGVuZCkoKF9iID0gdGhpcy5vcHRpb25zW2FsdEtleV0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdLCBpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnNbbWFpbktleV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uc1ttYWluS2V5XSA9IHt9O1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zW2FsdEtleV0gfHwgYWx0T3ZlcnJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zW2FsdEtleV0gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNbbWFpbktleV0gPSAoMCwgVXRpbHNfMS5kZWVwRXh0ZW5kKSgoX2MgPSB0aGlzLm9wdGlvbnNbbWFpbktleV0pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHt9LCBpdGVtKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zW2FsdEtleV0gfHwgYWx0T3ZlcnJpZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNbYWx0S2V5XSA9ICgwLCBVdGlsc18xLmRlZXBFeHRlbmQpKChfZCA9IHRoaXMub3B0aW9uc1thbHRLZXldKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiB7fSwgaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlNoYXBlID0gU2hhcGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2l6ZSA9IHZvaWQgMDtcbmNvbnN0IFNpemVBbmltYXRpb25fMSA9IHJlcXVpcmUoXCIuL1NpemVBbmltYXRpb25cIik7XG5jb25zdCBWYWx1ZVdpdGhSYW5kb21fMSA9IHJlcXVpcmUoXCIuLi8uLi9WYWx1ZVdpdGhSYW5kb21cIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL1V0aWxzXCIpO1xuY2xhc3MgU2l6ZSBleHRlbmRzIFZhbHVlV2l0aFJhbmRvbV8xLlZhbHVlV2l0aFJhbmRvbSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gbmV3IFNpemVBbmltYXRpb25fMS5TaXplQW5pbWF0aW9uKCk7XG4gICAgICAgIHRoaXMucmFuZG9tLm1pbmltdW1WYWx1ZSA9IDE7XG4gICAgICAgIHRoaXMudmFsdWUgPSAzO1xuICAgIH1cbiAgICBnZXQgYW5pbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9uO1xuICAgIH1cbiAgICBzZXQgYW5pbSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IHZhbHVlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5sb2FkKGRhdGEpO1xuICAgICAgICBjb25zdCBhbmltYXRpb24gPSAoX2EgPSBkYXRhLmFuaW1hdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGF0YS5hbmltO1xuICAgICAgICBpZiAoYW5pbWF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLmxvYWQoYW5pbWF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSAoMCwgVXRpbHNfMS5zZXRSYW5nZVZhbHVlKSh0aGlzLnZhbHVlLCB0aGlzLmFuaW1hdGlvbi5lbmFibGUgPyB0aGlzLmFuaW1hdGlvbi5taW5pbXVtVmFsdWUgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5TaXplID0gU2l6ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaXplQW5pbWF0aW9uID0gdm9pZCAwO1xuY29uc3QgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9FbnVtc1wiKTtcbmNvbnN0IEFuaW1hdGlvbk9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi8uLi9BbmltYXRpb25PcHRpb25zXCIpO1xuY2xhc3MgU2l6ZUFuaW1hdGlvbiBleHRlbmRzIEFuaW1hdGlvbk9wdGlvbnNfMS5BbmltYXRpb25PcHRpb25zIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5kZXN0cm95ID0gRW51bXNfMS5EZXN0cm95VHlwZS5ub25lO1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNwZWVkID0gNTtcbiAgICAgICAgdGhpcy5zdGFydFZhbHVlID0gRW51bXNfMS5TdGFydFZhbHVlVHlwZS5yYW5kb207XG4gICAgICAgIHRoaXMuc3luYyA9IGZhbHNlO1xuICAgIH1cbiAgICBnZXQgc2l6ZV9taW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbmltdW1WYWx1ZTtcbiAgICB9XG4gICAgc2V0IHNpemVfbWluKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWluaW11bVZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5sb2FkKGRhdGEpO1xuICAgICAgICBpZiAoZGF0YS5kZXN0cm95ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IGRhdGEuZGVzdHJveTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5lbmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGUgPSBkYXRhLmVuYWJsZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1pbmltdW1WYWx1ZSA9IChfYSA9IGRhdGEubWluaW11bVZhbHVlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkYXRhLnNpemVfbWluO1xuICAgICAgICBpZiAoZGF0YS5zcGVlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNwZWVkID0gZGF0YS5zcGVlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5zdGFydFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRWYWx1ZSA9IGRhdGEuc3RhcnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5zeW5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3luYyA9IGRhdGEuc3luYztcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuU2l6ZUFuaW1hdGlvbiA9IFNpemVBbmltYXRpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3Ryb2tlID0gdm9pZCAwO1xuY29uc3QgQW5pbWF0YWJsZUNvbG9yXzEgPSByZXF1aXJlKFwiLi4vQW5pbWF0YWJsZUNvbG9yXCIpO1xuY2xhc3MgU3Ryb2tlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuY29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jb2xvciA9IEFuaW1hdGFibGVDb2xvcl8xLkFuaW1hdGFibGVDb2xvci5jcmVhdGUodGhpcy5jb2xvciwgZGF0YS5jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEud2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGRhdGEud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEub3BhY2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSBkYXRhLm9wYWNpdHk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlN0cm9rZSA9IFN0cm9rZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UaWx0ID0gdm9pZCAwO1xuY29uc3QgVGlsdEFuaW1hdGlvbl8xID0gcmVxdWlyZShcIi4vVGlsdEFuaW1hdGlvblwiKTtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vRW51bXNcIik7XG5jb25zdCBWYWx1ZVdpdGhSYW5kb21fMSA9IHJlcXVpcmUoXCIuLi8uLi9WYWx1ZVdpdGhSYW5kb21cIik7XG5jbGFzcyBUaWx0IGV4dGVuZHMgVmFsdWVXaXRoUmFuZG9tXzEuVmFsdWVXaXRoUmFuZG9tIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBuZXcgVGlsdEFuaW1hdGlvbl8xLlRpbHRBbmltYXRpb24oKTtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBFbnVtc18xLlRpbHREaXJlY3Rpb24uY2xvY2t3aXNlO1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnZhbHVlID0gMDtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmxvYWQoZGF0YSk7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmxvYWQoZGF0YS5hbmltYXRpb24pO1xuICAgICAgICBpZiAoZGF0YS5kaXJlY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkYXRhLmRpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5lbmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGUgPSBkYXRhLmVuYWJsZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuVGlsdCA9IFRpbHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVGlsdEFuaW1hdGlvbiA9IHZvaWQgMDtcbmNsYXNzIFRpbHRBbmltYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNwZWVkID0gMDtcbiAgICAgICAgdGhpcy5zeW5jID0gZmFsc2U7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZW5hYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZGF0YS5lbmFibGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc3BlZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zcGVlZCA9IGRhdGEuc3BlZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc3luYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnN5bmMgPSBkYXRhLnN5bmM7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlRpbHRBbmltYXRpb24gPSBUaWx0QW5pbWF0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlR3aW5rbGUgPSB2b2lkIDA7XG5jb25zdCBUd2lua2xlVmFsdWVzXzEgPSByZXF1aXJlKFwiLi9Ud2lua2xlVmFsdWVzXCIpO1xuY2xhc3MgVHdpbmtsZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubGluZXMgPSBuZXcgVHdpbmtsZVZhbHVlc18xLlR3aW5rbGVWYWx1ZXMoKTtcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMgPSBuZXcgVHdpbmtsZVZhbHVlc18xLlR3aW5rbGVWYWx1ZXMoKTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpbmVzLmxvYWQoZGF0YS5saW5lcyk7XG4gICAgICAgIHRoaXMucGFydGljbGVzLmxvYWQoZGF0YS5wYXJ0aWNsZXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuVHdpbmtsZSA9IFR3aW5rbGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVHdpbmtsZVZhbHVlcyA9IHZvaWQgMDtcbmNvbnN0IE9wdGlvbnNDb2xvcl8xID0gcmVxdWlyZShcIi4uLy4uL09wdGlvbnNDb2xvclwiKTtcbmNsYXNzIFR3aW5rbGVWYWx1ZXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeSA9IDAuMDU7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IDE7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuY29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jb2xvciA9IE9wdGlvbnNDb2xvcl8xLk9wdGlvbnNDb2xvci5jcmVhdGUodGhpcy5jb2xvciwgZGF0YS5jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZW5hYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZGF0YS5lbmFibGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZnJlcXVlbmN5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZnJlcXVlbmN5ID0gZGF0YS5mcmVxdWVuY3k7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEub3BhY2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSBkYXRhLm9wYWNpdHk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlR3aW5rbGVWYWx1ZXMgPSBUd2lua2xlVmFsdWVzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLldvYmJsZSA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vVXRpbHNcIik7XG5jbGFzcyBXb2JibGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRpc3RhbmNlID0gNTtcbiAgICAgICAgdGhpcy5lbmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zcGVlZCA9IDUwO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZGlzdGFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kaXN0YW5jZSA9ICgwLCBVdGlsc18xLnNldFJhbmdlVmFsdWUpKGRhdGEuZGlzdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnNwZWVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgPSAoMCwgVXRpbHNfMS5zZXRSYW5nZVZhbHVlKShkYXRhLnNwZWVkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuV29iYmxlID0gV29iYmxlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlpJbmRleCA9IHZvaWQgMDtcbmNvbnN0IFZhbHVlV2l0aFJhbmRvbV8xID0gcmVxdWlyZShcIi4uLy4uL1ZhbHVlV2l0aFJhbmRvbVwiKTtcbmNsYXNzIFpJbmRleCBleHRlbmRzIFZhbHVlV2l0aFJhbmRvbV8xLlZhbHVlV2l0aFJhbmRvbSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3BhY2l0eVJhdGUgPSAxO1xuICAgICAgICB0aGlzLnNpemVSYXRlID0gMTtcbiAgICAgICAgdGhpcy52ZWxvY2l0eVJhdGUgPSAxO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgc3VwZXIubG9hZChkYXRhKTtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEub3BhY2l0eVJhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vcGFjaXR5UmF0ZSA9IGRhdGEub3BhY2l0eVJhdGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc2l6ZVJhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zaXplUmF0ZSA9IGRhdGEuc2l6ZVJhdGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEudmVsb2NpdHlSYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHlSYXRlID0gZGF0YS52ZWxvY2l0eVJhdGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlpJbmRleCA9IFpJbmRleDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SYW5kb20gPSB2b2lkIDA7XG5jbGFzcyBSYW5kb20ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1pbmltdW1WYWx1ZSA9IDA7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5lbmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGUgPSBkYXRhLmVuYWJsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5taW5pbXVtVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5taW5pbXVtVmFsdWUgPSBkYXRhLm1pbmltdW1WYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUmFuZG9tID0gUmFuZG9tO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJlc3BvbnNpdmUgPSB2b2lkIDA7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL1V0aWxzXCIpO1xuY29uc3QgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi8uLi9FbnVtc1wiKTtcbmNsYXNzIFJlc3BvbnNpdmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1heFdpZHRoID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLm1vZGUgPSBFbnVtc18xLlJlc3BvbnNpdmVNb2RlLmNhbnZhcztcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLm1heFdpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMubWF4V2lkdGggPSBkYXRhLm1heFdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLm1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGRhdGEubW9kZSA9PT0gRW51bXNfMS5SZXNwb25zaXZlTW9kZS5zY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGUgPSBFbnVtc18xLlJlc3BvbnNpdmVNb2RlLnNjcmVlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZSA9IEVudW1zXzEuUmVzcG9uc2l2ZU1vZGUuY2FudmFzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLm9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gKDAsIFV0aWxzXzEuZGVlcEV4dGVuZCkoe30sIGRhdGEub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlJlc3BvbnNpdmUgPSBSZXNwb25zaXZlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRoZW1lID0gdm9pZCAwO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9VdGlsc1wiKTtcbmNvbnN0IFRoZW1lRGVmYXVsdF8xID0gcmVxdWlyZShcIi4vVGhlbWVEZWZhdWx0XCIpO1xuY2xhc3MgVGhlbWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlwiO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBuZXcgVGhlbWVEZWZhdWx0XzEuVGhlbWVEZWZhdWx0KCk7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBkYXRhLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWZhdWx0LmxvYWQoZGF0YS5kZWZhdWx0KTtcbiAgICAgICAgaWYgKGRhdGEub3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSAoMCwgVXRpbHNfMS5kZWVwRXh0ZW5kKSh7fSwgZGF0YS5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuVGhlbWUgPSBUaGVtZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UaGVtZURlZmF1bHQgPSB2b2lkIDA7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL0VudW1zXCIpO1xuY2xhc3MgVGhlbWVEZWZhdWx0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hdXRvID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW9kZSA9IEVudW1zXzEuVGhlbWVNb2RlLmFueTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuYXV0byAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmF1dG8gPSBkYXRhLmF1dG87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEubW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGRhdGEudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlRoZW1lRGVmYXVsdCA9IFRoZW1lRGVmYXVsdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5WYWx1ZVdpdGhSYW5kb20gPSB2b2lkIDA7XG5jb25zdCBSYW5kb21fMSA9IHJlcXVpcmUoXCIuL1JhbmRvbVwiKTtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vVXRpbHNcIik7XG5jbGFzcyBWYWx1ZVdpdGhSYW5kb20ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnJhbmRvbSA9IG5ldyBSYW5kb21fMS5SYW5kb20oKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IDA7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRhdGEucmFuZG9tID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdGhpcy5yYW5kb20uZW5hYmxlID0gZGF0YS5yYW5kb207XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJhbmRvbS5sb2FkKGRhdGEucmFuZG9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gKDAsIFV0aWxzXzEuc2V0UmFuZ2VWYWx1ZSkoZGF0YS52YWx1ZSwgdGhpcy5yYW5kb20uZW5hYmxlID8gdGhpcy5yYW5kb20ubWluaW11bVZhbHVlIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuVmFsdWVXaXRoUmFuZG9tID0gVmFsdWVXaXRoUmFuZG9tO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFic29yYmVySW5zdGFuY2UgPSB2b2lkIDA7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL1V0aWxzXCIpO1xuY29uc3QgVmVjdG9yXzEgPSByZXF1aXJlKFwiLi4vLi4vQ29yZS9QYXJ0aWNsZS9WZWN0b3JcIik7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uL0VudW1zXCIpO1xuY2xhc3MgQWJzb3JiZXJJbnN0YW5jZSB7XG4gICAgY29uc3RydWN0b3IoYWJzb3JiZXJzLCBjb250YWluZXIsIG9wdGlvbnMsIHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIHRoaXMuYWJzb3JiZXJzID0gYWJzb3JiZXJzO1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5pbml0aWFsUG9zaXRpb24gPSBwb3NpdGlvbiA/IFZlY3Rvcl8xLlZlY3Rvci5jcmVhdGUocG9zaXRpb24ueCwgcG9zaXRpb24ueSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5vcHRpb25zLm5hbWU7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IHRoaXMub3B0aW9ucy5vcGFjaXR5O1xuICAgICAgICB0aGlzLnNpemUgPSAoMCwgVXRpbHNfMS5nZXRSYW5nZVZhbHVlKShvcHRpb25zLnNpemUudmFsdWUpICogY29udGFpbmVyLnJldGluYS5waXhlbFJhdGlvO1xuICAgICAgICB0aGlzLm1hc3MgPSB0aGlzLnNpemUgKiBvcHRpb25zLnNpemUuZGVuc2l0eSAqIGNvbnRhaW5lci5yZXRpbmEucmVkdWNlRmFjdG9yO1xuICAgICAgICBjb25zdCBsaW1pdCA9IG9wdGlvbnMuc2l6ZS5saW1pdDtcbiAgICAgICAgdGhpcy5saW1pdCA9XG4gICAgICAgICAgICB0eXBlb2YgbGltaXQgPT09IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBsaW1pdCAqIGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbyAqIGNvbnRhaW5lci5yZXRpbmEucmVkdWNlRmFjdG9yLFxuICAgICAgICAgICAgICAgICAgICBtYXNzOiAwLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAoKF9hID0gbGltaXQgPT09IG51bGwgfHwgbGltaXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxpbWl0LnJhZGl1cykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgKiBjb250YWluZXIucmV0aW5hLnBpeGVsUmF0aW8gKiBjb250YWluZXIucmV0aW5hLnJlZHVjZUZhY3RvcixcbiAgICAgICAgICAgICAgICAgICAgbWFzczogKF9iID0gbGltaXQgPT09IG51bGwgfHwgbGltaXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxpbWl0Lm1hc3MpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY29sb3IgPSB0eXBlb2Ygb3B0aW9ucy5jb2xvciA9PT0gXCJzdHJpbmdcIiA/IHsgdmFsdWU6IG9wdGlvbnMuY29sb3IgfSA6IG9wdGlvbnMuY29sb3I7XG4gICAgICAgIHRoaXMuY29sb3IgPSAoX2MgPSAoMCwgVXRpbHNfMS5jb2xvclRvUmdiKShjb2xvcikpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHtcbiAgICAgICAgICAgIGI6IDAsXG4gICAgICAgICAgICBnOiAwLFxuICAgICAgICAgICAgcjogMCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IChfZSA9IChfZCA9IHRoaXMuaW5pdGlhbFBvc2l0aW9uKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY29weSgpKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiB0aGlzLmNhbGNQb3NpdGlvbigpO1xuICAgIH1cbiAgICBhdHRyYWN0KHBhcnRpY2xlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAob3B0aW9ucy5kcmFnZ2FibGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlID0gY29udGFpbmVyLmludGVyYWN0aXZpdHkubW91c2U7XG4gICAgICAgICAgICBpZiAobW91c2UuY2xpY2tpbmcgJiYgbW91c2UuZG93blBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW91c2VEaXN0ID0gKDAsIFV0aWxzXzEuZ2V0RGlzdGFuY2UpKHRoaXMucG9zaXRpb24sIG1vdXNlLmRvd25Qb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKG1vdXNlRGlzdCA8PSB0aGlzLnNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgJiYgbW91c2UucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSBtb3VzZS5wb3NpdGlvbi54O1xuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueSA9IG1vdXNlLnBvc2l0aW9uLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9zID0gcGFydGljbGUuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgeyBkeCwgZHksIGRpc3RhbmNlIH0gPSAoMCwgVXRpbHNfMS5nZXREaXN0YW5jZXMpKHRoaXMucG9zaXRpb24sIHBvcyk7XG4gICAgICAgIGNvbnN0IHYgPSBWZWN0b3JfMS5WZWN0b3IuY3JlYXRlKGR4LCBkeSk7XG4gICAgICAgIHYubGVuZ3RoID0gKHRoaXMubWFzcyAvIE1hdGgucG93KGRpc3RhbmNlLCAyKSkgKiBjb250YWluZXIucmV0aW5hLnJlZHVjZUZhY3RvcjtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgdGhpcy5zaXplICsgcGFydGljbGUuZ2V0UmFkaXVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpemVGYWN0b3IgPSBwYXJ0aWNsZS5nZXRSYWRpdXMoKSAqIDAuMDMzICogY29udGFpbmVyLnJldGluYS5waXhlbFJhdGlvO1xuICAgICAgICAgICAgaWYgKCh0aGlzLnNpemUgPiBwYXJ0aWNsZS5nZXRSYWRpdXMoKSAmJiBkaXN0YW5jZSA8IHRoaXMuc2l6ZSAtIHBhcnRpY2xlLmdldFJhZGl1cygpKSB8fFxuICAgICAgICAgICAgICAgIChwYXJ0aWNsZS5hYnNvcmJlck9yYml0ICE9PSB1bmRlZmluZWQgJiYgcGFydGljbGUuYWJzb3JiZXJPcmJpdC5sZW5ndGggPCAwKSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydGljbGUuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydGljbGUubmVlZHNOZXdQb3NpdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFydGljbGVQb3NpdGlvbihwYXJ0aWNsZSwgdik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVzdHJveSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZS5zaXplLnZhbHVlIC09IHNpemVGYWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFydGljbGVQb3NpdGlvbihwYXJ0aWNsZSwgdik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5saW1pdC5yYWRpdXMgPD0gMCB8fCB0aGlzLnNpemUgPCB0aGlzLmxpbWl0LnJhZGl1cykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSArPSBzaXplRmFjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubGltaXQubWFzcyA8PSAwIHx8IHRoaXMubWFzcyA8IHRoaXMubGltaXQubWFzcykge1xuICAgICAgICAgICAgICAgIHRoaXMubWFzcyArPSBzaXplRmFjdG9yICogdGhpcy5vcHRpb25zLnNpemUuZGVuc2l0eSAqIGNvbnRhaW5lci5yZXRpbmEucmVkdWNlRmFjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYXJ0aWNsZVBvc2l0aW9uKHBhcnRpY2xlLCB2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNpemUoKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxQb3NpdGlvbiA9IHRoaXMuaW5pdGlhbFBvc2l0aW9uO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID1cbiAgICAgICAgICAgIGluaXRpYWxQb3NpdGlvbiAmJiAoMCwgVXRpbHNfMS5pc1BvaW50SW5zaWRlKShpbml0aWFsUG9zaXRpb24sIHRoaXMuY29udGFpbmVyLmNhbnZhcy5zaXplKVxuICAgICAgICAgICAgICAgID8gaW5pdGlhbFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgOiB0aGlzLmNhbGNQb3NpdGlvbigpO1xuICAgIH1cbiAgICBkcmF3KGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUodGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnkpO1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmFyYygwLCAwLCB0aGlzLnNpemUsIDAsIE1hdGguUEkgKiAyLCBmYWxzZSk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gKDAsIFV0aWxzXzEuZ2V0U3R5bGVGcm9tUmdiKSh0aGlzLmNvbG9yLCB0aGlzLm9wYWNpdHkpO1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICB9XG4gICAgY2FsY1Bvc2l0aW9uKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgcGVyY2VudFBvc2l0aW9uID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uO1xuICAgICAgICByZXR1cm4gVmVjdG9yXzEuVmVjdG9yLmNyZWF0ZSgoKChfYSA9IHBlcmNlbnRQb3NpdGlvbiA9PT0gbnVsbCB8fCBwZXJjZW50UG9zaXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBlcmNlbnRQb3NpdGlvbi54KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBNYXRoLnJhbmRvbSgpICogMTAwKSAvIDEwMCkgKiBjb250YWluZXIuY2FudmFzLnNpemUud2lkdGgsICgoKF9iID0gcGVyY2VudFBvc2l0aW9uID09PSBudWxsIHx8IHBlcmNlbnRQb3NpdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGVyY2VudFBvc2l0aW9uLnkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IE1hdGgucmFuZG9tKCkgKiAxMDApIC8gMTAwKSAqIGNvbnRhaW5lci5jYW52YXMuc2l6ZS5oZWlnaHQpO1xuICAgIH1cbiAgICB1cGRhdGVQYXJ0aWNsZVBvc2l0aW9uKHBhcnRpY2xlLCB2KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHBhcnRpY2xlLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBjYW52YXNTaXplID0gY29udGFpbmVyLmNhbnZhcy5zaXplO1xuICAgICAgICBpZiAocGFydGljbGUubmVlZHNOZXdQb3NpdGlvbikge1xuICAgICAgICAgICAgcGFydGljbGUucG9zaXRpb24ueCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhbnZhc1NpemUud2lkdGgpO1xuICAgICAgICAgICAgcGFydGljbGUucG9zaXRpb24ueSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhbnZhc1NpemUuaGVpZ2h0KTtcbiAgICAgICAgICAgIHBhcnRpY2xlLnZlbG9jaXR5LnNldFRvKHBhcnRpY2xlLmluaXRpYWxWZWxvY2l0eSk7XG4gICAgICAgICAgICBwYXJ0aWNsZS5hYnNvcmJlck9yYml0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcGFydGljbGUubmVlZHNOZXdQb3NpdGlvbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMub3JiaXRzKSB7XG4gICAgICAgICAgICBpZiAocGFydGljbGUuYWJzb3JiZXJPcmJpdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGFydGljbGUuYWJzb3JiZXJPcmJpdCA9IFZlY3Rvcl8xLlZlY3Rvci5jcmVhdGUoMCwgMCk7XG4gICAgICAgICAgICAgICAgcGFydGljbGUuYWJzb3JiZXJPcmJpdC5sZW5ndGggPSAoMCwgVXRpbHNfMS5nZXREaXN0YW5jZSkocGFydGljbGUuZ2V0UG9zaXRpb24oKSwgdGhpcy5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgcGFydGljbGUuYWJzb3JiZXJPcmJpdC5hbmdsZSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJ0aWNsZS5hYnNvcmJlck9yYml0Lmxlbmd0aCA8PSB0aGlzLnNpemUgJiYgIXRoaXMub3B0aW9ucy5kZXN0cm95KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWluU2l6ZSA9IE1hdGgubWluKGNhbnZhc1NpemUud2lkdGgsIGNhbnZhc1NpemUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5hYnNvcmJlck9yYml0Lmxlbmd0aCA9IG1pblNpemUgKiAoMSArIChNYXRoLnJhbmRvbSgpICogMC4yIC0gMC4xKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFydGljbGUuYWJzb3JiZXJPcmJpdERpcmVjdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGFydGljbGUuYWJzb3JiZXJPcmJpdERpcmVjdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlLnZlbG9jaXR5LnggPj0gMCA/IEVudW1zXzEuUm90YXRlRGlyZWN0aW9uLmNsb2Nrd2lzZSA6IEVudW1zXzEuUm90YXRlRGlyZWN0aW9uLmNvdW50ZXJDbG9ja3dpc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcmJpdFJhZGl1cyA9IHBhcnRpY2xlLmFic29yYmVyT3JiaXQubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3Qgb3JiaXRBbmdsZSA9IHBhcnRpY2xlLmFic29yYmVyT3JiaXQuYW5nbGU7XG4gICAgICAgICAgICBjb25zdCBvcmJpdERpcmVjdGlvbiA9IHBhcnRpY2xlLmFic29yYmVyT3JiaXREaXJlY3Rpb247XG4gICAgICAgICAgICBwYXJ0aWNsZS52ZWxvY2l0eS54ID0gMDtcbiAgICAgICAgICAgIHBhcnRpY2xlLnZlbG9jaXR5LnkgPSAwO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlRnVuYyA9IHtcbiAgICAgICAgICAgICAgICB4OiBvcmJpdERpcmVjdGlvbiA9PT0gRW51bXNfMS5Sb3RhdGVEaXJlY3Rpb24uY2xvY2t3aXNlID8gTWF0aC5jb3MgOiBNYXRoLnNpbixcbiAgICAgICAgICAgICAgICB5OiBvcmJpdERpcmVjdGlvbiA9PT0gRW51bXNfMS5Sb3RhdGVEaXJlY3Rpb24uY2xvY2t3aXNlID8gTWF0aC5zaW4gOiBNYXRoLmNvcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwYXJ0aWNsZS5wb3NpdGlvbi54ID0gdGhpcy5wb3NpdGlvbi54ICsgb3JiaXRSYWRpdXMgKiB1cGRhdGVGdW5jLngob3JiaXRBbmdsZSk7XG4gICAgICAgICAgICBwYXJ0aWNsZS5wb3NpdGlvbi55ID0gdGhpcy5wb3NpdGlvbi55ICsgb3JiaXRSYWRpdXMgKiB1cGRhdGVGdW5jLnkob3JiaXRBbmdsZSk7XG4gICAgICAgICAgICBwYXJ0aWNsZS5hYnNvcmJlck9yYml0Lmxlbmd0aCAtPSB2Lmxlbmd0aDtcbiAgICAgICAgICAgIHBhcnRpY2xlLmFic29yYmVyT3JiaXQuYW5nbGUgKz1cbiAgICAgICAgICAgICAgICAoKCgoX2EgPSBwYXJ0aWNsZS5yZXRpbmEubW92ZVNwZWVkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwKSAqIGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbykgLyAxMDApICpcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnJldGluYS5yZWR1Y2VGYWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBhZGRWID0gVmVjdG9yXzEuVmVjdG9yLm9yaWdpbjtcbiAgICAgICAgICAgIGFkZFYubGVuZ3RoID0gdi5sZW5ndGg7XG4gICAgICAgICAgICBhZGRWLmFuZ2xlID0gdi5hbmdsZTtcbiAgICAgICAgICAgIHBhcnRpY2xlLnZlbG9jaXR5LmFkZFRvKGFkZFYpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5BYnNvcmJlckluc3RhbmNlID0gQWJzb3JiZXJJbnN0YW5jZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BYnNvcmJlcnMgPSB2b2lkIDA7XG5jb25zdCBBYnNvcmJlckluc3RhbmNlXzEgPSByZXF1aXJlKFwiLi9BYnNvcmJlckluc3RhbmNlXCIpO1xuY29uc3QgQWJzb3JiZXJfMSA9IHJlcXVpcmUoXCIuL09wdGlvbnMvQ2xhc3Nlcy9BYnNvcmJlclwiKTtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi9FbnVtc1wiKTtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vVXRpbHNcIik7XG5jbGFzcyBBYnNvcmJlcnMge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5hcnJheSA9IFtdO1xuICAgICAgICB0aGlzLmFic29yYmVycyA9IFtdO1xuICAgICAgICB0aGlzLmludGVyYWN0aXZpdHlBYnNvcmJlcnMgPSBbXTtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGFibGVDb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIG92ZXJyaWRhYmxlQ29udGFpbmVyLmdldEFic29yYmVyID0gKGlkeE9yTmFtZSkgPT4gaWR4T3JOYW1lID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGlkeE9yTmFtZSA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgPyB0aGlzLmFycmF5W2lkeE9yTmFtZSB8fCAwXVxuICAgICAgICAgICAgOiB0aGlzLmFycmF5LmZpbmQoKHQpID0+IHQubmFtZSA9PT0gaWR4T3JOYW1lKTtcbiAgICAgICAgb3ZlcnJpZGFibGVDb250YWluZXIuYWRkQWJzb3JiZXIgPSAob3B0aW9ucywgcG9zaXRpb24pID0+IHRoaXMuYWRkQWJzb3JiZXIob3B0aW9ucywgcG9zaXRpb24pO1xuICAgIH1cbiAgICBpbml0KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuYWJzb3JiZXJzKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hYnNvcmJlcnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWJzb3JiZXJzID0gb3B0aW9ucy5hYnNvcmJlcnMubWFwKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRtcCA9IG5ldyBBYnNvcmJlcl8xLkFic29yYmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRtcC5sb2FkKHMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG1wO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWJzb3JiZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnNvcmJlcnMgPSBuZXcgQWJzb3JiZXJfMS5BYnNvcmJlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFic29yYmVycy5sb2FkKG9wdGlvbnMuYWJzb3JiZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbnRlcmFjdGl2aXR5QWJzb3JiZXJzID0gKF9iID0gKF9hID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubW9kZXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hYnNvcmJlcnM7XG4gICAgICAgIGlmIChpbnRlcmFjdGl2aXR5QWJzb3JiZXJzKSB7XG4gICAgICAgICAgICBpZiAoaW50ZXJhY3Rpdml0eUFic29yYmVycyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGl2aXR5QWJzb3JiZXJzID0gaW50ZXJhY3Rpdml0eUFic29yYmVycy5tYXAoKHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG1wID0gbmV3IEFic29yYmVyXzEuQWJzb3JiZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdG1wLmxvYWQocyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0bXA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnRlcmFjdGl2aXR5QWJzb3JiZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGl2aXR5QWJzb3JiZXJzID0gbmV3IEFic29yYmVyXzEuQWJzb3JiZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGl2aXR5QWJzb3JiZXJzLmxvYWQoaW50ZXJhY3Rpdml0eUFic29yYmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWJzb3JiZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWJzb3JiZXJPcHRpb25zIG9mIHRoaXMuYWJzb3JiZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRBYnNvcmJlcihhYnNvcmJlck9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGRBYnNvcmJlcih0aGlzLmFic29yYmVycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFydGljbGVVcGRhdGUocGFydGljbGUpIHtcbiAgICAgICAgZm9yIChjb25zdCBhYnNvcmJlciBvZiB0aGlzLmFycmF5KSB7XG4gICAgICAgICAgICBhYnNvcmJlci5hdHRyYWN0KHBhcnRpY2xlKTtcbiAgICAgICAgICAgIGlmIChwYXJ0aWNsZS5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3KGNvbnRleHQpIHtcbiAgICAgICAgZm9yIChjb25zdCBhYnNvcmJlciBvZiB0aGlzLmFycmF5KSB7XG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIGFic29yYmVyLmRyYXcoY29udGV4dCk7XG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLmFycmF5ID0gW107XG4gICAgfVxuICAgIHJlc2l6ZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBhYnNvcmJlciBvZiB0aGlzLmFycmF5KSB7XG4gICAgICAgICAgICBhYnNvcmJlci5yZXNpemUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVDbGlja01vZGUobW9kZSkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgYWJzb3JiZXJPcHRpb25zID0gdGhpcy5hYnNvcmJlcnM7XG4gICAgICAgIGNvbnN0IG1vZGVBYnNvcmJlcnMgPSB0aGlzLmludGVyYWN0aXZpdHlBYnNvcmJlcnM7XG4gICAgICAgIGlmIChtb2RlID09PSBFbnVtc18xLkFic29yYmVyQ2xpY2tNb2RlLmFic29yYmVyKSB7XG4gICAgICAgICAgICBsZXQgYWJzb3JiZXJzTW9kZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAobW9kZUFic29yYmVycyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGVBYnNvcmJlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhYnNvcmJlcnNNb2RlT3B0aW9ucyA9ICgwLCBVdGlsc18xLml0ZW1Gcm9tQXJyYXkpKG1vZGVBYnNvcmJlcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFic29yYmVyc01vZGVPcHRpb25zID0gbW9kZUFic29yYmVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFic29yYmVyc09wdGlvbnMgPSBhYnNvcmJlcnNNb2RlT3B0aW9ucyAhPT0gbnVsbCAmJiBhYnNvcmJlcnNNb2RlT3B0aW9ucyAhPT0gdm9pZCAwID8gYWJzb3JiZXJzTW9kZU9wdGlvbnMgOiAoYWJzb3JiZXJPcHRpb25zIGluc3RhbmNlb2YgQXJyYXkgPyAoMCwgVXRpbHNfMS5pdGVtRnJvbUFycmF5KShhYnNvcmJlck9wdGlvbnMpIDogYWJzb3JiZXJPcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGFQb3NpdGlvbiA9IGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5Lm1vdXNlLmNsaWNrUG9zaXRpb247XG4gICAgICAgICAgICB0aGlzLmFkZEFic29yYmVyKGFic29yYmVyc09wdGlvbnMsIGFQb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkQWJzb3JiZXIob3B0aW9ucywgcG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgYWJzb3JiZXIgPSBuZXcgQWJzb3JiZXJJbnN0YW5jZV8xLkFic29yYmVySW5zdGFuY2UodGhpcywgdGhpcy5jb250YWluZXIsIG9wdGlvbnMsIHBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5hcnJheS5wdXNoKGFic29yYmVyKTtcbiAgICAgICAgcmV0dXJuIGFic29yYmVyO1xuICAgIH1cbiAgICByZW1vdmVBYnNvcmJlcihhYnNvcmJlcikge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuYXJyYXkuaW5kZXhPZihhYnNvcmJlcik7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkFic29yYmVycyA9IEFic29yYmVycztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BYnNvcmJlckNsaWNrTW9kZSA9IHZvaWQgMDtcbnZhciBBYnNvcmJlckNsaWNrTW9kZTtcbihmdW5jdGlvbiAoQWJzb3JiZXJDbGlja01vZGUpIHtcbiAgICBBYnNvcmJlckNsaWNrTW9kZVtcImFic29yYmVyXCJdID0gXCJhYnNvcmJlclwiO1xufSkoQWJzb3JiZXJDbGlja01vZGUgPSBleHBvcnRzLkFic29yYmVyQ2xpY2tNb2RlIHx8IChleHBvcnRzLkFic29yYmVyQ2xpY2tNb2RlID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vQWJzb3JiZXJDbGlja01vZGVcIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFic29yYmVyID0gdm9pZCAwO1xuY29uc3QgQWJzb3JiZXJTaXplXzEgPSByZXF1aXJlKFwiLi9BYnNvcmJlclNpemVcIik7XG5jb25zdCBPcHRpb25zQ29sb3JfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9PcHRpb25zL0NsYXNzZXMvT3B0aW9uc0NvbG9yXCIpO1xuY2xhc3MgQWJzb3JiZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvbG9yID0gbmV3IE9wdGlvbnNDb2xvcl8xLk9wdGlvbnNDb2xvcigpO1xuICAgICAgICB0aGlzLmNvbG9yLnZhbHVlID0gXCIjMDAwMDAwXCI7XG4gICAgICAgIHRoaXMuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IDE7XG4gICAgICAgIHRoaXMuZGVzdHJveSA9IHRydWU7XG4gICAgICAgIHRoaXMub3JiaXRzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2l6ZSA9IG5ldyBBYnNvcmJlclNpemVfMS5BYnNvcmJlclNpemUoKTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbG9yID0gT3B0aW9uc0NvbG9yXzEuT3B0aW9uc0NvbG9yLmNyZWF0ZSh0aGlzLmNvbG9yLCBkYXRhLmNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kcmFnZ2FibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2FibGUgPSBkYXRhLmRyYWdnYWJsZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWUgPSBkYXRhLm5hbWU7XG4gICAgICAgIGlmIChkYXRhLm9wYWNpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gZGF0YS5vcGFjaXR5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeDogZGF0YS5wb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgIHk6IGRhdGEucG9zaXRpb24ueSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNpemUubG9hZChkYXRhLnNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmRlc3Ryb3kgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gZGF0YS5kZXN0cm95O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLm9yYml0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm9yYml0cyA9IGRhdGEub3JiaXRzO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5BYnNvcmJlciA9IEFic29yYmVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFic29yYmVyU2l6ZSA9IHZvaWQgMDtcbmNvbnN0IFZhbHVlV2l0aFJhbmRvbV8xID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL09wdGlvbnMvQ2xhc3Nlcy9WYWx1ZVdpdGhSYW5kb21cIik7XG5jb25zdCBBYnNvcmJlclNpemVMaW1pdF8xID0gcmVxdWlyZShcIi4vQWJzb3JiZXJTaXplTGltaXRcIik7XG5jbGFzcyBBYnNvcmJlclNpemUgZXh0ZW5kcyBWYWx1ZVdpdGhSYW5kb21fMS5WYWx1ZVdpdGhSYW5kb20ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmRlbnNpdHkgPSA1O1xuICAgICAgICB0aGlzLnJhbmRvbS5taW5pbXVtVmFsdWUgPSAxO1xuICAgICAgICB0aGlzLnZhbHVlID0gNTA7XG4gICAgICAgIHRoaXMubGltaXQgPSBuZXcgQWJzb3JiZXJTaXplTGltaXRfMS5BYnNvcmJlclNpemVMaW1pdCgpO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIubG9hZChkYXRhKTtcbiAgICAgICAgaWYgKGRhdGEuZGVuc2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlbnNpdHkgPSBkYXRhLmRlbnNpdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmxpbWl0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aGlzLmxpbWl0LnJhZGl1cyA9IGRhdGEubGltaXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxpbWl0LmxvYWQoZGF0YS5saW1pdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkFic29yYmVyU2l6ZSA9IEFic29yYmVyU2l6ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BYnNvcmJlclNpemVMaW1pdCA9IHZvaWQgMDtcbmNsYXNzIEFic29yYmVyU2l6ZUxpbWl0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSAwO1xuICAgICAgICB0aGlzLm1hc3MgPSAwO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEubWFzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1hc3MgPSBkYXRhLm1hc3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEucmFkaXVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmFkaXVzID0gZGF0YS5yYWRpdXM7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkFic29yYmVyU2l6ZUxpbWl0ID0gQWJzb3JiZXJTaXplTGltaXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZEFic29yYmVyc1BsdWdpbiA9IHZvaWQgMDtcbmNvbnN0IEFic29yYmVyc18xID0gcmVxdWlyZShcIi4vQWJzb3JiZXJzXCIpO1xuY29uc3QgRW51bXNfMSA9IHJlcXVpcmUoXCIuL0VudW1zXCIpO1xuY29uc3QgQWJzb3JiZXJfMSA9IHJlcXVpcmUoXCIuL09wdGlvbnMvQ2xhc3Nlcy9BYnNvcmJlclwiKTtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vVXRpbHNcIik7XG5jbGFzcyBQbHVnaW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmlkID0gXCJhYnNvcmJlcnNcIjtcbiAgICB9XG4gICAgZ2V0UGx1Z2luKGNvbnRhaW5lcikge1xuICAgICAgICByZXR1cm4gbmV3IEFic29yYmVyc18xLkFic29yYmVycyhjb250YWluZXIpO1xuICAgIH1cbiAgICBuZWVkc1BsdWdpbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWJzb3JiZXJzID0gb3B0aW9ucy5hYnNvcmJlcnM7XG4gICAgICAgIGxldCBsb2FkQWJzb3JiZXJzID0gZmFsc2U7XG4gICAgICAgIGlmIChhYnNvcmJlcnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgaWYgKGFic29yYmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsb2FkQWJzb3JiZXJzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhYnNvcmJlcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9hZEFic29yYmVycyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKChfYyA9IChfYiA9IChfYSA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmV2ZW50cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm9uQ2xpY2spID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5tb2RlKSAmJlxuICAgICAgICAgICAgKDAsIFV0aWxzXzEuaXNJbkFycmF5KShFbnVtc18xLkFic29yYmVyQ2xpY2tNb2RlLmFic29yYmVyLCBvcHRpb25zLmludGVyYWN0aXZpdHkuZXZlbnRzLm9uQ2xpY2subW9kZSkpIHtcbiAgICAgICAgICAgIGxvYWRBYnNvcmJlcnMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2FkQWJzb3JiZXJzO1xuICAgIH1cbiAgICBsb2FkT3B0aW9ucyhvcHRpb25zLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCF0aGlzLm5lZWRzUGx1Z2luKG9wdGlvbnMpICYmICF0aGlzLm5lZWRzUGx1Z2luKHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25zQ2FzdCA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2UuYWJzb3JiZXJzKSB7XG4gICAgICAgICAgICBpZiAoKHNvdXJjZSA9PT0gbnVsbCB8fCBzb3VyY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvdXJjZS5hYnNvcmJlcnMpIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zQ2FzdC5hYnNvcmJlcnMgPSBzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2UuYWJzb3JiZXJzLm1hcCgocykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0bXAgPSBuZXcgQWJzb3JiZXJfMS5BYnNvcmJlcigpO1xuICAgICAgICAgICAgICAgICAgICB0bXAubG9hZChzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRtcDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBhYnNvcmJlck9wdGlvbnMgPSBvcHRpb25zQ2FzdC5hYnNvcmJlcnM7XG4gICAgICAgICAgICAgICAgaWYgKChhYnNvcmJlck9wdGlvbnMgPT09IG51bGwgfHwgYWJzb3JiZXJPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhYnNvcmJlck9wdGlvbnMubG9hZCkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zQ2FzdC5hYnNvcmJlcnMgPSBhYnNvcmJlck9wdGlvbnMgPSBuZXcgQWJzb3JiZXJfMS5BYnNvcmJlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhYnNvcmJlck9wdGlvbnMubG9hZChzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2UuYWJzb3JiZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbnRlcmFjdGl2aXR5QWJzb3JiZXJzID0gKF9iID0gKF9hID0gc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlLmludGVyYWN0aXZpdHkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tb2RlcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmFic29yYmVycztcbiAgICAgICAgaWYgKGludGVyYWN0aXZpdHlBYnNvcmJlcnMpIHtcbiAgICAgICAgICAgIGlmIChpbnRlcmFjdGl2aXR5QWJzb3JiZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zQ2FzdC5pbnRlcmFjdGl2aXR5Lm1vZGVzLmFic29yYmVycyA9IGludGVyYWN0aXZpdHlBYnNvcmJlcnMubWFwKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRtcCA9IG5ldyBBYnNvcmJlcl8xLkFic29yYmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRtcC5sb2FkKHMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG1wO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGFic29yYmVyT3B0aW9ucyA9IG9wdGlvbnNDYXN0LmludGVyYWN0aXZpdHkubW9kZXMuYWJzb3JiZXJzO1xuICAgICAgICAgICAgICAgIGlmICgoYWJzb3JiZXJPcHRpb25zID09PSBudWxsIHx8IGFic29yYmVyT3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWJzb3JiZXJPcHRpb25zLmxvYWQpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc0Nhc3QuaW50ZXJhY3Rpdml0eS5tb2Rlcy5hYnNvcmJlcnMgPSBhYnNvcmJlck9wdGlvbnMgPSBuZXcgQWJzb3JiZXJfMS5BYnNvcmJlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhYnNvcmJlck9wdGlvbnMubG9hZChpbnRlcmFjdGl2aXR5QWJzb3JiZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGxvYWRBYnNvcmJlcnNQbHVnaW4odHNQYXJ0aWNsZXMpIHtcbiAgICBjb25zdCBwbHVnaW4gPSBuZXcgUGx1Z2luKCk7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkUGx1Z2luKHBsdWdpbik7XG59XG5leHBvcnRzLmxvYWRBYnNvcmJlcnNQbHVnaW4gPSBsb2FkQWJzb3JiZXJzUGx1Z2luO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZFNldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59O1xudmFyIF9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX0VtaXR0ZXJJbnN0YW5jZV9maXJzdFNwYXduLCBfRW1pdHRlckluc3RhbmNlX3N0YXJ0UGFydGljbGVzQWRkZWQ7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVtaXR0ZXJJbnN0YW5jZSA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vVXRpbHNcIik7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uL0VudW1zXCIpO1xuY29uc3QgRW1pdHRlclNpemVfMSA9IHJlcXVpcmUoXCIuL09wdGlvbnMvQ2xhc3Nlcy9FbWl0dGVyU2l6ZVwiKTtcbmNvbnN0IFNoYXBlTWFuYWdlcl8xID0gcmVxdWlyZShcIi4vU2hhcGVNYW5hZ2VyXCIpO1xuY2xhc3MgRW1pdHRlckluc3RhbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihlbWl0dGVycywgY29udGFpbmVyLCBlbWl0dGVyT3B0aW9ucywgcG9zaXRpb24pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIHZhciBfZztcbiAgICAgICAgdGhpcy5lbWl0dGVycyA9IGVtaXR0ZXJzO1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgX0VtaXR0ZXJJbnN0YW5jZV9maXJzdFNwYXduLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfRW1pdHRlckluc3RhbmNlX3N0YXJ0UGFydGljbGVzQWRkZWQuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIHRoaXMuY3VycmVudER1cmF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50RW1pdERlbGF5ID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50U3Bhd25EZWxheSA9IDA7XG4gICAgICAgIHRoaXMuaW5pdGlhbFBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuZW1pdHRlck9wdGlvbnMgPSAoMCwgVXRpbHNfMS5kZWVwRXh0ZW5kKSh7fSwgZW1pdHRlck9wdGlvbnMpO1xuICAgICAgICB0aGlzLnNwYXduRGVsYXkgPSAoKChfYSA9IHRoaXMuZW1pdHRlck9wdGlvbnMubGlmZS5kZWxheSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgKiAxMDAwKSAvIHRoaXMuY29udGFpbmVyLnJldGluYS5yZWR1Y2VGYWN0b3I7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSAoX2IgPSB0aGlzLmluaXRpYWxQb3NpdGlvbikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5jYWxjUG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5uYW1lID0gZW1pdHRlck9wdGlvbnMubmFtZTtcbiAgICAgICAgdGhpcy5zaGFwZSA9IFNoYXBlTWFuYWdlcl8xLlNoYXBlTWFuYWdlci5nZXRTaGFwZShlbWl0dGVyT3B0aW9ucy5zaGFwZSk7XG4gICAgICAgIHRoaXMuZmlsbCA9IGVtaXR0ZXJPcHRpb25zLmZpbGw7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0VtaXR0ZXJJbnN0YW5jZV9maXJzdFNwYXduLCAhdGhpcy5lbWl0dGVyT3B0aW9ucy5saWZlLndhaXQsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRW1pdHRlckluc3RhbmNlX3N0YXJ0UGFydGljbGVzQWRkZWQsIGZhbHNlLCBcImZcIik7XG4gICAgICAgIGxldCBwYXJ0aWNsZXNPcHRpb25zID0gKDAsIFV0aWxzXzEuZGVlcEV4dGVuZCkoe30sIHRoaXMuZW1pdHRlck9wdGlvbnMucGFydGljbGVzKTtcbiAgICAgICAgcGFydGljbGVzT3B0aW9ucyAhPT0gbnVsbCAmJiBwYXJ0aWNsZXNPcHRpb25zICE9PSB2b2lkIDAgPyBwYXJ0aWNsZXNPcHRpb25zIDogKHBhcnRpY2xlc09wdGlvbnMgPSB7fSk7XG4gICAgICAgIChfYyA9IHBhcnRpY2xlc09wdGlvbnMubW92ZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogKHBhcnRpY2xlc09wdGlvbnMubW92ZSA9IHt9KTtcbiAgICAgICAgKF9kID0gKF9nID0gcGFydGljbGVzT3B0aW9ucy5tb3ZlKS5kaXJlY3Rpb24pICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IChfZy5kaXJlY3Rpb24gPSB0aGlzLmVtaXR0ZXJPcHRpb25zLmRpcmVjdGlvbik7XG4gICAgICAgIGlmICh0aGlzLmVtaXR0ZXJPcHRpb25zLnNwYXduQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zcGF3bkNvbG9yID0gKDAsIFV0aWxzXzEuY29sb3JUb0hzbCkodGhpcy5lbWl0dGVyT3B0aW9ucy5zcGF3bkNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhdXNlZCA9ICF0aGlzLmVtaXR0ZXJPcHRpb25zLmF1dG9QbGF5O1xuICAgICAgICB0aGlzLnBhcnRpY2xlc09wdGlvbnMgPSBwYXJ0aWNsZXNPcHRpb25zO1xuICAgICAgICB0aGlzLnNpemUgPVxuICAgICAgICAgICAgKF9lID0gdGhpcy5lbWl0dGVyT3B0aW9ucy5zaXplKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemUgPSBuZXcgRW1pdHRlclNpemVfMS5FbWl0dGVyU2l6ZSgpO1xuICAgICAgICAgICAgICAgIHNpemUubG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogRW51bXNfMS5TaXplTW9kZS5wZXJjZW50LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgIHRoaXMubGlmZUNvdW50ID0gKF9mID0gdGhpcy5lbWl0dGVyT3B0aW9ucy5saWZlLmNvdW50KSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAtMTtcbiAgICAgICAgdGhpcy5pbW1vcnRhbCA9IHRoaXMubGlmZUNvdW50IDw9IDA7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgIH1cbiAgICBleHRlcm5hbFBsYXkoKSB7XG4gICAgICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgIH1cbiAgICBleHRlcm5hbFBhdXNlKCkge1xuICAgICAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICB9XG4gICAgcGxheSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb250YWluZXIucmV0aW5hLnJlZHVjZUZhY3RvciAmJlxuICAgICAgICAgICAgKHRoaXMubGlmZUNvdW50ID4gMCB8fCB0aGlzLmltbW9ydGFsIHx8ICF0aGlzLmVtaXR0ZXJPcHRpb25zLmxpZmUuY291bnQpICYmXG4gICAgICAgICAgICAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRW1pdHRlckluc3RhbmNlX2ZpcnN0U3Bhd24sIFwiZlwiKSB8fCB0aGlzLmN1cnJlbnRTcGF3bkRlbGF5ID49ICgoX2EgPSB0aGlzLnNwYXduRGVsYXkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDApKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW1pdERlbGF5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxheSA9ICgwLCBVdGlsc18xLmdldFJhbmdlVmFsdWUpKHRoaXMuZW1pdHRlck9wdGlvbnMucmF0ZS5kZWxheSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0RGVsYXkgPSAoMTAwMCAqIGRlbGF5KSAvIHRoaXMuY29udGFpbmVyLnJldGluYS5yZWR1Y2VGYWN0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5saWZlQ291bnQgPiAwIHx8IHRoaXMuaW1tb3J0YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXBhcmVUb0RpZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHBhdXNlKCkge1xuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5lbWl0RGVsYXk7XG4gICAgfVxuICAgIHJlc2l6ZSgpIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbFBvc2l0aW9uID0gdGhpcy5pbml0aWFsUG9zaXRpb247XG4gICAgICAgIHRoaXMucG9zaXRpb24gPVxuICAgICAgICAgICAgaW5pdGlhbFBvc2l0aW9uICYmICgwLCBVdGlsc18xLmlzUG9pbnRJbnNpZGUpKGluaXRpYWxQb3NpdGlvbiwgdGhpcy5jb250YWluZXIuY2FudmFzLnNpemUpXG4gICAgICAgICAgICAgICAgPyBpbml0aWFsUG9zaXRpb25cbiAgICAgICAgICAgICAgICA6IHRoaXMuY2FsY1Bvc2l0aW9uKCk7XG4gICAgfVxuICAgIHVwZGF0ZShkZWx0YSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0VtaXR0ZXJJbnN0YW5jZV9maXJzdFNwYXduLCBcImZcIikpIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0VtaXR0ZXJJbnN0YW5jZV9maXJzdFNwYXduLCBmYWxzZSwgXCJmXCIpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3Bhd25EZWxheSA9IChfYSA9IHRoaXMuc3Bhd25EZWxheSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEVtaXREZWxheSA9IChfYiA9IHRoaXMuZW1pdERlbGF5KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRW1pdHRlckluc3RhbmNlX3N0YXJ0UGFydGljbGVzQWRkZWQsIFwiZlwiKSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRW1pdHRlckluc3RhbmNlX3N0YXJ0UGFydGljbGVzQWRkZWQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFBhcnRpY2xlcyh0aGlzLmVtaXR0ZXJPcHRpb25zLnN0YXJ0Q291bnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmR1cmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudER1cmF0aW9uICs9IGRlbHRhLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudER1cmF0aW9uID49IHRoaXMuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Bhd25EZWxheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnNwYXduRGVsYXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbW1vcnRhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpZmVDb3VudC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5saWZlQ291bnQgPiAwIHx8IHRoaXMuaW1tb3J0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMuY2FsY1Bvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Bhd25EZWxheSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAoKChfYyA9IHRoaXMuZW1pdHRlck9wdGlvbnMubGlmZS5kZWxheSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMCkgKiAxMDAwKSAvIHRoaXMuY29udGFpbmVyLnJldGluYS5yZWR1Y2VGYWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RHVyYXRpb24gLT0gdGhpcy5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5kdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zcGF3bkRlbGF5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNwYXduRGVsYXkgKz0gZGVsdGEudmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50U3Bhd25EZWxheSA+PSB0aGlzLnNwYXduRGVsYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTcGF3bkRlbGF5IC09IHRoaXMuY3VycmVudFNwYXduRGVsYXk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuc3Bhd25EZWxheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lbWl0RGVsYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RW1pdERlbGF5ICs9IGRlbHRhLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEVtaXREZWxheSA+PSB0aGlzLmVtaXREZWxheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEVtaXREZWxheSAtPSB0aGlzLmVtaXREZWxheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwcmVwYXJlVG9EaWUoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSAoX2EgPSB0aGlzLmVtaXR0ZXJPcHRpb25zLmxpZmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kdXJhdGlvbjtcbiAgICAgICAgaWYgKHRoaXMuY29udGFpbmVyLnJldGluYS5yZWR1Y2VGYWN0b3IgJiZcbiAgICAgICAgICAgICh0aGlzLmxpZmVDb3VudCA+IDAgfHwgdGhpcy5pbW1vcnRhbCkgJiZcbiAgICAgICAgICAgIGR1cmF0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGR1cmF0aW9uID4gMCkge1xuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uICogMTAwMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmVtaXR0ZXJzLnJlbW92ZUVtaXR0ZXIodGhpcyk7XG4gICAgfVxuICAgIGNhbGNQb3NpdGlvbigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IHBlcmNlbnRQb3NpdGlvbiA9IHRoaXMuZW1pdHRlck9wdGlvbnMucG9zaXRpb247XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiAoKChfYSA9IHBlcmNlbnRQb3NpdGlvbiA9PT0gbnVsbCB8fCBwZXJjZW50UG9zaXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBlcmNlbnRQb3NpdGlvbi54KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBNYXRoLnJhbmRvbSgpICogMTAwKSAvIDEwMCkgKiBjb250YWluZXIuY2FudmFzLnNpemUud2lkdGgsXG4gICAgICAgICAgICB5OiAoKChfYiA9IHBlcmNlbnRQb3NpdGlvbiA9PT0gbnVsbCB8fCBwZXJjZW50UG9zaXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBlcmNlbnRQb3NpdGlvbi55KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBNYXRoLnJhbmRvbSgpICogMTAwKSAvIDEwMCkgKiBjb250YWluZXIuY2FudmFzLnNpemUuaGVpZ2h0LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbWl0KCkge1xuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWFudGl0eSA9ICgwLCBVdGlsc18xLmdldFJhbmdlVmFsdWUpKHRoaXMuZW1pdHRlck9wdGlvbnMucmF0ZS5xdWFudGl0eSk7XG4gICAgICAgIHRoaXMuZW1pdFBhcnRpY2xlcyhxdWFudGl0eSk7XG4gICAgfVxuICAgIGVtaXRQYXJ0aWNsZXMocXVhbnRpdHkpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMuc2l6ZS5tb2RlID09PSBFbnVtc18xLlNpemVNb2RlLnBlcmNlbnRcbiAgICAgICAgICAgICAgICA/IChjb250YWluZXIuY2FudmFzLnNpemUud2lkdGggKiB0aGlzLnNpemUud2lkdGgpIC8gMTAwXG4gICAgICAgICAgICAgICAgOiB0aGlzLnNpemUud2lkdGgsXG4gICAgICAgICAgICB5OiB0aGlzLnNpemUubW9kZSA9PT0gRW51bXNfMS5TaXplTW9kZS5wZXJjZW50XG4gICAgICAgICAgICAgICAgPyAoY29udGFpbmVyLmNhbnZhcy5zaXplLmhlaWdodCAqIHRoaXMuc2l6ZS5oZWlnaHQpIC8gMTAwXG4gICAgICAgICAgICAgICAgOiB0aGlzLnNpemUuaGVpZ2h0LFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHF1YW50aXR5OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2xlc09wdGlvbnMgPSAoMCwgVXRpbHNfMS5kZWVwRXh0ZW5kKSh7fSwgdGhpcy5wYXJ0aWNsZXNPcHRpb25zKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNwYXduQ29sb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvckFuaW1hdGlvbiA9IChfYSA9IHRoaXMuZW1pdHRlck9wdGlvbnMuc3Bhd25Db2xvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFuaW1hdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoY29sb3JBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaHVlQW5pbWF0aW9uID0gY29sb3JBbmltYXRpb247XG4gICAgICAgICAgICAgICAgICAgIGlmIChodWVBbmltYXRpb24uZW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwYXduQ29sb3IuaCA9IHRoaXMuc2V0Q29sb3JBbmltYXRpb24oaHVlQW5pbWF0aW9uLCB0aGlzLnNwYXduQ29sb3IuaCwgMzYwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhzbEFuaW1hdGlvbiA9IGNvbG9yQW5pbWF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGF3bkNvbG9yLmggPSB0aGlzLnNldENvbG9yQW5pbWF0aW9uKGhzbEFuaW1hdGlvbi5oLCB0aGlzLnNwYXduQ29sb3IuaCwgMzYwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3Bhd25Db2xvci5zID0gdGhpcy5zZXRDb2xvckFuaW1hdGlvbihoc2xBbmltYXRpb24ucywgdGhpcy5zcGF3bkNvbG9yLnMsIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwYXduQ29sb3IubCA9IHRoaXMuc2V0Q29sb3JBbmltYXRpb24oaHNsQW5pbWF0aW9uLmwsIHRoaXMuc3Bhd25Db2xvci5sLCAxMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcGFydGljbGVzT3B0aW9ucy5jb2xvcikge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZXNPcHRpb25zLmNvbG9yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3Bhd25Db2xvcixcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlc09wdGlvbnMuY29sb3IudmFsdWUgPSB0aGlzLnNwYXduQ29sb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcFBvc2l0aW9uID0gKF9jID0gKF9iID0gdGhpcy5zaGFwZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJhbmRvbVBvc2l0aW9uKHBvc2l0aW9uLCBvZmZzZXQsIHRoaXMuZmlsbCkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHBvc2l0aW9uO1xuICAgICAgICAgICAgY29udGFpbmVyLnBhcnRpY2xlcy5hZGRQYXJ0aWNsZShwUG9zaXRpb24sIHBhcnRpY2xlc09wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldENvbG9yQW5pbWF0aW9uKGFuaW1hdGlvbiwgaW5pdFZhbHVlLCBtYXhWYWx1ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBpZiAoIWFuaW1hdGlvbi5lbmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbml0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29sb3JPZmZzZXQgPSAoMCwgVXRpbHNfMS5yYW5kb21JblJhbmdlKShhbmltYXRpb24ub2Zmc2V0KTtcbiAgICAgICAgY29uc3QgZGVsYXkgPSAoMCwgVXRpbHNfMS5nZXRSYW5nZVZhbHVlKSh0aGlzLmVtaXR0ZXJPcHRpb25zLnJhdGUuZGVsYXkpO1xuICAgICAgICBjb25zdCBlbWl0RmFjdG9yID0gKDEwMDAgKiBkZWxheSkgLyBjb250YWluZXIucmV0aW5hLnJlZHVjZUZhY3RvcjtcbiAgICAgICAgY29uc3QgY29sb3JTcGVlZCA9IChfYSA9IGFuaW1hdGlvbi5zcGVlZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMDtcbiAgICAgICAgcmV0dXJuIChpbml0VmFsdWUgKyAoY29sb3JTcGVlZCAqIGNvbnRhaW5lci5mcHNMaW1pdCkgLyBlbWl0RmFjdG9yICsgY29sb3JPZmZzZXQgKiAzLjYpICUgbWF4VmFsdWU7XG4gICAgfVxufVxuZXhwb3J0cy5FbWl0dGVySW5zdGFuY2UgPSBFbWl0dGVySW5zdGFuY2U7XG5fRW1pdHRlckluc3RhbmNlX2ZpcnN0U3Bhd24gPSBuZXcgV2Vha01hcCgpLCBfRW1pdHRlckluc3RhbmNlX3N0YXJ0UGFydGljbGVzQWRkZWQgPSBuZXcgV2Vha01hcCgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVtaXR0ZXJzID0gdm9pZCAwO1xuY29uc3QgRW1pdHRlckluc3RhbmNlXzEgPSByZXF1aXJlKFwiLi9FbWl0dGVySW5zdGFuY2VcIik7XG5jb25zdCBFbWl0dGVyXzEgPSByZXF1aXJlKFwiLi9PcHRpb25zL0NsYXNzZXMvRW1pdHRlclwiKTtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi9FbnVtc1wiKTtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vVXRpbHNcIik7XG5jbGFzcyBFbWl0dGVycyB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmFycmF5ID0gW107XG4gICAgICAgIHRoaXMuZW1pdHRlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2aXR5RW1pdHRlcnMgPSBbXTtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGFibGVDb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIG92ZXJyaWRhYmxlQ29udGFpbmVyLmdldEVtaXR0ZXIgPSAoaWR4T3JOYW1lKSA9PiBpZHhPck5hbWUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgaWR4T3JOYW1lID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICA/IHRoaXMuYXJyYXlbaWR4T3JOYW1lIHx8IDBdXG4gICAgICAgICAgICA6IHRoaXMuYXJyYXkuZmluZCgodCkgPT4gdC5uYW1lID09PSBpZHhPck5hbWUpO1xuICAgICAgICBvdmVycmlkYWJsZUNvbnRhaW5lci5hZGRFbWl0dGVyID0gKG9wdGlvbnMsIHBvc2l0aW9uKSA9PiB0aGlzLmFkZEVtaXR0ZXIob3B0aW9ucywgcG9zaXRpb24pO1xuICAgICAgICBvdmVycmlkYWJsZUNvbnRhaW5lci5wbGF5RW1pdHRlciA9IChpZHhPck5hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBvdmVycmlkYWJsZUNvbnRhaW5lci5nZXRFbWl0dGVyKGlkeE9yTmFtZSk7XG4gICAgICAgICAgICBpZiAoZW1pdHRlcikge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZXh0ZXJuYWxQbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG92ZXJyaWRhYmxlQ29udGFpbmVyLnBhdXNlRW1pdHRlciA9IChpZHhPck5hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBvdmVycmlkYWJsZUNvbnRhaW5lci5nZXRFbWl0dGVyKGlkeE9yTmFtZSk7XG4gICAgICAgICAgICBpZiAoZW1pdHRlcikge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZXh0ZXJuYWxQYXVzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBpbml0KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuZW1pdHRlcnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmVtaXR0ZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXJzID0gb3B0aW9ucy5lbWl0dGVycy5tYXAoKHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG1wID0gbmV3IEVtaXR0ZXJfMS5FbWl0dGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRtcC5sb2FkKHMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG1wO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZW1pdHRlcnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXJzID0gbmV3IEVtaXR0ZXJfMS5FbWl0dGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlcnMubG9hZChvcHRpb25zLmVtaXR0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbnRlcmFjdGl2aXR5RW1pdHRlcnMgPSAoX2IgPSAoX2EgPSBvcHRpb25zLmludGVyYWN0aXZpdHkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tb2RlcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmVtaXR0ZXJzO1xuICAgICAgICBpZiAoaW50ZXJhY3Rpdml0eUVtaXR0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaW50ZXJhY3Rpdml0eUVtaXR0ZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aXZpdHlFbWl0dGVycyA9IGludGVyYWN0aXZpdHlFbWl0dGVycy5tYXAoKHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG1wID0gbmV3IEVtaXR0ZXJfMS5FbWl0dGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRtcC5sb2FkKHMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG1wO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3Rpdml0eUVtaXR0ZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGl2aXR5RW1pdHRlcnMgPSBuZXcgRW1pdHRlcl8xLkVtaXR0ZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGl2aXR5RW1pdHRlcnMubG9hZChpbnRlcmFjdGl2aXR5RW1pdHRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVtaXR0ZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW1pdHRlck9wdGlvbnMgb2YgdGhpcy5lbWl0dGVycykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRW1pdHRlcihlbWl0dGVyT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkZEVtaXR0ZXIodGhpcy5lbWl0dGVycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGxheSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbWl0dGVyIG9mIHRoaXMuYXJyYXkpIHtcbiAgICAgICAgICAgIGVtaXR0ZXIucGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhdXNlKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVtaXR0ZXIgb2YgdGhpcy5hcnJheSkge1xuICAgICAgICAgICAgZW1pdHRlci5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuYXJyYXkgPSBbXTtcbiAgICB9XG4gICAgdXBkYXRlKGRlbHRhKSB7XG4gICAgICAgIGZvciAoY29uc3QgZW1pdHRlciBvZiB0aGlzLmFycmF5KSB7XG4gICAgICAgICAgICBlbWl0dGVyLnVwZGF0ZShkZWx0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlQ2xpY2tNb2RlKG1vZGUpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IGVtaXR0ZXJPcHRpb25zID0gdGhpcy5lbWl0dGVycztcbiAgICAgICAgY29uc3QgbW9kZUVtaXR0ZXJzID0gdGhpcy5pbnRlcmFjdGl2aXR5RW1pdHRlcnM7XG4gICAgICAgIGlmIChtb2RlID09PSBFbnVtc18xLkVtaXR0ZXJDbGlja01vZGUuZW1pdHRlcikge1xuICAgICAgICAgICAgbGV0IGVtaXR0ZXJNb2RlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChtb2RlRW1pdHRlcnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGlmIChtb2RlRW1pdHRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBlbWl0dGVyTW9kZU9wdGlvbnMgPSAoMCwgVXRpbHNfMS5pdGVtRnJvbUFycmF5KShtb2RlRW1pdHRlcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXJNb2RlT3B0aW9ucyA9IG1vZGVFbWl0dGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXJzT3B0aW9ucyA9IGVtaXR0ZXJNb2RlT3B0aW9ucyAhPT0gbnVsbCAmJiBlbWl0dGVyTW9kZU9wdGlvbnMgIT09IHZvaWQgMCA/IGVtaXR0ZXJNb2RlT3B0aW9ucyA6IChlbWl0dGVyT3B0aW9ucyBpbnN0YW5jZW9mIEFycmF5ID8gKDAsIFV0aWxzXzEuaXRlbUZyb21BcnJheSkoZW1pdHRlck9wdGlvbnMpIDogZW1pdHRlck9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgZVBvc2l0aW9uID0gY29udGFpbmVyLmludGVyYWN0aXZpdHkubW91c2UuY2xpY2tQb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMuYWRkRW1pdHRlcigoMCwgVXRpbHNfMS5kZWVwRXh0ZW5kKSh7fSwgZW1pdHRlcnNPcHRpb25zKSwgZVBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNpemUoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZW1pdHRlciBvZiB0aGlzLmFycmF5KSB7XG4gICAgICAgICAgICBlbWl0dGVyLnJlc2l6ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEVtaXR0ZXIob3B0aW9ucywgcG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgZW1pdHRlciA9IG5ldyBFbWl0dGVySW5zdGFuY2VfMS5FbWl0dGVySW5zdGFuY2UodGhpcywgdGhpcy5jb250YWluZXIsIG9wdGlvbnMsIHBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5hcnJheS5wdXNoKGVtaXR0ZXIpO1xuICAgICAgICByZXR1cm4gZW1pdHRlcjtcbiAgICB9XG4gICAgcmVtb3ZlRW1pdHRlcihlbWl0dGVyKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5hcnJheS5pbmRleE9mKGVtaXR0ZXIpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5hcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5FbWl0dGVycyA9IEVtaXR0ZXJzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRW1pdHRlckNsaWNrTW9kZSA9IHZvaWQgMDtcbnZhciBFbWl0dGVyQ2xpY2tNb2RlO1xuKGZ1bmN0aW9uIChFbWl0dGVyQ2xpY2tNb2RlKSB7XG4gICAgRW1pdHRlckNsaWNrTW9kZVtcImVtaXR0ZXJcIl0gPSBcImVtaXR0ZXJcIjtcbn0pKEVtaXR0ZXJDbGlja01vZGUgPSBleHBvcnRzLkVtaXR0ZXJDbGlja01vZGUgfHwgKGV4cG9ydHMuRW1pdHRlckNsaWNrTW9kZSA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRW1pdHRlclNoYXBlVHlwZSA9IHZvaWQgMDtcbnZhciBFbWl0dGVyU2hhcGVUeXBlO1xuKGZ1bmN0aW9uIChFbWl0dGVyU2hhcGVUeXBlKSB7XG4gICAgRW1pdHRlclNoYXBlVHlwZVtcImNpcmNsZVwiXSA9IFwiY2lyY2xlXCI7XG4gICAgRW1pdHRlclNoYXBlVHlwZVtcInNxdWFyZVwiXSA9IFwic3F1YXJlXCI7XG59KShFbWl0dGVyU2hhcGVUeXBlID0gZXhwb3J0cy5FbWl0dGVyU2hhcGVUeXBlIHx8IChleHBvcnRzLkVtaXR0ZXJTaGFwZVR5cGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9FbWl0dGVyQ2xpY2tNb2RlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9FbWl0dGVyU2hhcGVUeXBlXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FbWl0dGVyID0gdm9pZCAwO1xuY29uc3QgRW1pdHRlclJhdGVfMSA9IHJlcXVpcmUoXCIuL0VtaXR0ZXJSYXRlXCIpO1xuY29uc3QgRW1pdHRlckxpZmVfMSA9IHJlcXVpcmUoXCIuL0VtaXR0ZXJMaWZlXCIpO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9VdGlsc1wiKTtcbmNvbnN0IEVtaXR0ZXJTaXplXzEgPSByZXF1aXJlKFwiLi9FbWl0dGVyU2l6ZVwiKTtcbmNvbnN0IEFuaW1hdGFibGVDb2xvcl8xID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL09wdGlvbnMvQ2xhc3Nlcy9BbmltYXRhYmxlQ29sb3JcIik7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uL0VudW1zXCIpO1xuY2xhc3MgRW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYXV0b1BsYXkgPSB0cnVlO1xuICAgICAgICB0aGlzLmZpbGwgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpZmUgPSBuZXcgRW1pdHRlckxpZmVfMS5FbWl0dGVyTGlmZSgpO1xuICAgICAgICB0aGlzLnJhdGUgPSBuZXcgRW1pdHRlclJhdGVfMS5FbWl0dGVyUmF0ZSgpO1xuICAgICAgICB0aGlzLnNoYXBlID0gRW51bXNfMS5FbWl0dGVyU2hhcGVUeXBlLnNxdWFyZTtcbiAgICAgICAgdGhpcy5zdGFydENvdW50ID0gMDtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5hdXRvUGxheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmF1dG9QbGF5ID0gZGF0YS5hdXRvUGxheTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5zaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSA9IG5ldyBFbWl0dGVyU2l6ZV8xLkVtaXR0ZXJTaXplKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNpemUubG9hZChkYXRhLnNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmRpcmVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRhdGEuZGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5maWxsID0gZGF0YS5maWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlmZS5sb2FkKGRhdGEubGlmZSk7XG4gICAgICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZTtcbiAgICAgICAgaWYgKGRhdGEucGFydGljbGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGFydGljbGVzID0gKDAsIFV0aWxzXzEuZGVlcEV4dGVuZCkoe30sIGRhdGEucGFydGljbGVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJhdGUubG9hZChkYXRhLnJhdGUpO1xuICAgICAgICBpZiAoZGF0YS5zaGFwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXBlID0gZGF0YS5zaGFwZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgIHg6IGRhdGEucG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICB5OiBkYXRhLnBvc2l0aW9uLnksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnNwYXduQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3Bhd25Db2xvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zcGF3bkNvbG9yID0gbmV3IEFuaW1hdGFibGVDb2xvcl8xLkFuaW1hdGFibGVDb2xvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zcGF3bkNvbG9yLmxvYWQoZGF0YS5zcGF3bkNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5zdGFydENvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRDb3VudCA9IGRhdGEuc3RhcnRDb3VudDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuRW1pdHRlciA9IEVtaXR0ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRW1pdHRlckxpZmUgPSB2b2lkIDA7XG5jbGFzcyBFbWl0dGVyTGlmZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMud2FpdCA9IGZhbHNlO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmNvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY291bnQgPSBkYXRhLmNvdW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmRlbGF5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsYXkgPSBkYXRhLmRlbGF5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmR1cmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZHVyYXRpb24gPSBkYXRhLmR1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLndhaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53YWl0ID0gZGF0YS53YWl0O1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5FbWl0dGVyTGlmZSA9IEVtaXR0ZXJMaWZlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVtaXR0ZXJSYXRlID0gdm9pZCAwO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9VdGlsc1wiKTtcbmNsYXNzIEVtaXR0ZXJSYXRlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5xdWFudGl0eSA9IDE7XG4gICAgICAgIHRoaXMuZGVsYXkgPSAwLjE7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEucXVhbnRpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5xdWFudGl0eSA9ICgwLCBVdGlsc18xLnNldFJhbmdlVmFsdWUpKGRhdGEucXVhbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmRlbGF5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsYXkgPSAoMCwgVXRpbHNfMS5zZXRSYW5nZVZhbHVlKShkYXRhLmRlbGF5KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuRW1pdHRlclJhdGUgPSBFbWl0dGVyUmF0ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FbWl0dGVyU2l6ZSA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vRW51bXNcIik7XG5jbGFzcyBFbWl0dGVyU2l6ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubW9kZSA9IEVudW1zXzEuU2l6ZU1vZGUucGVyY2VudDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5tb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZSA9IGRhdGEubW9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5oZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBkYXRhLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS53aWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gZGF0YS53aWR0aDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuRW1pdHRlclNpemUgPSBFbWl0dGVyU2l6ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaGFwZU1hbmFnZXIgPSB2b2lkIDA7XG5jb25zdCBzaGFwZXMgPSBuZXcgTWFwKCk7XG5jbGFzcyBTaGFwZU1hbmFnZXIge1xuICAgIHN0YXRpYyBhZGRTaGFwZShuYW1lLCBkcmF3ZXIpIHtcbiAgICAgICAgaWYgKCFTaGFwZU1hbmFnZXIuZ2V0U2hhcGUobmFtZSkpIHtcbiAgICAgICAgICAgIHNoYXBlcy5zZXQobmFtZSwgZHJhd2VyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0U2hhcGUobmFtZSkge1xuICAgICAgICByZXR1cm4gc2hhcGVzLmdldChuYW1lKTtcbiAgICB9XG4gICAgc3RhdGljIGdldFN1cHBvcnRlZFNoYXBlcygpIHtcbiAgICAgICAgcmV0dXJuIHNoYXBlcy5rZXlzKCk7XG4gICAgfVxufVxuZXhwb3J0cy5TaGFwZU1hbmFnZXIgPSBTaGFwZU1hbmFnZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2lyY2xlU2hhcGUgPSB2b2lkIDA7XG5jbGFzcyBDaXJjbGVTaGFwZSB7XG4gICAgcmFuZG9tUG9zaXRpb24ocG9zaXRpb24sIG9mZnNldCwgZmlsbCkge1xuICAgICAgICBjb25zdCBnZW5lcmF0ZVRoZXRhID0gKHgsIHkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHUgPSBNYXRoLnJhbmRvbSgpIC8gNC4wO1xuICAgICAgICAgICAgY29uc3QgdGhldGEgPSBNYXRoLmF0YW4oKHkgLyB4KSAqIE1hdGgudGFuKDIgKiBNYXRoLlBJICogdSkpO1xuICAgICAgICAgICAgY29uc3QgdiA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgICAgICBpZiAodiA8IDAuMjUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhldGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2IDwgMC41KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguUEkgLSB0aGV0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHYgPCAwLjc1KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguUEkgKyB0aGV0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAtdGhldGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9ICh4LCB5LCB0aGV0YSkgPT4gKHggKiB5KSAvIE1hdGguc3FydCgoeSAqIE1hdGguY29zKHRoZXRhKSkgKiogMiArICh4ICogTWF0aC5zaW4odGhldGEpKSAqKiAyKTtcbiAgICAgICAgY29uc3QgW2EsIGJdID0gW29mZnNldC54IC8gMiwgb2Zmc2V0LnkgLyAyXTtcbiAgICAgICAgY29uc3QgcmFuZG9tVGhldGEgPSBnZW5lcmF0ZVRoZXRhKGEsIGIpLCBtYXhSYWRpdXMgPSByYWRpdXMoYSwgYiwgcmFuZG9tVGhldGEpLCByYW5kb21SYWRpdXMgPSBmaWxsID8gbWF4UmFkaXVzICogTWF0aC5zcXJ0KE1hdGgucmFuZG9tKCkpIDogbWF4UmFkaXVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcG9zaXRpb24ueCArIHJhbmRvbVJhZGl1cyAqIE1hdGguY29zKHJhbmRvbVRoZXRhKSxcbiAgICAgICAgICAgIHk6IHBvc2l0aW9uLnkgKyByYW5kb21SYWRpdXMgKiBNYXRoLnNpbihyYW5kb21UaGV0YSksXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5DaXJjbGVTaGFwZSA9IENpcmNsZVNoYXBlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNxdWFyZVNoYXBlID0gdm9pZCAwO1xuZnVuY3Rpb24gcmFuZG9tU3F1YXJlQ29vcmRpbmF0ZShwb3NpdGlvbiwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuIHBvc2l0aW9uICsgb2Zmc2V0ICogKE1hdGgucmFuZG9tKCkgLSAwLjUpO1xufVxuY2xhc3MgU3F1YXJlU2hhcGUge1xuICAgIHJhbmRvbVBvc2l0aW9uKHBvc2l0aW9uLCBvZmZzZXQsIGZpbGwpIHtcbiAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogcmFuZG9tU3F1YXJlQ29vcmRpbmF0ZShwb3NpdGlvbi54LCBvZmZzZXQueCksXG4gICAgICAgICAgICAgICAgeTogcmFuZG9tU3F1YXJlQ29vcmRpbmF0ZShwb3NpdGlvbi55LCBvZmZzZXQueSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaGFsZlcgPSBvZmZzZXQueCAvIDIsIGhhbGZIID0gb2Zmc2V0LnkgLyAyLCBzaWRlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCksIHYgPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyO1xuICAgICAgICAgICAgc3dpdGNoIChzaWRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogcG9zaXRpb24ueCArIHYgKiBoYWxmVyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHBvc2l0aW9uLnkgLSBoYWxmSCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBwb3NpdGlvbi54IC0gaGFsZlcsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBwb3NpdGlvbi55ICsgdiAqIGhhbGZILFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHBvc2l0aW9uLnggKyB2ICogaGFsZlcsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBwb3NpdGlvbi55ICsgaGFsZkgsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBwb3NpdGlvbi54ICsgaGFsZlcsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBwb3NpdGlvbi55ICsgdiAqIGhhbGZILFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5TcXVhcmVTaGFwZSA9IFNxdWFyZVNoYXBlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZEVtaXR0ZXJzUGx1Z2luID0gdm9pZCAwO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9VdGlsc1wiKTtcbmNvbnN0IEVtaXR0ZXJzXzEgPSByZXF1aXJlKFwiLi9FbWl0dGVyc1wiKTtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi9FbnVtc1wiKTtcbmNvbnN0IEVtaXR0ZXJfMSA9IHJlcXVpcmUoXCIuL09wdGlvbnMvQ2xhc3Nlcy9FbWl0dGVyXCIpO1xuY29uc3QgU2hhcGVNYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi9TaGFwZU1hbmFnZXJcIik7XG5jb25zdCBDaXJjbGVTaGFwZV8xID0gcmVxdWlyZShcIi4vU2hhcGVzL0NpcmNsZS9DaXJjbGVTaGFwZVwiKTtcbmNvbnN0IFNxdWFyZVNoYXBlXzEgPSByZXF1aXJlKFwiLi9TaGFwZXMvU3F1YXJlL1NxdWFyZVNoYXBlXCIpO1xuY2xhc3MgRW1pdHRlcnNQbHVnaW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmlkID0gXCJlbWl0dGVyc1wiO1xuICAgIH1cbiAgICBnZXRQbHVnaW4oY29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRW1pdHRlcnNfMS5FbWl0dGVycyhjb250YWluZXIpO1xuICAgIH1cbiAgICBuZWVkc1BsdWdpbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW1pdHRlcnMgPSBvcHRpb25zLmVtaXR0ZXJzO1xuICAgICAgICByZXR1cm4gKChlbWl0dGVycyBpbnN0YW5jZW9mIEFycmF5ICYmICEhZW1pdHRlcnMubGVuZ3RoKSB8fFxuICAgICAgICAgICAgZW1pdHRlcnMgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgKCEhKChfYyA9IChfYiA9IChfYSA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmV2ZW50cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm9uQ2xpY2spID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5tb2RlKSAmJlxuICAgICAgICAgICAgICAgICgwLCBVdGlsc18xLmlzSW5BcnJheSkoRW51bXNfMS5FbWl0dGVyQ2xpY2tNb2RlLmVtaXR0ZXIsIG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25DbGljay5tb2RlKSkpO1xuICAgIH1cbiAgICBsb2FkT3B0aW9ucyhvcHRpb25zLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCF0aGlzLm5lZWRzUGx1Z2luKG9wdGlvbnMpICYmICF0aGlzLm5lZWRzUGx1Z2luKHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25zQ2FzdCA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2UuZW1pdHRlcnMpIHtcbiAgICAgICAgICAgIGlmICgoc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlLmVtaXR0ZXJzKSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uc0Nhc3QuZW1pdHRlcnMgPSBzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2UuZW1pdHRlcnMubWFwKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRtcCA9IG5ldyBFbWl0dGVyXzEuRW1pdHRlcigpO1xuICAgICAgICAgICAgICAgICAgICB0bXAubG9hZChzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRtcDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBlbWl0dGVyT3B0aW9ucyA9IG9wdGlvbnNDYXN0LmVtaXR0ZXJzO1xuICAgICAgICAgICAgICAgIGlmICgoZW1pdHRlck9wdGlvbnMgPT09IG51bGwgfHwgZW1pdHRlck9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVtaXR0ZXJPcHRpb25zLmxvYWQpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc0Nhc3QuZW1pdHRlcnMgPSBlbWl0dGVyT3B0aW9ucyA9IG5ldyBFbWl0dGVyXzEuRW1pdHRlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbWl0dGVyT3B0aW9ucy5sb2FkKHNvdXJjZSA9PT0gbnVsbCB8fCBzb3VyY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvdXJjZS5lbWl0dGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpdml0eUVtaXR0ZXJzID0gKF9iID0gKF9hID0gc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlLmludGVyYWN0aXZpdHkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tb2RlcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmVtaXR0ZXJzO1xuICAgICAgICBpZiAoaW50ZXJhY3Rpdml0eUVtaXR0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaW50ZXJhY3Rpdml0eUVtaXR0ZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zQ2FzdC5pbnRlcmFjdGl2aXR5Lm1vZGVzLmVtaXR0ZXJzID0gaW50ZXJhY3Rpdml0eUVtaXR0ZXJzLm1hcCgocykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0bXAgPSBuZXcgRW1pdHRlcl8xLkVtaXR0ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdG1wLmxvYWQocyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0bXA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgZW1pdHRlck9wdGlvbnMgPSBvcHRpb25zQ2FzdC5pbnRlcmFjdGl2aXR5Lm1vZGVzLmVtaXR0ZXJzO1xuICAgICAgICAgICAgICAgIGlmICgoZW1pdHRlck9wdGlvbnMgPT09IG51bGwgfHwgZW1pdHRlck9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVtaXR0ZXJPcHRpb25zLmxvYWQpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc0Nhc3QuaW50ZXJhY3Rpdml0eS5tb2Rlcy5lbWl0dGVycyA9IGVtaXR0ZXJPcHRpb25zID0gbmV3IEVtaXR0ZXJfMS5FbWl0dGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVtaXR0ZXJPcHRpb25zLmxvYWQoaW50ZXJhY3Rpdml0eUVtaXR0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGxvYWRFbWl0dGVyc1BsdWdpbih0c1BhcnRpY2xlcykge1xuICAgIGNvbnN0IHBsdWdpbiA9IG5ldyBFbWl0dGVyc1BsdWdpbigpO1xuICAgIGF3YWl0IHRzUGFydGljbGVzLmFkZFBsdWdpbihwbHVnaW4pO1xuICAgIGlmICghdHNQYXJ0aWNsZXMuYWRkRW1pdHRlclNoYXBlKSB7XG4gICAgICAgIHRzUGFydGljbGVzLmFkZEVtaXR0ZXJTaGFwZSA9IChuYW1lLCBzaGFwZSkgPT4ge1xuICAgICAgICAgICAgU2hhcGVNYW5hZ2VyXzEuU2hhcGVNYW5hZ2VyLmFkZFNoYXBlKG5hbWUsIHNoYXBlKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdHNQYXJ0aWNsZXMuYWRkRW1pdHRlclNoYXBlKEVudW1zXzEuRW1pdHRlclNoYXBlVHlwZS5jaXJjbGUsIG5ldyBDaXJjbGVTaGFwZV8xLkNpcmNsZVNoYXBlKCkpO1xuICAgIHRzUGFydGljbGVzLmFkZEVtaXR0ZXJTaGFwZShFbnVtc18xLkVtaXR0ZXJTaGFwZVR5cGUuc3F1YXJlLCBuZXcgU3F1YXJlU2hhcGVfMS5TcXVhcmVTaGFwZSgpKTtcbn1cbmV4cG9ydHMubG9hZEVtaXR0ZXJzUGx1Z2luID0gbG9hZEVtaXR0ZXJzUGx1Z2luO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0VtaXR0ZXJzTWFpblwiKSwgZXhwb3J0cyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW5saW5lQXJyYW5nZW1lbnQgPSB2b2lkIDA7XG52YXIgSW5saW5lQXJyYW5nZW1lbnQ7XG4oZnVuY3Rpb24gKElubGluZUFycmFuZ2VtZW50KSB7XG4gICAgSW5saW5lQXJyYW5nZW1lbnRbXCJlcXVpZGlzdGFudFwiXSA9IFwiZXF1aWRpc3RhbnRcIjtcbiAgICBJbmxpbmVBcnJhbmdlbWVudFtcIm9uZVBlclBvaW50XCJdID0gXCJvbmUtcGVyLXBvaW50XCI7XG4gICAgSW5saW5lQXJyYW5nZW1lbnRbXCJwZXJQb2ludFwiXSA9IFwicGVyLXBvaW50XCI7XG4gICAgSW5saW5lQXJyYW5nZW1lbnRbXCJyYW5kb21MZW5ndGhcIl0gPSBcInJhbmRvbS1sZW5ndGhcIjtcbiAgICBJbmxpbmVBcnJhbmdlbWVudFtcInJhbmRvbVBvaW50XCJdID0gXCJyYW5kb20tcG9pbnRcIjtcbn0pKElubGluZUFycmFuZ2VtZW50ID0gZXhwb3J0cy5JbmxpbmVBcnJhbmdlbWVudCB8fCAoZXhwb3J0cy5JbmxpbmVBcnJhbmdlbWVudCA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTW92ZVR5cGUgPSB2b2lkIDA7XG52YXIgTW92ZVR5cGU7XG4oZnVuY3Rpb24gKE1vdmVUeXBlKSB7XG4gICAgTW92ZVR5cGVbXCJwYXRoXCJdID0gXCJwYXRoXCI7XG4gICAgTW92ZVR5cGVbXCJyYWRpdXNcIl0gPSBcInJhZGl1c1wiO1xufSkoTW92ZVR5cGUgPSBleHBvcnRzLk1vdmVUeXBlIHx8IChleHBvcnRzLk1vdmVUeXBlID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UeXBlID0gdm9pZCAwO1xudmFyIFR5cGU7XG4oZnVuY3Rpb24gKFR5cGUpIHtcbiAgICBUeXBlW1wiaW5saW5lXCJdID0gXCJpbmxpbmVcIjtcbiAgICBUeXBlW1wiaW5zaWRlXCJdID0gXCJpbnNpZGVcIjtcbiAgICBUeXBlW1wib3V0c2lkZVwiXSA9IFwib3V0c2lkZVwiO1xuICAgIFR5cGVbXCJub25lXCJdID0gXCJub25lXCI7XG59KShUeXBlID0gZXhwb3J0cy5UeXBlIHx8IChleHBvcnRzLlR5cGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9JbmxpbmVBcnJhbmdlbWVudFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vTW92ZVR5cGVcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1R5cGVcIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRyYXcgPSB2b2lkIDA7XG5jb25zdCBEcmF3U3Ryb2tlXzEgPSByZXF1aXJlKFwiLi9EcmF3U3Ryb2tlXCIpO1xuY29uc3QgT3B0aW9uc0NvbG9yXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vT3B0aW9ucy9DbGFzc2VzL09wdGlvbnNDb2xvclwiKTtcbmNsYXNzIERyYXcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0cm9rZSA9IG5ldyBEcmF3U3Ryb2tlXzEuRHJhd1N0cm9rZSgpO1xuICAgIH1cbiAgICBnZXQgbGluZVdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJva2Uud2lkdGg7XG4gICAgfVxuICAgIHNldCBsaW5lV2lkdGgodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdHJva2Uud2lkdGggPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGxpbmVDb2xvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlLmNvbG9yO1xuICAgIH1cbiAgICBzZXQgbGluZUNvbG9yKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc3Ryb2tlLmNvbG9yID0gT3B0aW9uc0NvbG9yXzEuT3B0aW9uc0NvbG9yLmNyZWF0ZSh0aGlzLnN0cm9rZS5jb2xvciwgdmFsdWUpO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5lbmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZGF0YS5lbmFibGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdHJva2UgPSAoX2EgPSBkYXRhLnN0cm9rZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBkYXRhLmxpbmVDb2xvcixcbiAgICAgICAgICAgICAgICB3aWR0aDogZGF0YS5saW5lV2lkdGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zdHJva2UubG9hZChzdHJva2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5EcmF3ID0gRHJhdztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EcmF3U3Ryb2tlID0gdm9pZCAwO1xuY29uc3QgT3B0aW9uc0NvbG9yXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vT3B0aW9ucy9DbGFzc2VzL09wdGlvbnNDb2xvclwiKTtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vVXRpbHNcIik7XG5jbGFzcyBEcmF3U3Ryb2tlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jb2xvciA9IG5ldyBPcHRpb25zQ29sb3JfMS5PcHRpb25zQ29sb3IoKTtcbiAgICAgICAgdGhpcy53aWR0aCA9IDAuNTtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgbG9hZChkYXRhKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jb2xvciA9IE9wdGlvbnNDb2xvcl8xLk9wdGlvbnNDb2xvci5jcmVhdGUodGhpcy5jb2xvciwgZGF0YS5jb2xvcik7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuY29sb3IudmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSAoX2EgPSAoMCwgVXRpbHNfMS5zdHJpbmdUb0FscGhhKSh0aGlzLmNvbG9yLnZhbHVlKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5vcGFjaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEub3BhY2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gZGF0YS5vcGFjaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEud2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSBkYXRhLndpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5EcmF3U3Ryb2tlID0gRHJhd1N0cm9rZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JbmxpbmUgPSB2b2lkIDA7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uL0VudW1zXCIpO1xuY2xhc3MgSW5saW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hcnJhbmdlbWVudCA9IEVudW1zXzEuSW5saW5lQXJyYW5nZW1lbnQub25lUGVyUG9pbnQ7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5hcnJhbmdlbWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcnJhbmdlbWVudCA9IGRhdGEuYXJyYW5nZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLklubGluZSA9IElubGluZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Mb2NhbFN2ZyA9IHZvaWQgMDtcbmNsYXNzIExvY2FsU3ZnIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wYXRoID0gW107XG4gICAgICAgIHRoaXMuc2l6ZSA9IHtcbiAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGRhdGEucGF0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXRoID0gZGF0YS5wYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEuc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc2l6ZS53aWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZS53aWR0aCA9IGRhdGEuc2l6ZS53aWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc2l6ZS5oZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpemUuaGVpZ2h0ID0gZGF0YS5zaXplLmhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkxvY2FsU3ZnID0gTG9jYWxTdmc7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTW92ZSA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vRW51bXNcIik7XG5jbGFzcyBNb3ZlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSAxMDtcbiAgICAgICAgdGhpcy50eXBlID0gRW51bXNfMS5Nb3ZlVHlwZS5wYXRoO1xuICAgIH1cbiAgICBsb2FkKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGRhdGEucmFkaXVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhZGl1cyA9IGRhdGEucmFkaXVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gZGF0YS50eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Nb3ZlID0gTW92ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb2x5Z29uTWFzayA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vRW51bXNcIik7XG5jb25zdCBEcmF3XzEgPSByZXF1aXJlKFwiLi9EcmF3XCIpO1xuY29uc3QgTW92ZV8xID0gcmVxdWlyZShcIi4vTW92ZVwiKTtcbmNvbnN0IElubGluZV8xID0gcmVxdWlyZShcIi4vSW5saW5lXCIpO1xuY29uc3QgTG9jYWxTdmdfMSA9IHJlcXVpcmUoXCIuL0xvY2FsU3ZnXCIpO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9VdGlsc1wiKTtcbmNsYXNzIFBvbHlnb25NYXNrIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kcmF3ID0gbmV3IERyYXdfMS5EcmF3KCk7XG4gICAgICAgIHRoaXMuZW5hYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5saW5lID0gbmV3IElubGluZV8xLklubGluZSgpO1xuICAgICAgICB0aGlzLm1vdmUgPSBuZXcgTW92ZV8xLk1vdmUoKTtcbiAgICAgICAgdGhpcy5zY2FsZSA9IDE7XG4gICAgICAgIHRoaXMudHlwZSA9IEVudW1zXzEuVHlwZS5ub25lO1xuICAgIH1cbiAgICBnZXQgaW5saW5lQXJyYW5nZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlubGluZS5hcnJhbmdlbWVudDtcbiAgICB9XG4gICAgc2V0IGlubGluZUFycmFuZ2VtZW50KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaW5saW5lLmFycmFuZ2VtZW50ID0gdmFsdWU7XG4gICAgfVxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhdy5sb2FkKGRhdGEuZHJhdyk7XG4gICAgICAgICAgICBjb25zdCBpbmxpbmUgPSAoX2EgPSBkYXRhLmlubGluZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge1xuICAgICAgICAgICAgICAgIGFycmFuZ2VtZW50OiBkYXRhLmlubGluZUFycmFuZ2VtZW50LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChpbmxpbmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lLmxvYWQoaW5saW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubW92ZS5sb2FkKGRhdGEubW92ZSk7XG4gICAgICAgICAgICBpZiAoZGF0YS5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZSA9IGRhdGEuc2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5lbmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gZGF0YS5lbmFibGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZSA9IHRoaXMudHlwZSAhPT0gRW51bXNfMS5UeXBlLm5vbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS51cmwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXJsID0gZGF0YS51cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEuZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgTG9jYWxTdmdfMS5Mb2NhbFN2ZygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEubG9hZChkYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gKDAsIFV0aWxzXzEuZGVlcEV4dGVuZCkoe30sIGRhdGEucG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Qb2x5Z29uTWFzayA9IFBvbHlnb25NYXNrO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbHlnb25NYXNrSW5zdGFuY2UgPSB2b2lkIDA7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4vRW51bXNcIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL1V0aWxzXCIpO1xuY29uc3QgUG9seWdvbk1hc2tfMSA9IHJlcXVpcmUoXCIuL09wdGlvbnMvQ2xhc3Nlcy9Qb2x5Z29uTWFza1wiKTtcbmNvbnN0IEVudW1zXzIgPSByZXF1aXJlKFwiLi4vLi4vRW51bXNcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5jbGFzcyBQb2x5Z29uTWFza0luc3RhbmNlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuZGltZW5zaW9uID0ge1xuICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucGF0aDJEU3VwcG9ydGVkID0gISF3aW5kb3cuUGF0aDJEO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBuZXcgUG9seWdvbk1hc2tfMS5Qb2x5Z29uTWFzaygpO1xuICAgICAgICB0aGlzLnBvbHlnb25NYXNrTW92ZVJhZGl1cyA9IHRoaXMub3B0aW9ucy5tb3ZlLnJhZGl1cyAqIGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbztcbiAgICB9XG4gICAgYXN5bmMgaW5pdEFzeW5jKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmxvYWQob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnBvbHlnb24pO1xuICAgICAgICBjb25zdCBwb2x5Z29uTWFza09wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHRoaXMucG9seWdvbk1hc2tNb3ZlUmFkaXVzID0gcG9seWdvbk1hc2tPcHRpb25zLm1vdmUucmFkaXVzICogdGhpcy5jb250YWluZXIucmV0aW5hLnBpeGVsUmF0aW87XG4gICAgICAgIGlmIChwb2x5Z29uTWFza09wdGlvbnMuZW5hYmxlKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXRSYXdEYXRhKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzaXplKCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKCEob3B0aW9ucy5lbmFibGUgJiYgb3B0aW9ucy50eXBlICE9PSBFbnVtc18xLlR5cGUubm9uZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZWRyYXdUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWRyYXdUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlZHJhd1RpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXRSYXdEYXRhKHRydWUpO1xuICAgICAgICAgICAgY29udGFpbmVyLnBhcnRpY2xlcy5yZWRyYXcoKTtcbiAgICAgICAgfSwgMjUwKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucmF3O1xuICAgICAgICBkZWxldGUgdGhpcy5wYXRocztcbiAgICB9XG4gICAgcGFydGljbGVzSW5pdGlhbGl6YXRpb24oKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpb25zLmVuYWJsZSAmJlxuICAgICAgICAgICAgb3B0aW9ucy50eXBlID09PSBFbnVtc18xLlR5cGUuaW5saW5lICYmXG4gICAgICAgICAgICAob3B0aW9ucy5pbmxpbmUuYXJyYW5nZW1lbnQgPT09IEVudW1zXzEuSW5saW5lQXJyYW5nZW1lbnQub25lUGVyUG9pbnQgfHxcbiAgICAgICAgICAgICAgICBvcHRpb25zLmlubGluZS5hcnJhbmdlbWVudCA9PT0gRW51bXNfMS5JbmxpbmVBcnJhbmdlbWVudC5wZXJQb2ludCkpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd1BvaW50cygpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBwYXJ0aWNsZVBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmICghKG9wdGlvbnMuZW5hYmxlICYmICgoX2IgPSAoX2EgPSB0aGlzLnJhdykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMCkgPiAwKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgVXRpbHNfMS5kZWVwRXh0ZW5kKSh7fSwgcG9zaXRpb24gPyBwb3NpdGlvbiA6IHRoaXMucmFuZG9tUG9pbnQoKSk7XG4gICAgfVxuICAgIHBhcnRpY2xlQm91bmNlKHBhcnRpY2xlLCBkZWx0YSwgZGlyZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvbHlnb25Cb3VuY2UocGFydGljbGUsIGRlbHRhLCBkaXJlY3Rpb24pO1xuICAgIH1cbiAgICBjbGlja1Bvc2l0aW9uVmFsaWQocG9zaXRpb24pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmVuYWJsZSAmJlxuICAgICAgICAgICAgb3B0aW9ucy50eXBlICE9PSBFbnVtc18xLlR5cGUubm9uZSAmJlxuICAgICAgICAgICAgb3B0aW9ucy50eXBlICE9PSBFbnVtc18xLlR5cGUuaW5saW5lICYmXG4gICAgICAgICAgICB0aGlzLmNoZWNrSW5zaWRlUG9seWdvbihwb3NpdGlvbikpO1xuICAgIH1cbiAgICBkcmF3KGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoISgoX2EgPSB0aGlzLnBhdGhzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBvbHlnb25EcmF3ID0gb3B0aW9ucy5kcmF3O1xuICAgICAgICBpZiAoIShvcHRpb25zLmVuYWJsZSAmJiBwb2x5Z29uRHJhdy5lbmFibGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF3RGF0YSA9IHRoaXMucmF3O1xuICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2YgdGhpcy5wYXRocykge1xuICAgICAgICAgICAgY29uc3QgcGF0aDJkID0gcGF0aC5wYXRoMmQ7XG4gICAgICAgICAgICBjb25zdCBwYXRoMmRTdXBwb3J0ZWQgPSB0aGlzLnBhdGgyRFN1cHBvcnRlZDtcbiAgICAgICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhdGgyZFN1cHBvcnRlZCAmJiBwYXRoMmQgJiYgdGhpcy5vZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAoMCwgdXRpbHNfMS5kcmF3UG9seWdvbk1hc2tQYXRoKShjb250ZXh0LCBwYXRoMmQsIHBvbHlnb25EcmF3LnN0cm9rZSwgdGhpcy5vZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmF3RGF0YSkge1xuICAgICAgICAgICAgICAgICgwLCB1dGlsc18xLmRyYXdQb2x5Z29uTWFzaykoY29udGV4dCwgcmF3RGF0YSwgcG9seWdvbkRyYXcuc3Ryb2tlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwb2x5Z29uQm91bmNlKHBhcnRpY2xlLCBfZGVsdGEsIGRpcmVjdGlvbikge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAoIXRoaXMucmF3IHx8ICFvcHRpb25zLmVuYWJsZSB8fCBkaXJlY3Rpb24gIT09IEVudW1zXzIuT3V0TW9kZURpcmVjdGlvbi50b3ApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy50eXBlID09PSBFbnVtc18xLlR5cGUuaW5zaWRlIHx8IG9wdGlvbnMudHlwZSA9PT0gRW51bXNfMS5UeXBlLm91dHNpZGUpIHtcbiAgICAgICAgICAgIGxldCBjbG9zZXN0LCBkeCwgZHk7XG4gICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJ0aWNsZS5nZXRQb3NpdGlvbigpLCByYWRpdXMgPSBwYXJ0aWNsZS5nZXRSYWRpdXMoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5yYXcubGVuZ3RoIC0gMTsgaSA8IHRoaXMucmF3Lmxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBpID0gdGhpcy5yYXdbaV0sIHBqID0gdGhpcy5yYXdbal07XG4gICAgICAgICAgICAgICAgY2xvc2VzdCA9ICgwLCB1dGlsc18xLmNhbGNDbG9zZXN0UHRPblNlZ21lbnQpKHBpLCBwaiwgcG9zKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gKDAsIFV0aWxzXzEuZ2V0RGlzdGFuY2VzKShwb3MsIGNsb3Nlc3QpO1xuICAgICAgICAgICAgICAgIFtkeCwgZHldID0gW2Rpc3QuZHgsIGRpc3QuZHldO1xuICAgICAgICAgICAgICAgIGlmIChkaXN0LmRpc3RhbmNlIDwgcmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCB1dGlsc18xLnNlZ21lbnRCb3VuY2UpKHBpLCBwaiwgcGFydGljbGUudmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2xvc2VzdCAmJiBkeCAhPT0gdW5kZWZpbmVkICYmIGR5ICE9PSB1bmRlZmluZWQgJiYgIXRoaXMuY2hlY2tJbnNpZGVQb2x5Z29uKHBvcykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmYWN0b3IgPSB7IHg6IDEsIHk6IDEgfTtcbiAgICAgICAgICAgICAgICBpZiAocGFydGljbGUucG9zaXRpb24ueCA+PSBjbG9zZXN0LngpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjdG9yLnggPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRpY2xlLnBvc2l0aW9uLnkgPj0gY2xvc2VzdC55KSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY3Rvci55ID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnggPSBjbG9zZXN0LnggKyByYWRpdXMgKiAyICogZmFjdG9yLng7XG4gICAgICAgICAgICAgICAgcGFydGljbGUucG9zaXRpb24ueSA9IGNsb3Nlc3QueSArIHJhZGl1cyAqIDIgKiBmYWN0b3IueTtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS52ZWxvY2l0eS5tdWx0KC0xKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLnR5cGUgPT09IEVudW1zXzEuVHlwZS5pbmxpbmUgJiYgcGFydGljbGUuaW5pdGlhbFBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0ID0gKDAsIFV0aWxzXzEuZ2V0RGlzdGFuY2UpKHBhcnRpY2xlLmluaXRpYWxQb3NpdGlvbiwgcGFydGljbGUuZ2V0UG9zaXRpb24oKSk7XG4gICAgICAgICAgICBpZiAoZGlzdCA+IHRoaXMucG9seWdvbk1hc2tNb3ZlUmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgcGFydGljbGUudmVsb2NpdHkueCA9IHBhcnRpY2xlLnZlbG9jaXR5LnkgLyAyIC0gcGFydGljbGUudmVsb2NpdHkueDtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS52ZWxvY2l0eS55ID0gcGFydGljbGUudmVsb2NpdHkueCAvIDIgLSBwYXJ0aWNsZS52ZWxvY2l0eS55O1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY2hlY2tJbnNpZGVQb2x5Z29uKHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAoIW9wdGlvbnMuZW5hYmxlIHx8IG9wdGlvbnMudHlwZSA9PT0gRW51bXNfMS5UeXBlLm5vbmUgfHwgb3B0aW9ucy50eXBlID09PSBFbnVtc18xLlR5cGUuaW5saW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMucmF3KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoVXRpbHNfMS5Db25zdGFudHMubm9Qb2x5Z29uRm91bmQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbnZhc1NpemUgPSBjb250YWluZXIuY2FudmFzLnNpemU7XG4gICAgICAgIGNvbnN0IHggPSAoX2EgPSBwb3NpdGlvbiA9PT0gbnVsbCB8fCBwb3NpdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9zaXRpb24ueCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogTWF0aC5yYW5kb20oKSAqIGNhbnZhc1NpemUud2lkdGg7XG4gICAgICAgIGNvbnN0IHkgPSAoX2IgPSBwb3NpdGlvbiA9PT0gbnVsbCB8fCBwb3NpdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9zaXRpb24ueSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogTWF0aC5yYW5kb20oKSAqIGNhbnZhc1NpemUuaGVpZ2h0O1xuICAgICAgICBsZXQgaW5zaWRlID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5yYXcubGVuZ3RoIC0gMTsgaSA8IHRoaXMucmF3Lmxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGkgPSB0aGlzLnJhd1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBqID0gdGhpcy5yYXdbal07XG4gICAgICAgICAgICBjb25zdCBpbnRlcnNlY3QgPSBwaS55ID4geSAhPT0gcGoueSA+IHkgJiYgeCA8ICgocGoueCAtIHBpLngpICogKHkgLSBwaS55KSkgLyAocGoueSAtIHBpLnkpICsgcGkueDtcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRpb25zLnR5cGUgPT09IEVudW1zXzEuVHlwZS5pbnNpZGUgPyBpbnNpZGUgOiBvcHRpb25zLnR5cGUgPT09IEVudW1zXzEuVHlwZS5vdXRzaWRlID8gIWluc2lkZSA6IGZhbHNlO1xuICAgIH1cbiAgICBwYXJzZVN2Z1BhdGgoeG1sLCBmb3JjZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgY29uc3QgZm9yY2VEb3dubG9hZCA9IGZvcmNlICE9PSBudWxsICYmIGZvcmNlICE9PSB2b2lkIDAgPyBmb3JjZSA6IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5wYXRocyAhPT0gdW5kZWZpbmVkICYmICFmb3JjZURvd25sb2FkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yYXc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgY29uc3QgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh4bWwsIFwiaW1hZ2Uvc3ZnK3htbFwiKTtcbiAgICAgICAgY29uc3Qgc3ZnID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3ZnXCIpWzBdO1xuICAgICAgICBsZXQgc3ZnUGF0aHMgPSBzdmcuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXRoXCIpO1xuICAgICAgICBpZiAoIXN2Z1BhdGhzLmxlbmd0aCkge1xuICAgICAgICAgICAgc3ZnUGF0aHMgPSBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXRoXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGF0aHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdmdQYXRocy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IHN2Z1BhdGhzLml0ZW0oaSk7XG4gICAgICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGF0aHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogcGF0aC5nZXRUb3RhbExlbmd0aCgpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB4UmF0aW8gPSBjb250YWluZXIucmV0aW5hLnBpeGVsUmF0aW87XG4gICAgICAgIGNvbnN0IHNjYWxlID0gb3B0aW9ucy5zY2FsZSAvIHB4UmF0aW87XG4gICAgICAgIHRoaXMuZGltZW5zaW9uLndpZHRoID0gcGFyc2VGbG9hdCgoX2EgPSBzdmcuZ2V0QXR0cmlidXRlKFwid2lkdGhcIikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFwiMFwiKSAqIHNjYWxlO1xuICAgICAgICB0aGlzLmRpbWVuc2lvbi5oZWlnaHQgPSBwYXJzZUZsb2F0KChfYiA9IHN2Zy5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIikpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFwiMFwiKSAqIHNjYWxlO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IChfYyA9IG9wdGlvbnMucG9zaXRpb24pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHtcbiAgICAgICAgICAgIHg6IDUwLFxuICAgICAgICAgICAgeTogNTAsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub2Zmc2V0ID0ge1xuICAgICAgICAgICAgeDogKGNvbnRhaW5lci5jYW52YXMuc2l6ZS53aWR0aCAqIHBvc2l0aW9uLngpIC8gKDEwMCAqIHB4UmF0aW8pIC0gdGhpcy5kaW1lbnNpb24ud2lkdGggLyAyLFxuICAgICAgICAgICAgeTogKGNvbnRhaW5lci5jYW52YXMuc2l6ZS5oZWlnaHQgKiBwb3NpdGlvbi55KSAvICgxMDAgKiBweFJhdGlvKSAtIHRoaXMuZGltZW5zaW9uLmhlaWdodCAvIDIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAoMCwgdXRpbHNfMS5wYXJzZVBhdGhzKSh0aGlzLnBhdGhzLCBzY2FsZSwgdGhpcy5vZmZzZXQpO1xuICAgIH1cbiAgICBhc3luYyBkb3dubG9hZFN2Z1BhdGgoc3ZnVXJsLCBmb3JjZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB1cmwgPSBzdmdVcmwgfHwgb3B0aW9ucy51cmw7XG4gICAgICAgIGNvbnN0IGZvcmNlRG93bmxvYWQgPSBmb3JjZSAhPT0gbnVsbCAmJiBmb3JjZSAhPT0gdm9pZCAwID8gZm9yY2UgOiBmYWxzZTtcbiAgICAgICAgaWYgKCF1cmwgfHwgKHRoaXMucGF0aHMgIT09IHVuZGVmaW5lZCAmJiAhZm9yY2VEb3dubG9hZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJhdztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXEgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgICAgICBpZiAoIXJlcS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHNQYXJ0aWNsZXMgRXJyb3IgLSBFcnJvciBvY2N1cnJlZCBkdXJpbmcgcG9seWdvbiBtYXNrIGRvd25sb2FkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlU3ZnUGF0aChhd2FpdCByZXEudGV4dCgpLCBmb3JjZSk7XG4gICAgfVxuICAgIGRyYXdQb2ludHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5yYXcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5yYXcpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnBhcnRpY2xlcy5hZGRQYXJ0aWNsZSh7XG4gICAgICAgICAgICAgICAgeDogaXRlbS54LFxuICAgICAgICAgICAgICAgIHk6IGl0ZW0ueSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJhbmRvbVBvaW50KCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgbGV0IHBvc2l0aW9uO1xuICAgICAgICBpZiAob3B0aW9ucy50eXBlID09PSBFbnVtc18xLlR5cGUuaW5saW5lKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wdGlvbnMuaW5saW5lLmFycmFuZ2VtZW50KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBFbnVtc18xLklubGluZUFycmFuZ2VtZW50LnJhbmRvbVBvaW50OlxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMuZ2V0UmFuZG9tUG9pbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFbnVtc18xLklubGluZUFycmFuZ2VtZW50LnJhbmRvbUxlbmd0aDpcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLmdldFJhbmRvbVBvaW50QnlMZW5ndGgoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFbnVtc18xLklubGluZUFycmFuZ2VtZW50LmVxdWlkaXN0YW50OlxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMuZ2V0RXF1aWRpc3RhbnRQb2ludEJ5SW5kZXgoY29udGFpbmVyLnBhcnRpY2xlcy5jb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRW51bXNfMS5JbmxpbmVBcnJhbmdlbWVudC5vbmVQZXJQb2ludDpcbiAgICAgICAgICAgICAgICBjYXNlIEVudW1zXzEuSW5saW5lQXJyYW5nZW1lbnQucGVyUG9pbnQ6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLmdldFBvaW50QnlJbmRleChjb250YWluZXIucGFydGljbGVzLmNvdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBjb250YWluZXIuY2FudmFzLnNpemUud2lkdGgsXG4gICAgICAgICAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIGNvbnRhaW5lci5jYW52YXMuc2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoZWNrSW5zaWRlUG9seWdvbihwb3NpdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJhbmRvbVBvaW50KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UmFuZG9tUG9pbnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5yYXcgfHwgIXRoaXMucmF3Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFV0aWxzXzEuQ29uc3RhbnRzLm5vUG9seWdvbkRhdGFMb2FkZWQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9ICgwLCBVdGlsc18xLml0ZW1Gcm9tQXJyYXkpKHRoaXMucmF3KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGNvb3Jkcy54LFxuICAgICAgICAgICAgeTogY29vcmRzLnksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldFJhbmRvbVBvaW50QnlMZW5ndGgoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAoIXRoaXMucmF3IHx8ICF0aGlzLnJhdy5sZW5ndGggfHwgISgoX2EgPSB0aGlzLnBhdGhzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFV0aWxzXzEuQ29uc3RhbnRzLm5vUG9seWdvbkRhdGFMb2FkZWQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhdGggPSAoMCwgVXRpbHNfMS5pdGVtRnJvbUFycmF5KSh0aGlzLnBhdGhzKTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwYXRoLmxlbmd0aCkgKyAxO1xuICAgICAgICBjb25zdCBwb2ludCA9IHBhdGguZWxlbWVudC5nZXRQb2ludEF0TGVuZ3RoKGRpc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHBvaW50LnggKiBvcHRpb25zLnNjYWxlICsgKCgoX2IgPSB0aGlzLm9mZnNldCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLngpIHx8IDApLFxuICAgICAgICAgICAgeTogcG9pbnQueSAqIG9wdGlvbnMuc2NhbGUgKyAoKChfYyA9IHRoaXMub2Zmc2V0KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MueSkgfHwgMCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldEVxdWlkaXN0YW50UG9pbnRCeUluZGV4KGluZGV4KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZztcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuY29udGFpbmVyLmFjdHVhbE9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBvbHlnb25NYXNrT3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKCF0aGlzLnJhdyB8fCAhdGhpcy5yYXcubGVuZ3RoIHx8ICEoKF9hID0gdGhpcy5wYXRocykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoVXRpbHNfMS5Db25zdGFudHMubm9Qb2x5Z29uRGF0YUxvYWRlZCk7XG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICBsZXQgcG9pbnQ7XG4gICAgICAgIGNvbnN0IHRvdGFsTGVuZ3RoID0gdGhpcy5wYXRocy5yZWR1Y2UoKHRvdCwgcGF0aCkgPT4gdG90ICsgcGF0aC5sZW5ndGgsIDApO1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHRvdGFsTGVuZ3RoIC8gb3B0aW9ucy5wYXJ0aWNsZXMubnVtYmVyLnZhbHVlO1xuICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2YgdGhpcy5wYXRocykge1xuICAgICAgICAgICAgY29uc3QgcGF0aERpc3RhbmNlID0gZGlzdGFuY2UgKiBpbmRleCAtIG9mZnNldDtcbiAgICAgICAgICAgIGlmIChwYXRoRGlzdGFuY2UgPD0gcGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBwb2ludCA9IHBhdGguZWxlbWVudC5nZXRQb2ludEF0TGVuZ3RoKHBhdGhEaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gcGF0aC5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6ICgoX2IgPSBwb2ludCA9PT0gbnVsbCB8fCBwb2ludCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9pbnQueCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMCkgKiBwb2x5Z29uTWFza09wdGlvbnMuc2NhbGUgKyAoKF9kID0gKF9jID0gdGhpcy5vZmZzZXQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy54KSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAwKSxcbiAgICAgICAgICAgIHk6ICgoX2UgPSBwb2ludCA9PT0gbnVsbCB8fCBwb2ludCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9pbnQueSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogMCkgKiBwb2x5Z29uTWFza09wdGlvbnMuc2NhbGUgKyAoKF9nID0gKF9mID0gdGhpcy5vZmZzZXQpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi55KSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiAwKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0UG9pbnRCeUluZGV4KGluZGV4KSB7XG4gICAgICAgIGlmICghdGhpcy5yYXcgfHwgIXRoaXMucmF3Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFV0aWxzXzEuQ29uc3RhbnRzLm5vUG9seWdvbkRhdGFMb2FkZWQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMucmF3W2luZGV4ICUgdGhpcy5yYXcubGVuZ3RoXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGNvb3Jkcy54LFxuICAgICAgICAgICAgeTogY29vcmRzLnksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNyZWF0ZVBhdGgyRCgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKCF0aGlzLnBhdGgyRFN1cHBvcnRlZCB8fCAhKChfYSA9IHRoaXMucGF0aHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIHRoaXMucGF0aHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhEYXRhID0gKF9iID0gcGF0aC5lbGVtZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0QXR0cmlidXRlKFwiZFwiKTtcbiAgICAgICAgICAgIGlmIChwYXRoRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGgyZCA9IG5ldyBQYXRoMkQocGF0aERhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpLmNyZWF0ZVNWR01hdHJpeCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsUGF0aCA9IG5ldyBQYXRoMkQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBtYXRyaXguc2NhbGUob3B0aW9ucy5zY2FsZSk7XG4gICAgICAgICAgICAgICAgaWYgKGZpbmFsUGF0aC5hZGRQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsUGF0aC5hZGRQYXRoKHBhdGgyZCwgdHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5wYXRoMmQgPSBmaW5hbFBhdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcGF0aC5wYXRoMmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhdGgucGF0aDJkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhdGgucGF0aDJkIHx8ICF0aGlzLnJhdykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF0aC5wYXRoMmQgPSBuZXcgUGF0aDJEKCk7XG4gICAgICAgICAgICBwYXRoLnBhdGgyZC5tb3ZlVG8odGhpcy5yYXdbMF0ueCwgdGhpcy5yYXdbMF0ueSk7XG4gICAgICAgICAgICB0aGlzLnJhdy5mb3JFYWNoKChwb3MsIGkpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHBhdGgucGF0aDJkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGluZVRvKHBvcy54LCBwb3MueSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYXRoLnBhdGgyZC5jbG9zZVBhdGgoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBpbml0UmF3RGF0YShmb3JjZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAob3B0aW9ucy51cmwpIHtcbiAgICAgICAgICAgIHRoaXMucmF3ID0gYXdhaXQgdGhpcy5kb3dubG9hZFN2Z1BhdGgob3B0aW9ucy51cmwsIGZvcmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLmRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBvcHRpb25zLmRhdGE7XG4gICAgICAgICAgICBsZXQgc3ZnO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGRhdGEucGF0aCBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgICAgICAgICAgICAgID8gZGF0YS5wYXRoLm1hcCgodCkgPT4gYDxwYXRoIGQ9XCIke3R9XCIgLz5gKS5qb2luKFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIDogYDxwYXRoIGQ9XCIke2RhdGEucGF0aH1cIiAvPmA7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlcyA9ICd4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCInO1xuICAgICAgICAgICAgICAgIHN2ZyA9IGA8c3ZnICR7bmFtZXNwYWNlc30gd2lkdGg9XCIke2RhdGEuc2l6ZS53aWR0aH1cIiBoZWlnaHQ9XCIke2RhdGEuc2l6ZS5oZWlnaHR9XCI+JHtwYXRofTwvc3ZnPmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdmcgPSBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yYXcgPSB0aGlzLnBhcnNlU3ZnUGF0aChzdmcsIGZvcmNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNyZWF0ZVBhdGgyRCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuUG9seWdvbk1hc2tJbnN0YW5jZSA9IFBvbHlnb25NYXNrSW5zdGFuY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbiAoKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghKFwiU1ZHUGF0aFNlZ1wiIGluIHdpbmRvdykpIHtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnID0gZnVuY3Rpb24gKHR5cGUsIHR5cGVBc0xldHRlciwgb3duaW5nUGF0aFNlZ0xpc3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGhTZWdUeXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIgPSB0eXBlQXNMZXR0ZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3duaW5nUGF0aFNlZ0xpc3QgPSBvd25pbmdQYXRoU2VnTGlzdDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZy5wcm90b3R5cGUuY2xhc3NuYW1lID0gXCJTVkdQYXRoU2VnXCI7XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX1VOS05PV04gPSAwO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DTE9TRVBBVEggPSAxO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fQUJTID0gMjtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfTU9WRVRPX1JFTCA9IDM7XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19BQlMgPSA0O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fUkVMID0gNTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19BQlMgPSA2O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1JFTCA9IDc7XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX0FCUyA9IDg7XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1JFTCA9IDk7XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0FSQ19BQlMgPSAxMDtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQVJDX1JFTCA9IDExO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fSE9SSVpPTlRBTF9BQlMgPSAxMjtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX0hPUklaT05UQUxfUkVMID0gMTM7XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19WRVJUSUNBTF9BQlMgPSAxNDtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1ZFUlRJQ0FMX1JFTCA9IDE1O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9BQlMgPSAxNjtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19TTU9PVEhfUkVMID0gMTc7XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1NNT09USF9BQlMgPSAxODtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfU01PT1RIX1JFTCA9IDE5O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWcucHJvdG90eXBlLl9zZWdtZW50Q2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb3duaW5nUGF0aFNlZ0xpc3QpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX293bmluZ1BhdGhTZWdMaXN0LnNlZ21lbnRDaGFuZ2VkKHRoaXMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ2xvc2VQYXRoID0gZnVuY3Rpb24gKG93bmluZ1BhdGhTZWdMaXN0KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWcuY2FsbCh0aGlzLCB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0NMT1NFUEFUSCwgXCJ6XCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0Nsb3NlUGF0aC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHdpbmRvdy5TVkdQYXRoU2VnLnByb3RvdHlwZSk7XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0Nsb3NlUGF0aC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiW29iamVjdCBTVkdQYXRoU2VnQ2xvc2VQYXRoXVwiO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ2xvc2VQYXRoLnByb3RvdHlwZS5fYXNQYXRoU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXI7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDbG9zZVBhdGgucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdDbG9zZVBhdGgodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ01vdmV0b0FicyA9IGZ1bmN0aW9uIChvd25pbmdQYXRoU2VnTGlzdCwgeCwgeSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLmNhbGwodGhpcywgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fQUJTLCBcIk1cIiwgb3duaW5nUGF0aFNlZ0xpc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTW92ZXRvQWJzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUod2luZG93LlNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTW92ZXRvQWJzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdNb3ZldG9BYnNdXCI7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdNb3ZldG9BYnMucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArIFwiIFwiICsgdGhpcy5feCArIFwiIFwiICsgdGhpcy5feTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ01vdmV0b0Ficy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ01vdmV0b0Ficyh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3kpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ01vdmV0b0Ficy5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ01vdmV0b0Ficy5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTW92ZXRvUmVsID0gZnVuY3Rpb24gKG93bmluZ1BhdGhTZWdMaXN0LCB4LCB5KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWcuY2FsbCh0aGlzLCB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX01PVkVUT19SRUwsIFwibVwiLCBvd25pbmdQYXRoU2VnTGlzdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdNb3ZldG9SZWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh3aW5kb3cuU1ZHUGF0aFNlZy5wcm90b3R5cGUpO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdNb3ZldG9SZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIltvYmplY3QgU1ZHUGF0aFNlZ01vdmV0b1JlbF1cIjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ01vdmV0b1JlbC5wcm90b3R5cGUuX2FzUGF0aFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyICsgXCIgXCIgKyB0aGlzLl94ICsgXCIgXCIgKyB0aGlzLl95O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTW92ZXRvUmVsLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnTW92ZXRvUmVsKHVuZGVmaW5lZCwgdGhpcy5feCwgdGhpcy5feSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoU2VnTW92ZXRvUmVsLnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoU2VnTW92ZXRvUmVsLnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9BYnMgPSBmdW5jdGlvbiAob3duaW5nUGF0aFNlZ0xpc3QsIHgsIHkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZy5jYWxsKHRoaXMsIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX0FCUywgXCJMXCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b0Ficy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHdpbmRvdy5TVkdQYXRoU2VnLnByb3RvdHlwZSk7XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b0Ficy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiW29iamVjdCBTVkdQYXRoU2VnTGluZXRvQWJzXVwiO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvQWJzLnByb3RvdHlwZS5fYXNQYXRoU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIgKyBcIiBcIiArIHRoaXMuX3ggKyBcIiBcIiArIHRoaXMuX3k7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9BYnMucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9BYnModW5kZWZpbmVkLCB0aGlzLl94LCB0aGlzLl95KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdMaW5ldG9BYnMucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdMaW5ldG9BYnMucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b1JlbCA9IGZ1bmN0aW9uIChvd25pbmdQYXRoU2VnTGlzdCwgeCwgeSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLmNhbGwodGhpcywgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fUkVMLCBcImxcIiwgb3duaW5nUGF0aFNlZ0xpc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvUmVsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUod2luZG93LlNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvUmVsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdMaW5ldG9SZWxdXCI7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9SZWwucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArIFwiIFwiICsgdGhpcy5feCArIFwiIFwiICsgdGhpcy5feTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b1JlbC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b1JlbCh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3kpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b1JlbC5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b1JlbC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzID0gZnVuY3Rpb24gKG93bmluZ1BhdGhTZWdMaXN0LCB4LCB5LCB4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLmNhbGwodGhpcywgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX0FCUywgXCJDXCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgICAgICB0aGlzLl94MSA9IHgxO1xuICAgICAgICAgICAgICAgIHRoaXMuX3kxID0geTE7XG4gICAgICAgICAgICAgICAgdGhpcy5feDIgPSB4MjtcbiAgICAgICAgICAgICAgICB0aGlzLl95MiA9IHkyO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUod2luZG93LlNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnNdXCI7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIgK1xuICAgICAgICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3gxICtcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95MSArXG4gICAgICAgICAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feDIgK1xuICAgICAgICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3kyICtcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl94ICtcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficyh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3gxLCB0aGlzLl95MSwgdGhpcy5feDIsIHRoaXMuX3kyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMucHJvdG90eXBlLCBcIngxXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3gxO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feDEgPSB4MTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficy5wcm90b3R5cGUsIFwieTFcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feTE7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5MSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95MSA9IHkxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzLnByb3RvdHlwZSwgXCJ4MlwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl94MjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHgyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3gyID0geDI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMucHJvdG90eXBlLCBcInkyXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3kyO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeTIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feTIgPSB5MjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsID0gZnVuY3Rpb24gKG93bmluZ1BhdGhTZWdMaXN0LCB4LCB5LCB4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLmNhbGwodGhpcywgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1JFTCwgXCJjXCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgICAgICB0aGlzLl94MSA9IHgxO1xuICAgICAgICAgICAgICAgIHRoaXMuX3kxID0geTE7XG4gICAgICAgICAgICAgICAgdGhpcy5feDIgPSB4MjtcbiAgICAgICAgICAgICAgICB0aGlzLl95MiA9IHkyO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUod2luZG93LlNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWxdXCI7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIgK1xuICAgICAgICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3gxICtcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95MSArXG4gICAgICAgICAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feDIgK1xuICAgICAgICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3kyICtcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl94ICtcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbCh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3gxLCB0aGlzLl95MSwgdGhpcy5feDIsIHRoaXMuX3kyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwucHJvdG90eXBlLCBcIngxXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3gxO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feDEgPSB4MTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbC5wcm90b3R5cGUsIFwieTFcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feTE7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5MSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95MSA9IHkxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsLnByb3RvdHlwZSwgXCJ4MlwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl94MjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHgyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3gyID0geDI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwucHJvdG90eXBlLCBcInkyXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3kyO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeTIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feTIgPSB5MjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0FicyA9IGZ1bmN0aW9uIChvd25pbmdQYXRoU2VnTGlzdCwgeCwgeSwgeDEsIHkxKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWcuY2FsbCh0aGlzLCB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX0FCUywgXCJRXCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgICAgICB0aGlzLl94MSA9IHgxO1xuICAgICAgICAgICAgICAgIHRoaXMuX3kxID0geTE7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUod2luZG93LlNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0Ficy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiW29iamVjdCBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0Fic11cIjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArIFwiIFwiICsgdGhpcy5feDEgKyBcIiBcIiArIHRoaXMuX3kxICsgXCIgXCIgKyB0aGlzLl94ICsgXCIgXCIgKyB0aGlzLl95O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0Ficy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnModW5kZWZpbmVkLCB0aGlzLl94LCB0aGlzLl95LCB0aGlzLl94MSwgdGhpcy5feTEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzLnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0Ficy5wcm90b3R5cGUsIFwieDFcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feDE7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh4MSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl94MSA9IHgxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0Ficy5wcm90b3R5cGUsIFwieTFcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feTE7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5MSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95MSA9IHkxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsID0gZnVuY3Rpb24gKG93bmluZ1BhdGhTZWdMaXN0LCB4LCB5LCB4MSwgeTEpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZy5jYWxsKHRoaXMsIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfUkVMLCBcInFcIiwgb3duaW5nUGF0aFNlZ0xpc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgICAgIHRoaXMuX3gxID0geDE7XG4gICAgICAgICAgICAgICAgdGhpcy5feTEgPSB5MTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh3aW5kb3cuU1ZHUGF0aFNlZy5wcm90b3R5cGUpO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsXVwiO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1JlbC5wcm90b3R5cGUuX2FzUGF0aFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyICsgXCIgXCIgKyB0aGlzLl94MSArIFwiIFwiICsgdGhpcy5feTEgKyBcIiBcIiArIHRoaXMuX3ggKyBcIiBcIiArIHRoaXMuX3k7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1JlbCh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3gxLCB0aGlzLl95MSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1JlbC5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWwucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsLnByb3RvdHlwZSwgXCJ4MVwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl94MTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHgxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3gxID0geDE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsLnByb3RvdHlwZSwgXCJ5MVwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl95MTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHkxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3kxID0geTE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0FyY0FicyA9IGZ1bmN0aW9uIChvd25pbmdQYXRoU2VnTGlzdCwgeCwgeSwgcjEsIHIyLCBhbmdsZSwgbGFyZ2VBcmNGbGFnLCBzd2VlcEZsYWcpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZy5jYWxsKHRoaXMsIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQVJDX0FCUywgXCJBXCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yMSA9IHIxO1xuICAgICAgICAgICAgICAgIHRoaXMuX3IyID0gcjI7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5nbGUgPSBhbmdsZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXJnZUFyY0ZsYWcgPSBsYXJnZUFyY0ZsYWc7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3dlZXBGbGFnID0gc3dlZXBGbGFnO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQXJjQWJzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUod2luZG93LlNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQXJjQWJzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdBcmNBYnNdXCI7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdBcmNBYnMucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIgK1xuICAgICAgICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3IxICtcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yMiArXG4gICAgICAgICAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5nbGUgK1xuICAgICAgICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLl9sYXJnZUFyY0ZsYWcgPyBcIjFcIiA6IFwiMFwiKSArXG4gICAgICAgICAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuX3N3ZWVwRmxhZyA/IFwiMVwiIDogXCIwXCIpICtcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl94ICtcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0FyY0Ficy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0FyY0Ficyh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3IxLCB0aGlzLl9yMiwgdGhpcy5fYW5nbGUsIHRoaXMuX2xhcmdlQXJjRmxhZywgdGhpcy5fc3dlZXBGbGFnKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdBcmNBYnMucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdBcmNBYnMucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdBcmNBYnMucHJvdG90eXBlLCBcInIxXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3IxO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocjEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcjEgPSByMTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0FyY0Ficy5wcm90b3R5cGUsIFwicjJcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcjI7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChyMikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yMiA9IHIyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoU2VnQXJjQWJzLnByb3RvdHlwZSwgXCJhbmdsZVwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmdsZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FuZ2xlID0gYW5nbGU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdBcmNBYnMucHJvdG90eXBlLCBcImxhcmdlQXJjRmxhZ1wiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9sYXJnZUFyY0ZsYWc7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsYXJnZUFyY0ZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFyZ2VBcmNGbGFnID0gbGFyZ2VBcmNGbGFnO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoU2VnQXJjQWJzLnByb3RvdHlwZSwgXCJzd2VlcEZsYWdcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3dlZXBGbGFnO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3dlZXBGbGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N3ZWVwRmxhZyA9IHN3ZWVwRmxhZztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQXJjUmVsID0gZnVuY3Rpb24gKG93bmluZ1BhdGhTZWdMaXN0LCB4LCB5LCByMSwgcjIsIGFuZ2xlLCBsYXJnZUFyY0ZsYWcsIHN3ZWVwRmxhZykge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLmNhbGwodGhpcywgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19BUkNfUkVMLCBcImFcIiwgb3duaW5nUGF0aFNlZ0xpc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgICAgIHRoaXMuX3IxID0gcjE7XG4gICAgICAgICAgICAgICAgdGhpcy5fcjIgPSByMjtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmdsZSA9IGFuZ2xlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhcmdlQXJjRmxhZyA9IGxhcmdlQXJjRmxhZztcbiAgICAgICAgICAgICAgICB0aGlzLl9zd2VlcEZsYWcgPSBzd2VlcEZsYWc7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdBcmNSZWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh3aW5kb3cuU1ZHUGF0aFNlZy5wcm90b3R5cGUpO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdBcmNSZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIltvYmplY3QgU1ZHUGF0aFNlZ0FyY1JlbF1cIjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0FyY1JlbC5wcm90b3R5cGUuX2FzUGF0aFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArXG4gICAgICAgICAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcjEgK1xuICAgICAgICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3IyICtcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbmdsZSArXG4gICAgICAgICAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuX2xhcmdlQXJjRmxhZyA/IFwiMVwiIDogXCIwXCIpICtcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICAodGhpcy5fc3dlZXBGbGFnID8gXCIxXCIgOiBcIjBcIikgK1xuICAgICAgICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ggK1xuICAgICAgICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3kpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQXJjUmVsLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnQXJjUmVsKHVuZGVmaW5lZCwgdGhpcy5feCwgdGhpcy5feSwgdGhpcy5fcjEsIHRoaXMuX3IyLCB0aGlzLl9hbmdsZSwgdGhpcy5fbGFyZ2VBcmNGbGFnLCB0aGlzLl9zd2VlcEZsYWcpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0FyY1JlbC5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0FyY1JlbC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0FyY1JlbC5wcm90b3R5cGUsIFwicjFcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcjE7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChyMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yMSA9IHIxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoU2VnQXJjUmVsLnByb3RvdHlwZSwgXCJyMlwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yMjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHIyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3IyID0gcjI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdBcmNSZWwucHJvdG90eXBlLCBcImFuZ2xlXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuZ2xlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5nbGUgPSBhbmdsZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0FyY1JlbC5wcm90b3R5cGUsIFwibGFyZ2VBcmNGbGFnXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xhcmdlQXJjRmxhZztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGxhcmdlQXJjRmxhZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXJnZUFyY0ZsYWcgPSBsYXJnZUFyY0ZsYWc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdBcmNSZWwucHJvdG90eXBlLCBcInN3ZWVwRmxhZ1wiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zd2VlcEZsYWc7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzd2VlcEZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3dlZXBGbGFnID0gc3dlZXBGbGFnO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzID0gZnVuY3Rpb24gKG93bmluZ1BhdGhTZWdMaXN0LCB4KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWcuY2FsbCh0aGlzLCB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19IT1JJWk9OVEFMX0FCUywgXCJIXCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxBYnMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh3aW5kb3cuU1ZHUGF0aFNlZy5wcm90b3R5cGUpO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzXVwiO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicy5wcm90b3R5cGUuX2FzUGF0aFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyICsgXCIgXCIgKyB0aGlzLl94O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxBYnModW5kZWZpbmVkLCB0aGlzLl94KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzLnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsID0gZnVuY3Rpb24gKG93bmluZ1BhdGhTZWdMaXN0LCB4KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWcuY2FsbCh0aGlzLCB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19IT1JJWk9OVEFMX1JFTCwgXCJoXCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxSZWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh3aW5kb3cuU1ZHUGF0aFNlZy5wcm90b3R5cGUpO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsXVwiO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbFJlbC5wcm90b3R5cGUuX2FzUGF0aFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyICsgXCIgXCIgKyB0aGlzLl94O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbFJlbC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxSZWwodW5kZWZpbmVkLCB0aGlzLl94KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsLnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFicyA9IGZ1bmN0aW9uIChvd25pbmdQYXRoU2VnTGlzdCwgeSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLmNhbGwodGhpcywgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fVkVSVElDQUxfQUJTLCBcIlZcIiwgb3duaW5nUGF0aFNlZ0xpc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh3aW5kb3cuU1ZHUGF0aFNlZy5wcm90b3R5cGUpO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFicy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiW29iamVjdCBTVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnNdXCI7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFicy5wcm90b3R5cGUuX2FzUGF0aFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyICsgXCIgXCIgKyB0aGlzLl95O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnMucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFicyh1bmRlZmluZWQsIHRoaXMuX3kpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsQWJzLnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbCA9IGZ1bmN0aW9uIChvd25pbmdQYXRoU2VnTGlzdCwgeSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLmNhbGwodGhpcywgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fVkVSVElDQUxfUkVMLCBcInZcIiwgb3duaW5nUGF0aFNlZ0xpc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvVmVydGljYWxSZWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh3aW5kb3cuU1ZHUGF0aFNlZy5wcm90b3R5cGUpO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiW29iamVjdCBTVkdQYXRoU2VnTGluZXRvVmVydGljYWxSZWxdXCI7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbC5wcm90b3R5cGUuX2FzUGF0aFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyICsgXCIgXCIgKyB0aGlzLl95O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvVmVydGljYWxSZWwucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbCh1bmRlZmluZWQsIHRoaXMuX3kpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsUmVsLnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnMgPSBmdW5jdGlvbiAob3duaW5nUGF0aFNlZ0xpc3QsIHgsIHksIHgyLCB5Mikge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLmNhbGwodGhpcywgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9BQlMsIFwiU1wiLCBvd25pbmdQYXRoU2VnTGlzdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICAgICAgdGhpcy5feDIgPSB4MjtcbiAgICAgICAgICAgICAgICB0aGlzLl95MiA9IHkyO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUod2luZG93LlNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnNdXCI7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnMucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArIFwiIFwiICsgdGhpcy5feDIgKyBcIiBcIiArIHRoaXMuX3kyICsgXCIgXCIgKyB0aGlzLl94ICsgXCIgXCIgKyB0aGlzLl95O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzKHVuZGVmaW5lZCwgdGhpcy5feCwgdGhpcy5feSwgdGhpcy5feDIsIHRoaXMuX3kyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnMucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnMucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnMucHJvdG90eXBlLCBcIngyXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3gyO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feDIgPSB4MjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aEFicy5wcm90b3R5cGUsIFwieTJcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feTI7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5Mikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95MiA9IHkyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwgPSBmdW5jdGlvbiAob3duaW5nUGF0aFNlZ0xpc3QsIHgsIHksIHgyLCB5Mikge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnLmNhbGwodGhpcywgd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9SRUwsIFwic1wiLCBvd25pbmdQYXRoU2VnTGlzdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICAgICAgdGhpcy5feDIgPSB4MjtcbiAgICAgICAgICAgICAgICB0aGlzLl95MiA9IHkyO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUod2luZG93LlNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWxdXCI7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArIFwiIFwiICsgdGhpcy5feDIgKyBcIiBcIiArIHRoaXMuX3kyICsgXCIgXCIgKyB0aGlzLl94ICsgXCIgXCIgKyB0aGlzLl95O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsKHVuZGVmaW5lZCwgdGhpcy5feCwgdGhpcy5feSwgdGhpcy5feDIsIHRoaXMuX3kyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwucHJvdG90eXBlLCBcIngyXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3gyO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feDIgPSB4MjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbC5wcm90b3R5cGUsIFwieTJcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feTI7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5Mikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95MiA9IHkyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzID0gZnVuY3Rpb24gKG93bmluZ1BhdGhTZWdMaXN0LCB4LCB5KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWcuY2FsbCh0aGlzLCB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1NNT09USF9BQlMsIFwiVFwiLCBvd25pbmdQYXRoU2VnTGlzdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUod2luZG93LlNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiW29iamVjdCBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFic11cIjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnMucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArIFwiIFwiICsgdGhpcy5feCArIFwiIFwiICsgdGhpcy5feTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnMucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzKHVuZGVmaW5lZCwgdGhpcy5feCwgdGhpcy5feSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicy5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnMucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwgPSBmdW5jdGlvbiAob3duaW5nUGF0aFNlZ0xpc3QsIHgsIHkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZy5jYWxsKHRoaXMsIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfU01PT1RIX1JFTCwgXCJ0XCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh3aW5kb3cuU1ZHUGF0aFNlZy5wcm90b3R5cGUpO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsXVwiO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aFJlbC5wcm90b3R5cGUuX2FzUGF0aFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyICsgXCIgXCIgKyB0aGlzLl94ICsgXCIgXCIgKyB0aGlzLl95O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aFJlbC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwodW5kZWZpbmVkLCB0aGlzLl94LCB0aGlzLl95KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsLnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aFJlbC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoeSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudENoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0Nsb3NlUGF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnQ2xvc2VQYXRoKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnTW92ZXRvQWJzID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnTW92ZXRvQWJzKHVuZGVmaW5lZCwgeCwgeSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnTW92ZXRvUmVsID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnTW92ZXRvUmVsKHVuZGVmaW5lZCwgeCwgeSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnTGluZXRvQWJzID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvQWJzKHVuZGVmaW5lZCwgeCwgeSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnTGluZXRvUmVsID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvUmVsKHVuZGVmaW5lZCwgeCwgeSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzID0gZnVuY3Rpb24gKHgsIHksIHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficyh1bmRlZmluZWQsIHgsIHksIHgxLCB5MSwgeDIsIHkyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwgPSBmdW5jdGlvbiAoeCwgeSwgeDEsIHkxLCB4MiwgeTIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsKHVuZGVmaW5lZCwgeCwgeSwgeDEsIHkxLCB4MiwgeTIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMgPSBmdW5jdGlvbiAoeCwgeSwgeDEsIHkxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnModW5kZWZpbmVkLCB4LCB5LCB4MSwgeTEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWwgPSBmdW5jdGlvbiAoeCwgeSwgeDEsIHkxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWwodW5kZWZpbmVkLCB4LCB5LCB4MSwgeTEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0FyY0FicyA9IGZ1bmN0aW9uICh4LCB5LCByMSwgcjIsIGFuZ2xlLCBsYXJnZUFyY0ZsYWcsIHN3ZWVwRmxhZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdBcmNBYnModW5kZWZpbmVkLCB4LCB5LCByMSwgcjIsIGFuZ2xlLCBsYXJnZUFyY0ZsYWcsIHN3ZWVwRmxhZyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQXJjUmVsID0gZnVuY3Rpb24gKHgsIHksIHIxLCByMiwgYW5nbGUsIGxhcmdlQXJjRmxhZywgc3dlZXBGbGFnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0FyY1JlbCh1bmRlZmluZWQsIHgsIHksIHIxLCByMiwgYW5nbGUsIGxhcmdlQXJjRmxhZywgc3dlZXBGbGFnKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicyh1bmRlZmluZWQsIHgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxSZWwgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsKHVuZGVmaW5lZCwgeCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnMgPSBmdW5jdGlvbiAoeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFicyh1bmRlZmluZWQsIHkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsUmVsID0gZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvVmVydGljYWxSZWwodW5kZWZpbmVkLCB5KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnMgPSBmdW5jdGlvbiAoeCwgeSwgeDIsIHkyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aEFicyh1bmRlZmluZWQsIHgsIHksIHgyLCB5Mik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsID0gZnVuY3Rpb24gKHgsIHksIHgyLCB5Mikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwodW5kZWZpbmVkLCB4LCB5LCB4MiwgeTIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzKHVuZGVmaW5lZCwgeCwgeSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aFJlbCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwodW5kZWZpbmVkLCB4LCB5KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIShcImdldFBhdGhTZWdBdExlbmd0aFwiIGluIHdpbmRvdy5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUpKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5nZXRQYXRoU2VnQXRMZW5ndGggPSBmdW5jdGlvbiAoZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlID09PSB1bmRlZmluZWQgfHwgIWlzRmluaXRlKGRpc3RhbmNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFwiSW52YWxpZCBhcmd1bWVudHMuXCI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZWFzdXJlbWVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkXCIsIHRoaXMuZ2V0QXR0cmlidXRlKFwiZFwiKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0UGF0aFNlZ21lbnQgPSBtZWFzdXJlbWVudEVsZW1lbnQucGF0aFNlZ0xpc3QubnVtYmVyT2ZJdGVtcyAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0UGF0aFNlZ21lbnQgPD0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZWFzdXJlbWVudEVsZW1lbnQucGF0aFNlZ0xpc3QucmVtb3ZlSXRlbShsYXN0UGF0aFNlZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlID4gbWVhc3VyZW1lbnRFbGVtZW50LmdldFRvdGFsTGVuZ3RoKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0UGF0aFNlZ21lbnQtLTtcbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAobGFzdFBhdGhTZWdtZW50ID4gMCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsYXN0UGF0aFNlZ21lbnQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIShcIlNWR1BhdGhTZWdMaXN0XCIgaW4gd2luZG93KSB8fCAhKFwiYXBwZW5kSXRlbVwiIGluIHdpbmRvdy5TVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUpKSB7XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0xpc3QgPSBmdW5jdGlvbiAocGF0aEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXRoRWxlbWVudCA9IHBhdGhFbGVtZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3QgPSB0aGlzLl9wYXJzZVBhdGgodGhpcy5fcGF0aEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZFwiKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbXV0YXRpb25PYnNlcnZlckNvbmZpZyA9IHsgYXR0cmlidXRlczogdHJ1ZSwgYXR0cmlidXRlRmlsdGVyOiBbXCJkXCJdIH07XG4gICAgICAgICAgICAgICAgdGhpcy5fcGF0aEVsZW1lbnRNdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5fdXBkYXRlTGlzdEZyb21QYXRoTXV0YXRpb25zLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhdGhFbGVtZW50TXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuX3BhdGhFbGVtZW50LCB0aGlzLl9tdXRhdGlvbk9ic2VydmVyQ29uZmlnKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0xpc3QucHJvdG90eXBlLmNsYXNzbmFtZSA9IFwiU1ZHUGF0aFNlZ0xpc3RcIjtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aFNlZ0xpc3QucHJvdG90eXBlLCBcIm51bWJlck9mSXRlbXNcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGVja1BhdGhTeW5jaHJvbml6ZWRUb0xpc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3QubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUsIFwibGVuZ3RoXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tQYXRoU3luY2hyb25pemVkVG9MaXN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9saXN0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLCBcInBhdGhTZWdMaXN0XCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9wYXRoU2VnTGlzdClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhdGhTZWdMaXN0ID0gbmV3IHdpbmRvdy5TVkdQYXRoU2VnTGlzdCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhdGhTZWdMaXN0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUsIFwibm9ybWFsaXplZFBhdGhTZWdMaXN0XCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0aFNlZ0xpc3Q7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZSwgXCJhbmltYXRlZFBhdGhTZWdMaXN0XCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0aFNlZ0xpc3Q7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZSwgXCJhbmltYXRlZE5vcm1hbGl6ZWRQYXRoU2VnTGlzdFwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGhTZWdMaXN0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5fY2hlY2tQYXRoU3luY2hyb25pemVkVG9MaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUxpc3RGcm9tUGF0aE11dGF0aW9ucyh0aGlzLl9wYXRoRWxlbWVudE11dGF0aW9uT2JzZXJ2ZXIudGFrZVJlY29yZHMoKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5fdXBkYXRlTGlzdEZyb21QYXRoTXV0YXRpb25zID0gZnVuY3Rpb24gKG11dGF0aW9uUmVjb3Jkcykge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fcGF0aEVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB2YXIgaGFzUGF0aE11dGF0aW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG11dGF0aW9uUmVjb3Jkcy5mb3JFYWNoKGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZC5hdHRyaWJ1dGVOYW1lID09IFwiZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzUGF0aE11dGF0aW9ucyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGhhc1BhdGhNdXRhdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xpc3QgPSB0aGlzLl9wYXJzZVBhdGgodGhpcy5fcGF0aEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZFwiKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5fd3JpdGVMaXN0VG9QYXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhdGhFbGVtZW50TXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGF0aEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZFwiLCB3aW5kb3cuU1ZHUGF0aFNlZ0xpc3QuX3BhdGhTZWdBcnJheUFzU3RyaW5nKHRoaXMuX2xpc3QpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXRoRWxlbWVudE11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLl9wYXRoRWxlbWVudCwgdGhpcy5fbXV0YXRpb25PYnNlcnZlckNvbmZpZyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5zZWdtZW50Q2hhbmdlZCA9IGZ1bmN0aW9uIChwYXRoU2VnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd3JpdGVMaXN0VG9QYXRoKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja1BhdGhTeW5jaHJvbml6ZWRUb0xpc3QoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9saXN0LmZvckVhY2goZnVuY3Rpb24gKHBhdGhTZWcpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aFNlZy5fb3duaW5nUGF0aFNlZ0xpc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLl93cml0ZUxpc3RUb1BhdGgoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0xpc3QucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAobmV3SXRlbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrUGF0aFN5bmNocm9uaXplZFRvTGlzdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3QgPSBbbmV3SXRlbV07XG4gICAgICAgICAgICAgICAgbmV3SXRlbS5fb3duaW5nUGF0aFNlZ0xpc3QgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dyaXRlTGlzdFRvUGF0aCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdJdGVtO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUuX2NoZWNrVmFsaWRJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihpbmRleCkgfHwgaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMubnVtYmVyT2ZJdGVtcylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJJTkRFWF9TSVpFX0VSUlwiO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUuZ2V0SXRlbSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrUGF0aFN5bmNocm9uaXplZFRvTGlzdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrVmFsaWRJbmRleChpbmRleCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RbaW5kZXhdO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUuaW5zZXJ0SXRlbUJlZm9yZSA9IGZ1bmN0aW9uIChuZXdJdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrUGF0aFN5bmNocm9uaXplZFRvTGlzdCgpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IHRoaXMubnVtYmVyT2ZJdGVtcylcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLm51bWJlck9mSXRlbXM7XG4gICAgICAgICAgICAgICAgaWYgKG5ld0l0ZW0uX293bmluZ1BhdGhTZWdMaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSBuZXdJdGVtLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3Quc3BsaWNlKGluZGV4LCAwLCBuZXdJdGVtKTtcbiAgICAgICAgICAgICAgICBuZXdJdGVtLl9vd25pbmdQYXRoU2VnTGlzdCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdGhpcy5fd3JpdGVMaXN0VG9QYXRoKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0l0ZW07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5yZXBsYWNlSXRlbSA9IGZ1bmN0aW9uIChuZXdJdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrUGF0aFN5bmNocm9uaXplZFRvTGlzdCgpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdJdGVtLl9vd25pbmdQYXRoU2VnTGlzdCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdJdGVtID0gbmV3SXRlbS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja1ZhbGlkSW5kZXgoaW5kZXgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3RbaW5kZXhdID0gbmV3SXRlbTtcbiAgICAgICAgICAgICAgICBuZXdJdGVtLl9vd25pbmdQYXRoU2VnTGlzdCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdGhpcy5fd3JpdGVMaXN0VG9QYXRoKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0l0ZW07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tQYXRoU3luY2hyb25pemVkVG9MaXN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tWYWxpZEluZGV4KGluZGV4KTtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuX2xpc3RbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93cml0ZUxpc3RUb1BhdGgoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0xpc3QucHJvdG90eXBlLmFwcGVuZEl0ZW0gPSBmdW5jdGlvbiAobmV3SXRlbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrUGF0aFN5bmNocm9uaXplZFRvTGlzdCgpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdJdGVtLl9vd25pbmdQYXRoU2VnTGlzdCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdJdGVtID0gbmV3SXRlbS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9saXN0LnB1c2gobmV3SXRlbSk7XG4gICAgICAgICAgICAgICAgbmV3SXRlbS5fb3duaW5nUGF0aFNlZ0xpc3QgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dyaXRlTGlzdFRvUGF0aCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdJdGVtO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGlzdC5fcGF0aFNlZ0FycmF5QXNTdHJpbmcgPSBmdW5jdGlvbiAocGF0aFNlZ0FycmF5KSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwYXRoU2VnQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAocGF0aFNlZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gcGF0aFNlZy5fYXNQYXRoU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gXCIgXCIgKyBwYXRoU2VnLl9hc1BhdGhTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5fcGFyc2VQYXRoID0gZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgICAgICAgICAgIGlmICghc3RyaW5nIHx8IHN0cmluZy5sZW5ndGggPT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIHZhciBvd25pbmdQYXRoU2VnTGlzdCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdmFyIEJ1aWxkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aFNlZ0xpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLmFwcGVuZFNlZ21lbnQgPSBmdW5jdGlvbiAocGF0aFNlZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdGhTZWdMaXN0LnB1c2gocGF0aFNlZyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgU291cmNlID0gZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHJpbmcgPSBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuZEluZGV4ID0gdGhpcy5fc3RyaW5nLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNDb21tYW5kID0gd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19VTktOT1dOO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXMoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFNvdXJjZS5wcm90b3R5cGUuX2lzQ3VycmVudFNwYWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVyID0gdGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoY2hhcmFjdGVyIDw9IFwiIFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2hhcmFjdGVyID09IFwiIFwiIHx8IGNoYXJhY3RlciA9PSBcIlxcblwiIHx8IGNoYXJhY3RlciA9PSBcIlxcdFwiIHx8IGNoYXJhY3RlciA9PSBcIlxcclwiIHx8IGNoYXJhY3RlciA9PSBcIlxcZlwiKSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBTb3VyY2UucHJvdG90eXBlLl9za2lwT3B0aW9uYWxTcGFjZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLl9jdXJyZW50SW5kZXggPCB0aGlzLl9lbmRJbmRleCAmJiB0aGlzLl9pc0N1cnJlbnRTcGFjZSgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50SW5kZXggPCB0aGlzLl9lbmRJbmRleDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFNvdXJjZS5wcm90b3R5cGUuX3NraXBPcHRpb25hbFNwYWNlc09yRGVsaW1pdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEluZGV4IDwgdGhpcy5fZW5kSW5kZXggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLl9pc0N1cnJlbnRTcGFjZSgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgIT0gXCIsXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRJbmRleCA8IHRoaXMuX2VuZEluZGV4ICYmIHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSA9PSBcIixcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NraXBPcHRpb25hbFNwYWNlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50SW5kZXggPCB0aGlzLl9lbmRJbmRleDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFNvdXJjZS5wcm90b3R5cGUuaGFzTW9yZURhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50SW5kZXggPCB0aGlzLl9lbmRJbmRleDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFNvdXJjZS5wcm90b3R5cGUucGVla1NlZ21lbnRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9va2FoZWFkID0gdGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXRoU2VnVHlwZUZyb21DaGFyKGxvb2thaGVhZCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBTb3VyY2UucHJvdG90eXBlLl9wYXRoU2VnVHlwZUZyb21DaGFyID0gZnVuY3Rpb24gKGxvb2thaGVhZCkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGxvb2thaGVhZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlpcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ6XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQ0xPU0VQQVRIO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fQUJTO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fUkVMO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fQUJTO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fUkVMO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX0FCUztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19SRUw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX0FCUztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJxXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfUkVMO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19BUkNfQUJTO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19BUkNfUkVMO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fSE9SSVpPTlRBTF9BQlM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19IT1JJWk9OVEFMX1JFTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJWXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1ZFUlRJQ0FMX0FCUztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ2XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1ZFUlRJQ0FMX1JFTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19TTU9PVEhfQUJTO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9SRUw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1NNT09USF9BQlM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1NNT09USF9SRUw7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX1VOS05PV047XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFNvdXJjZS5wcm90b3R5cGUuX25leHRDb21tYW5kSGVscGVyID0gZnVuY3Rpb24gKGxvb2thaGVhZCwgcHJldmlvdXNDb21tYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgobG9va2FoZWFkID09IFwiK1wiIHx8IGxvb2thaGVhZCA9PSBcIi1cIiB8fCBsb29rYWhlYWQgPT0gXCIuXCIgfHwgKGxvb2thaGVhZCA+PSBcIjBcIiAmJiBsb29rYWhlYWQgPD0gXCI5XCIpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21tYW5kICE9IHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQ0xPU0VQQVRIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNDb21tYW5kID09IHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfTU9WRVRPX0FCUylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fQUJTO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzQ29tbWFuZCA9PSB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX01PVkVUT19SRUwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1JFTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2aW91c0NvbW1hbmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfVU5LTk9XTjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFNvdXJjZS5wcm90b3R5cGUuaW5pdGlhbENvbW1hbmRJc01vdmVUbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc01vcmVEYXRhKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSB0aGlzLnBlZWtTZWdtZW50VHlwZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZCA9PSB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX01PVkVUT19BQlMgfHwgY29tbWFuZCA9PSB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX01PVkVUT19SRUw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBTb3VyY2UucHJvdG90eXBlLl9wYXJzZU51bWJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cG9uZW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVnZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZnJhYyA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWNpbWFsID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpZ24gPSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXhwc2lnbiA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFydEluZGV4ID0gdGhpcy5fY3VycmVudEluZGV4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRJbmRleCA8IHRoaXMuX2VuZEluZGV4ICYmIHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSA9PSBcIitcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9jdXJyZW50SW5kZXggPCB0aGlzLl9lbmRJbmRleCAmJiB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPT0gXCItXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbiA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50SW5kZXggPT0gdGhpcy5fZW5kSW5kZXggfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICgodGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpIDwgXCIwXCIgfHwgdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpID4gXCI5XCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpICE9IFwiLlwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFydEludFBhcnRJbmRleCA9IHRoaXMuX2N1cnJlbnRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuX2N1cnJlbnRJbmRleCA8IHRoaXMuX2VuZEluZGV4ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPj0gXCIwXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSA8PSBcIjlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEluZGV4ICE9IHN0YXJ0SW50UGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2NhbkludFBhcnRJbmRleCA9IHRoaXMuX2N1cnJlbnRJbmRleCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXVsdGlwbGllciA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoc2NhbkludFBhcnRJbmRleCA+PSBzdGFydEludFBhcnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVnZXIgKz0gbXVsdGlwbGllciAqICh0aGlzLl9zdHJpbmcuY2hhckF0KHNjYW5JbnRQYXJ0SW5kZXgtLSkgLSBcIjBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGllciAqPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEluZGV4IDwgdGhpcy5fZW5kSW5kZXggJiYgdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpID09IFwiLlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50SW5kZXggPj0gdGhpcy5fZW5kSW5kZXggfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPCBcIjBcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSA+IFwiOVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5fY3VycmVudEluZGV4IDwgdGhpcy5fZW5kSW5kZXggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPj0gXCIwXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPD0gXCI5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFjICo9IDEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2ltYWwgKz0gKHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSAtIFwiMFwiKSAvIGZyYWM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGV4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRJbmRleCAhPSBzdGFydEluZGV4ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXggKyAxIDwgdGhpcy5fZW5kSW5kZXggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPT0gXCJlXCIgfHwgdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpID09IFwiRVwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXggKyAxKSAhPSBcInhcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXggKyAxKSAhPSBcIm1cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpID09IFwiK1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPT0gXCItXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBzaWduID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEluZGV4ID49IHRoaXMuX2VuZEluZGV4IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpIDwgXCIwXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPiBcIjlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuX2N1cnJlbnRJbmRleCA8IHRoaXMuX2VuZEluZGV4ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpID49IFwiMFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpIDw9IFwiOVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb25lbnQgKj0gMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb25lbnQgKz0gdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpIC0gXCIwXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bWJlciA9IGludGVnZXIgKyBkZWNpbWFsO1xuICAgICAgICAgICAgICAgICAgICBudW1iZXIgKj0gc2lnbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cG9uZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyICo9IE1hdGgucG93KDEwLCBleHBzaWduICogZXhwb25lbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRJbmRleCA9PSB0aGlzLl9jdXJyZW50SW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXNPckRlbGltaXRlcigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgU291cmNlLnByb3RvdHlwZS5fcGFyc2VBcmNGbGFnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEluZGV4ID49IHRoaXMuX2VuZEluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZsYWdDaGFyID0gdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgrKyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbGFnQ2hhciA9PSBcIjBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmxhZ0NoYXIgPT0gXCIxXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2tpcE9wdGlvbmFsU3BhY2VzT3JEZWxpbWl0ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZsYWc7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBTb3VyY2UucHJvdG90eXBlLnBhcnNlU2VnbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvb2thaGVhZCA9IHRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWFuZCA9IHRoaXMuX3BhdGhTZWdUeXBlRnJvbUNoYXIobG9va2FoZWFkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQgPT0gd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19VTktOT1dOKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcHJldmlvdXNDb21tYW5kID09IHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfVU5LTk9XTilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQgPSB0aGlzLl9uZXh0Q29tbWFuZEhlbHBlcihsb29rYWhlYWQsIHRoaXMuX3ByZXZpb3VzQ29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWFuZCA9PSB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX1VOS05PV04pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcmV2aW91c0NvbW1hbmQgPSBjb21tYW5kO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNvbW1hbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fUkVMOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdNb3ZldG9SZWwob3duaW5nUGF0aFNlZ0xpc3QsIHRoaXMuX3BhcnNlTnVtYmVyKCksIHRoaXMuX3BhcnNlTnVtYmVyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX01PVkVUT19BQlM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ01vdmV0b0Ficyhvd25pbmdQYXRoU2VnTGlzdCwgdGhpcy5fcGFyc2VOdW1iZXIoKSwgdGhpcy5fcGFyc2VOdW1iZXIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1JFTDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvUmVsKG93bmluZ1BhdGhTZWdMaXN0LCB0aGlzLl9wYXJzZU51bWJlcigpLCB0aGlzLl9wYXJzZU51bWJlcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fQUJTOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9BYnMob3duaW5nUGF0aFNlZ0xpc3QsIHRoaXMuX3BhcnNlTnVtYmVyKCksIHRoaXMuX3BhcnNlTnVtYmVyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19IT1JJWk9OVEFMX1JFTDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbFJlbChvd25pbmdQYXRoU2VnTGlzdCwgdGhpcy5fcGFyc2VOdW1iZXIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX0hPUklaT05UQUxfQUJTOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzKG93bmluZ1BhdGhTZWdMaXN0LCB0aGlzLl9wYXJzZU51bWJlcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fVkVSVElDQUxfUkVMOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbChvd25pbmdQYXRoU2VnTGlzdCwgdGhpcy5fcGFyc2VOdW1iZXIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1ZFUlRJQ0FMX0FCUzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnMob3duaW5nUGF0aFNlZ0xpc3QsIHRoaXMuX3BhcnNlTnVtYmVyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0NMT1NFUEFUSDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnQ2xvc2VQYXRoKG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1JFTDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MTogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTE6IHRoaXMuX3BhcnNlTnVtYmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgyOiB0aGlzLl9wYXJzZU51bWJlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MjogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwob3duaW5nUGF0aFNlZ0xpc3QsIHBvaW50cy54LCBwb2ludHMueSwgcG9pbnRzLngxLCBwb2ludHMueTEsIHBvaW50cy54MiwgcG9pbnRzLnkyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX0FCUzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MTogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTE6IHRoaXMuX3BhcnNlTnVtYmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgyOiB0aGlzLl9wYXJzZU51bWJlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MjogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMob3duaW5nUGF0aFNlZ0xpc3QsIHBvaW50cy54LCBwb2ludHMueSwgcG9pbnRzLngxLCBwb2ludHMueTEsIHBvaW50cy54MiwgcG9pbnRzLnkyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9SRUw6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDI6IHRoaXMuX3BhcnNlTnVtYmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkyOiB0aGlzLl9wYXJzZU51bWJlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLl9wYXJzZU51bWJlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLl9wYXJzZU51bWJlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbChvd25pbmdQYXRoU2VnTGlzdCwgcG9pbnRzLngsIHBvaW50cy55LCBwb2ludHMueDIsIHBvaW50cy55Mik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19TTU9PVEhfQUJTOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgyOiB0aGlzLl9wYXJzZU51bWJlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MjogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnMob3duaW5nUGF0aFNlZ0xpc3QsIHBvaW50cy54LCBwb2ludHMueSwgcG9pbnRzLngyLCBwb2ludHMueTIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSB3aW5kb3cuU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1JFTDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MTogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTE6IHRoaXMuX3BhcnNlTnVtYmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHRoaXMuX3BhcnNlTnVtYmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuX3BhcnNlTnVtYmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1JlbChvd25pbmdQYXRoU2VnTGlzdCwgcG9pbnRzLngsIHBvaW50cy55LCBwb2ludHMueDEsIHBvaW50cy55MSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfQUJTOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgxOiB0aGlzLl9wYXJzZU51bWJlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MTogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzKG93bmluZ1BhdGhTZWdMaXN0LCBwb2ludHMueCwgcG9pbnRzLnksIHBvaW50cy54MSwgcG9pbnRzLnkxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19TTU9PVEhfUkVMOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsKG93bmluZ1BhdGhTZWdMaXN0LCB0aGlzLl9wYXJzZU51bWJlcigpLCB0aGlzLl9wYXJzZU51bWJlcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19TTU9PVEhfQUJTOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzKG93bmluZ1BhdGhTZWdMaXN0LCB0aGlzLl9wYXJzZU51bWJlcigpLCB0aGlzLl9wYXJzZU51bWJlcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugd2luZG93LlNWR1BhdGhTZWcuUEFUSFNFR19BUkNfUkVMOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgxOiB0aGlzLl9wYXJzZU51bWJlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MTogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJjQW5nbGU6IHRoaXMuX3BhcnNlTnVtYmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyY0xhcmdlOiB0aGlzLl9wYXJzZUFyY0ZsYWcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJjU3dlZXA6IHRoaXMuX3BhcnNlQXJjRmxhZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLl9wYXJzZU51bWJlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLl9wYXJzZU51bWJlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuU1ZHUGF0aFNlZ0FyY1JlbChvd25pbmdQYXRoU2VnTGlzdCwgcG9pbnRzLngsIHBvaW50cy55LCBwb2ludHMueDEsIHBvaW50cy55MSwgcG9pbnRzLmFyY0FuZ2xlLCBwb2ludHMuYXJjTGFyZ2UsIHBvaW50cy5hcmNTd2VlcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHdpbmRvdy5TVkdQYXRoU2VnLlBBVEhTRUdfQVJDX0FCUzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MTogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTE6IHRoaXMuX3BhcnNlTnVtYmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyY0FuZ2xlOiB0aGlzLl9wYXJzZU51bWJlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmNMYXJnZTogdGhpcy5fcGFyc2VBcmNGbGFnKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyY1N3ZWVwOiB0aGlzLl9wYXJzZUFyY0ZsYWcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5fcGFyc2VOdW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlNWR1BhdGhTZWdBcmNBYnMob3duaW5nUGF0aFNlZ0xpc3QsIHBvaW50cy54LCBwb2ludHMueSwgcG9pbnRzLngxLCBwb2ludHMueTEsIHBvaW50cy5hcmNBbmdsZSwgcG9pbnRzLmFyY0xhcmdlLCBwb2ludHMuYXJjU3dlZXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIlVua25vd24gcGF0aCBzZWcgdHlwZS5cIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGJ1aWxkZXIgPSBuZXcgQnVpbGRlcigpO1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBuZXcgU291cmNlKHN0cmluZyk7XG4gICAgICAgICAgICAgICAgaWYgKCFzb3VyY2UuaW5pdGlhbENvbW1hbmRJc01vdmVUbygpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgd2hpbGUgKHNvdXJjZS5oYXNNb3JlRGF0YSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXRoU2VnID0gc291cmNlLnBhcnNlU2VnbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhdGhTZWcpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIuYXBwZW5kU2VnbWVudChwYXRoU2VnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1aWxkZXIucGF0aFNlZ0xpc3Q7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkFuIGVycm9yIG9jY3VycmVkIGluIHRzUGFydGljbGVzIHBhdGhzZWcgcG9seWZpbGwuIElmIHRoZSBQb2x5Z29uIE1hc2sgaXMgbm90IHdvcmtpbmcsIHBsZWFzZSBvcGVuIGFuIGlzc3VlIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZW9icnVuaS90c3BhcnRpY2xlc1wiLCBlKTtcbiAgICB9XG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZFBvbHlnb25NYXNrUGx1Z2luID0gdm9pZCAwO1xuY29uc3QgUG9seWdvbk1hc2tJbnN0YW5jZV8xID0gcmVxdWlyZShcIi4vUG9seWdvbk1hc2tJbnN0YW5jZVwiKTtcbmNvbnN0IFBvbHlnb25NYXNrXzEgPSByZXF1aXJlKFwiLi9PcHRpb25zL0NsYXNzZXMvUG9seWdvbk1hc2tcIik7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4vRW51bXNcIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL1V0aWxzXCIpO1xuY2xhc3MgUGx1Z2luIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pZCA9IFwicG9seWdvbk1hc2tcIjtcbiAgICB9XG4gICAgZ2V0UGx1Z2luKGNvbnRhaW5lcikge1xuICAgICAgICByZXR1cm4gbmV3IFBvbHlnb25NYXNrSW5zdGFuY2VfMS5Qb2x5Z29uTWFza0luc3RhbmNlKGNvbnRhaW5lcik7XG4gICAgfVxuICAgIG5lZWRzUGx1Z2luKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucG9seWdvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVuYWJsZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKCgoX2MgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucG9seWdvbikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnR5cGUpICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5wb2x5Z29uLnR5cGUgIT09IEVudW1zXzEuVHlwZS5ub25lKTtcbiAgICB9XG4gICAgbG9hZE9wdGlvbnMob3B0aW9ucywgc291cmNlKSB7XG4gICAgICAgIGlmICghdGhpcy5uZWVkc1BsdWdpbihzb3VyY2UpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0aW9uc0Nhc3QgPSBvcHRpb25zO1xuICAgICAgICBsZXQgcG9seWdvbk9wdGlvbnMgPSBvcHRpb25zQ2FzdC5wb2x5Z29uO1xuICAgICAgICBpZiAoKHBvbHlnb25PcHRpb25zID09PSBudWxsIHx8IHBvbHlnb25PcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb2x5Z29uT3B0aW9ucy5sb2FkKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvcHRpb25zQ2FzdC5wb2x5Z29uID0gcG9seWdvbk9wdGlvbnMgPSBuZXcgUG9seWdvbk1hc2tfMS5Qb2x5Z29uTWFzaygpO1xuICAgICAgICB9XG4gICAgICAgIHBvbHlnb25PcHRpb25zLmxvYWQoc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlLnBvbHlnb24pO1xuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGxvYWRQb2x5Z29uTWFza1BsdWdpbih0c1BhcnRpY2xlcykge1xuICAgIGlmICghKDAsIFV0aWxzXzEuaXNTc3IpKCkgJiYgIXdpbmRvdy5TVkdQYXRoU2VnKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3BhdGhzZWdcIikpKTtcbiAgICB9XG4gICAgY29uc3QgcGx1Z2luID0gbmV3IFBsdWdpbigpO1xuICAgIGF3YWl0IHRzUGFydGljbGVzLmFkZFBsdWdpbihwbHVnaW4pO1xufVxuZXhwb3J0cy5sb2FkUG9seWdvbk1hc2tQbHVnaW4gPSBsb2FkUG9seWdvbk1hc2tQbHVnaW47XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2VnbWVudEJvdW5jZSA9IGV4cG9ydHMuY2FsY0Nsb3Nlc3RQdE9uU2VnbWVudCA9IGV4cG9ydHMucGFyc2VQYXRocyA9IGV4cG9ydHMuZHJhd1BvbHlnb25NYXNrUGF0aCA9IGV4cG9ydHMuZHJhd1BvbHlnb25NYXNrID0gdm9pZCAwO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9VdGlsc1wiKTtcbmZ1bmN0aW9uIGRyYXdQb2x5Z29uTWFzayhjb250ZXh0LCByYXdEYXRhLCBzdHJva2UpIHtcbiAgICBjb25zdCBjb2xvciA9ICgwLCBVdGlsc18xLmNvbG9yVG9SZ2IpKHN0cm9rZS5jb2xvcik7XG4gICAgaWYgKCFjb2xvcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5tb3ZlVG8ocmF3RGF0YVswXS54LCByYXdEYXRhWzBdLnkpO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiByYXdEYXRhKSB7XG4gICAgICAgIGNvbnRleHQubGluZVRvKGl0ZW0ueCwgaXRlbS55KTtcbiAgICB9XG4gICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gKDAsIFV0aWxzXzEuZ2V0U3R5bGVGcm9tUmdiKShjb2xvcik7XG4gICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2Uud2lkdGg7XG4gICAgY29udGV4dC5zdHJva2UoKTtcbn1cbmV4cG9ydHMuZHJhd1BvbHlnb25NYXNrID0gZHJhd1BvbHlnb25NYXNrO1xuZnVuY3Rpb24gZHJhd1BvbHlnb25NYXNrUGF0aChjb250ZXh0LCBwYXRoLCBzdHJva2UsIHBvc2l0aW9uKSB7XG4gICAgY29udGV4dC50cmFuc2xhdGUocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG4gICAgY29uc3QgY29sb3IgPSAoMCwgVXRpbHNfMS5jb2xvclRvUmdiKShzdHJva2UuY29sb3IpO1xuICAgIGlmICghY29sb3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gKDAsIFV0aWxzXzEuZ2V0U3R5bGVGcm9tUmdiKShjb2xvciwgc3Ryb2tlLm9wYWNpdHkpO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlLndpZHRoO1xuICAgIGNvbnRleHQuc3Ryb2tlKHBhdGgpO1xufVxuZXhwb3J0cy5kcmF3UG9seWdvbk1hc2tQYXRoID0gZHJhd1BvbHlnb25NYXNrUGF0aDtcbmZ1bmN0aW9uIHBhcnNlUGF0aHMocGF0aHMsIHNjYWxlLCBvZmZzZXQpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmVzID0gW107XG4gICAgZm9yIChjb25zdCBwYXRoIG9mIHBhdGhzKSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5lbGVtZW50LnBhdGhTZWdMaXN0O1xuICAgICAgICBjb25zdCBsZW4gPSAoX2EgPSBzZWdtZW50cyA9PT0gbnVsbCB8fCBzZWdtZW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VnbWVudHMubnVtYmVyT2ZJdGVtcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMDtcbiAgICAgICAgY29uc3QgcCA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHMgPT09IG51bGwgfHwgc2VnbWVudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlZ21lbnRzLmdldEl0ZW0oaSk7XG4gICAgICAgICAgICBjb25zdCBzdmdQYXRoU2VnID0gd2luZG93LlNWR1BhdGhTZWc7XG4gICAgICAgICAgICBzd2l0Y2ggKHNlZ21lbnQgPT09IG51bGwgfHwgc2VnbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VnbWVudC5wYXRoU2VnVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2Ugc3ZnUGF0aFNlZy5QQVRIU0VHX01PVkVUT19BQlM6XG4gICAgICAgICAgICAgICAgY2FzZSBzdmdQYXRoU2VnLlBBVEhTRUdfTElORVRPX0FCUzpcbiAgICAgICAgICAgICAgICBjYXNlIHN2Z1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX0FCUzpcbiAgICAgICAgICAgICAgICBjYXNlIHN2Z1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19BQlM6XG4gICAgICAgICAgICAgICAgY2FzZSBzdmdQYXRoU2VnLlBBVEhTRUdfQVJDX0FCUzpcbiAgICAgICAgICAgICAgICBjYXNlIHN2Z1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9BQlM6XG4gICAgICAgICAgICAgICAgY2FzZSBzdmdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfU01PT1RIX0FCUzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhYnNTZWcgPSBzZWdtZW50O1xuICAgICAgICAgICAgICAgICAgICBwLnggPSBhYnNTZWcueDtcbiAgICAgICAgICAgICAgICAgICAgcC55ID0gYWJzU2VnLnk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIHN2Z1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fSE9SSVpPTlRBTF9BQlM6XG4gICAgICAgICAgICAgICAgICAgIHAueCA9IHNlZ21lbnQueDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBzdmdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1ZFUlRJQ0FMX0FCUzpcbiAgICAgICAgICAgICAgICAgICAgcC55ID0gc2VnbWVudC55O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHN2Z1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fUkVMOlxuICAgICAgICAgICAgICAgIGNhc2Ugc3ZnUGF0aFNlZy5QQVRIU0VHX01PVkVUT19SRUw6XG4gICAgICAgICAgICAgICAgY2FzZSBzdmdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19SRUw6XG4gICAgICAgICAgICAgICAgY2FzZSBzdmdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfUkVMOlxuICAgICAgICAgICAgICAgIGNhc2Ugc3ZnUGF0aFNlZy5QQVRIU0VHX0FSQ19SRUw6XG4gICAgICAgICAgICAgICAgY2FzZSBzdmdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19TTU9PVEhfUkVMOlxuICAgICAgICAgICAgICAgIGNhc2Ugc3ZnUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1NNT09USF9SRUw6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsU2VnID0gc2VnbWVudDtcbiAgICAgICAgICAgICAgICAgICAgcC54ICs9IHJlbFNlZy54O1xuICAgICAgICAgICAgICAgICAgICBwLnkgKz0gcmVsU2VnLnk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIHN2Z1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fSE9SSVpPTlRBTF9SRUw6XG4gICAgICAgICAgICAgICAgICAgIHAueCArPSBzZWdtZW50Lng7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugc3ZnUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19WRVJUSUNBTF9SRUw6XG4gICAgICAgICAgICAgICAgICAgIHAueSArPSBzZWdtZW50Lnk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugc3ZnUGF0aFNlZy5QQVRIU0VHX1VOS05PV046XG4gICAgICAgICAgICAgICAgY2FzZSBzdmdQYXRoU2VnLlBBVEhTRUdfQ0xPU0VQQVRIOlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB4OiBwLnggKiBzY2FsZSArIG9mZnNldC54LFxuICAgICAgICAgICAgICAgIHk6IHAueSAqIHNjYWxlICsgb2Zmc2V0LnksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZXhwb3J0cy5wYXJzZVBhdGhzID0gcGFyc2VQYXRocztcbmZ1bmN0aW9uIGNhbGNDbG9zZXN0UHRPblNlZ21lbnQoczEsIHMyLCBwb3MpIHtcbiAgICBjb25zdCB7IGR4LCBkeSB9ID0gKDAsIFV0aWxzXzEuZ2V0RGlzdGFuY2VzKShwb3MsIHMxKTtcbiAgICBjb25zdCB7IGR4OiBkeHgsIGR5OiBkeXkgfSA9ICgwLCBVdGlsc18xLmdldERpc3RhbmNlcykoczIsIHMxKTtcbiAgICBjb25zdCB0ID0gKGR4ICogZHh4ICsgZHkgKiBkeXkpIC8gKGR4eCAqKiAyICsgZHl5ICoqIDIpO1xuICAgIGxldCB4ID0gczEueCArIGR4eCAqIHQ7XG4gICAgbGV0IHkgPSBzMS55ICsgZHl5ICogdDtcbiAgICBpZiAodCA8IDApIHtcbiAgICAgICAgeCA9IHMxLng7XG4gICAgICAgIHkgPSBzMS55O1xuICAgIH1cbiAgICBlbHNlIGlmICh0ID4gMSkge1xuICAgICAgICB4ID0gczIueDtcbiAgICAgICAgeSA9IHMyLnk7XG4gICAgfVxuICAgIHJldHVybiB7IHg6IHgsIHk6IHksIGlzT25TZWdtZW50OiB0ID49IDAgJiYgdCA8PSAxIH07XG59XG5leHBvcnRzLmNhbGNDbG9zZXN0UHRPblNlZ21lbnQgPSBjYWxjQ2xvc2VzdFB0T25TZWdtZW50O1xuZnVuY3Rpb24gc2VnbWVudEJvdW5jZShzdGFydCwgc3RvcCwgdmVsb2NpdHkpIHtcbiAgICBjb25zdCB7IGR4LCBkeSB9ID0gKDAsIFV0aWxzXzEuZ2V0RGlzdGFuY2VzKShzdGFydCwgc3RvcCk7XG4gICAgY29uc3Qgd2FsbEFuZ2xlID0gTWF0aC5hdGFuMihkeSwgZHgpO1xuICAgIGNvbnN0IHdhbGxOb3JtYWxYID0gTWF0aC5zaW4od2FsbEFuZ2xlKTtcbiAgICBjb25zdCB3YWxsTm9ybWFsWSA9IC1NYXRoLmNvcyh3YWxsQW5nbGUpO1xuICAgIGNvbnN0IGQgPSAyICogKHZlbG9jaXR5LnggKiB3YWxsTm9ybWFsWCArIHZlbG9jaXR5LnkgKiB3YWxsTm9ybWFsWSk7XG4gICAgdmVsb2NpdHkueCAtPSBkICogd2FsbE5vcm1hbFg7XG4gICAgdmVsb2NpdHkueSAtPSBkICogd2FsbE5vcm1hbFk7XG59XG5leHBvcnRzLnNlZ21lbnRCb3VuY2UgPSBzZWdtZW50Qm91bmNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNpcmNsZURyYXdlciA9IHZvaWQgMDtcbmNsYXNzIENpcmNsZURyYXdlciB7XG4gICAgZ2V0U2lkZXNDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIDEyO1xuICAgIH1cbiAgICBkcmF3KGNvbnRleHQsIHBhcnRpY2xlLCByYWRpdXMpIHtcbiAgICAgICAgY29udGV4dC5hcmMoMCwgMCwgcmFkaXVzLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2lyY2xlRHJhd2VyID0gQ2lyY2xlRHJhd2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRDaXJjbGVTaGFwZSA9IHZvaWQgMDtcbmNvbnN0IENpcmNsZURyYXdlcl8xID0gcmVxdWlyZShcIi4vQ2lyY2xlRHJhd2VyXCIpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZENpcmNsZVNoYXBlKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkU2hhcGUoXCJjaXJjbGVcIiwgbmV3IENpcmNsZURyYXdlcl8xLkNpcmNsZURyYXdlcigpKTtcbn1cbmV4cG9ydHMubG9hZENpcmNsZVNoYXBlID0gbG9hZENpcmNsZVNoYXBlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZFNldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59O1xudmFyIF9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX0ltYWdlRHJhd2VyX2ltYWdlcztcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW1hZ2VEcmF3ZXIgPSB2b2lkIDA7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL1V0aWxzXCIpO1xuY29uc3QgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi8uLi9FbnVtc1wiKTtcbmNvbnN0IFV0aWxzXzIgPSByZXF1aXJlKFwiLi9VdGlsc1wiKTtcbmNsYXNzIEltYWdlRHJhd2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgX0ltYWdlRHJhd2VyX2ltYWdlcy5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfSW1hZ2VEcmF3ZXJfaW1hZ2VzLCBbXSwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXRTaWRlc0NvdW50KCkge1xuICAgICAgICByZXR1cm4gMTI7XG4gICAgfVxuICAgIGdldEltYWdlcyhjb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVySW1hZ2VzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfSW1hZ2VEcmF3ZXJfaW1hZ2VzLCBcImZcIikuZmluZCgodCkgPT4gdC5pZCA9PT0gY29udGFpbmVyLmlkKTtcbiAgICAgICAgaWYgKCFjb250YWluZXJJbWFnZXMpIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0ltYWdlRHJhd2VyX2ltYWdlcywgXCJmXCIpLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBjb250YWluZXIuaWQsXG4gICAgICAgICAgICAgICAgaW1hZ2VzOiBbXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW1hZ2VzKGNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVySW1hZ2VzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEltYWdlKGNvbnRhaW5lciwgaW1hZ2UpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVySW1hZ2VzID0gdGhpcy5nZXRJbWFnZXMoY29udGFpbmVyKTtcbiAgICAgICAgY29udGFpbmVySW1hZ2VzID09PSBudWxsIHx8IGNvbnRhaW5lckltYWdlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGFpbmVySW1hZ2VzLmltYWdlcy5wdXNoKGltYWdlKTtcbiAgICB9XG4gICAgYXN5bmMgaW5pdChjb250YWluZXIpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkSW1hZ2VzRnJvbVBhcnRpY2xlc09wdGlvbnMoY29udGFpbmVyLCBjb250YWluZXIuYWN0dWFsT3B0aW9ucy5wYXJ0aWNsZXMpO1xuICAgICAgICBhd2FpdCB0aGlzLmxvYWRJbWFnZXNGcm9tUGFydGljbGVzT3B0aW9ucyhjb250YWluZXIsIGNvbnRhaW5lci5hY3R1YWxPcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMudHJhaWwucGFydGljbGVzKTtcbiAgICAgICAgZm9yIChjb25zdCBtYW51YWxQYXJ0aWNsZSBvZiBjb250YWluZXIuYWN0dWFsT3B0aW9ucy5tYW51YWxQYXJ0aWNsZXMpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZEltYWdlc0Zyb21QYXJ0aWNsZXNPcHRpb25zKGNvbnRhaW5lciwgbWFudWFsUGFydGljbGUub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW1pdHRlck9wdGlvbnMgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucztcbiAgICAgICAgaWYgKGVtaXR0ZXJPcHRpb25zLmVtaXR0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoZW1pdHRlck9wdGlvbnMuZW1pdHRlcnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZW1pdHRlciBvZiBlbWl0dGVyT3B0aW9ucy5lbWl0dGVycykge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRJbWFnZXNGcm9tUGFydGljbGVzT3B0aW9ucyhjb250YWluZXIsIGVtaXR0ZXIucGFydGljbGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRJbWFnZXNGcm9tUGFydGljbGVzT3B0aW9ucyhjb250YWluZXIsIGVtaXR0ZXJPcHRpb25zLmVtaXR0ZXJzLnBhcnRpY2xlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW50ZXJhY3RpdmVFbWl0dGVycyA9IGVtaXR0ZXJPcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMuZW1pdHRlcnM7XG4gICAgICAgIGlmIChpbnRlcmFjdGl2ZUVtaXR0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaW50ZXJhY3RpdmVFbWl0dGVycyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbWl0dGVyIG9mIGludGVyYWN0aXZlRW1pdHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkSW1hZ2VzRnJvbVBhcnRpY2xlc09wdGlvbnMoY29udGFpbmVyLCBlbWl0dGVyLnBhcnRpY2xlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkSW1hZ2VzRnJvbVBhcnRpY2xlc09wdGlvbnMoY29udGFpbmVyLCBpbnRlcmFjdGl2ZUVtaXR0ZXJzLnBhcnRpY2xlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfSW1hZ2VEcmF3ZXJfaW1hZ2VzLCBbXSwgXCJmXCIpO1xuICAgIH1cbiAgICBhc3luYyBsb2FkSW1hZ2VzRnJvbVBhcnRpY2xlc09wdGlvbnMoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCBzaGFwZU9wdGlvbnMgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2hhcGU7XG4gICAgICAgIGlmICghKHNoYXBlT3B0aW9ucyA9PT0gbnVsbCB8fCBzaGFwZU9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNoYXBlT3B0aW9ucy50eXBlKSB8fFxuICAgICAgICAgICAgIXNoYXBlT3B0aW9ucy5vcHRpb25zIHx8XG4gICAgICAgICAgICAoISgwLCBVdGlsc18xLmlzSW5BcnJheSkoRW51bXNfMS5TaGFwZVR5cGUuaW1hZ2UsIHNoYXBlT3B0aW9ucy50eXBlKSAmJiAhKDAsIFV0aWxzXzEuaXNJbkFycmF5KShFbnVtc18xLlNoYXBlVHlwZS5pbWFnZXMsIHNoYXBlT3B0aW9ucy50eXBlKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpZHggPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9JbWFnZURyYXdlcl9pbWFnZXMsIFwiZlwiKS5maW5kSW5kZXgoKHQpID0+IHQuaWQgPT09IGNvbnRhaW5lci5pZCk7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfSW1hZ2VEcmF3ZXJfaW1hZ2VzLCBcImZcIikuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW1hZ2VPcHRpb25zID0gKF9hID0gc2hhcGVPcHRpb25zLm9wdGlvbnNbRW51bXNfMS5TaGFwZVR5cGUuaW1hZ2VzXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogc2hhcGVPcHRpb25zLm9wdGlvbnNbRW51bXNfMS5TaGFwZVR5cGUuaW1hZ2VdO1xuICAgICAgICBpZiAoaW1hZ2VPcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9uc0ltYWdlIG9mIGltYWdlT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZEltYWdlU2hhcGUoY29udGFpbmVyLCBvcHRpb25zSW1hZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkSW1hZ2VTaGFwZShjb250YWluZXIsIGltYWdlT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5ncm91cHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZ3JvdXBOYW1lIGluIG9wdGlvbnMuZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBvcHRpb25zLmdyb3Vwc1tncm91cE5hbWVdO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZEltYWdlc0Zyb21QYXJ0aWNsZXNPcHRpb25zKGNvbnRhaW5lciwgZ3JvdXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgoX2MgPSAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZGVzdHJveSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNwbGl0KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucGFydGljbGVzKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRJbWFnZXNGcm9tUGFydGljbGVzT3B0aW9ucyhjb250YWluZXIsIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kZXN0cm95LnNwbGl0LnBhcnRpY2xlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbG9hZEltYWdlU2hhcGUoY29udGFpbmVyLCBpbWFnZVNoYXBlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZUZ1bmMgPSBpbWFnZVNoYXBlLnJlcGxhY2VDb2xvciA/IFV0aWxzXzIuZG93bmxvYWRTdmdJbWFnZSA6IFV0aWxzXzIubG9hZEltYWdlO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCBpbWFnZUZ1bmMoaW1hZ2VTaGFwZS5zcmMpO1xuICAgICAgICAgICAgaWYgKGltYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRJbWFnZShjb250YWluZXIsIGltYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgdHNQYXJ0aWNsZXMgZXJyb3IgLSAke2ltYWdlU2hhcGUuc3JjfSBub3QgZm91bmRgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3KGNvbnRleHQsIHBhcnRpY2xlLCByYWRpdXMsIG9wYWNpdHkpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW1hZ2UgPSBwYXJ0aWNsZS5pbWFnZTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IChfYSA9IGltYWdlID09PSBudWxsIHx8IGltYWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbWFnZS5kYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZWxlbWVudDtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF0aW8gPSAoX2IgPSBpbWFnZSA9PT0gbnVsbCB8fCBpbWFnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW1hZ2UucmF0aW8pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDE7XG4gICAgICAgIGNvbnN0IHBvcyA9IHtcbiAgICAgICAgICAgIHg6IC1yYWRpdXMsXG4gICAgICAgICAgICB5OiAtcmFkaXVzLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIShpbWFnZSA9PT0gbnVsbCB8fCBpbWFnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW1hZ2UuZGF0YS5zdmdEYXRhKSB8fCAhKGltYWdlID09PSBudWxsIHx8IGltYWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbWFnZS5yZXBsYWNlQ29sb3IpKSB7XG4gICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gb3BhY2l0eTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShlbGVtZW50LCBwb3MueCwgcG9zLnksIHJhZGl1cyAqIDIsIChyYWRpdXMgKiAyKSAvIHJhdGlvKTtcbiAgICAgICAgaWYgKCEoaW1hZ2UgPT09IG51bGwgfHwgaW1hZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGltYWdlLmRhdGEuc3ZnRGF0YSkgfHwgIShpbWFnZSA9PT0gbnVsbCB8fCBpbWFnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW1hZ2UucmVwbGFjZUNvbG9yKSkge1xuICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbG9hZFNoYXBlKHBhcnRpY2xlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZztcbiAgICAgICAgaWYgKHBhcnRpY2xlLnNoYXBlICE9PSBcImltYWdlXCIgJiYgcGFydGljbGUuc2hhcGUgIT09IFwiaW1hZ2VzXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbWFnZXMgPSB0aGlzLmdldEltYWdlcyhwYXJ0aWNsZS5jb250YWluZXIpLmltYWdlcztcbiAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gcGFydGljbGUuc2hhcGVEYXRhO1xuICAgICAgICBjb25zdCBpbWFnZSA9IChfYSA9IGltYWdlcy5maW5kKCh0KSA9PiB0LnNvdXJjZSA9PT0gaW1hZ2VEYXRhLnNyYykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGltYWdlc1swXTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwYXJ0aWNsZS5nZXRGaWxsQ29sb3IoKTtcbiAgICAgICAgbGV0IGltYWdlUmVzO1xuICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGltYWdlLnN2Z0RhdGEgIT09IHVuZGVmaW5lZCAmJiBpbWFnZURhdGEucmVwbGFjZUNvbG9yICYmIGNvbG9yKSB7XG4gICAgICAgICAgICBjb25zdCBzdmdDb2xvcmVkRGF0YSA9ICgwLCBVdGlsc18yLnJlcGxhY2VDb2xvclN2ZykoaW1hZ2UsIGNvbG9yLCAoX2MgPSAoX2IgPSBwYXJ0aWNsZS5vcGFjaXR5KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudmFsdWUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IDEpO1xuICAgICAgICAgICAgY29uc3Qgc3ZnID0gbmV3IEJsb2IoW3N2Z0NvbG9yZWREYXRhXSwgeyB0eXBlOiBcImltYWdlL3N2Zyt4bWxcIiB9KTtcbiAgICAgICAgICAgIGNvbnN0IGRvbVVybCA9IFVSTCB8fCB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkwgfHwgd2luZG93O1xuICAgICAgICAgICAgY29uc3QgdXJsID0gZG9tVXJsLmNyZWF0ZU9iamVjdFVSTChzdmcpO1xuICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWFnZVJlcyA9IHtcbiAgICAgICAgICAgICAgICBkYXRhOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGltYWdlKSwgeyBzdmdEYXRhOiBzdmdDb2xvcmVkRGF0YSB9KSxcbiAgICAgICAgICAgICAgICByYXRpbzogaW1hZ2VEYXRhLndpZHRoIC8gaW1hZ2VEYXRhLmhlaWdodCxcbiAgICAgICAgICAgICAgICByZXBsYWNlQ29sb3I6IChfZCA9IGltYWdlRGF0YS5yZXBsYWNlQ29sb3IpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGltYWdlRGF0YS5yZXBsYWNlX2NvbG9yLFxuICAgICAgICAgICAgICAgIHNvdXJjZTogaW1hZ2VEYXRhLnNyYyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBJbWFnZSA9IHBhcnRpY2xlLmltYWdlO1xuICAgICAgICAgICAgICAgIGlmIChwSW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcEltYWdlLmxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlLmVsZW1lbnQgPSBpbWc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRvbVVybC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZG9tVXJsLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICAgICAgICAgICgwLCBVdGlsc18yLmxvYWRJbWFnZSkoaW1hZ2VEYXRhLnNyYykudGhlbigoaW1nMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwSW1hZ2UgPSBwYXJ0aWNsZS5pbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBJbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuZWxlbWVudCA9IGltZzIgPT09IG51bGwgfHwgaW1nMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW1nMi5lbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcEltYWdlLmxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGltYWdlUmVzID0ge1xuICAgICAgICAgICAgICAgIGRhdGE6IGltYWdlLFxuICAgICAgICAgICAgICAgIGxvYWRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICByYXRpbzogaW1hZ2VEYXRhLndpZHRoIC8gaW1hZ2VEYXRhLmhlaWdodCxcbiAgICAgICAgICAgICAgICByZXBsYWNlQ29sb3I6IChfZSA9IGltYWdlRGF0YS5yZXBsYWNlQ29sb3IpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IGltYWdlRGF0YS5yZXBsYWNlX2NvbG9yLFxuICAgICAgICAgICAgICAgIHNvdXJjZTogaW1hZ2VEYXRhLnNyYyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbWFnZVJlcy5yYXRpbykge1xuICAgICAgICAgICAgaW1hZ2VSZXMucmF0aW8gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbGwgPSAoX2YgPSBpbWFnZURhdGEuZmlsbCkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogcGFydGljbGUuZmlsbDtcbiAgICAgICAgY29uc3QgY2xvc2UgPSAoX2cgPSBpbWFnZURhdGEuY2xvc2UpICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6IHBhcnRpY2xlLmNsb3NlO1xuICAgICAgICBjb25zdCBpbWFnZVNoYXBlID0ge1xuICAgICAgICAgICAgaW1hZ2U6IGltYWdlUmVzLFxuICAgICAgICAgICAgZmlsbCxcbiAgICAgICAgICAgIGNsb3NlLFxuICAgICAgICB9O1xuICAgICAgICBwYXJ0aWNsZS5pbWFnZSA9IGltYWdlU2hhcGUuaW1hZ2U7XG4gICAgICAgIHBhcnRpY2xlLmZpbGwgPSBpbWFnZVNoYXBlLmZpbGw7XG4gICAgICAgIHBhcnRpY2xlLmNsb3NlID0gaW1hZ2VTaGFwZS5jbG9zZTtcbiAgICB9XG59XG5leHBvcnRzLkltYWdlRHJhd2VyID0gSW1hZ2VEcmF3ZXI7XG5fSW1hZ2VEcmF3ZXJfaW1hZ2VzID0gbmV3IFdlYWtNYXAoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXBsYWNlQ29sb3JTdmcgPSBleHBvcnRzLmRvd25sb2FkU3ZnSW1hZ2UgPSBleHBvcnRzLmxvYWRJbWFnZSA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vVXRpbHNcIik7XG5mdW5jdGlvbiBsb2FkSW1hZ2Uoc291cmNlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgICAgIHJlamVjdChcIkVycm9yIHRzUGFydGljbGVzIC0gTm8gaW1hZ2Uuc3JjXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGltYWdlID0ge1xuICAgICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgICB0eXBlOiBzb3VyY2Uuc3Vic3RyKHNvdXJjZS5sZW5ndGggLSAzKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpbWFnZS5lbGVtZW50ID0gaW1nO1xuICAgICAgICAgICAgcmVzb2x2ZShpbWFnZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdChgRXJyb3IgdHNQYXJ0aWNsZXMgLSBsb2FkaW5nIGltYWdlOiAke3NvdXJjZX1gKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGltZy5zcmMgPSBzb3VyY2U7XG4gICAgfSk7XG59XG5leHBvcnRzLmxvYWRJbWFnZSA9IGxvYWRJbWFnZTtcbmFzeW5jIGZ1bmN0aW9uIGRvd25sb2FkU3ZnSW1hZ2Uoc291cmNlKSB7XG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgdHNQYXJ0aWNsZXMgLSBObyBpbWFnZS5zcmNcIik7XG4gICAgfVxuICAgIGNvbnN0IGltYWdlID0ge1xuICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgdHlwZTogc291cmNlLnN1YnN0cihzb3VyY2UubGVuZ3RoIC0gMyksXG4gICAgfTtcbiAgICBpZiAoaW1hZ2UudHlwZSAhPT0gXCJzdmdcIikge1xuICAgICAgICByZXR1cm4gbG9hZEltYWdlKHNvdXJjZSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goaW1hZ2Uuc291cmNlKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIHRzUGFydGljbGVzIC0gSW1hZ2Ugbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICBpbWFnZS5zdmdEYXRhID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIHJldHVybiBpbWFnZTtcbn1cbmV4cG9ydHMuZG93bmxvYWRTdmdJbWFnZSA9IGRvd25sb2FkU3ZnSW1hZ2U7XG5mdW5jdGlvbiByZXBsYWNlQ29sb3JTdmcoaW1hZ2VTaGFwZSwgY29sb3IsIG9wYWNpdHkpIHtcbiAgICBjb25zdCB7IHN2Z0RhdGEgfSA9IGltYWdlU2hhcGU7XG4gICAgaWYgKCFzdmdEYXRhKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBpZiAoc3ZnRGF0YS5pbmNsdWRlcyhcImZpbGxcIikpIHtcbiAgICAgICAgY29uc3QgY3VycmVudENvbG9yID0gLygjKD86WzAtOWEtZl17Mn0pezIsNH18KCNbMC05YS1mXXszfSl8KHJnYnxoc2wpYT9cXCgoLT9cXGQrJT9bLFxcc10rKXsyLDN9XFxzKltcXGQuXSslP1xcKSl8Y3VycmVudGNvbG9yL2dpO1xuICAgICAgICByZXR1cm4gc3ZnRGF0YS5yZXBsYWNlKGN1cnJlbnRDb2xvciwgKCkgPT4gKDAsIFV0aWxzXzEuZ2V0U3R5bGVGcm9tSHNsKShjb2xvciwgb3BhY2l0eSkpO1xuICAgIH1cbiAgICBjb25zdCBwcmVGaWxsSW5kZXggPSBzdmdEYXRhLmluZGV4T2YoXCI+XCIpO1xuICAgIHJldHVybiBgJHtzdmdEYXRhLnN1YnN0cmluZygwLCBwcmVGaWxsSW5kZXgpfSBmaWxsPVwiJHsoMCwgVXRpbHNfMS5nZXRTdHlsZUZyb21Ic2wpKGNvbG9yLCBvcGFjaXR5KX1cIiR7c3ZnRGF0YS5zdWJzdHJpbmcocHJlRmlsbEluZGV4KX1gO1xufVxuZXhwb3J0cy5yZXBsYWNlQ29sb3JTdmcgPSByZXBsYWNlQ29sb3JTdmc7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZEltYWdlU2hhcGUgPSB2b2lkIDA7XG5jb25zdCBJbWFnZURyYXdlcl8xID0gcmVxdWlyZShcIi4vSW1hZ2VEcmF3ZXJcIik7XG5hc3luYyBmdW5jdGlvbiBsb2FkSW1hZ2VTaGFwZSh0c1BhcnRpY2xlcykge1xuICAgIGNvbnN0IGltYWdlRHJhd2VyID0gbmV3IEltYWdlRHJhd2VyXzEuSW1hZ2VEcmF3ZXIoKTtcbiAgICBhd2FpdCB0c1BhcnRpY2xlcy5hZGRTaGFwZShcImltYWdlXCIsIGltYWdlRHJhd2VyKTtcbiAgICBhd2FpdCB0c1BhcnRpY2xlcy5hZGRTaGFwZShcImltYWdlc1wiLCBpbWFnZURyYXdlcik7XG59XG5leHBvcnRzLmxvYWRJbWFnZVNoYXBlID0gbG9hZEltYWdlU2hhcGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGluZURyYXdlciA9IHZvaWQgMDtcbmNsYXNzIExpbmVEcmF3ZXIge1xuICAgIGdldFNpZGVzQ291bnQoKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBkcmF3KGNvbnRleHQsIHBhcnRpY2xlLCByYWRpdXMpIHtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8oLXJhZGl1cyAvIDIsIDApO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhyYWRpdXMgLyAyLCAwKTtcbiAgICB9XG59XG5leHBvcnRzLkxpbmVEcmF3ZXIgPSBMaW5lRHJhd2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRMaW5lU2hhcGUgPSB2b2lkIDA7XG5jb25zdCBMaW5lRHJhd2VyXzEgPSByZXF1aXJlKFwiLi9MaW5lRHJhd2VyXCIpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZExpbmVTaGFwZSh0c1BhcnRpY2xlcykge1xuICAgIGF3YWl0IHRzUGFydGljbGVzLmFkZFNoYXBlKFwibGluZVwiLCBuZXcgTGluZURyYXdlcl8xLkxpbmVEcmF3ZXIoKSk7XG59XG5leHBvcnRzLmxvYWRMaW5lU2hhcGUgPSBsb2FkTGluZVNoYXBlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbHlnb25EcmF3ZXIgPSB2b2lkIDA7XG5jb25zdCBQb2x5Z29uRHJhd2VyQmFzZV8xID0gcmVxdWlyZShcIi4vUG9seWdvbkRyYXdlckJhc2VcIik7XG5jbGFzcyBQb2x5Z29uRHJhd2VyIGV4dGVuZHMgUG9seWdvbkRyYXdlckJhc2VfMS5Qb2x5Z29uRHJhd2VyQmFzZSB7XG4gICAgZ2V0U2lkZXNEYXRhKHBhcnRpY2xlLCByYWRpdXMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgcG9seWdvbiA9IHBhcnRpY2xlLnNoYXBlRGF0YTtcbiAgICAgICAgY29uc3Qgc2lkZXMgPSAoX2IgPSAoX2EgPSBwb2x5Z29uID09PSBudWxsIHx8IHBvbHlnb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvbHlnb24uc2lkZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHBvbHlnb24gPT09IG51bGwgfHwgcG9seWdvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9seWdvbi5uYl9zaWRlcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogNTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvdW50OiB7XG4gICAgICAgICAgICAgICAgZGVub21pbmF0b3I6IDEsXG4gICAgICAgICAgICAgICAgbnVtZXJhdG9yOiBzaWRlcyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsZW5ndGg6IChyYWRpdXMgKiAyLjY2KSAvIChzaWRlcyAvIDMpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRDZW50ZXIocGFydGljbGUsIHJhZGl1cykge1xuICAgICAgICBjb25zdCBzaWRlcyA9IHRoaXMuZ2V0U2lkZXNDb3VudChwYXJ0aWNsZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiAtcmFkaXVzIC8gKHNpZGVzIC8gMy41KSxcbiAgICAgICAgICAgIHk6IC1yYWRpdXMgLyAoMi42NiAvIDMuNSksXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5Qb2x5Z29uRHJhd2VyID0gUG9seWdvbkRyYXdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb2x5Z29uRHJhd2VyQmFzZSA9IHZvaWQgMDtcbmNsYXNzIFBvbHlnb25EcmF3ZXJCYXNlIHtcbiAgICBnZXRTaWRlc0NvdW50KHBhcnRpY2xlKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHBvbHlnb24gPSBwYXJ0aWNsZS5zaGFwZURhdGE7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBwb2x5Z29uID09PSBudWxsIHx8IHBvbHlnb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvbHlnb24uc2lkZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHBvbHlnb24gPT09IG51bGwgfHwgcG9seWdvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9seWdvbi5uYl9zaWRlcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogNTtcbiAgICB9XG4gICAgZHJhdyhjb250ZXh0LCBwYXJ0aWNsZSwgcmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5nZXRDZW50ZXIocGFydGljbGUsIHJhZGl1cyk7XG4gICAgICAgIGNvbnN0IHNpZGUgPSB0aGlzLmdldFNpZGVzRGF0YShwYXJ0aWNsZSwgcmFkaXVzKTtcbiAgICAgICAgY29uc3Qgc2lkZUNvdW50ID0gc2lkZS5jb3VudC5udW1lcmF0b3IgKiBzaWRlLmNvdW50LmRlbm9taW5hdG9yO1xuICAgICAgICBjb25zdCBkZWNpbWFsU2lkZXMgPSBzaWRlLmNvdW50Lm51bWVyYXRvciAvIHNpZGUuY291bnQuZGVub21pbmF0b3I7XG4gICAgICAgIGNvbnN0IGludGVyaW9yQW5nbGVEZWdyZWVzID0gKDE4MCAqIChkZWNpbWFsU2lkZXMgLSAyKSkgLyBkZWNpbWFsU2lkZXM7XG4gICAgICAgIGNvbnN0IGludGVyaW9yQW5nbGUgPSBNYXRoLlBJIC0gKE1hdGguUEkgKiBpbnRlcmlvckFuZ2xlRGVncmVlcykgLyAxODA7XG4gICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHN0YXJ0LngsIHN0YXJ0LnkpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbygwLCAwKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaWRlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oc2lkZS5sZW5ndGgsIDApO1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc2lkZS5sZW5ndGgsIDApO1xuICAgICAgICAgICAgY29udGV4dC5yb3RhdGUoaW50ZXJpb3JBbmdsZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlBvbHlnb25EcmF3ZXJCYXNlID0gUG9seWdvbkRyYXdlckJhc2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVHJpYW5nbGVEcmF3ZXIgPSB2b2lkIDA7XG5jb25zdCBQb2x5Z29uRHJhd2VyQmFzZV8xID0gcmVxdWlyZShcIi4vUG9seWdvbkRyYXdlckJhc2VcIik7XG5jbGFzcyBUcmlhbmdsZURyYXdlciBleHRlbmRzIFBvbHlnb25EcmF3ZXJCYXNlXzEuUG9seWdvbkRyYXdlckJhc2Uge1xuICAgIGdldFNpZGVzQ291bnQoKSB7XG4gICAgICAgIHJldHVybiAzO1xuICAgIH1cbiAgICBnZXRTaWRlc0RhdGEocGFydGljbGUsIHJhZGl1cykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY291bnQ6IHtcbiAgICAgICAgICAgICAgICBkZW5vbWluYXRvcjogMixcbiAgICAgICAgICAgICAgICBudW1lcmF0b3I6IDMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGVuZ3RoOiByYWRpdXMgKiAyLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRDZW50ZXIocGFydGljbGUsIHJhZGl1cykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogLXJhZGl1cyxcbiAgICAgICAgICAgIHk6IHJhZGl1cyAvIDEuNjYsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5UcmlhbmdsZURyYXdlciA9IFRyaWFuZ2xlRHJhd2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRQb2x5Z29uU2hhcGUgPSBleHBvcnRzLmxvYWRUcmlhbmdsZVNoYXBlID0gZXhwb3J0cy5sb2FkR2VuZXJpY1BvbHlnb25TaGFwZSA9IHZvaWQgMDtcbmNvbnN0IFBvbHlnb25EcmF3ZXJfMSA9IHJlcXVpcmUoXCIuL1BvbHlnb25EcmF3ZXJcIik7XG5jb25zdCBUcmlhbmdsZURyYXdlcl8xID0gcmVxdWlyZShcIi4vVHJpYW5nbGVEcmF3ZXJcIik7XG5hc3luYyBmdW5jdGlvbiBsb2FkR2VuZXJpY1BvbHlnb25TaGFwZSh0c1BhcnRpY2xlcykge1xuICAgIGF3YWl0IHRzUGFydGljbGVzLmFkZFNoYXBlKFwicG9seWdvblwiLCBuZXcgUG9seWdvbkRyYXdlcl8xLlBvbHlnb25EcmF3ZXIoKSk7XG59XG5leHBvcnRzLmxvYWRHZW5lcmljUG9seWdvblNoYXBlID0gbG9hZEdlbmVyaWNQb2x5Z29uU2hhcGU7XG5hc3luYyBmdW5jdGlvbiBsb2FkVHJpYW5nbGVTaGFwZSh0c1BhcnRpY2xlcykge1xuICAgIGF3YWl0IHRzUGFydGljbGVzLmFkZFNoYXBlKFwidHJpYW5nbGVcIiwgbmV3IFRyaWFuZ2xlRHJhd2VyXzEuVHJpYW5nbGVEcmF3ZXIoKSk7XG59XG5leHBvcnRzLmxvYWRUcmlhbmdsZVNoYXBlID0gbG9hZFRyaWFuZ2xlU2hhcGU7XG5hc3luYyBmdW5jdGlvbiBsb2FkUG9seWdvblNoYXBlKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgbG9hZEdlbmVyaWNQb2x5Z29uU2hhcGUodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0IGxvYWRUcmlhbmdsZVNoYXBlKHRzUGFydGljbGVzKTtcbn1cbmV4cG9ydHMubG9hZFBvbHlnb25TaGFwZSA9IGxvYWRQb2x5Z29uU2hhcGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3F1YXJlRHJhd2VyID0gdm9pZCAwO1xuY29uc3QgZml4RmFjdG9yID0gTWF0aC5zcXJ0KDIpO1xuY2xhc3MgU3F1YXJlRHJhd2VyIHtcbiAgICBnZXRTaWRlc0NvdW50KCkge1xuICAgICAgICByZXR1cm4gNDtcbiAgICB9XG4gICAgZHJhdyhjb250ZXh0LCBwYXJ0aWNsZSwgcmFkaXVzKSB7XG4gICAgICAgIGNvbnRleHQucmVjdCgtcmFkaXVzIC8gZml4RmFjdG9yLCAtcmFkaXVzIC8gZml4RmFjdG9yLCAocmFkaXVzICogMikgLyBmaXhGYWN0b3IsIChyYWRpdXMgKiAyKSAvIGZpeEZhY3Rvcik7XG4gICAgfVxufVxuZXhwb3J0cy5TcXVhcmVEcmF3ZXIgPSBTcXVhcmVEcmF3ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZFNxdWFyZVNoYXBlID0gdm9pZCAwO1xuY29uc3QgU3F1YXJlRHJhd2VyXzEgPSByZXF1aXJlKFwiLi9TcXVhcmVEcmF3ZXJcIik7XG5hc3luYyBmdW5jdGlvbiBsb2FkU3F1YXJlU2hhcGUodHNQYXJ0aWNsZXMpIHtcbiAgICBjb25zdCBkcmF3ZXIgPSBuZXcgU3F1YXJlRHJhd2VyXzEuU3F1YXJlRHJhd2VyKCk7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkU2hhcGUoXCJlZGdlXCIsIGRyYXdlcik7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkU2hhcGUoXCJzcXVhcmVcIiwgZHJhd2VyKTtcbn1cbmV4cG9ydHMubG9hZFNxdWFyZVNoYXBlID0gbG9hZFNxdWFyZVNoYXBlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0YXJEcmF3ZXIgPSB2b2lkIDA7XG5jbGFzcyBTdGFyRHJhd2VyIHtcbiAgICBnZXRTaWRlc0NvdW50KHBhcnRpY2xlKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHN0YXIgPSBwYXJ0aWNsZS5zaGFwZURhdGE7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBzdGFyID09PSBudWxsIHx8IHN0YXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXIuc2lkZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHN0YXIgPT09IG51bGwgfHwgc3RhciA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3Rhci5uYl9zaWRlcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogNTtcbiAgICB9XG4gICAgZHJhdyhjb250ZXh0LCBwYXJ0aWNsZSwgcmFkaXVzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3Qgc3RhciA9IHBhcnRpY2xlLnNoYXBlRGF0YTtcbiAgICAgICAgY29uc3Qgc2lkZXMgPSB0aGlzLmdldFNpZGVzQ291bnQocGFydGljbGUpO1xuICAgICAgICBjb25zdCBpbnNldCA9IChfYSA9IHN0YXIgPT09IG51bGwgfHwgc3RhciA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3Rhci5pbnNldCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMjtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8oMCwgMCAtIHJhZGl1cyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2lkZXM7IGkrKykge1xuICAgICAgICAgICAgY29udGV4dC5yb3RhdGUoTWF0aC5QSSAvIHNpZGVzKTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKDAsIDAgLSByYWRpdXMgKiBpbnNldCk7XG4gICAgICAgICAgICBjb250ZXh0LnJvdGF0ZShNYXRoLlBJIC8gc2lkZXMpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oMCwgMCAtIHJhZGl1cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlN0YXJEcmF3ZXIgPSBTdGFyRHJhd2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRTdGFyU2hhcGUgPSB2b2lkIDA7XG5jb25zdCBTdGFyRHJhd2VyXzEgPSByZXF1aXJlKFwiLi9TdGFyRHJhd2VyXCIpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZFN0YXJTaGFwZSh0c1BhcnRpY2xlcykge1xuICAgIGF3YWl0IHRzUGFydGljbGVzLmFkZFNoYXBlKFwic3RhclwiLCBuZXcgU3RhckRyYXdlcl8xLlN0YXJEcmF3ZXIoKSk7XG59XG5leHBvcnRzLmxvYWRTdGFyU2hhcGUgPSBsb2FkU3RhclNoYXBlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRleHREcmF3ZXIgPSBleHBvcnRzLnZhbGlkVHlwZXMgPSB2b2lkIDA7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL1V0aWxzXCIpO1xuZXhwb3J0cy52YWxpZFR5cGVzID0gW1widGV4dFwiLCBcImNoYXJhY3RlclwiLCBcImNoYXJcIl07XG5jbGFzcyBUZXh0RHJhd2VyIHtcbiAgICBnZXRTaWRlc0NvdW50KCkge1xuICAgICAgICByZXR1cm4gMTI7XG4gICAgfVxuICAgIGFzeW5jIGluaXQoY29udGFpbmVyKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucztcbiAgICAgICAgaWYgKGV4cG9ydHMudmFsaWRUeXBlcy5maW5kKCh0KSA9PiAoMCwgVXRpbHNfMS5pc0luQXJyYXkpKHQsIG9wdGlvbnMucGFydGljbGVzLnNoYXBlLnR5cGUpKSkge1xuICAgICAgICAgICAgY29uc3Qgc2hhcGVPcHRpb25zID0gZXhwb3J0cy52YWxpZFR5cGVzLm1hcCgodCkgPT4gb3B0aW9ucy5wYXJ0aWNsZXMuc2hhcGUub3B0aW9uc1t0XSkuZmluZCgodCkgPT4gISF0KTtcbiAgICAgICAgICAgIGlmIChzaGFwZU9wdGlvbnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjaGFyYWN0ZXIgb2Ygc2hhcGVPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goKDAsIFV0aWxzXzEubG9hZEZvbnQpKGNoYXJhY3RlcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlT3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0ICgwLCBVdGlsc18xLmxvYWRGb250KShzaGFwZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3KGNvbnRleHQsIHBhcnRpY2xlLCByYWRpdXMsIG9wYWNpdHkpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlciA9IHBhcnRpY2xlLnNoYXBlRGF0YTtcbiAgICAgICAgaWYgKGNoYXJhY3RlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dERhdGEgPSBjaGFyYWN0ZXIudmFsdWU7XG4gICAgICAgIGlmICh0ZXh0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dFBhcnRpY2xlID0gcGFydGljbGU7XG4gICAgICAgIGlmICh0ZXh0UGFydGljbGUudGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0ZXh0UGFydGljbGUudGV4dCA9XG4gICAgICAgICAgICAgICAgdGV4dERhdGEgaW5zdGFuY2VvZiBBcnJheSA/ICgwLCBVdGlsc18xLml0ZW1Gcm9tQXJyYXkpKHRleHREYXRhLCBwYXJ0aWNsZS5yYW5kb21JbmRleERhdGEpIDogdGV4dERhdGE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dCA9IHRleHRQYXJ0aWNsZS50ZXh0O1xuICAgICAgICBjb25zdCBzdHlsZSA9IChfYSA9IGNoYXJhY3Rlci5zdHlsZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogXCJcIjtcbiAgICAgICAgY29uc3Qgd2VpZ2h0ID0gKF9iID0gY2hhcmFjdGVyLndlaWdodCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogXCI0MDBcIjtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IE1hdGgucm91bmQocmFkaXVzKSAqIDI7XG4gICAgICAgIGNvbnN0IGZvbnQgPSAoX2MgPSBjaGFyYWN0ZXIuZm9udCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogXCJWZXJkYW5hXCI7XG4gICAgICAgIGNvbnN0IGZpbGwgPSBwYXJ0aWNsZS5maWxsO1xuICAgICAgICBjb25zdCBvZmZzZXRYID0gKHRleHQubGVuZ3RoICogcmFkaXVzKSAvIDI7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGAke3N0eWxlfSAke3dlaWdodH0gJHtzaXplfXB4IFwiJHtmb250fVwiYDtcbiAgICAgICAgY29uc3QgcG9zID0ge1xuICAgICAgICAgICAgeDogLW9mZnNldFgsXG4gICAgICAgICAgICB5OiByYWRpdXMgLyAyLFxuICAgICAgICB9O1xuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gb3BhY2l0eTtcbiAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGV4dCwgcG9zLngsIHBvcy55KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dCh0ZXh0LCBwb3MueCwgcG9zLnkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxO1xuICAgIH1cbn1cbmV4cG9ydHMuVGV4dERyYXdlciA9IFRleHREcmF3ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZFRleHRTaGFwZSA9IHZvaWQgMDtcbmNvbnN0IFRleHREcmF3ZXJfMSA9IHJlcXVpcmUoXCIuL1RleHREcmF3ZXJcIik7XG5hc3luYyBmdW5jdGlvbiBsb2FkVGV4dFNoYXBlKHRzUGFydGljbGVzKSB7XG4gICAgY29uc3QgZHJhd2VyID0gbmV3IFRleHREcmF3ZXJfMS5UZXh0RHJhd2VyKCk7XG4gICAgZm9yIChjb25zdCB0eXBlIG9mIFRleHREcmF3ZXJfMS52YWxpZFR5cGVzKSB7XG4gICAgICAgIGF3YWl0IHRzUGFydGljbGVzLmFkZFNoYXBlKHR5cGUsIGRyYXdlcik7XG4gICAgfVxufVxuZXhwb3J0cy5sb2FkVGV4dFNoYXBlID0gbG9hZFRleHRTaGFwZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vUmFuZ2VWYWx1ZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vUmVjdXJzaXZlUGFydGlhbFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vU2hhcGVEYXRhXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9TaGFwZURyYXdlckZ1bmN0aW9uc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vU2luZ2xlT3JNdWx0aXBsZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vUGF0aE9wdGlvbnNcIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFuZ2xlVXBkYXRlciA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vRW51bXNcIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL1V0aWxzXCIpO1xuZnVuY3Rpb24gdXBkYXRlQW5nbGUocGFydGljbGUsIGRlbHRhKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJvdGF0ZSA9IHBhcnRpY2xlLnJvdGF0ZTtcbiAgICBpZiAoIXJvdGF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJvdGF0ZU9wdGlvbnMgPSBwYXJ0aWNsZS5vcHRpb25zLnJvdGF0ZTtcbiAgICBjb25zdCByb3RhdGVBbmltYXRpb24gPSByb3RhdGVPcHRpb25zLmFuaW1hdGlvbjtcbiAgICBjb25zdCBzcGVlZCA9ICgoX2EgPSByb3RhdGUudmVsb2NpdHkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDApICogZGVsdGEuZmFjdG9yO1xuICAgIGNvbnN0IG1heCA9IDIgKiBNYXRoLlBJO1xuICAgIGlmICghcm90YXRlQW5pbWF0aW9uLmVuYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAocm90YXRlLnN0YXR1cykge1xuICAgICAgICBjYXNlIEVudW1zXzEuQW5pbWF0aW9uU3RhdHVzLmluY3JlYXNpbmc6XG4gICAgICAgICAgICByb3RhdGUudmFsdWUgKz0gc3BlZWQ7XG4gICAgICAgICAgICBpZiAocm90YXRlLnZhbHVlID4gbWF4KSB7XG4gICAgICAgICAgICAgICAgcm90YXRlLnZhbHVlIC09IG1heDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEVudW1zXzEuQW5pbWF0aW9uU3RhdHVzLmRlY3JlYXNpbmc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByb3RhdGUudmFsdWUgLT0gc3BlZWQ7XG4gICAgICAgICAgICBpZiAocm90YXRlLnZhbHVlIDwgMCkge1xuICAgICAgICAgICAgICAgIHJvdGF0ZS52YWx1ZSArPSBtYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5jbGFzcyBBbmdsZVVwZGF0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB9XG4gICAgaW5pdChwYXJ0aWNsZSkge1xuICAgICAgICBjb25zdCByb3RhdGVPcHRpb25zID0gcGFydGljbGUub3B0aW9ucy5yb3RhdGU7XG4gICAgICAgIHBhcnRpY2xlLnJvdGF0ZSA9IHtcbiAgICAgICAgICAgIGVuYWJsZTogcm90YXRlT3B0aW9ucy5hbmltYXRpb24uZW5hYmxlLFxuICAgICAgICAgICAgdmFsdWU6ICgoMCwgVXRpbHNfMS5nZXRSYW5nZVZhbHVlKShyb3RhdGVPcHRpb25zLnZhbHVlKSAqIE1hdGguUEkpIC8gMTgwLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgcm90YXRlRGlyZWN0aW9uID0gcm90YXRlT3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICAgIGlmIChyb3RhdGVEaXJlY3Rpb24gPT09IEVudW1zXzEuUm90YXRlRGlyZWN0aW9uLnJhbmRvbSkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTtcbiAgICAgICAgICAgIHJvdGF0ZURpcmVjdGlvbiA9IGluZGV4ID4gMCA/IEVudW1zXzEuUm90YXRlRGlyZWN0aW9uLmNvdW50ZXJDbG9ja3dpc2UgOiBFbnVtc18xLlJvdGF0ZURpcmVjdGlvbi5jbG9ja3dpc2U7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChyb3RhdGVEaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5Sb3RhdGVEaXJlY3Rpb24uY291bnRlckNsb2Nrd2lzZTpcbiAgICAgICAgICAgIGNhc2UgXCJjb3VudGVyQ2xvY2t3aXNlXCI6XG4gICAgICAgICAgICAgICAgcGFydGljbGUucm90YXRlLnN0YXR1cyA9IEVudW1zXzEuQW5pbWF0aW9uU3RhdHVzLmRlY3JlYXNpbmc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVudW1zXzEuUm90YXRlRGlyZWN0aW9uLmNsb2Nrd2lzZTpcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5yb3RhdGUuc3RhdHVzID0gRW51bXNfMS5BbmltYXRpb25TdGF0dXMuaW5jcmVhc2luZztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByb3RhdGVBbmltYXRpb24gPSBwYXJ0aWNsZS5vcHRpb25zLnJvdGF0ZS5hbmltYXRpb247XG4gICAgICAgIGlmIChyb3RhdGVBbmltYXRpb24uZW5hYmxlKSB7XG4gICAgICAgICAgICBwYXJ0aWNsZS5yb3RhdGUudmVsb2NpdHkgPSAocm90YXRlQW5pbWF0aW9uLnNwZWVkIC8gMzYwKSAqIHRoaXMuY29udGFpbmVyLnJldGluYS5yZWR1Y2VGYWN0b3I7XG4gICAgICAgICAgICBpZiAoIXJvdGF0ZUFuaW1hdGlvbi5zeW5jKSB7XG4gICAgICAgICAgICAgICAgcGFydGljbGUucm90YXRlLnZlbG9jaXR5ICo9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNFbmFibGVkKHBhcnRpY2xlKSB7XG4gICAgICAgIGNvbnN0IHJvdGF0ZSA9IHBhcnRpY2xlLm9wdGlvbnMucm90YXRlO1xuICAgICAgICBjb25zdCByb3RhdGVBbmltYXRpb24gPSByb3RhdGUuYW5pbWF0aW9uO1xuICAgICAgICByZXR1cm4gIXBhcnRpY2xlLmRlc3Ryb3llZCAmJiAhcGFydGljbGUuc3Bhd25pbmcgJiYgIXJvdGF0ZS5wYXRoICYmIHJvdGF0ZUFuaW1hdGlvbi5lbmFibGU7XG4gICAgfVxuICAgIHVwZGF0ZShwYXJ0aWNsZSwgZGVsdGEpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZChwYXJ0aWNsZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVBbmdsZShwYXJ0aWNsZSwgZGVsdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuQW5nbGVVcGRhdGVyID0gQW5nbGVVcGRhdGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRBbmdsZVVwZGF0ZXIgPSB2b2lkIDA7XG5jb25zdCBBbmdsZVVwZGF0ZXJfMSA9IHJlcXVpcmUoXCIuL0FuZ2xlVXBkYXRlclwiKTtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRBbmdsZVVwZGF0ZXIodHNQYXJ0aWNsZXMpIHtcbiAgICBhd2FpdCB0c1BhcnRpY2xlcy5hZGRQYXJ0aWNsZVVwZGF0ZXIoXCJhbmdsZVwiLCAoY29udGFpbmVyKSA9PiBuZXcgQW5nbGVVcGRhdGVyXzEuQW5nbGVVcGRhdGVyKGNvbnRhaW5lcikpO1xufVxuZXhwb3J0cy5sb2FkQW5nbGVVcGRhdGVyID0gbG9hZEFuZ2xlVXBkYXRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db2xvclVwZGF0ZXIgPSB2b2lkIDA7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uL0VudW1zXCIpO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9VdGlsc1wiKTtcbmZ1bmN0aW9uIHVwZGF0ZUNvbG9yVmFsdWUoZGVsdGEsIHZhbHVlLCB2YWx1ZUFuaW1hdGlvbiwgbWF4LCBkZWNyZWFzZSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBjb2xvclZhbHVlID0gdmFsdWU7XG4gICAgaWYgKCFjb2xvclZhbHVlIHx8ICF2YWx1ZUFuaW1hdGlvbi5lbmFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBvZmZzZXQgPSAoMCwgVXRpbHNfMS5yYW5kb21JblJhbmdlKSh2YWx1ZUFuaW1hdGlvbi5vZmZzZXQpO1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gKChfYSA9IHZhbHVlLnZlbG9jaXR5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwKSAqIGRlbHRhLmZhY3RvciArIG9mZnNldCAqIDMuNjtcbiAgICBpZiAoIWRlY3JlYXNlIHx8IGNvbG9yVmFsdWUuc3RhdHVzID09PSBFbnVtc18xLkFuaW1hdGlvblN0YXR1cy5pbmNyZWFzaW5nKSB7XG4gICAgICAgIGNvbG9yVmFsdWUudmFsdWUgKz0gdmVsb2NpdHk7XG4gICAgICAgIGlmIChkZWNyZWFzZSAmJiBjb2xvclZhbHVlLnZhbHVlID4gbWF4KSB7XG4gICAgICAgICAgICBjb2xvclZhbHVlLnN0YXR1cyA9IEVudW1zXzEuQW5pbWF0aW9uU3RhdHVzLmRlY3JlYXNpbmc7XG4gICAgICAgICAgICBjb2xvclZhbHVlLnZhbHVlIC09IGNvbG9yVmFsdWUudmFsdWUgJSBtYXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbG9yVmFsdWUudmFsdWUgLT0gdmVsb2NpdHk7XG4gICAgICAgIGlmIChjb2xvclZhbHVlLnZhbHVlIDwgMCkge1xuICAgICAgICAgICAgY29sb3JWYWx1ZS5zdGF0dXMgPSBFbnVtc18xLkFuaW1hdGlvblN0YXR1cy5pbmNyZWFzaW5nO1xuICAgICAgICAgICAgY29sb3JWYWx1ZS52YWx1ZSArPSBjb2xvclZhbHVlLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjb2xvclZhbHVlLnZhbHVlID4gbWF4KSB7XG4gICAgICAgIGNvbG9yVmFsdWUudmFsdWUgJT0gbWF4O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZUNvbG9yKHBhcnRpY2xlLCBkZWx0YSkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IGFuaW1hdGlvbk9wdGlvbnMgPSBwYXJ0aWNsZS5vcHRpb25zLmNvbG9yLmFuaW1hdGlvbjtcbiAgICBpZiAoKChfYSA9IHBhcnRpY2xlLmNvbG9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaCkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cGRhdGVDb2xvclZhbHVlKGRlbHRhLCBwYXJ0aWNsZS5jb2xvci5oLCBhbmltYXRpb25PcHRpb25zLmgsIDM2MCwgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAoKChfYiA9IHBhcnRpY2xlLmNvbG9yKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucykgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cGRhdGVDb2xvclZhbHVlKGRlbHRhLCBwYXJ0aWNsZS5jb2xvci5zLCBhbmltYXRpb25PcHRpb25zLnMsIDEwMCwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmICgoKF9jID0gcGFydGljbGUuY29sb3IpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5sKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwZGF0ZUNvbG9yVmFsdWUoZGVsdGEsIHBhcnRpY2xlLmNvbG9yLmwsIGFuaW1hdGlvbk9wdGlvbnMubCwgMTAwLCB0cnVlKTtcbiAgICB9XG59XG5jbGFzcyBDb2xvclVwZGF0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB9XG4gICAgaW5pdChwYXJ0aWNsZSkge1xuICAgICAgICBjb25zdCBoc2xDb2xvciA9ICgwLCBVdGlsc18xLmNvbG9yVG9Ic2wpKHBhcnRpY2xlLm9wdGlvbnMuY29sb3IsIHBhcnRpY2xlLmlkLCBwYXJ0aWNsZS5vcHRpb25zLnJlZHVjZUR1cGxpY2F0ZXMpO1xuICAgICAgICBpZiAoaHNsQ29sb3IpIHtcbiAgICAgICAgICAgIHBhcnRpY2xlLmNvbG9yID0gKDAsIFV0aWxzXzEuZ2V0SHNsQW5pbWF0aW9uRnJvbUhzbCkoaHNsQ29sb3IsIHBhcnRpY2xlLm9wdGlvbnMuY29sb3IuYW5pbWF0aW9uLCB0aGlzLmNvbnRhaW5lci5yZXRpbmEucmVkdWNlRmFjdG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc0VuYWJsZWQocGFydGljbGUpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbk9wdGlvbnMgPSBwYXJ0aWNsZS5vcHRpb25zLmNvbG9yLmFuaW1hdGlvbjtcbiAgICAgICAgcmV0dXJuICghcGFydGljbGUuZGVzdHJveWVkICYmXG4gICAgICAgICAgICAhcGFydGljbGUuc3Bhd25pbmcgJiZcbiAgICAgICAgICAgICgoKChfYSA9IHBhcnRpY2xlLmNvbG9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaC52YWx1ZSkgIT09IHVuZGVmaW5lZCAmJiBhbmltYXRpb25PcHRpb25zLmguZW5hYmxlKSB8fFxuICAgICAgICAgICAgICAgICgoKF9iID0gcGFydGljbGUuY29sb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zLnZhbHVlKSAhPT0gdW5kZWZpbmVkICYmIGFuaW1hdGlvbk9wdGlvbnMucy5lbmFibGUpIHx8XG4gICAgICAgICAgICAgICAgKCgoX2MgPSBwYXJ0aWNsZS5jb2xvcikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmwudmFsdWUpICE9PSB1bmRlZmluZWQgJiYgYW5pbWF0aW9uT3B0aW9ucy5sLmVuYWJsZSkpKTtcbiAgICB9XG4gICAgdXBkYXRlKHBhcnRpY2xlLCBkZWx0YSkge1xuICAgICAgICB1cGRhdGVDb2xvcihwYXJ0aWNsZSwgZGVsdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29sb3JVcGRhdGVyID0gQ29sb3JVcGRhdGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRDb2xvclVwZGF0ZXIgPSB2b2lkIDA7XG5jb25zdCBDb2xvclVwZGF0ZXJfMSA9IHJlcXVpcmUoXCIuL0NvbG9yVXBkYXRlclwiKTtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRDb2xvclVwZGF0ZXIodHNQYXJ0aWNsZXMpIHtcbiAgICBhd2FpdCB0c1BhcnRpY2xlcy5hZGRQYXJ0aWNsZVVwZGF0ZXIoXCJjb2xvclwiLCAoY29udGFpbmVyKSA9PiBuZXcgQ29sb3JVcGRhdGVyXzEuQ29sb3JVcGRhdGVyKGNvbnRhaW5lcikpO1xufVxuZXhwb3J0cy5sb2FkQ29sb3JVcGRhdGVyID0gbG9hZENvbG9yVXBkYXRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MaWZlVXBkYXRlciA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vVXRpbHNcIik7XG5jbGFzcyBMaWZlVXBkYXRlciB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIH1cbiAgICBpbml0KCkge1xuICAgIH1cbiAgICBpc0VuYWJsZWQocGFydGljbGUpIHtcbiAgICAgICAgcmV0dXJuICFwYXJ0aWNsZS5kZXN0cm95ZWQ7XG4gICAgfVxuICAgIHVwZGF0ZShwYXJ0aWNsZSwgZGVsdGEpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZChwYXJ0aWNsZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaWZlID0gcGFydGljbGUubGlmZTtcbiAgICAgICAgbGV0IGp1c3RTcGF3bmVkID0gZmFsc2U7XG4gICAgICAgIGlmIChwYXJ0aWNsZS5zcGF3bmluZykge1xuICAgICAgICAgICAgbGlmZS5kZWxheVRpbWUgKz0gZGVsdGEudmFsdWU7XG4gICAgICAgICAgICBpZiAobGlmZS5kZWxheVRpbWUgPj0gcGFydGljbGUubGlmZS5kZWxheSkge1xuICAgICAgICAgICAgICAgIGp1c3RTcGF3bmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5zcGF3bmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxpZmUuZGVsYXlUaW1lID0gMDtcbiAgICAgICAgICAgICAgICBsaWZlLnRpbWUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsaWZlLmR1cmF0aW9uID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWNsZS5zcGF3bmluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqdXN0U3Bhd25lZCkge1xuICAgICAgICAgICAgbGlmZS50aW1lID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxpZmUudGltZSArPSBkZWx0YS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGlmZS50aW1lIDwgbGlmZS5kdXJhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxpZmUudGltZSA9IDA7XG4gICAgICAgIGlmIChwYXJ0aWNsZS5saWZlLmNvdW50ID4gMCkge1xuICAgICAgICAgICAgcGFydGljbGUubGlmZS5jb3VudC0tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWNsZS5saWZlLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICBwYXJ0aWNsZS5kZXN0cm95KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FudmFzU2l6ZSA9IHRoaXMuY29udGFpbmVyLmNhbnZhcy5zaXplLCB3aWR0aFJhbmdlID0gKDAsIFV0aWxzXzEuc2V0UmFuZ2VWYWx1ZSkoMCwgY2FudmFzU2l6ZS53aWR0aCksIGhlaWdodFJhbmdlID0gKDAsIFV0aWxzXzEuc2V0UmFuZ2VWYWx1ZSkoMCwgY2FudmFzU2l6ZS53aWR0aCk7XG4gICAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnggPSAoMCwgVXRpbHNfMS5yYW5kb21JblJhbmdlKSh3aWR0aFJhbmdlKTtcbiAgICAgICAgcGFydGljbGUucG9zaXRpb24ueSA9ICgwLCBVdGlsc18xLnJhbmRvbUluUmFuZ2UpKGhlaWdodFJhbmdlKTtcbiAgICAgICAgcGFydGljbGUuc3Bhd25pbmcgPSB0cnVlO1xuICAgICAgICBsaWZlLmRlbGF5VGltZSA9IDA7XG4gICAgICAgIGxpZmUudGltZSA9IDA7XG4gICAgICAgIHBhcnRpY2xlLnJlc2V0KCk7XG4gICAgICAgIGNvbnN0IGxpZmVPcHRpb25zID0gcGFydGljbGUub3B0aW9ucy5saWZlO1xuICAgICAgICBsaWZlLmRlbGF5ID0gKDAsIFV0aWxzXzEuZ2V0UmFuZ2VWYWx1ZSkobGlmZU9wdGlvbnMuZGVsYXkudmFsdWUpICogMTAwMDtcbiAgICAgICAgbGlmZS5kdXJhdGlvbiA9ICgwLCBVdGlsc18xLmdldFJhbmdlVmFsdWUpKGxpZmVPcHRpb25zLmR1cmF0aW9uLnZhbHVlKSAqIDEwMDA7XG4gICAgfVxufVxuZXhwb3J0cy5MaWZlVXBkYXRlciA9IExpZmVVcGRhdGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRMaWZlVXBkYXRlciA9IHZvaWQgMDtcbmNvbnN0IExpZmVVcGRhdGVyXzEgPSByZXF1aXJlKFwiLi9MaWZlVXBkYXRlclwiKTtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRMaWZlVXBkYXRlcih0c1BhcnRpY2xlcykge1xuICAgIGF3YWl0IHRzUGFydGljbGVzLmFkZFBhcnRpY2xlVXBkYXRlcihcImxpZmVcIiwgKGNvbnRhaW5lcikgPT4gbmV3IExpZmVVcGRhdGVyXzEuTGlmZVVwZGF0ZXIoY29udGFpbmVyKSk7XG59XG5leHBvcnRzLmxvYWRMaWZlVXBkYXRlciA9IGxvYWRMaWZlVXBkYXRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PcGFjaXR5VXBkYXRlciA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vRW51bXNcIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL1V0aWxzXCIpO1xuZnVuY3Rpb24gY2hlY2tEZXN0cm95KHBhcnRpY2xlLCB2YWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlKSB7XG4gICAgc3dpdGNoIChwYXJ0aWNsZS5vcHRpb25zLm9wYWNpdHkuYW5pbWF0aW9uLmRlc3Ryb3kpIHtcbiAgICAgICAgY2FzZSBFbnVtc18xLkRlc3Ryb3lUeXBlLm1heDpcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+PSBtYXhWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEVudW1zXzEuRGVzdHJveVR5cGUubWluOlxuICAgICAgICAgICAgaWYgKHZhbHVlIDw9IG1pblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcGFydGljbGUuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuZnVuY3Rpb24gdXBkYXRlT3BhY2l0eShwYXJ0aWNsZSwgZGVsdGEpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgIGlmICghcGFydGljbGUub3BhY2l0eSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1pblZhbHVlID0gcGFydGljbGUub3BhY2l0eS5taW47XG4gICAgY29uc3QgbWF4VmFsdWUgPSBwYXJ0aWNsZS5vcGFjaXR5Lm1heDtcbiAgICBpZiAoISghcGFydGljbGUuZGVzdHJveWVkICYmXG4gICAgICAgIHBhcnRpY2xlLm9wYWNpdHkuZW5hYmxlICYmXG4gICAgICAgICgoKF9hID0gcGFydGljbGUub3BhY2l0eS5tYXhMb29wcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgPD0gMCB8fCAoKF9iID0gcGFydGljbGUub3BhY2l0eS5sb29wcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMCkgPCAoKF9jID0gcGFydGljbGUub3BhY2l0eS5tYXhMb29wcykgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMCkpKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAocGFydGljbGUub3BhY2l0eS5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSBFbnVtc18xLkFuaW1hdGlvblN0YXR1cy5pbmNyZWFzaW5nOlxuICAgICAgICAgICAgaWYgKHBhcnRpY2xlLm9wYWNpdHkudmFsdWUgPj0gbWF4VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5vcGFjaXR5LnN0YXR1cyA9IEVudW1zXzEuQW5pbWF0aW9uU3RhdHVzLmRlY3JlYXNpbmc7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJ0aWNsZS5vcGFjaXR5Lmxvb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlLm9wYWNpdHkubG9vcHMgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5vcGFjaXR5Lmxvb3BzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5vcGFjaXR5LnZhbHVlICs9ICgoX2QgPSBwYXJ0aWNsZS5vcGFjaXR5LnZlbG9jaXR5KSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAwKSAqIGRlbHRhLmZhY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEVudW1zXzEuQW5pbWF0aW9uU3RhdHVzLmRlY3JlYXNpbmc6XG4gICAgICAgICAgICBpZiAocGFydGljbGUub3BhY2l0eS52YWx1ZSA8PSBtaW5WYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlLm9wYWNpdHkuc3RhdHVzID0gRW51bXNfMS5BbmltYXRpb25TdGF0dXMuaW5jcmVhc2luZztcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnRpY2xlLm9wYWNpdHkubG9vcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydGljbGUub3BhY2l0eS5sb29wcyA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcnRpY2xlLm9wYWNpdHkubG9vcHMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlLm9wYWNpdHkudmFsdWUgLT0gKChfZSA9IHBhcnRpY2xlLm9wYWNpdHkudmVsb2NpdHkpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IDApICogZGVsdGEuZmFjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNoZWNrRGVzdHJveShwYXJ0aWNsZSwgcGFydGljbGUub3BhY2l0eS52YWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlKTtcbiAgICBpZiAoIXBhcnRpY2xlLmRlc3Ryb3llZCkge1xuICAgICAgICBwYXJ0aWNsZS5vcGFjaXR5LnZhbHVlID0gKDAsIFV0aWxzXzEuY2xhbXApKHBhcnRpY2xlLm9wYWNpdHkudmFsdWUsIG1pblZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgfVxufVxuY2xhc3MgT3BhY2l0eVVwZGF0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB9XG4gICAgaW5pdChwYXJ0aWNsZSkge1xuICAgICAgICBjb25zdCBvcGFjaXR5T3B0aW9ucyA9IHBhcnRpY2xlLm9wdGlvbnMub3BhY2l0eTtcbiAgICAgICAgcGFydGljbGUub3BhY2l0eSA9IHtcbiAgICAgICAgICAgIGVuYWJsZTogb3BhY2l0eU9wdGlvbnMuYW5pbWF0aW9uLmVuYWJsZSxcbiAgICAgICAgICAgIG1heDogKDAsIFV0aWxzXzEuZ2V0UmFuZ2VNYXgpKG9wYWNpdHlPcHRpb25zLnZhbHVlKSxcbiAgICAgICAgICAgIG1pbjogKDAsIFV0aWxzXzEuZ2V0UmFuZ2VNaW4pKG9wYWNpdHlPcHRpb25zLnZhbHVlKSxcbiAgICAgICAgICAgIHZhbHVlOiAoMCwgVXRpbHNfMS5nZXRSYW5nZVZhbHVlKShvcGFjaXR5T3B0aW9ucy52YWx1ZSksXG4gICAgICAgICAgICBsb29wczogMCxcbiAgICAgICAgICAgIG1heExvb3BzOiBvcGFjaXR5T3B0aW9ucy5hbmltYXRpb24uY291bnQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9wYWNpdHlBbmltYXRpb24gPSBvcGFjaXR5T3B0aW9ucy5hbmltYXRpb247XG4gICAgICAgIGlmIChvcGFjaXR5QW5pbWF0aW9uLmVuYWJsZSkge1xuICAgICAgICAgICAgcGFydGljbGUub3BhY2l0eS5zdGF0dXMgPSBFbnVtc18xLkFuaW1hdGlvblN0YXR1cy5pbmNyZWFzaW5nO1xuICAgICAgICAgICAgY29uc3Qgb3BhY2l0eVJhbmdlID0gb3BhY2l0eU9wdGlvbnMudmFsdWU7XG4gICAgICAgICAgICBwYXJ0aWNsZS5vcGFjaXR5Lm1pbiA9ICgwLCBVdGlsc18xLmdldFJhbmdlTWluKShvcGFjaXR5UmFuZ2UpO1xuICAgICAgICAgICAgcGFydGljbGUub3BhY2l0eS5tYXggPSAoMCwgVXRpbHNfMS5nZXRSYW5nZU1heCkob3BhY2l0eVJhbmdlKTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BhY2l0eUFuaW1hdGlvbi5zdGFydFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBFbnVtc18xLlN0YXJ0VmFsdWVUeXBlLm1pbjpcbiAgICAgICAgICAgICAgICAgICAgcGFydGljbGUub3BhY2l0eS52YWx1ZSA9IHBhcnRpY2xlLm9wYWNpdHkubWluO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZS5vcGFjaXR5LnN0YXR1cyA9IEVudW1zXzEuQW5pbWF0aW9uU3RhdHVzLmluY3JlYXNpbmc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRW51bXNfMS5TdGFydFZhbHVlVHlwZS5yYW5kb206XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlLm9wYWNpdHkudmFsdWUgPSAoMCwgVXRpbHNfMS5yYW5kb21JblJhbmdlKShwYXJ0aWNsZS5vcGFjaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgcGFydGljbGUub3BhY2l0eS5zdGF0dXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5yYW5kb20oKSA+PSAwLjUgPyBFbnVtc18xLkFuaW1hdGlvblN0YXR1cy5pbmNyZWFzaW5nIDogRW51bXNfMS5BbmltYXRpb25TdGF0dXMuZGVjcmVhc2luZztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFbnVtc18xLlN0YXJ0VmFsdWVUeXBlLm1heDpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZS5vcGFjaXR5LnZhbHVlID0gcGFydGljbGUub3BhY2l0eS5tYXg7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlLm9wYWNpdHkuc3RhdHVzID0gRW51bXNfMS5BbmltYXRpb25TdGF0dXMuZGVjcmVhc2luZztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0aWNsZS5vcGFjaXR5LnZlbG9jaXR5ID0gKG9wYWNpdHlBbmltYXRpb24uc3BlZWQgLyAxMDApICogdGhpcy5jb250YWluZXIucmV0aW5hLnJlZHVjZUZhY3RvcjtcbiAgICAgICAgICAgIGlmICghb3BhY2l0eUFuaW1hdGlvbi5zeW5jKSB7XG4gICAgICAgICAgICAgICAgcGFydGljbGUub3BhY2l0eS52ZWxvY2l0eSAqPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlzRW5hYmxlZChwYXJ0aWNsZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgcmV0dXJuICghcGFydGljbGUuZGVzdHJveWVkICYmXG4gICAgICAgICAgICAhcGFydGljbGUuc3Bhd25pbmcgJiZcbiAgICAgICAgICAgICEhcGFydGljbGUub3BhY2l0eSAmJlxuICAgICAgICAgICAgcGFydGljbGUub3BhY2l0eS5lbmFibGUgJiZcbiAgICAgICAgICAgICgoKF9hID0gcGFydGljbGUub3BhY2l0eS5tYXhMb29wcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgPD0gMCB8fCAoKF9iID0gcGFydGljbGUub3BhY2l0eS5sb29wcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMCkgPCAoKF9jID0gcGFydGljbGUub3BhY2l0eS5tYXhMb29wcykgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMCkpKTtcbiAgICB9XG4gICAgdXBkYXRlKHBhcnRpY2xlLCBkZWx0YSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKHBhcnRpY2xlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZU9wYWNpdHkocGFydGljbGUsIGRlbHRhKTtcbiAgICB9XG59XG5leHBvcnRzLk9wYWNpdHlVcGRhdGVyID0gT3BhY2l0eVVwZGF0ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZE9wYWNpdHlVcGRhdGVyID0gdm9pZCAwO1xuY29uc3QgT3BhY2l0eVVwZGF0ZXJfMSA9IHJlcXVpcmUoXCIuL09wYWNpdHlVcGRhdGVyXCIpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZE9wYWNpdHlVcGRhdGVyKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkUGFydGljbGVVcGRhdGVyKFwib3BhY2l0eVwiLCAoY29udGFpbmVyKSA9PiBuZXcgT3BhY2l0eVVwZGF0ZXJfMS5PcGFjaXR5VXBkYXRlcihjb250YWluZXIpKTtcbn1cbmV4cG9ydHMubG9hZE9wYWNpdHlVcGRhdGVyID0gbG9hZE9wYWNpdHlVcGRhdGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk91dE9mQ2FudmFzVXBkYXRlciA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vVXRpbHNcIik7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uL0VudW1zXCIpO1xuY29uc3QgVXRpbHNfMiA9IHJlcXVpcmUoXCIuL1V0aWxzXCIpO1xuY2xhc3MgT3V0T2ZDYW52YXNVcGRhdGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgfVxuICAgIGlzRW5hYmxlZChwYXJ0aWNsZSkge1xuICAgICAgICByZXR1cm4gIXBhcnRpY2xlLmRlc3Ryb3llZCAmJiAhcGFydGljbGUuc3Bhd25pbmc7XG4gICAgfVxuICAgIHVwZGF0ZShwYXJ0aWNsZSwgZGVsdGEpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBjb25zdCBvdXRNb2RlcyA9IHBhcnRpY2xlLm9wdGlvbnMubW92ZS5vdXRNb2RlcztcbiAgICAgICAgdGhpcy51cGRhdGVPdXRNb2RlKHBhcnRpY2xlLCBkZWx0YSwgKF9hID0gb3V0TW9kZXMuYm90dG9tKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBvdXRNb2Rlcy5kZWZhdWx0LCBFbnVtc18xLk91dE1vZGVEaXJlY3Rpb24uYm90dG9tKTtcbiAgICAgICAgdGhpcy51cGRhdGVPdXRNb2RlKHBhcnRpY2xlLCBkZWx0YSwgKF9iID0gb3V0TW9kZXMubGVmdCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogb3V0TW9kZXMuZGVmYXVsdCwgRW51bXNfMS5PdXRNb2RlRGlyZWN0aW9uLmxlZnQpO1xuICAgICAgICB0aGlzLnVwZGF0ZU91dE1vZGUocGFydGljbGUsIGRlbHRhLCAoX2MgPSBvdXRNb2Rlcy5yaWdodCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogb3V0TW9kZXMuZGVmYXVsdCwgRW51bXNfMS5PdXRNb2RlRGlyZWN0aW9uLnJpZ2h0KTtcbiAgICAgICAgdGhpcy51cGRhdGVPdXRNb2RlKHBhcnRpY2xlLCBkZWx0YSwgKF9kID0gb3V0TW9kZXMudG9wKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBvdXRNb2Rlcy5kZWZhdWx0LCBFbnVtc18xLk91dE1vZGVEaXJlY3Rpb24udG9wKTtcbiAgICB9XG4gICAgdXBkYXRlT3V0TW9kZShwYXJ0aWNsZSwgZGVsdGEsIG91dE1vZGUsIGRpcmVjdGlvbikge1xuICAgICAgICBzd2l0Y2ggKG91dE1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5PdXRNb2RlLmJvdW5jZTpcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5PdXRNb2RlLmJvdW5jZVZlcnRpY2FsOlxuICAgICAgICAgICAgY2FzZSBFbnVtc18xLk91dE1vZGUuYm91bmNlSG9yaXpvbnRhbDpcbiAgICAgICAgICAgIGNhc2UgXCJib3VuY2VWZXJ0aWNhbFwiOlxuICAgICAgICAgICAgY2FzZSBcImJvdW5jZUhvcml6b250YWxcIjpcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5PdXRNb2RlLnNwbGl0OlxuICAgICAgICAgICAgICAgIHRoaXMuYm91bmNlKHBhcnRpY2xlLCBkZWx0YSwgZGlyZWN0aW9uLCBvdXRNb2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5PdXRNb2RlLmRlc3Ryb3k6XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KHBhcnRpY2xlLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbnVtc18xLk91dE1vZGUub3V0OlxuICAgICAgICAgICAgICAgIHRoaXMub3V0KHBhcnRpY2xlLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbnVtc18xLk91dE1vZGUubm9uZTpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5ub25lKHBhcnRpY2xlLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3kocGFydGljbGUsIGRpcmVjdGlvbikge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgaWYgKCgwLCBVdGlsc18xLmlzUG9pbnRJbnNpZGUpKHBhcnRpY2xlLnBvc2l0aW9uLCBjb250YWluZXIuY2FudmFzLnNpemUsIHBhcnRpY2xlLmdldFJhZGl1cygpLCBkaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLnBhcnRpY2xlcy5yZW1vdmUocGFydGljbGUsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgfVxuICAgIG91dChwYXJ0aWNsZSwgZGlyZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBpZiAoKDAsIFV0aWxzXzEuaXNQb2ludEluc2lkZSkocGFydGljbGUucG9zaXRpb24sIGNvbnRhaW5lci5jYW52YXMuc2l6ZSwgcGFydGljbGUuZ2V0UmFkaXVzKCksIGRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3cmFwID0gcGFydGljbGUub3B0aW9ucy5tb3ZlLndhcnAsIGNhbnZhc1NpemUgPSBjb250YWluZXIuY2FudmFzLnNpemUsIG5ld1BvcyA9IHtcbiAgICAgICAgICAgIGJvdHRvbTogY2FudmFzU2l6ZS5oZWlnaHQgKyBwYXJ0aWNsZS5nZXRSYWRpdXMoKSArIHBhcnRpY2xlLm9mZnNldC55LFxuICAgICAgICAgICAgbGVmdDogLXBhcnRpY2xlLmdldFJhZGl1cygpIC0gcGFydGljbGUub2Zmc2V0LngsXG4gICAgICAgICAgICByaWdodDogY2FudmFzU2l6ZS53aWR0aCArIHBhcnRpY2xlLmdldFJhZGl1cygpICsgcGFydGljbGUub2Zmc2V0LngsXG4gICAgICAgICAgICB0b3A6IC1wYXJ0aWNsZS5nZXRSYWRpdXMoKSAtIHBhcnRpY2xlLm9mZnNldC55LFxuICAgICAgICB9LCBzaXplVmFsdWUgPSBwYXJ0aWNsZS5nZXRSYWRpdXMoKSwgbmV4dEJvdW5kcyA9ICgwLCBVdGlsc18xLmNhbGN1bGF0ZUJvdW5kcykocGFydGljbGUucG9zaXRpb24sIHNpemVWYWx1ZSk7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IEVudW1zXzEuT3V0TW9kZURpcmVjdGlvbi5yaWdodCAmJiBuZXh0Qm91bmRzLmxlZnQgPiBjYW52YXNTaXplLndpZHRoICsgcGFydGljbGUub2Zmc2V0LngpIHtcbiAgICAgICAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnggPSBuZXdQb3MubGVmdDtcbiAgICAgICAgICAgIHBhcnRpY2xlLmluaXRpYWxQb3NpdGlvbi54ID0gcGFydGljbGUucG9zaXRpb24ueDtcbiAgICAgICAgICAgIGlmICghd3JhcCkge1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnkgPSBNYXRoLnJhbmRvbSgpICogY2FudmFzU2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgcGFydGljbGUuaW5pdGlhbFBvc2l0aW9uLnkgPSBwYXJ0aWNsZS5wb3NpdGlvbi55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gRW51bXNfMS5PdXRNb2RlRGlyZWN0aW9uLmxlZnQgJiYgbmV4dEJvdW5kcy5yaWdodCA8IC1wYXJ0aWNsZS5vZmZzZXQueCkge1xuICAgICAgICAgICAgcGFydGljbGUucG9zaXRpb24ueCA9IG5ld1Bvcy5yaWdodDtcbiAgICAgICAgICAgIHBhcnRpY2xlLmluaXRpYWxQb3NpdGlvbi54ID0gcGFydGljbGUucG9zaXRpb24ueDtcbiAgICAgICAgICAgIGlmICghd3JhcCkge1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnkgPSBNYXRoLnJhbmRvbSgpICogY2FudmFzU2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgcGFydGljbGUuaW5pdGlhbFBvc2l0aW9uLnkgPSBwYXJ0aWNsZS5wb3NpdGlvbi55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IEVudW1zXzEuT3V0TW9kZURpcmVjdGlvbi5ib3R0b20gJiYgbmV4dEJvdW5kcy50b3AgPiBjYW52YXNTaXplLmhlaWdodCArIHBhcnRpY2xlLm9mZnNldC55KSB7XG4gICAgICAgICAgICBpZiAoIXdyYXApIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5wb3NpdGlvbi54ID0gTWF0aC5yYW5kb20oKSAqIGNhbnZhc1NpemUud2lkdGg7XG4gICAgICAgICAgICAgICAgcGFydGljbGUuaW5pdGlhbFBvc2l0aW9uLnggPSBwYXJ0aWNsZS5wb3NpdGlvbi54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFydGljbGUucG9zaXRpb24ueSA9IG5ld1Bvcy50b3A7XG4gICAgICAgICAgICBwYXJ0aWNsZS5pbml0aWFsUG9zaXRpb24ueSA9IHBhcnRpY2xlLnBvc2l0aW9uLnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlyZWN0aW9uID09PSBFbnVtc18xLk91dE1vZGVEaXJlY3Rpb24udG9wICYmIG5leHRCb3VuZHMuYm90dG9tIDwgLXBhcnRpY2xlLm9mZnNldC55KSB7XG4gICAgICAgICAgICBpZiAoIXdyYXApIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5wb3NpdGlvbi54ID0gTWF0aC5yYW5kb20oKSAqIGNhbnZhc1NpemUud2lkdGg7XG4gICAgICAgICAgICAgICAgcGFydGljbGUuaW5pdGlhbFBvc2l0aW9uLnggPSBwYXJ0aWNsZS5wb3NpdGlvbi54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFydGljbGUucG9zaXRpb24ueSA9IG5ld1Bvcy5ib3R0b207XG4gICAgICAgICAgICBwYXJ0aWNsZS5pbml0aWFsUG9zaXRpb24ueSA9IHBhcnRpY2xlLnBvc2l0aW9uLnk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYm91bmNlKHBhcnRpY2xlLCBkZWx0YSwgZGlyZWN0aW9uLCBvdXRNb2RlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBsZXQgaGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgY29udGFpbmVyLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIGlmIChwbHVnaW4ucGFydGljbGVCb3VuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSBwbHVnaW4ucGFydGljbGVCb3VuY2UocGFydGljbGUsIGRlbHRhLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhbmRsZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvcyA9IHBhcnRpY2xlLmdldFBvc2l0aW9uKCksIG9mZnNldCA9IHBhcnRpY2xlLm9mZnNldCwgc2l6ZSA9IHBhcnRpY2xlLmdldFJhZGl1cygpLCBib3VuZHMgPSAoMCwgVXRpbHNfMS5jYWxjdWxhdGVCb3VuZHMpKHBvcywgc2l6ZSksIGNhbnZhc1NpemUgPSBjb250YWluZXIuY2FudmFzLnNpemU7XG4gICAgICAgICgwLCBVdGlsc18yLmJvdW5jZUhvcml6b250YWwpKHsgcGFydGljbGUsIG91dE1vZGUsIGRpcmVjdGlvbiwgYm91bmRzLCBjYW52YXNTaXplLCBvZmZzZXQsIHNpemUgfSk7XG4gICAgICAgICgwLCBVdGlsc18yLmJvdW5jZVZlcnRpY2FsKSh7IHBhcnRpY2xlLCBvdXRNb2RlLCBkaXJlY3Rpb24sIGJvdW5kcywgY2FudmFzU2l6ZSwgb2Zmc2V0LCBzaXplIH0pO1xuICAgIH1cbiAgICBub25lKHBhcnRpY2xlLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgaWYgKChwYXJ0aWNsZS5vcHRpb25zLm1vdmUuZGlzdGFuY2UuaG9yaXpvbnRhbCAmJlxuICAgICAgICAgICAgKGRpcmVjdGlvbiA9PT0gRW51bXNfMS5PdXRNb2RlRGlyZWN0aW9uLmxlZnQgfHwgZGlyZWN0aW9uID09PSBFbnVtc18xLk91dE1vZGVEaXJlY3Rpb24ucmlnaHQpKSB8fFxuICAgICAgICAgICAgKHBhcnRpY2xlLm9wdGlvbnMubW92ZS5kaXN0YW5jZS52ZXJ0aWNhbCAmJlxuICAgICAgICAgICAgICAgIChkaXJlY3Rpb24gPT09IEVudW1zXzEuT3V0TW9kZURpcmVjdGlvbi50b3AgfHwgZGlyZWN0aW9uID09PSBFbnVtc18xLk91dE1vZGVEaXJlY3Rpb24uYm90dG9tKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBncmF2aXR5T3B0aW9ucyA9IHBhcnRpY2xlLm9wdGlvbnMubW92ZS5ncmF2aXR5LCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgY2FudmFzU2l6ZSA9IGNvbnRhaW5lci5jYW52YXMuc2l6ZTtcbiAgICAgICAgY29uc3QgcFJhZGl1cyA9IHBhcnRpY2xlLmdldFJhZGl1cygpO1xuICAgICAgICBpZiAoIWdyYXZpdHlPcHRpb25zLmVuYWJsZSkge1xuICAgICAgICAgICAgaWYgKChwYXJ0aWNsZS52ZWxvY2l0eS55ID4gMCAmJiBwYXJ0aWNsZS5wb3NpdGlvbi55IDw9IGNhbnZhc1NpemUuaGVpZ2h0ICsgcFJhZGl1cykgfHxcbiAgICAgICAgICAgICAgICAocGFydGljbGUudmVsb2NpdHkueSA8IDAgJiYgcGFydGljbGUucG9zaXRpb24ueSA+PSAtcFJhZGl1cykgfHxcbiAgICAgICAgICAgICAgICAocGFydGljbGUudmVsb2NpdHkueCA+IDAgJiYgcGFydGljbGUucG9zaXRpb24ueCA8PSBjYW52YXNTaXplLndpZHRoICsgcFJhZGl1cykgfHxcbiAgICAgICAgICAgICAgICAocGFydGljbGUudmVsb2NpdHkueCA8IDAgJiYgcGFydGljbGUucG9zaXRpb24ueCA+PSAtcFJhZGl1cykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISgwLCBVdGlsc18xLmlzUG9pbnRJbnNpZGUpKHBhcnRpY2xlLnBvc2l0aW9uLCBjb250YWluZXIuY2FudmFzLnNpemUsIHBSYWRpdXMsIGRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIucGFydGljbGVzLnJlbW92ZShwYXJ0aWNsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHBhcnRpY2xlLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKCghZ3Jhdml0eU9wdGlvbnMuaW52ZXJzZSAmJlxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnkgPiBjYW52YXNTaXplLmhlaWdodCArIHBSYWRpdXMgJiZcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPT09IEVudW1zXzEuT3V0TW9kZURpcmVjdGlvbi5ib3R0b20pIHx8XG4gICAgICAgICAgICAgICAgKGdyYXZpdHlPcHRpb25zLmludmVyc2UgJiYgcG9zaXRpb24ueSA8IC1wUmFkaXVzICYmIGRpcmVjdGlvbiA9PT0gRW51bXNfMS5PdXRNb2RlRGlyZWN0aW9uLnRvcCkpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIucGFydGljbGVzLnJlbW92ZShwYXJ0aWNsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLk91dE9mQ2FudmFzVXBkYXRlciA9IE91dE9mQ2FudmFzVXBkYXRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ib3VuY2VWZXJ0aWNhbCA9IGV4cG9ydHMuYm91bmNlSG9yaXpvbnRhbCA9IHZvaWQgMDtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vLi4vRW51bXNcIik7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL1V0aWxzXCIpO1xuZnVuY3Rpb24gYm91bmNlSG9yaXpvbnRhbChkYXRhKSB7XG4gICAgaWYgKCEoZGF0YS5vdXRNb2RlID09PSBFbnVtc18xLk91dE1vZGUuYm91bmNlIHx8XG4gICAgICAgIGRhdGEub3V0TW9kZSA9PT0gRW51bXNfMS5PdXRNb2RlLmJvdW5jZUhvcml6b250YWwgfHxcbiAgICAgICAgZGF0YS5vdXRNb2RlID09PSBcImJvdW5jZUhvcml6b250YWxcIiB8fFxuICAgICAgICBkYXRhLm91dE1vZGUgPT09IEVudW1zXzEuT3V0TW9kZS5zcGxpdCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2ZWxvY2l0eSA9IGRhdGEucGFydGljbGUudmVsb2NpdHkueDtcbiAgICBsZXQgYm91bmNlZCA9IGZhbHNlO1xuICAgIGlmICgoZGF0YS5kaXJlY3Rpb24gPT09IEVudW1zXzEuT3V0TW9kZURpcmVjdGlvbi5yaWdodCAmJiBkYXRhLmJvdW5kcy5yaWdodCA+PSBkYXRhLmNhbnZhc1NpemUud2lkdGggJiYgdmVsb2NpdHkgPiAwKSB8fFxuICAgICAgICAoZGF0YS5kaXJlY3Rpb24gPT09IEVudW1zXzEuT3V0TW9kZURpcmVjdGlvbi5sZWZ0ICYmIGRhdGEuYm91bmRzLmxlZnQgPD0gMCAmJiB2ZWxvY2l0eSA8IDApKSB7XG4gICAgICAgIGNvbnN0IG5ld1ZlbG9jaXR5ID0gKDAsIFV0aWxzXzEuZ2V0UmFuZ2VWYWx1ZSkoZGF0YS5wYXJ0aWNsZS5vcHRpb25zLmJvdW5jZS5ob3Jpem9udGFsLnZhbHVlKTtcbiAgICAgICAgZGF0YS5wYXJ0aWNsZS52ZWxvY2l0eS54ICo9IC1uZXdWZWxvY2l0eTtcbiAgICAgICAgYm91bmNlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmICghYm91bmNlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1pblBvcyA9IGRhdGEub2Zmc2V0LnggKyBkYXRhLnNpemU7XG4gICAgaWYgKGRhdGEuYm91bmRzLnJpZ2h0ID49IGRhdGEuY2FudmFzU2l6ZS53aWR0aCkge1xuICAgICAgICBkYXRhLnBhcnRpY2xlLnBvc2l0aW9uLnggPSBkYXRhLmNhbnZhc1NpemUud2lkdGggLSBtaW5Qb3M7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRhdGEuYm91bmRzLmxlZnQgPD0gMCkge1xuICAgICAgICBkYXRhLnBhcnRpY2xlLnBvc2l0aW9uLnggPSBtaW5Qb3M7XG4gICAgfVxuICAgIGlmIChkYXRhLm91dE1vZGUgPT09IEVudW1zXzEuT3V0TW9kZS5zcGxpdCkge1xuICAgICAgICBkYXRhLnBhcnRpY2xlLmRlc3Ryb3koKTtcbiAgICB9XG59XG5leHBvcnRzLmJvdW5jZUhvcml6b250YWwgPSBib3VuY2VIb3Jpem9udGFsO1xuZnVuY3Rpb24gYm91bmNlVmVydGljYWwoZGF0YSkge1xuICAgIGlmIChkYXRhLm91dE1vZGUgPT09IEVudW1zXzEuT3V0TW9kZS5ib3VuY2UgfHxcbiAgICAgICAgZGF0YS5vdXRNb2RlID09PSBFbnVtc18xLk91dE1vZGUuYm91bmNlVmVydGljYWwgfHxcbiAgICAgICAgZGF0YS5vdXRNb2RlID09PSBcImJvdW5jZVZlcnRpY2FsXCIgfHxcbiAgICAgICAgZGF0YS5vdXRNb2RlID09PSBFbnVtc18xLk91dE1vZGUuc3BsaXQpIHtcbiAgICAgICAgY29uc3QgdmVsb2NpdHkgPSBkYXRhLnBhcnRpY2xlLnZlbG9jaXR5Lnk7XG4gICAgICAgIGxldCBib3VuY2VkID0gZmFsc2U7XG4gICAgICAgIGlmICgoZGF0YS5kaXJlY3Rpb24gPT09IEVudW1zXzEuT3V0TW9kZURpcmVjdGlvbi5ib3R0b20gJiZcbiAgICAgICAgICAgIGRhdGEuYm91bmRzLmJvdHRvbSA+PSBkYXRhLmNhbnZhc1NpemUuaGVpZ2h0ICYmXG4gICAgICAgICAgICB2ZWxvY2l0eSA+IDApIHx8XG4gICAgICAgICAgICAoZGF0YS5kaXJlY3Rpb24gPT09IEVudW1zXzEuT3V0TW9kZURpcmVjdGlvbi50b3AgJiYgZGF0YS5ib3VuZHMudG9wIDw9IDAgJiYgdmVsb2NpdHkgPCAwKSkge1xuICAgICAgICAgICAgY29uc3QgbmV3VmVsb2NpdHkgPSAoMCwgVXRpbHNfMS5nZXRSYW5nZVZhbHVlKShkYXRhLnBhcnRpY2xlLm9wdGlvbnMuYm91bmNlLnZlcnRpY2FsLnZhbHVlKTtcbiAgICAgICAgICAgIGRhdGEucGFydGljbGUudmVsb2NpdHkueSAqPSAtbmV3VmVsb2NpdHk7XG4gICAgICAgICAgICBib3VuY2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvdW5jZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtaW5Qb3MgPSBkYXRhLm9mZnNldC55ICsgZGF0YS5zaXplO1xuICAgICAgICBpZiAoZGF0YS5ib3VuZHMuYm90dG9tID49IGRhdGEuY2FudmFzU2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGRhdGEucGFydGljbGUucG9zaXRpb24ueSA9IGRhdGEuY2FudmFzU2l6ZS5oZWlnaHQgLSBtaW5Qb3M7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS5ib3VuZHMudG9wIDw9IDApIHtcbiAgICAgICAgICAgIGRhdGEucGFydGljbGUucG9zaXRpb24ueSA9IG1pblBvcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5vdXRNb2RlID09PSBFbnVtc18xLk91dE1vZGUuc3BsaXQpIHtcbiAgICAgICAgICAgIGRhdGEucGFydGljbGUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5ib3VuY2VWZXJ0aWNhbCA9IGJvdW5jZVZlcnRpY2FsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRPdXRNb2Rlc1VwZGF0ZXIgPSB2b2lkIDA7XG5jb25zdCBPdXRPZkNhbnZhc1VwZGF0ZXJfMSA9IHJlcXVpcmUoXCIuL091dE9mQ2FudmFzVXBkYXRlclwiKTtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRPdXRNb2Rlc1VwZGF0ZXIodHNQYXJ0aWNsZXMpIHtcbiAgICBhd2FpdCB0c1BhcnRpY2xlcy5hZGRQYXJ0aWNsZVVwZGF0ZXIoXCJvdXRNb2Rlc1wiLCAoY29udGFpbmVyKSA9PiBuZXcgT3V0T2ZDYW52YXNVcGRhdGVyXzEuT3V0T2ZDYW52YXNVcGRhdGVyKGNvbnRhaW5lcikpO1xufVxuZXhwb3J0cy5sb2FkT3V0TW9kZXNVcGRhdGVyID0gbG9hZE91dE1vZGVzVXBkYXRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Sb2xsVXBkYXRlciA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vVXRpbHNcIik7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uL0VudW1zXCIpO1xuZnVuY3Rpb24gdXBkYXRlUm9sbChwYXJ0aWNsZSwgZGVsdGEpIHtcbiAgICBjb25zdCByb2xsID0gcGFydGljbGUub3B0aW9ucy5yb2xsO1xuICAgIGlmICghcGFydGljbGUucm9sbCB8fCAhcm9sbC5lbmFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzcGVlZCA9IHBhcnRpY2xlLnJvbGwuc3BlZWQgKiBkZWx0YS5mYWN0b3I7XG4gICAgY29uc3QgbWF4ID0gMiAqIE1hdGguUEk7XG4gICAgcGFydGljbGUucm9sbC5hbmdsZSArPSBzcGVlZDtcbiAgICBpZiAocGFydGljbGUucm9sbC5hbmdsZSA+IG1heCkge1xuICAgICAgICBwYXJ0aWNsZS5yb2xsLmFuZ2xlIC09IG1heDtcbiAgICB9XG59XG5jbGFzcyBSb2xsVXBkYXRlciB7XG4gICAgaW5pdChwYXJ0aWNsZSkge1xuICAgICAgICBjb25zdCByb2xsT3B0ID0gcGFydGljbGUub3B0aW9ucy5yb2xsO1xuICAgICAgICBpZiAocm9sbE9wdC5lbmFibGUpIHtcbiAgICAgICAgICAgIHBhcnRpY2xlLnJvbGwgPSB7XG4gICAgICAgICAgICAgICAgYW5nbGU6IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMixcbiAgICAgICAgICAgICAgICBzcGVlZDogKDAsIFV0aWxzXzEuZ2V0UmFuZ2VWYWx1ZSkocm9sbE9wdC5zcGVlZCkgLyAzNjAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHJvbGxPcHQuYmFja0NvbG9yKSB7XG4gICAgICAgICAgICAgICAgcGFydGljbGUuYmFja0NvbG9yID0gKDAsIFV0aWxzXzEuY29sb3JUb0hzbCkocm9sbE9wdC5iYWNrQ29sb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocm9sbE9wdC5kYXJrZW4uZW5hYmxlICYmIHJvbGxPcHQuZW5saWdodGVuLmVuYWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsdGVyVHlwZSA9IE1hdGgucmFuZG9tKCkgPj0gMC41ID8gRW51bXNfMS5BbHRlclR5cGUuZGFya2VuIDogRW51bXNfMS5BbHRlclR5cGUuZW5saWdodGVuO1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlLnJvbGwuYWx0ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGFsdGVyVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGFsdGVyVHlwZSA9PT0gRW51bXNfMS5BbHRlclR5cGUuZGFya2VuID8gcm9sbE9wdC5kYXJrZW4udmFsdWUgOiByb2xsT3B0LmVubGlnaHRlbi52YWx1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocm9sbE9wdC5kYXJrZW4uZW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgcGFydGljbGUucm9sbC5hbHRlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRW51bXNfMS5BbHRlclR5cGUuZGFya2VuLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcm9sbE9wdC5kYXJrZW4udmFsdWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJvbGxPcHQuZW5saWdodGVuLmVuYWJsZSkge1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlLnJvbGwuYWx0ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEVudW1zXzEuQWx0ZXJUeXBlLmVubGlnaHRlbixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJvbGxPcHQuZW5saWdodGVuLnZhbHVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJ0aWNsZS5yb2xsID0geyBhbmdsZTogMCwgc3BlZWQ6IDAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc0VuYWJsZWQocGFydGljbGUpIHtcbiAgICAgICAgY29uc3Qgcm9sbCA9IHBhcnRpY2xlLm9wdGlvbnMucm9sbDtcbiAgICAgICAgcmV0dXJuICFwYXJ0aWNsZS5kZXN0cm95ZWQgJiYgIXBhcnRpY2xlLnNwYXduaW5nICYmIHJvbGwuZW5hYmxlO1xuICAgIH1cbiAgICB1cGRhdGUocGFydGljbGUsIGRlbHRhKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQocGFydGljbGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlUm9sbChwYXJ0aWNsZSwgZGVsdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuUm9sbFVwZGF0ZXIgPSBSb2xsVXBkYXRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5sb2FkUm9sbFVwZGF0ZXIgPSB2b2lkIDA7XG5jb25zdCBSb2xsVXBkYXRlcl8xID0gcmVxdWlyZShcIi4vUm9sbFVwZGF0ZXJcIik7XG5hc3luYyBmdW5jdGlvbiBsb2FkUm9sbFVwZGF0ZXIodHNQYXJ0aWNsZXMpIHtcbiAgICBhd2FpdCB0c1BhcnRpY2xlcy5hZGRQYXJ0aWNsZVVwZGF0ZXIoXCJyb2xsXCIsICgpID0+IG5ldyBSb2xsVXBkYXRlcl8xLlJvbGxVcGRhdGVyKCkpO1xufVxuZXhwb3J0cy5sb2FkUm9sbFVwZGF0ZXIgPSBsb2FkUm9sbFVwZGF0ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2l6ZVVwZGF0ZXIgPSB2b2lkIDA7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uL0VudW1zXCIpO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9VdGlsc1wiKTtcbmZ1bmN0aW9uIGNoZWNrRGVzdHJveShwYXJ0aWNsZSwgdmFsdWUsIG1pblZhbHVlLCBtYXhWYWx1ZSkge1xuICAgIHN3aXRjaCAocGFydGljbGUub3B0aW9ucy5zaXplLmFuaW1hdGlvbi5kZXN0cm95KSB7XG4gICAgICAgIGNhc2UgRW51bXNfMS5EZXN0cm95VHlwZS5tYXg6XG4gICAgICAgICAgICBpZiAodmFsdWUgPj0gbWF4VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBFbnVtc18xLkRlc3Ryb3lUeXBlLm1pbjpcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8PSBtaW5WYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZVNpemUocGFydGljbGUsIGRlbHRhKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IHNpemVWZWxvY2l0eSA9ICgoX2EgPSBwYXJ0aWNsZS5zaXplLnZlbG9jaXR5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwKSAqIGRlbHRhLmZhY3RvcjtcbiAgICBjb25zdCBtaW5WYWx1ZSA9IHBhcnRpY2xlLnNpemUubWluO1xuICAgIGNvbnN0IG1heFZhbHVlID0gcGFydGljbGUuc2l6ZS5tYXg7XG4gICAgaWYgKCEoIXBhcnRpY2xlLmRlc3Ryb3llZCAmJlxuICAgICAgICBwYXJ0aWNsZS5zaXplLmVuYWJsZSAmJlxuICAgICAgICAoKChfYiA9IHBhcnRpY2xlLnNpemUubG9vcHMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDApIDw9IDAgfHwgKChfYyA9IHBhcnRpY2xlLnNpemUubG9vcHMpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IDApIDwgKChfZCA9IHBhcnRpY2xlLnNpemUubWF4TG9vcHMpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IDApKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2l0Y2ggKHBhcnRpY2xlLnNpemUuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgRW51bXNfMS5BbmltYXRpb25TdGF0dXMuaW5jcmVhc2luZzpcbiAgICAgICAgICAgIGlmIChwYXJ0aWNsZS5zaXplLnZhbHVlID49IG1heFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcGFydGljbGUuc2l6ZS5zdGF0dXMgPSBFbnVtc18xLkFuaW1hdGlvblN0YXR1cy5kZWNyZWFzaW5nO1xuICAgICAgICAgICAgICAgIGlmICghcGFydGljbGUuc2l6ZS5sb29wcykge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZS5zaXplLmxvb3BzID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFydGljbGUuc2l6ZS5sb29wcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydGljbGUuc2l6ZS52YWx1ZSArPSBzaXplVmVsb2NpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBFbnVtc18xLkFuaW1hdGlvblN0YXR1cy5kZWNyZWFzaW5nOlxuICAgICAgICAgICAgaWYgKHBhcnRpY2xlLnNpemUudmFsdWUgPD0gbWluVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5zaXplLnN0YXR1cyA9IEVudW1zXzEuQW5pbWF0aW9uU3RhdHVzLmluY3JlYXNpbmc7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJ0aWNsZS5zaXplLmxvb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlLnNpemUubG9vcHMgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5zaXplLmxvb3BzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5zaXplLnZhbHVlIC09IHNpemVWZWxvY2l0eTtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgY2hlY2tEZXN0cm95KHBhcnRpY2xlLCBwYXJ0aWNsZS5zaXplLnZhbHVlLCBtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICAgIGlmICghcGFydGljbGUuZGVzdHJveWVkKSB7XG4gICAgICAgIHBhcnRpY2xlLnNpemUudmFsdWUgPSAoMCwgVXRpbHNfMS5jbGFtcCkocGFydGljbGUuc2l6ZS52YWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlKTtcbiAgICB9XG59XG5jbGFzcyBTaXplVXBkYXRlciB7XG4gICAgaW5pdCgpIHtcbiAgICB9XG4gICAgaXNFbmFibGVkKHBhcnRpY2xlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICByZXR1cm4gKCFwYXJ0aWNsZS5kZXN0cm95ZWQgJiZcbiAgICAgICAgICAgICFwYXJ0aWNsZS5zcGF3bmluZyAmJlxuICAgICAgICAgICAgcGFydGljbGUuc2l6ZS5lbmFibGUgJiZcbiAgICAgICAgICAgICgoKF9hID0gcGFydGljbGUuc2l6ZS5sb29wcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgPD0gMCB8fCAoKF9iID0gcGFydGljbGUuc2l6ZS5sb29wcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMCkgPCAoKF9jID0gcGFydGljbGUuc2l6ZS5tYXhMb29wcykgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMCkpKTtcbiAgICB9XG4gICAgdXBkYXRlKHBhcnRpY2xlLCBkZWx0YSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKHBhcnRpY2xlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVNpemUocGFydGljbGUsIGRlbHRhKTtcbiAgICB9XG59XG5leHBvcnRzLlNpemVVcGRhdGVyID0gU2l6ZVVwZGF0ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZFNpemVVcGRhdGVyID0gdm9pZCAwO1xuY29uc3QgU2l6ZVVwZGF0ZXJfMSA9IHJlcXVpcmUoXCIuL1NpemVVcGRhdGVyXCIpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZFNpemVVcGRhdGVyKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkUGFydGljbGVVcGRhdGVyKFwic2l6ZVwiLCAoKSA9PiBuZXcgU2l6ZVVwZGF0ZXJfMS5TaXplVXBkYXRlcigpKTtcbn1cbmV4cG9ydHMubG9hZFNpemVVcGRhdGVyID0gbG9hZFNpemVVcGRhdGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0cm9rZUNvbG9yVXBkYXRlciA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vVXRpbHNcIik7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uL0VudW1zXCIpO1xuZnVuY3Rpb24gdXBkYXRlQ29sb3JWYWx1ZShkZWx0YSwgdmFsdWUsIHZhbHVlQW5pbWF0aW9uLCBtYXgsIGRlY3JlYXNlKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGNvbG9yVmFsdWUgPSB2YWx1ZTtcbiAgICBpZiAoIWNvbG9yVmFsdWUgfHwgIWNvbG9yVmFsdWUuZW5hYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgb2Zmc2V0ID0gKDAsIFV0aWxzXzEucmFuZG9tSW5SYW5nZSkodmFsdWVBbmltYXRpb24ub2Zmc2V0KTtcbiAgICBjb25zdCB2ZWxvY2l0eSA9ICgoX2EgPSB2YWx1ZS52ZWxvY2l0eSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgKiBkZWx0YS5mYWN0b3IgKyBvZmZzZXQgKiAzLjY7XG4gICAgaWYgKCFkZWNyZWFzZSB8fCBjb2xvclZhbHVlLnN0YXR1cyA9PT0gRW51bXNfMS5BbmltYXRpb25TdGF0dXMuaW5jcmVhc2luZykge1xuICAgICAgICBjb2xvclZhbHVlLnZhbHVlICs9IHZlbG9jaXR5O1xuICAgICAgICBpZiAoZGVjcmVhc2UgJiYgY29sb3JWYWx1ZS52YWx1ZSA+IG1heCkge1xuICAgICAgICAgICAgY29sb3JWYWx1ZS5zdGF0dXMgPSBFbnVtc18xLkFuaW1hdGlvblN0YXR1cy5kZWNyZWFzaW5nO1xuICAgICAgICAgICAgY29sb3JWYWx1ZS52YWx1ZSAtPSBjb2xvclZhbHVlLnZhbHVlICUgbWF4O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb2xvclZhbHVlLnZhbHVlIC09IHZlbG9jaXR5O1xuICAgICAgICBpZiAoY29sb3JWYWx1ZS52YWx1ZSA8IDApIHtcbiAgICAgICAgICAgIGNvbG9yVmFsdWUuc3RhdHVzID0gRW51bXNfMS5BbmltYXRpb25TdGF0dXMuaW5jcmVhc2luZztcbiAgICAgICAgICAgIGNvbG9yVmFsdWUudmFsdWUgKz0gY29sb3JWYWx1ZS52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29sb3JWYWx1ZS52YWx1ZSA+IG1heCkge1xuICAgICAgICBjb2xvclZhbHVlLnZhbHVlICU9IG1heDtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVTdHJva2VDb2xvcihwYXJ0aWNsZSwgZGVsdGEpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2s7XG4gICAgaWYgKCEoKF9hID0gcGFydGljbGUuc3Ryb2tlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29sb3IpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0aW9uT3B0aW9ucyA9IHBhcnRpY2xlLnN0cm9rZS5jb2xvci5hbmltYXRpb247XG4gICAgY29uc3QgaCA9IChfYyA9IChfYiA9IHBhcnRpY2xlLnN0cm9rZUNvbG9yKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogKF9kID0gcGFydGljbGUuY29sb3IpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5oO1xuICAgIGlmIChoKSB7XG4gICAgICAgIHVwZGF0ZUNvbG9yVmFsdWUoZGVsdGEsIGgsIGFuaW1hdGlvbk9wdGlvbnMuaCwgMzYwLCBmYWxzZSk7XG4gICAgfVxuICAgIGNvbnN0IHMgPSAoX2YgPSAoX2UgPSBwYXJ0aWNsZS5zdHJva2VDb2xvcikgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnMpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IChfZyA9IHBhcnRpY2xlLmNvbG9yKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cucztcbiAgICBpZiAocykge1xuICAgICAgICB1cGRhdGVDb2xvclZhbHVlKGRlbHRhLCBzLCBhbmltYXRpb25PcHRpb25zLnMsIDEwMCwgdHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGwgPSAoX2ogPSAoX2ggPSBwYXJ0aWNsZS5zdHJva2VDb2xvcikgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLmwpICE9PSBudWxsICYmIF9qICE9PSB2b2lkIDAgPyBfaiA6IChfayA9IHBhcnRpY2xlLmNvbG9yKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2subDtcbiAgICBpZiAobCkge1xuICAgICAgICB1cGRhdGVDb2xvclZhbHVlKGRlbHRhLCBsLCBhbmltYXRpb25PcHRpb25zLmwsIDEwMCwgdHJ1ZSk7XG4gICAgfVxufVxuY2xhc3MgU3Ryb2tlQ29sb3JVcGRhdGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgfVxuICAgIGluaXQocGFydGljbGUpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIHBhcnRpY2xlLnN0cm9rZSA9XG4gICAgICAgICAgICBwYXJ0aWNsZS5vcHRpb25zLnN0cm9rZSBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgICAgICAgICAgPyAoMCwgVXRpbHNfMS5pdGVtRnJvbUFycmF5KShwYXJ0aWNsZS5vcHRpb25zLnN0cm9rZSwgcGFydGljbGUuaWQsIHBhcnRpY2xlLm9wdGlvbnMucmVkdWNlRHVwbGljYXRlcylcbiAgICAgICAgICAgICAgICA6IHBhcnRpY2xlLm9wdGlvbnMuc3Ryb2tlO1xuICAgICAgICBwYXJ0aWNsZS5zdHJva2VXaWR0aCA9IHBhcnRpY2xlLnN0cm9rZS53aWR0aCAqIGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbztcbiAgICAgICAgY29uc3Qgc3Ryb2tlSHNsQ29sb3IgPSAoX2EgPSAoMCwgVXRpbHNfMS5jb2xvclRvSHNsKShwYXJ0aWNsZS5zdHJva2UuY29sb3IpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBwYXJ0aWNsZS5nZXRGaWxsQ29sb3IoKTtcbiAgICAgICAgaWYgKHN0cm9rZUhzbENvbG9yKSB7XG4gICAgICAgICAgICBwYXJ0aWNsZS5zdHJva2VDb2xvciA9ICgwLCBVdGlsc18xLmdldEhzbEFuaW1hdGlvbkZyb21Ic2wpKHN0cm9rZUhzbENvbG9yLCAoX2IgPSBwYXJ0aWNsZS5zdHJva2UuY29sb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hbmltYXRpb24sIGNvbnRhaW5lci5yZXRpbmEucmVkdWNlRmFjdG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc0VuYWJsZWQocGFydGljbGUpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBjb25zdCBjb2xvciA9IChfYSA9IHBhcnRpY2xlLnN0cm9rZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbG9yO1xuICAgICAgICByZXR1cm4gKCFwYXJ0aWNsZS5kZXN0cm95ZWQgJiZcbiAgICAgICAgICAgICFwYXJ0aWNsZS5zcGF3bmluZyAmJlxuICAgICAgICAgICAgISFjb2xvciAmJlxuICAgICAgICAgICAgKCgoKF9iID0gcGFydGljbGUuc3Ryb2tlQ29sb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5oLnZhbHVlKSAhPT0gdW5kZWZpbmVkICYmIGNvbG9yLmFuaW1hdGlvbi5oLmVuYWJsZSkgfHxcbiAgICAgICAgICAgICAgICAoKChfYyA9IHBhcnRpY2xlLnN0cm9rZUNvbG9yKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Mucy52YWx1ZSkgIT09IHVuZGVmaW5lZCAmJiBjb2xvci5hbmltYXRpb24ucy5lbmFibGUpIHx8XG4gICAgICAgICAgICAgICAgKCgoX2QgPSBwYXJ0aWNsZS5zdHJva2VDb2xvcikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmwudmFsdWUpICE9PSB1bmRlZmluZWQgJiYgY29sb3IuYW5pbWF0aW9uLmwuZW5hYmxlKSkpO1xuICAgIH1cbiAgICB1cGRhdGUocGFydGljbGUsIGRlbHRhKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQocGFydGljbGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlU3Ryb2tlQ29sb3IocGFydGljbGUsIGRlbHRhKTtcbiAgICB9XG59XG5leHBvcnRzLlN0cm9rZUNvbG9yVXBkYXRlciA9IFN0cm9rZUNvbG9yVXBkYXRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5sb2FkU3Ryb2tlQ29sb3JVcGRhdGVyID0gdm9pZCAwO1xuY29uc3QgU3Ryb2tlQ29sb3JVcGRhdGVyXzEgPSByZXF1aXJlKFwiLi9TdHJva2VDb2xvclVwZGF0ZXJcIik7XG5hc3luYyBmdW5jdGlvbiBsb2FkU3Ryb2tlQ29sb3JVcGRhdGVyKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkUGFydGljbGVVcGRhdGVyKFwic3Ryb2tlQ29sb3JcIiwgKGNvbnRhaW5lcikgPT4gbmV3IFN0cm9rZUNvbG9yVXBkYXRlcl8xLlN0cm9rZUNvbG9yVXBkYXRlcihjb250YWluZXIpKTtcbn1cbmV4cG9ydHMubG9hZFN0cm9rZUNvbG9yVXBkYXRlciA9IGxvYWRTdHJva2VDb2xvclVwZGF0ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVGlsdFVwZGF0ZXIgPSB2b2lkIDA7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uLy4uL0VudW1zXCIpO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9VdGlsc1wiKTtcbmZ1bmN0aW9uIHVwZGF0ZVRpbHQocGFydGljbGUsIGRlbHRhKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghcGFydGljbGUudGlsdCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRpbHQgPSBwYXJ0aWNsZS5vcHRpb25zLnRpbHQ7XG4gICAgY29uc3QgdGlsdEFuaW1hdGlvbiA9IHRpbHQuYW5pbWF0aW9uO1xuICAgIGNvbnN0IHNwZWVkID0gKChfYSA9IHBhcnRpY2xlLnRpbHQudmVsb2NpdHkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDApICogZGVsdGEuZmFjdG9yO1xuICAgIGNvbnN0IG1heCA9IDIgKiBNYXRoLlBJO1xuICAgIGlmICghdGlsdEFuaW1hdGlvbi5lbmFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2l0Y2ggKHBhcnRpY2xlLnRpbHQuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgRW51bXNfMS5BbmltYXRpb25TdGF0dXMuaW5jcmVhc2luZzpcbiAgICAgICAgICAgIHBhcnRpY2xlLnRpbHQudmFsdWUgKz0gc3BlZWQ7XG4gICAgICAgICAgICBpZiAocGFydGljbGUudGlsdC52YWx1ZSA+IG1heCkge1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlLnRpbHQudmFsdWUgLT0gbWF4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRW51bXNfMS5BbmltYXRpb25TdGF0dXMuZGVjcmVhc2luZzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHBhcnRpY2xlLnRpbHQudmFsdWUgLT0gc3BlZWQ7XG4gICAgICAgICAgICBpZiAocGFydGljbGUudGlsdC52YWx1ZSA8IDApIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS50aWx0LnZhbHVlICs9IG1heDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbmNsYXNzIFRpbHRVcGRhdGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgfVxuICAgIGluaXQocGFydGljbGUpIHtcbiAgICAgICAgY29uc3QgdGlsdE9wdGlvbnMgPSBwYXJ0aWNsZS5vcHRpb25zLnRpbHQ7XG4gICAgICAgIHBhcnRpY2xlLnRpbHQgPSB7XG4gICAgICAgICAgICBlbmFibGU6IHRpbHRPcHRpb25zLmVuYWJsZSxcbiAgICAgICAgICAgIHZhbHVlOiAoKDAsIFV0aWxzXzEuZ2V0UmFuZ2VWYWx1ZSkodGlsdE9wdGlvbnMudmFsdWUpICogTWF0aC5QSSkgLyAxODAsXG4gICAgICAgICAgICBzaW5EaXJlY3Rpb246IE1hdGgucmFuZG9tKCkgPj0gMC41ID8gMSA6IC0xLFxuICAgICAgICAgICAgY29zRGlyZWN0aW9uOiBNYXRoLnJhbmRvbSgpID49IDAuNSA/IDEgOiAtMSxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHRpbHREaXJlY3Rpb24gPSB0aWx0T3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICAgIGlmICh0aWx0RGlyZWN0aW9uID09PSBFbnVtc18xLlRpbHREaXJlY3Rpb24ucmFuZG9tKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xuICAgICAgICAgICAgdGlsdERpcmVjdGlvbiA9IGluZGV4ID4gMCA/IEVudW1zXzEuVGlsdERpcmVjdGlvbi5jb3VudGVyQ2xvY2t3aXNlIDogRW51bXNfMS5UaWx0RGlyZWN0aW9uLmNsb2Nrd2lzZTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRpbHREaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5UaWx0RGlyZWN0aW9uLmNvdW50ZXJDbG9ja3dpc2U6XG4gICAgICAgICAgICBjYXNlIFwiY291bnRlckNsb2Nrd2lzZVwiOlxuICAgICAgICAgICAgICAgIHBhcnRpY2xlLnRpbHQuc3RhdHVzID0gRW51bXNfMS5BbmltYXRpb25TdGF0dXMuZGVjcmVhc2luZztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5UaWx0RGlyZWN0aW9uLmNsb2Nrd2lzZTpcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS50aWx0LnN0YXR1cyA9IEVudW1zXzEuQW5pbWF0aW9uU3RhdHVzLmluY3JlYXNpbmc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGlsdEFuaW1hdGlvbiA9IHBhcnRpY2xlLm9wdGlvbnMudGlsdC5hbmltYXRpb247XG4gICAgICAgIGlmICh0aWx0QW5pbWF0aW9uLmVuYWJsZSkge1xuICAgICAgICAgICAgcGFydGljbGUudGlsdC52ZWxvY2l0eSA9ICh0aWx0QW5pbWF0aW9uLnNwZWVkIC8gMzYwKSAqIHRoaXMuY29udGFpbmVyLnJldGluYS5yZWR1Y2VGYWN0b3I7XG4gICAgICAgICAgICBpZiAoIXRpbHRBbmltYXRpb24uc3luYykge1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlLnRpbHQudmVsb2NpdHkgKj0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpc0VuYWJsZWQocGFydGljbGUpIHtcbiAgICAgICAgY29uc3QgdGlsdCA9IHBhcnRpY2xlLm9wdGlvbnMudGlsdDtcbiAgICAgICAgY29uc3QgdGlsdEFuaW1hdGlvbiA9IHRpbHQuYW5pbWF0aW9uO1xuICAgICAgICByZXR1cm4gIXBhcnRpY2xlLmRlc3Ryb3llZCAmJiAhcGFydGljbGUuc3Bhd25pbmcgJiYgdGlsdEFuaW1hdGlvbi5lbmFibGU7XG4gICAgfVxuICAgIHVwZGF0ZShwYXJ0aWNsZSwgZGVsdGEpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZChwYXJ0aWNsZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVUaWx0KHBhcnRpY2xlLCBkZWx0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5UaWx0VXBkYXRlciA9IFRpbHRVcGRhdGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRUaWx0VXBkYXRlciA9IHZvaWQgMDtcbmNvbnN0IFRpbHRVcGRhdGVyXzEgPSByZXF1aXJlKFwiLi9UaWx0VXBkYXRlclwiKTtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRUaWx0VXBkYXRlcih0c1BhcnRpY2xlcykge1xuICAgIGF3YWl0IHRzUGFydGljbGVzLmFkZFBhcnRpY2xlVXBkYXRlcihcInRpbHRcIiwgKGNvbnRhaW5lcikgPT4gbmV3IFRpbHRVcGRhdGVyXzEuVGlsdFVwZGF0ZXIoY29udGFpbmVyKSk7XG59XG5leHBvcnRzLmxvYWRUaWx0VXBkYXRlciA9IGxvYWRUaWx0VXBkYXRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Xb2JibGVVcGRhdGVyID0gdm9pZCAwO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9VdGlsc1wiKTtcbmZ1bmN0aW9uIHVwZGF0ZVdvYmJsZShwYXJ0aWNsZSwgZGVsdGEpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgd29iYmxlID0gcGFydGljbGUub3B0aW9ucy53b2JibGU7XG4gICAgaWYgKCF3b2JibGUuZW5hYmxlIHx8ICFwYXJ0aWNsZS53b2JibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzcGVlZCA9IHBhcnRpY2xlLndvYmJsZS5zcGVlZCAqIGRlbHRhLmZhY3RvcjtcbiAgICBjb25zdCBkaXN0YW5jZSA9ICgoKF9hID0gcGFydGljbGUucmV0aW5hLndvYmJsZURpc3RhbmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwKSAqIGRlbHRhLmZhY3RvcikgLyAoMTAwMCAvIDYwKTtcbiAgICBjb25zdCBtYXggPSAyICogTWF0aC5QSTtcbiAgICBwYXJ0aWNsZS53b2JibGUuYW5nbGUgKz0gc3BlZWQ7XG4gICAgaWYgKHBhcnRpY2xlLndvYmJsZS5hbmdsZSA+IG1heCkge1xuICAgICAgICBwYXJ0aWNsZS53b2JibGUuYW5nbGUgLT0gbWF4O1xuICAgIH1cbiAgICBwYXJ0aWNsZS5wb3NpdGlvbi54ICs9IGRpc3RhbmNlICogTWF0aC5jb3MocGFydGljbGUud29iYmxlLmFuZ2xlKTtcbiAgICBwYXJ0aWNsZS5wb3NpdGlvbi55ICs9IGRpc3RhbmNlICogTWF0aC5hYnMoTWF0aC5zaW4ocGFydGljbGUud29iYmxlLmFuZ2xlKSk7XG59XG5jbGFzcyBXb2JibGVVcGRhdGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgfVxuICAgIGluaXQocGFydGljbGUpIHtcbiAgICAgICAgY29uc3Qgd29iYmxlT3B0ID0gcGFydGljbGUub3B0aW9ucy53b2JibGU7XG4gICAgICAgIGlmICh3b2JibGVPcHQuZW5hYmxlKSB7XG4gICAgICAgICAgICBwYXJ0aWNsZS53b2JibGUgPSB7XG4gICAgICAgICAgICAgICAgYW5nbGU6IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMixcbiAgICAgICAgICAgICAgICBzcGVlZDogKDAsIFV0aWxzXzEuZ2V0UmFuZ2VWYWx1ZSkod29iYmxlT3B0LnNwZWVkKSAvIDM2MCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJ0aWNsZS53b2JibGUgPSB7XG4gICAgICAgICAgICAgICAgYW5nbGU6IDAsXG4gICAgICAgICAgICAgICAgc3BlZWQ6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHBhcnRpY2xlLnJldGluYS53b2JibGVEaXN0YW5jZSA9ICgwLCBVdGlsc18xLmdldFJhbmdlVmFsdWUpKHdvYmJsZU9wdC5kaXN0YW5jZSkgKiB0aGlzLmNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbztcbiAgICB9XG4gICAgaXNFbmFibGVkKHBhcnRpY2xlKSB7XG4gICAgICAgIHJldHVybiAhcGFydGljbGUuZGVzdHJveWVkICYmICFwYXJ0aWNsZS5zcGF3bmluZyAmJiBwYXJ0aWNsZS5vcHRpb25zLndvYmJsZS5lbmFibGU7XG4gICAgfVxuICAgIHVwZGF0ZShwYXJ0aWNsZSwgZGVsdGEpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZChwYXJ0aWNsZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVXb2JibGUocGFydGljbGUsIGRlbHRhKTtcbiAgICB9XG59XG5leHBvcnRzLldvYmJsZVVwZGF0ZXIgPSBXb2JibGVVcGRhdGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRXb2JibGVVcGRhdGVyID0gdm9pZCAwO1xuY29uc3QgV29iYmxlVXBkYXRlcl8xID0gcmVxdWlyZShcIi4vV29iYmxlVXBkYXRlclwiKTtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRXb2JibGVVcGRhdGVyKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgdHNQYXJ0aWNsZXMuYWRkUGFydGljbGVVcGRhdGVyKFwid29iYmxlXCIsIChjb250YWluZXIpID0+IG5ldyBXb2JibGVVcGRhdGVyXzEuV29iYmxlVXBkYXRlcihjb250YWluZXIpKTtcbn1cbmV4cG9ydHMubG9hZFdvYmJsZVVwZGF0ZXIgPSBsb2FkV29iYmxlVXBkYXRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hbHRlckhzbCA9IGV4cG9ydHMuZHJhd0VsbGlwc2UgPSBleHBvcnRzLmRyYXdQYXJ0aWNsZVBsdWdpbiA9IGV4cG9ydHMuZHJhd1BsdWdpbiA9IGV4cG9ydHMuZHJhd1NoYXBlQWZ0ZXJFZmZlY3QgPSBleHBvcnRzLmRyYXdTaGFwZSA9IGV4cG9ydHMuZHJhd1BhcnRpY2xlID0gZXhwb3J0cy5kcmF3R3JhYkxpbmUgPSBleHBvcnRzLmdyYWRpZW50ID0gZXhwb3J0cy5kcmF3Q29ubmVjdExpbmUgPSBleHBvcnRzLmRyYXdMaW5rVHJpYW5nbGUgPSBleHBvcnRzLmRyYXdMaW5rTGluZSA9IGV4cG9ydHMuY2xlYXIgPSBleHBvcnRzLnBhaW50QmFzZSA9IHZvaWQgMDtcbmNvbnN0IE51bWJlclV0aWxzXzEgPSByZXF1aXJlKFwiLi9OdW1iZXJVdGlsc1wiKTtcbmNvbnN0IENvbG9yVXRpbHNfMSA9IHJlcXVpcmUoXCIuL0NvbG9yVXRpbHNcIik7XG5jb25zdCBFbnVtc18xID0gcmVxdWlyZShcIi4uL0VudW1zXCIpO1xuZnVuY3Rpb24gZHJhd0xpbmUoY29udGV4dCwgYmVnaW4sIGVuZCkge1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5tb3ZlVG8oYmVnaW4ueCwgYmVnaW4ueSk7XG4gICAgY29udGV4dC5saW5lVG8oZW5kLngsIGVuZC55KTtcbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xufVxuZnVuY3Rpb24gZHJhd1RyaWFuZ2xlKGNvbnRleHQsIHAxLCBwMiwgcDMpIHtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQubW92ZVRvKHAxLngsIHAxLnkpO1xuICAgIGNvbnRleHQubGluZVRvKHAyLngsIHAyLnkpO1xuICAgIGNvbnRleHQubGluZVRvKHAzLngsIHAzLnkpO1xuICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG59XG5mdW5jdGlvbiBwYWludEJhc2UoY29udGV4dCwgZGltZW5zaW9uLCBiYXNlQ29sb3IpIHtcbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGJhc2VDb2xvciAhPT0gbnVsbCAmJiBiYXNlQ29sb3IgIT09IHZvaWQgMCA/IGJhc2VDb2xvciA6IFwicmdiYSgwLDAsMCwwKVwiO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgZGltZW5zaW9uLndpZHRoLCBkaW1lbnNpb24uaGVpZ2h0KTtcbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbn1cbmV4cG9ydHMucGFpbnRCYXNlID0gcGFpbnRCYXNlO1xuZnVuY3Rpb24gY2xlYXIoY29udGV4dCwgZGltZW5zaW9uKSB7XG4gICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgZGltZW5zaW9uLndpZHRoLCBkaW1lbnNpb24uaGVpZ2h0KTtcbn1cbmV4cG9ydHMuY2xlYXIgPSBjbGVhcjtcbmZ1bmN0aW9uIGRyYXdMaW5rTGluZShjb250ZXh0LCB3aWR0aCwgYmVnaW4sIGVuZCwgbWF4RGlzdGFuY2UsIGNhbnZhc1NpemUsIHdhcnAsIGJhY2tncm91bmRNYXNrLCBjb21wb3NpdGUsIGNvbG9yTGluZSwgb3BhY2l0eSwgc2hhZG93KSB7XG4gICAgbGV0IGRyYXduID0gZmFsc2U7XG4gICAgaWYgKCgwLCBOdW1iZXJVdGlsc18xLmdldERpc3RhbmNlKShiZWdpbiwgZW5kKSA8PSBtYXhEaXN0YW5jZSkge1xuICAgICAgICBkcmF3TGluZShjb250ZXh0LCBiZWdpbiwgZW5kKTtcbiAgICAgICAgZHJhd24gPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmICh3YXJwKSB7XG4gICAgICAgIGxldCBwaTE7XG4gICAgICAgIGxldCBwaTI7XG4gICAgICAgIGNvbnN0IGVuZE5FID0ge1xuICAgICAgICAgICAgeDogZW5kLnggLSBjYW52YXNTaXplLndpZHRoLFxuICAgICAgICAgICAgeTogZW5kLnksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGQxID0gKDAsIE51bWJlclV0aWxzXzEuZ2V0RGlzdGFuY2VzKShiZWdpbiwgZW5kTkUpO1xuICAgICAgICBpZiAoZDEuZGlzdGFuY2UgPD0gbWF4RGlzdGFuY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHlpID0gYmVnaW4ueSAtIChkMS5keSAvIGQxLmR4KSAqIGJlZ2luLng7XG4gICAgICAgICAgICBwaTEgPSB7IHg6IDAsIHk6IHlpIH07XG4gICAgICAgICAgICBwaTIgPSB7IHg6IGNhbnZhc1NpemUud2lkdGgsIHk6IHlpIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlbmRTVyA9IHtcbiAgICAgICAgICAgICAgICB4OiBlbmQueCxcbiAgICAgICAgICAgICAgICB5OiBlbmQueSAtIGNhbnZhc1NpemUuaGVpZ2h0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGQyID0gKDAsIE51bWJlclV0aWxzXzEuZ2V0RGlzdGFuY2VzKShiZWdpbiwgZW5kU1cpO1xuICAgICAgICAgICAgaWYgKGQyLmRpc3RhbmNlIDw9IG1heERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeWkgPSBiZWdpbi55IC0gKGQyLmR5IC8gZDIuZHgpICogYmVnaW4ueDtcbiAgICAgICAgICAgICAgICBjb25zdCB4aSA9IC15aSAvIChkMi5keSAvIGQyLmR4KTtcbiAgICAgICAgICAgICAgICBwaTEgPSB7IHg6IHhpLCB5OiAwIH07XG4gICAgICAgICAgICAgICAgcGkyID0geyB4OiB4aSwgeTogY2FudmFzU2l6ZS5oZWlnaHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZFNFID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBlbmQueCAtIGNhbnZhc1NpemUud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHk6IGVuZC55IC0gY2FudmFzU2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBkMyA9ICgwLCBOdW1iZXJVdGlsc18xLmdldERpc3RhbmNlcykoYmVnaW4sIGVuZFNFKTtcbiAgICAgICAgICAgICAgICBpZiAoZDMuZGlzdGFuY2UgPD0gbWF4RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeWkgPSBiZWdpbi55IC0gKGQzLmR5IC8gZDMuZHgpICogYmVnaW4ueDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeGkgPSAteWkgLyAoZDMuZHkgLyBkMy5keCk7XG4gICAgICAgICAgICAgICAgICAgIHBpMSA9IHsgeDogeGksIHk6IHlpIH07XG4gICAgICAgICAgICAgICAgICAgIHBpMiA9IHsgeDogcGkxLnggKyBjYW52YXNTaXplLndpZHRoLCB5OiBwaTEueSArIGNhbnZhc1NpemUuaGVpZ2h0IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwaTEgJiYgcGkyKSB7XG4gICAgICAgICAgICBkcmF3TGluZShjb250ZXh0LCBiZWdpbiwgcGkxKTtcbiAgICAgICAgICAgIGRyYXdMaW5lKGNvbnRleHQsIGVuZCwgcGkyKTtcbiAgICAgICAgICAgIGRyYXduID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWRyYXduKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29udGV4dC5saW5lV2lkdGggPSB3aWR0aDtcbiAgICBpZiAoYmFja2dyb3VuZE1hc2spIHtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBjb21wb3NpdGU7XG4gICAgfVxuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAoMCwgQ29sb3JVdGlsc18xLmdldFN0eWxlRnJvbVJnYikoY29sb3JMaW5lLCBvcGFjaXR5KTtcbiAgICBpZiAoc2hhZG93LmVuYWJsZSkge1xuICAgICAgICBjb25zdCBzaGFkb3dDb2xvciA9ICgwLCBDb2xvclV0aWxzXzEuY29sb3JUb1JnYikoc2hhZG93LmNvbG9yKTtcbiAgICAgICAgaWYgKHNoYWRvd0NvbG9yKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzaGFkb3cuYmx1cjtcbiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSAoMCwgQ29sb3JVdGlsc18xLmdldFN0eWxlRnJvbVJnYikoc2hhZG93Q29sb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnRleHQuc3Ryb2tlKCk7XG59XG5leHBvcnRzLmRyYXdMaW5rTGluZSA9IGRyYXdMaW5rTGluZTtcbmZ1bmN0aW9uIGRyYXdMaW5rVHJpYW5nbGUoY29udGV4dCwgcG9zMSwgcG9zMiwgcG9zMywgYmFja2dyb3VuZE1hc2ssIGNvbXBvc2l0ZSwgY29sb3JUcmlhbmdsZSwgb3BhY2l0eVRyaWFuZ2xlKSB7XG4gICAgZHJhd1RyaWFuZ2xlKGNvbnRleHQsIHBvczEsIHBvczIsIHBvczMpO1xuICAgIGlmIChiYWNrZ3JvdW5kTWFzaykge1xuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IGNvbXBvc2l0ZTtcbiAgICB9XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAoMCwgQ29sb3JVdGlsc18xLmdldFN0eWxlRnJvbVJnYikoY29sb3JUcmlhbmdsZSwgb3BhY2l0eVRyaWFuZ2xlKTtcbiAgICBjb250ZXh0LmZpbGwoKTtcbn1cbmV4cG9ydHMuZHJhd0xpbmtUcmlhbmdsZSA9IGRyYXdMaW5rVHJpYW5nbGU7XG5mdW5jdGlvbiBkcmF3Q29ubmVjdExpbmUoY29udGV4dCwgd2lkdGgsIGxpbmVTdHlsZSwgYmVnaW4sIGVuZCkge1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGRyYXdMaW5lKGNvbnRleHQsIGJlZ2luLCBlbmQpO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gd2lkdGg7XG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGxpbmVTdHlsZTtcbiAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgIGNvbnRleHQucmVzdG9yZSgpO1xufVxuZXhwb3J0cy5kcmF3Q29ubmVjdExpbmUgPSBkcmF3Q29ubmVjdExpbmU7XG5mdW5jdGlvbiBncmFkaWVudChjb250ZXh0LCBwMSwgcDIsIG9wYWNpdHkpIHtcbiAgICBjb25zdCBncmFkU3RvcCA9IE1hdGguZmxvb3IocDIuZ2V0UmFkaXVzKCkgLyBwMS5nZXRSYWRpdXMoKSk7XG4gICAgY29uc3QgY29sb3IxID0gcDEuZ2V0RmlsbENvbG9yKCk7XG4gICAgY29uc3QgY29sb3IyID0gcDIuZ2V0RmlsbENvbG9yKCk7XG4gICAgaWYgKCFjb2xvcjEgfHwgIWNvbG9yMikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZVBvcyA9IHAxLmdldFBvc2l0aW9uKCk7XG4gICAgY29uc3QgZGVzdFBvcyA9IHAyLmdldFBvc2l0aW9uKCk7XG4gICAgY29uc3QgbWlkUmdiID0gKDAsIENvbG9yVXRpbHNfMS5jb2xvck1peCkoY29sb3IxLCBjb2xvcjIsIHAxLmdldFJhZGl1cygpLCBwMi5nZXRSYWRpdXMoKSk7XG4gICAgY29uc3QgZ3JhZCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQoc291cmNlUG9zLngsIHNvdXJjZVBvcy55LCBkZXN0UG9zLngsIGRlc3RQb3MueSk7XG4gICAgZ3JhZC5hZGRDb2xvclN0b3AoMCwgKDAsIENvbG9yVXRpbHNfMS5nZXRTdHlsZUZyb21Ic2wpKGNvbG9yMSwgb3BhY2l0eSkpO1xuICAgIGdyYWQuYWRkQ29sb3JTdG9wKGdyYWRTdG9wID4gMSA/IDEgOiBncmFkU3RvcCwgKDAsIENvbG9yVXRpbHNfMS5nZXRTdHlsZUZyb21SZ2IpKG1pZFJnYiwgb3BhY2l0eSkpO1xuICAgIGdyYWQuYWRkQ29sb3JTdG9wKDEsICgwLCBDb2xvclV0aWxzXzEuZ2V0U3R5bGVGcm9tSHNsKShjb2xvcjIsIG9wYWNpdHkpKTtcbiAgICByZXR1cm4gZ3JhZDtcbn1cbmV4cG9ydHMuZ3JhZGllbnQgPSBncmFkaWVudDtcbmZ1bmN0aW9uIGRyYXdHcmFiTGluZShjb250ZXh0LCB3aWR0aCwgYmVnaW4sIGVuZCwgY29sb3JMaW5lLCBvcGFjaXR5KSB7XG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgZHJhd0xpbmUoY29udGV4dCwgYmVnaW4sIGVuZCk7XG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICgwLCBDb2xvclV0aWxzXzEuZ2V0U3R5bGVGcm9tUmdiKShjb2xvckxpbmUsIG9wYWNpdHkpO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gd2lkdGg7XG4gICAgY29udGV4dC5zdHJva2UoKTtcbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbn1cbmV4cG9ydHMuZHJhd0dyYWJMaW5lID0gZHJhd0dyYWJMaW5lO1xuZnVuY3Rpb24gZHJhd1BhcnRpY2xlKGNvbnRhaW5lciwgY29udGV4dCwgcGFydGljbGUsIGRlbHRhLCBmaWxsQ29sb3JWYWx1ZSwgc3Ryb2tlQ29sb3JWYWx1ZSwgYmFja2dyb3VuZE1hc2ssIGNvbXBvc2l0ZSwgcmFkaXVzLCBvcGFjaXR5LCBzaGFkb3csIGdyYWRpZW50KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgY29uc3QgcG9zID0gcGFydGljbGUuZ2V0UG9zaXRpb24oKTtcbiAgICBjb25zdCB0aWx0T3B0aW9ucyA9IHBhcnRpY2xlLm9wdGlvbnMudGlsdDtcbiAgICBjb25zdCByb2xsT3B0aW9ucyA9IHBhcnRpY2xlLm9wdGlvbnMucm9sbDtcbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICBpZiAodGlsdE9wdGlvbnMuZW5hYmxlIHx8IHJvbGxPcHRpb25zLmVuYWJsZSkge1xuICAgICAgICBjb25zdCByb2xsID0gcm9sbE9wdGlvbnMuZW5hYmxlICYmIHBhcnRpY2xlLnJvbGw7XG4gICAgICAgIGNvbnN0IHRpbHQgPSB0aWx0T3B0aW9ucy5lbmFibGUgJiYgcGFydGljbGUudGlsdDtcbiAgICAgICAgY29uc3Qgcm9sbEhvcml6b250YWwgPSByb2xsICYmIChyb2xsT3B0aW9ucy5tb2RlID09PSBFbnVtc18xLlJvbGxNb2RlLmhvcml6b250YWwgfHwgcm9sbE9wdGlvbnMubW9kZSA9PT0gRW51bXNfMS5Sb2xsTW9kZS5ib3RoKTtcbiAgICAgICAgY29uc3Qgcm9sbFZlcnRpY2FsID0gcm9sbCAmJiAocm9sbE9wdGlvbnMubW9kZSA9PT0gRW51bXNfMS5Sb2xsTW9kZS52ZXJ0aWNhbCB8fCByb2xsT3B0aW9ucy5tb2RlID09PSBFbnVtc18xLlJvbGxNb2RlLmJvdGgpO1xuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybShyb2xsSG9yaXpvbnRhbCA/IE1hdGguY29zKHBhcnRpY2xlLnJvbGwuYW5nbGUpIDogMSwgdGlsdCA/IE1hdGguY29zKHBhcnRpY2xlLnRpbHQudmFsdWUpICogcGFydGljbGUudGlsdC5jb3NEaXJlY3Rpb24gOiAwLCB0aWx0ID8gTWF0aC5zaW4ocGFydGljbGUudGlsdC52YWx1ZSkgKiBwYXJ0aWNsZS50aWx0LnNpbkRpcmVjdGlvbiA6IDAsIHJvbGxWZXJ0aWNhbCA/IE1hdGguc2luKHBhcnRpY2xlLnJvbGwuYW5nbGUpIDogMSwgcG9zLngsIHBvcy55KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHBvcy54LCBwb3MueSk7XG4gICAgfVxuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29uc3QgYW5nbGUgPSAoKF9iID0gKF9hID0gcGFydGljbGUucm90YXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmFsdWUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDApICsgKHBhcnRpY2xlLm9wdGlvbnMucm90YXRlLnBhdGggPyBwYXJ0aWNsZS52ZWxvY2l0eS5hbmdsZSA6IDApO1xuICAgIGlmIChhbmdsZSAhPT0gMCkge1xuICAgICAgICBjb250ZXh0LnJvdGF0ZShhbmdsZSk7XG4gICAgfVxuICAgIGlmIChiYWNrZ3JvdW5kTWFzaykge1xuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IGNvbXBvc2l0ZTtcbiAgICB9XG4gICAgY29uc3Qgc2hhZG93Q29sb3IgPSBwYXJ0aWNsZS5zaGFkb3dDb2xvcjtcbiAgICBpZiAoc2hhZG93LmVuYWJsZSAmJiBzaGFkb3dDb2xvcikge1xuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzaGFkb3cuYmx1cjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9ICgwLCBDb2xvclV0aWxzXzEuZ2V0U3R5bGVGcm9tUmdiKShzaGFkb3dDb2xvcik7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IHNoYWRvdy5vZmZzZXQueDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gc2hhZG93Lm9mZnNldC55O1xuICAgIH1cbiAgICBpZiAoZ3JhZGllbnQpIHtcbiAgICAgICAgY29uc3QgZ3JhZGllbnRBbmdsZSA9IGdyYWRpZW50LmFuZ2xlLnZhbHVlO1xuICAgICAgICBjb25zdCBmaWxsR3JhZGllbnQgPSBncmFkaWVudC50eXBlID09PSBFbnVtc18xLkdyYWRpZW50VHlwZS5yYWRpYWxcbiAgICAgICAgICAgID8gY29udGV4dC5jcmVhdGVSYWRpYWxHcmFkaWVudCgwLCAwLCAwLCAwLCAwLCByYWRpdXMpXG4gICAgICAgICAgICA6IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQoTWF0aC5jb3MoZ3JhZGllbnRBbmdsZSkgKiAtcmFkaXVzLCBNYXRoLnNpbihncmFkaWVudEFuZ2xlKSAqIC1yYWRpdXMsIE1hdGguY29zKGdyYWRpZW50QW5nbGUpICogcmFkaXVzLCBNYXRoLnNpbihncmFkaWVudEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIGZvciAoY29uc3QgY29sb3Igb2YgZ3JhZGllbnQuY29sb3JzKSB7XG4gICAgICAgICAgICBmaWxsR3JhZGllbnQuYWRkQ29sb3JTdG9wKGNvbG9yLnN0b3AsICgwLCBDb2xvclV0aWxzXzEuZ2V0U3R5bGVGcm9tSHNsKSh7XG4gICAgICAgICAgICAgICAgaDogY29sb3IudmFsdWUuaC52YWx1ZSxcbiAgICAgICAgICAgICAgICBzOiBjb2xvci52YWx1ZS5zLnZhbHVlLFxuICAgICAgICAgICAgICAgIGw6IGNvbG9yLnZhbHVlLmwudmFsdWUsXG4gICAgICAgICAgICB9LCAoX2QgPSAoX2MgPSBjb2xvci5vcGFjaXR5KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudmFsdWUpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IG9wYWNpdHkpKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxHcmFkaWVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChmaWxsQ29sb3JWYWx1ZSkge1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsQ29sb3JWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzdHJva2UgPSBwYXJ0aWNsZS5zdHJva2U7XG4gICAgY29udGV4dC5saW5lV2lkdGggPSAoX2UgPSBwYXJ0aWNsZS5zdHJva2VXaWR0aCkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogMDtcbiAgICBpZiAoc3Ryb2tlQ29sb3JWYWx1ZSkge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3JWYWx1ZTtcbiAgICB9XG4gICAgZHJhd1NoYXBlKGNvbnRhaW5lciwgY29udGV4dCwgcGFydGljbGUsIHJhZGl1cywgb3BhY2l0eSwgZGVsdGEpO1xuICAgIGlmICgoKF9mID0gc3Ryb2tlID09PSBudWxsIHx8IHN0cm9rZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3Ryb2tlLndpZHRoKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAwKSA+IDApIHtcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG4gICAgaWYgKHBhcnRpY2xlLmNsb3NlKSB7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgfVxuICAgIGlmIChwYXJ0aWNsZS5maWxsKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIH1cbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICBpZiAodGlsdE9wdGlvbnMuZW5hYmxlICYmIHBhcnRpY2xlLnRpbHQpIHtcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgTWF0aC5jb3MocGFydGljbGUudGlsdC52YWx1ZSkgKiBwYXJ0aWNsZS50aWx0LmNvc0RpcmVjdGlvbiwgTWF0aC5zaW4ocGFydGljbGUudGlsdC52YWx1ZSkgKiBwYXJ0aWNsZS50aWx0LnNpbkRpcmVjdGlvbiwgMSwgcG9zLngsIHBvcy55KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHBvcy54LCBwb3MueSk7XG4gICAgfVxuICAgIGlmIChhbmdsZSAhPT0gMCkge1xuICAgICAgICBjb250ZXh0LnJvdGF0ZShhbmdsZSk7XG4gICAgfVxuICAgIGlmIChiYWNrZ3JvdW5kTWFzaykge1xuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IGNvbXBvc2l0ZTtcbiAgICB9XG4gICAgZHJhd1NoYXBlQWZ0ZXJFZmZlY3QoY29udGFpbmVyLCBjb250ZXh0LCBwYXJ0aWNsZSwgcmFkaXVzLCBvcGFjaXR5LCBkZWx0YSk7XG4gICAgY29udGV4dC5yZXN0b3JlKCk7XG59XG5leHBvcnRzLmRyYXdQYXJ0aWNsZSA9IGRyYXdQYXJ0aWNsZTtcbmZ1bmN0aW9uIGRyYXdTaGFwZShjb250YWluZXIsIGNvbnRleHQsIHBhcnRpY2xlLCByYWRpdXMsIG9wYWNpdHksIGRlbHRhKSB7XG4gICAgaWYgKCFwYXJ0aWNsZS5zaGFwZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRyYXdlciA9IGNvbnRhaW5lci5kcmF3ZXJzLmdldChwYXJ0aWNsZS5zaGFwZSk7XG4gICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmF3ZXIuZHJhdyhjb250ZXh0LCBwYXJ0aWNsZSwgcmFkaXVzLCBvcGFjaXR5LCBkZWx0YSwgY29udGFpbmVyLnJldGluYS5waXhlbFJhdGlvKTtcbn1cbmV4cG9ydHMuZHJhd1NoYXBlID0gZHJhd1NoYXBlO1xuZnVuY3Rpb24gZHJhd1NoYXBlQWZ0ZXJFZmZlY3QoY29udGFpbmVyLCBjb250ZXh0LCBwYXJ0aWNsZSwgcmFkaXVzLCBvcGFjaXR5LCBkZWx0YSkge1xuICAgIGlmICghcGFydGljbGUuc2hhcGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkcmF3ZXIgPSBjb250YWluZXIuZHJhd2Vycy5nZXQocGFydGljbGUuc2hhcGUpO1xuICAgIGlmICghKGRyYXdlciA9PT0gbnVsbCB8fCBkcmF3ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRyYXdlci5hZnRlckVmZmVjdCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmF3ZXIuYWZ0ZXJFZmZlY3QoY29udGV4dCwgcGFydGljbGUsIHJhZGl1cywgb3BhY2l0eSwgZGVsdGEsIGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbyk7XG59XG5leHBvcnRzLmRyYXdTaGFwZUFmdGVyRWZmZWN0ID0gZHJhd1NoYXBlQWZ0ZXJFZmZlY3Q7XG5mdW5jdGlvbiBkcmF3UGx1Z2luKGNvbnRleHQsIHBsdWdpbiwgZGVsdGEpIHtcbiAgICBpZiAoIXBsdWdpbi5kcmF3KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgcGx1Z2luLmRyYXcoY29udGV4dCwgZGVsdGEpO1xuICAgIGNvbnRleHQucmVzdG9yZSgpO1xufVxuZXhwb3J0cy5kcmF3UGx1Z2luID0gZHJhd1BsdWdpbjtcbmZ1bmN0aW9uIGRyYXdQYXJ0aWNsZVBsdWdpbihjb250ZXh0LCBwbHVnaW4sIHBhcnRpY2xlLCBkZWx0YSkge1xuICAgIGlmIChwbHVnaW4uZHJhd1BhcnRpY2xlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIHBsdWdpbi5kcmF3UGFydGljbGUoY29udGV4dCwgcGFydGljbGUsIGRlbHRhKTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxufVxuZXhwb3J0cy5kcmF3UGFydGljbGVQbHVnaW4gPSBkcmF3UGFydGljbGVQbHVnaW47XG5mdW5jdGlvbiBkcmF3RWxsaXBzZShjb250ZXh0LCBwYXJ0aWNsZSwgZmlsbENvbG9yVmFsdWUsIHJhZGl1cywgb3BhY2l0eSwgd2lkdGgsIHJvdGF0aW9uLCBzdGFydCwgZW5kKSB7XG4gICAgY29uc3QgcG9zID0gcGFydGljbGUuZ2V0UG9zaXRpb24oKTtcbiAgICBpZiAoZmlsbENvbG9yVmFsdWUpIHtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICgwLCBDb2xvclV0aWxzXzEuZ2V0U3R5bGVGcm9tSHNsKShmaWxsQ29sb3JWYWx1ZSwgb3BhY2l0eSk7XG4gICAgfVxuICAgIGlmICh3aWR0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnRleHQubGluZVdpZHRoID0gd2lkdGg7XG4gICAgY29uc3Qgcm90YXRpb25SYWRpYW4gPSAocm90YXRpb24gKiBNYXRoLlBJKSAvIDE4MDtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQuZWxsaXBzZShwb3MueCwgcG9zLnksIHJhZGl1cyAvIDIsIHJhZGl1cyAqIDIsIHJvdGF0aW9uUmFkaWFuLCBzdGFydCwgZW5kKTtcbiAgICBjb250ZXh0LnN0cm9rZSgpO1xufVxuZXhwb3J0cy5kcmF3RWxsaXBzZSA9IGRyYXdFbGxpcHNlO1xuZnVuY3Rpb24gYWx0ZXJIc2woY29sb3IsIHR5cGUsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaDogY29sb3IuaCxcbiAgICAgICAgczogY29sb3IucyxcbiAgICAgICAgbDogY29sb3IubCArICh0eXBlID09PSBFbnVtc18xLkFsdGVyVHlwZS5kYXJrZW4gPyAtMSA6IDEpICogdmFsdWUsXG4gICAgfTtcbn1cbmV4cG9ydHMuYWx0ZXJIc2wgPSBhbHRlckhzbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DaXJjbGUgPSB2b2lkIDA7XG5jb25zdCBSYW5nZV8xID0gcmVxdWlyZShcIi4vUmFuZ2VcIik7XG5jb25zdCBOdW1iZXJVdGlsc18xID0gcmVxdWlyZShcIi4vTnVtYmVyVXRpbHNcIik7XG5jbGFzcyBDaXJjbGUgZXh0ZW5kcyBSYW5nZV8xLlJhbmdlIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCByYWRpdXMpIHtcbiAgICAgICAgc3VwZXIoeCwgeSk7XG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgIH1cbiAgICBjb250YWlucyhwb2ludCkge1xuICAgICAgICByZXR1cm4gKDAsIE51bWJlclV0aWxzXzEuZ2V0RGlzdGFuY2UpKHBvaW50LCB0aGlzLnBvc2l0aW9uKSA8PSB0aGlzLnJhZGl1cztcbiAgICB9XG4gICAgaW50ZXJzZWN0cyhyYW5nZSkge1xuICAgICAgICBjb25zdCByZWN0ID0gcmFuZ2U7XG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IHJhbmdlO1xuICAgICAgICBjb25zdCBwb3MxID0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgY29uc3QgcG9zMiA9IHJhbmdlLnBvc2l0aW9uO1xuICAgICAgICBjb25zdCB4RGlzdCA9IE1hdGguYWJzKHBvczIueCAtIHBvczEueCk7XG4gICAgICAgIGNvbnN0IHlEaXN0ID0gTWF0aC5hYnMocG9zMi55IC0gcG9zMS55KTtcbiAgICAgICAgY29uc3QgciA9IHRoaXMucmFkaXVzO1xuICAgICAgICBpZiAoY2lyY2xlLnJhZGl1cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCByU3VtID0gciArIGNpcmNsZS5yYWRpdXM7XG4gICAgICAgICAgICBjb25zdCBkaXN0ID0gTWF0aC5zcXJ0KHhEaXN0ICogeERpc3QgKyB5RGlzdCArIHlEaXN0KTtcbiAgICAgICAgICAgIHJldHVybiByU3VtID4gZGlzdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWN0LnNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgdyA9IHJlY3Quc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGggPSByZWN0LnNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgZWRnZXMgPSBNYXRoLnBvdyh4RGlzdCAtIHcsIDIpICsgTWF0aC5wb3coeURpc3QgLSBoLCAyKTtcbiAgICAgICAgICAgIGlmICh4RGlzdCA+IHIgKyB3IHx8IHlEaXN0ID4gciArIGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeERpc3QgPD0gdyB8fCB5RGlzdCA8PSBoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWRnZXMgPD0gciAqIHI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2lyY2xlID0gQ2lyY2xlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNpcmNsZVdhcnAgPSB2b2lkIDA7XG5jb25zdCBSZWN0YW5nbGVfMSA9IHJlcXVpcmUoXCIuL1JlY3RhbmdsZVwiKTtcbmNvbnN0IENpcmNsZV8xID0gcmVxdWlyZShcIi4vQ2lyY2xlXCIpO1xuY2xhc3MgQ2lyY2xlV2FycCBleHRlbmRzIENpcmNsZV8xLkNpcmNsZSB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgcmFkaXVzLCBjYW52YXNTaXplKSB7XG4gICAgICAgIHN1cGVyKHgsIHksIHJhZGl1cyk7XG4gICAgICAgIHRoaXMuY2FudmFzU2l6ZSA9IGNhbnZhc1NpemU7XG4gICAgICAgIHRoaXMuY2FudmFzU2l6ZSA9IHtcbiAgICAgICAgICAgIGhlaWdodDogY2FudmFzU2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogY2FudmFzU2l6ZS53aWR0aCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29udGFpbnMocG9pbnQpIHtcbiAgICAgICAgaWYgKHN1cGVyLmNvbnRhaW5zKHBvaW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9zTkUgPSB7XG4gICAgICAgICAgICB4OiBwb2ludC54IC0gdGhpcy5jYW52YXNTaXplLndpZHRoLFxuICAgICAgICAgICAgeTogcG9pbnQueSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHN1cGVyLmNvbnRhaW5zKHBvc05FKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9zU0UgPSB7XG4gICAgICAgICAgICB4OiBwb2ludC54IC0gdGhpcy5jYW52YXNTaXplLndpZHRoLFxuICAgICAgICAgICAgeTogcG9pbnQueSAtIHRoaXMuY2FudmFzU2l6ZS5oZWlnaHQsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChzdXBlci5jb250YWlucyhwb3NTRSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvc1NXID0ge1xuICAgICAgICAgICAgeDogcG9pbnQueCxcbiAgICAgICAgICAgIHk6IHBvaW50LnkgLSB0aGlzLmNhbnZhc1NpemUuaGVpZ2h0LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc3VwZXIuY29udGFpbnMocG9zU1cpO1xuICAgIH1cbiAgICBpbnRlcnNlY3RzKHJhbmdlKSB7XG4gICAgICAgIGlmIChzdXBlci5pbnRlcnNlY3RzKHJhbmdlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVjdCA9IHJhbmdlO1xuICAgICAgICBjb25zdCBjaXJjbGUgPSByYW5nZTtcbiAgICAgICAgY29uc3QgbmV3UG9zID0ge1xuICAgICAgICAgICAgeDogcmFuZ2UucG9zaXRpb24ueCAtIHRoaXMuY2FudmFzU2l6ZS53aWR0aCxcbiAgICAgICAgICAgIHk6IHJhbmdlLnBvc2l0aW9uLnkgLSB0aGlzLmNhbnZhc1NpemUuaGVpZ2h0LFxuICAgICAgICB9O1xuICAgICAgICBpZiAoY2lyY2xlLnJhZGl1cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBiaWdnZXJDaXJjbGUgPSBuZXcgQ2lyY2xlXzEuQ2lyY2xlKG5ld1Bvcy54LCBuZXdQb3MueSwgY2lyY2xlLnJhZGl1cyAqIDIpO1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmludGVyc2VjdHMoYmlnZ2VyQ2lyY2xlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWN0LnNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgcmVjdFNXID0gbmV3IFJlY3RhbmdsZV8xLlJlY3RhbmdsZShuZXdQb3MueCwgbmV3UG9zLnksIHJlY3Quc2l6ZS53aWR0aCAqIDIsIHJlY3Quc2l6ZS5oZWlnaHQgKiAyKTtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5pbnRlcnNlY3RzKHJlY3RTVyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2lyY2xlV2FycCA9IENpcmNsZVdhcnA7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0SHNsQW5pbWF0aW9uRnJvbUhzbCA9IGV4cG9ydHMuZ2V0SHNsRnJvbUFuaW1hdGlvbiA9IGV4cG9ydHMuZ2V0TGlua1JhbmRvbUNvbG9yID0gZXhwb3J0cy5nZXRMaW5rQ29sb3IgPSBleHBvcnRzLmNvbG9yTWl4ID0gZXhwb3J0cy5nZXRTdHlsZUZyb21Ic3YgPSBleHBvcnRzLmdldFN0eWxlRnJvbUhzbCA9IGV4cG9ydHMuZ2V0U3R5bGVGcm9tUmdiID0gZXhwb3J0cy5nZXRSYW5kb21SZ2JDb2xvciA9IGV4cG9ydHMucmdiYVRvSHN2YSA9IGV4cG9ydHMucmdiVG9Ic3YgPSBleHBvcnRzLmhzdmFUb1JnYmEgPSBleHBvcnRzLmhzdlRvUmdiID0gZXhwb3J0cy5oc3ZhVG9Ic2xhID0gZXhwb3J0cy5oc3ZUb0hzbCA9IGV4cG9ydHMuaHNsYVRvSHN2YSA9IGV4cG9ydHMuaHNsVG9Ic3YgPSBleHBvcnRzLmhzbGFUb1JnYmEgPSBleHBvcnRzLmhzbFRvUmdiID0gZXhwb3J0cy5zdHJpbmdUb1JnYiA9IGV4cG9ydHMuc3RyaW5nVG9BbHBoYSA9IGV4cG9ydHMucmdiVG9Ic2wgPSBleHBvcnRzLmNvbG9yVG9Ic2wgPSBleHBvcnRzLmNvbG9yVG9SZ2IgPSB2b2lkIDA7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4vVXRpbHNcIik7XG5jb25zdCBDb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKTtcbmNvbnN0IE51bWJlclV0aWxzXzEgPSByZXF1aXJlKFwiLi9OdW1iZXJVdGlsc1wiKTtcbmNvbnN0IEVudW1zXzEgPSByZXF1aXJlKFwiLi4vRW51bXNcIik7XG5mdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgICBsZXQgdENhbGMgPSB0O1xuICAgIGlmICh0Q2FsYyA8IDApIHtcbiAgICAgICAgdENhbGMgKz0gMTtcbiAgICB9XG4gICAgaWYgKHRDYWxjID4gMSkge1xuICAgICAgICB0Q2FsYyAtPSAxO1xuICAgIH1cbiAgICBpZiAodENhbGMgPCAxIC8gNikge1xuICAgICAgICByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdENhbGM7XG4gICAgfVxuICAgIGlmICh0Q2FsYyA8IDEgLyAyKSB7XG4gICAgICAgIHJldHVybiBxO1xuICAgIH1cbiAgICBpZiAodENhbGMgPCAyIC8gMykge1xuICAgICAgICByZXR1cm4gcCArIChxIC0gcCkgKiAoMiAvIDMgLSB0Q2FsYykgKiA2O1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cbmZ1bmN0aW9uIHN0cmluZ1RvUmdiYShpbnB1dCkge1xuICAgIGlmIChpbnB1dC5zdGFydHNXaXRoKFwicmdiXCIpKSB7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gL3JnYmE/XFwoXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccyooLFxccyooW1xcZC5dKylcXHMqKT9cXCkvaTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVnZXguZXhlYyhpbnB1dCk7XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGE6IHJlc3VsdC5sZW5ndGggPiA0ID8gcGFyc2VGbG9hdChyZXN1bHRbNV0pIDogMSxcbiAgICAgICAgICAgICAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDEwKSxcbiAgICAgICAgICAgICAgICBnOiBwYXJzZUludChyZXN1bHRbMl0sIDEwKSxcbiAgICAgICAgICAgICAgICByOiBwYXJzZUludChyZXN1bHRbMV0sIDEwKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBlbHNlIGlmIChpbnB1dC5zdGFydHNXaXRoKFwiaHNsXCIpKSB7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gL2hzbGE/XFwoXFxzKihcXGQrKVxccyosXFxzKihcXGQrKSVcXHMqLFxccyooXFxkKyklXFxzKigsXFxzKihbXFxkLl0rKVxccyopP1xcKS9pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSByZWdleC5leGVjKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgICAgICAgPyBoc2xhVG9SZ2JhKHtcbiAgICAgICAgICAgICAgICBhOiByZXN1bHQubGVuZ3RoID4gNCA/IHBhcnNlRmxvYXQocmVzdWx0WzVdKSA6IDEsXG4gICAgICAgICAgICAgICAgaDogcGFyc2VJbnQocmVzdWx0WzFdLCAxMCksXG4gICAgICAgICAgICAgICAgbDogcGFyc2VJbnQocmVzdWx0WzNdLCAxMCksXG4gICAgICAgICAgICAgICAgczogcGFyc2VJbnQocmVzdWx0WzJdLCAxMCksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlucHV0LnN0YXJ0c1dpdGgoXCJoc3ZcIikpIHtcbiAgICAgICAgY29uc3QgcmVnZXggPSAvaHN2YT9cXChcXHMqKFxcZCspwrBcXHMqLFxccyooXFxkKyklXFxzKixcXHMqKFxcZCspJVxccyooLFxccyooW1xcZC5dKylcXHMqKT9cXCkvaTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVnZXguZXhlYyhpbnB1dCk7XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgICAgID8gaHN2YVRvUmdiYSh7XG4gICAgICAgICAgICAgICAgYTogcmVzdWx0Lmxlbmd0aCA+IDQgPyBwYXJzZUZsb2F0KHJlc3VsdFs1XSkgOiAxLFxuICAgICAgICAgICAgICAgIGg6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTApLFxuICAgICAgICAgICAgICAgIHM6IHBhcnNlSW50KHJlc3VsdFsyXSwgMTApLFxuICAgICAgICAgICAgICAgIHY6IHBhcnNlSW50KHJlc3VsdFszXSwgMTApLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2hvcnRoYW5kUmVnZXggPSAvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pKFthLWZcXGRdKT8kL2k7XG4gICAgICAgIGNvbnN0IGhleEZpeGVkID0gaW5wdXQucmVwbGFjZShzaG9ydGhhbmRSZWdleCwgKF9tLCByLCBnLCBiLCBhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gciArIHIgKyBnICsgZyArIGIgKyBiICsgKGEgIT09IHVuZGVmaW5lZCA/IGEgKyBhIDogXCJcIik7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZWdleCA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pPyQvaTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVnZXguZXhlYyhoZXhGaXhlZCk7XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGE6IHJlc3VsdFs0XSAhPT0gdW5kZWZpbmVkID8gcGFyc2VJbnQocmVzdWx0WzRdLCAxNikgLyAweGZmIDogMSxcbiAgICAgICAgICAgICAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDE2KSxcbiAgICAgICAgICAgICAgICBnOiBwYXJzZUludChyZXN1bHRbMl0sIDE2KSxcbiAgICAgICAgICAgICAgICByOiBwYXJzZUludChyZXN1bHRbMV0sIDE2KSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbG9yVG9SZ2IoaW5wdXQsIGluZGV4LCB1c2VJbmRleCA9IHRydWUpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBpZiAoaW5wdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbG9yID0gdHlwZW9mIGlucHV0ID09PSBcInN0cmluZ1wiID8geyB2YWx1ZTogaW5wdXQgfSA6IGlucHV0O1xuICAgIGxldCByZXM7XG4gICAgaWYgKHR5cGVvZiBjb2xvci52YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoY29sb3IudmFsdWUgPT09IENvbnN0YW50c18xLkNvbnN0YW50cy5yYW5kb21Db2xvclZhbHVlKSB7XG4gICAgICAgICAgICByZXMgPSBnZXRSYW5kb21SZ2JDb2xvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzID0gc3RyaW5nVG9SZ2IoY29sb3IudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoY29sb3IudmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgY29uc3QgY29sb3JTZWxlY3RlZCA9ICgwLCBVdGlsc18xLml0ZW1Gcm9tQXJyYXkpKGNvbG9yLnZhbHVlLCBpbmRleCwgdXNlSW5kZXgpO1xuICAgICAgICAgICAgcmVzID0gY29sb3JUb1JnYih7IHZhbHVlOiBjb2xvclNlbGVjdGVkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29sb3JWYWx1ZSA9IGNvbG9yLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcmdiQ29sb3IgPSAoX2EgPSBjb2xvclZhbHVlLnJnYikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY29sb3IudmFsdWU7XG4gICAgICAgICAgICBpZiAocmdiQ29sb3IuciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gcmdiQ29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoc2xDb2xvciA9IChfYiA9IGNvbG9yVmFsdWUuaHNsKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjb2xvci52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaHNsQ29sb3IuaCAhPT0gdW5kZWZpbmVkICYmIGhzbENvbG9yLmwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXMgPSBoc2xUb1JnYihoc2xDb2xvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoc3ZDb2xvciA9IChfYyA9IGNvbG9yVmFsdWUuaHN2KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBjb2xvci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhzdkNvbG9yLmggIT09IHVuZGVmaW5lZCAmJiBoc3ZDb2xvci52ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IGhzdlRvUmdiKGhzdkNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZXhwb3J0cy5jb2xvclRvUmdiID0gY29sb3JUb1JnYjtcbmZ1bmN0aW9uIGNvbG9yVG9Ic2woY29sb3IsIGluZGV4LCB1c2VJbmRleCA9IHRydWUpIHtcbiAgICBjb25zdCByZ2IgPSBjb2xvclRvUmdiKGNvbG9yLCBpbmRleCwgdXNlSW5kZXgpO1xuICAgIHJldHVybiByZ2IgIT09IHVuZGVmaW5lZCA/IHJnYlRvSHNsKHJnYikgOiB1bmRlZmluZWQ7XG59XG5leHBvcnRzLmNvbG9yVG9Ic2wgPSBjb2xvclRvSHNsO1xuZnVuY3Rpb24gcmdiVG9Ic2woY29sb3IpIHtcbiAgICBjb25zdCByMSA9IGNvbG9yLnIgLyAyNTU7XG4gICAgY29uc3QgZzEgPSBjb2xvci5nIC8gMjU1O1xuICAgIGNvbnN0IGIxID0gY29sb3IuYiAvIDI1NTtcbiAgICBjb25zdCBtYXggPSBNYXRoLm1heChyMSwgZzEsIGIxKTtcbiAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihyMSwgZzEsIGIxKTtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIGg6IDAsXG4gICAgICAgIGw6IChtYXggKyBtaW4pIC8gMixcbiAgICAgICAgczogMCxcbiAgICB9O1xuICAgIGlmIChtYXggIT0gbWluKSB7XG4gICAgICAgIHJlcy5zID0gcmVzLmwgPCAwLjUgPyAobWF4IC0gbWluKSAvIChtYXggKyBtaW4pIDogKG1heCAtIG1pbikgLyAoMi4wIC0gbWF4IC0gbWluKTtcbiAgICAgICAgcmVzLmggPVxuICAgICAgICAgICAgcjEgPT09IG1heFxuICAgICAgICAgICAgICAgID8gKGcxIC0gYjEpIC8gKG1heCAtIG1pbilcbiAgICAgICAgICAgICAgICA6IChyZXMuaCA9IGcxID09PSBtYXggPyAyLjAgKyAoYjEgLSByMSkgLyAobWF4IC0gbWluKSA6IDQuMCArIChyMSAtIGcxKSAvIChtYXggLSBtaW4pKTtcbiAgICB9XG4gICAgcmVzLmwgKj0gMTAwO1xuICAgIHJlcy5zICo9IDEwMDtcbiAgICByZXMuaCAqPSA2MDtcbiAgICBpZiAocmVzLmggPCAwKSB7XG4gICAgICAgIHJlcy5oICs9IDM2MDtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmV4cG9ydHMucmdiVG9Ic2wgPSByZ2JUb0hzbDtcbmZ1bmN0aW9uIHN0cmluZ1RvQWxwaGEoaW5wdXQpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHN0cmluZ1RvUmdiYShpbnB1dCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hO1xufVxuZXhwb3J0cy5zdHJpbmdUb0FscGhhID0gc3RyaW5nVG9BbHBoYTtcbmZ1bmN0aW9uIHN0cmluZ1RvUmdiKGlucHV0KSB7XG4gICAgcmV0dXJuIHN0cmluZ1RvUmdiYShpbnB1dCk7XG59XG5leHBvcnRzLnN0cmluZ1RvUmdiID0gc3RyaW5nVG9SZ2I7XG5mdW5jdGlvbiBoc2xUb1JnYihoc2wpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7IGI6IDAsIGc6IDAsIHI6IDAgfTtcbiAgICBjb25zdCBoc2xQZXJjZW50ID0ge1xuICAgICAgICBoOiBoc2wuaCAvIDM2MCxcbiAgICAgICAgbDogaHNsLmwgLyAxMDAsXG4gICAgICAgIHM6IGhzbC5zIC8gMTAwLFxuICAgIH07XG4gICAgaWYgKGhzbFBlcmNlbnQucyA9PT0gMCkge1xuICAgICAgICByZXN1bHQuYiA9IGhzbFBlcmNlbnQubDtcbiAgICAgICAgcmVzdWx0LmcgPSBoc2xQZXJjZW50Lmw7XG4gICAgICAgIHJlc3VsdC5yID0gaHNsUGVyY2VudC5sO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcSA9IGhzbFBlcmNlbnQubCA8IDAuNVxuICAgICAgICAgICAgPyBoc2xQZXJjZW50LmwgKiAoMSArIGhzbFBlcmNlbnQucylcbiAgICAgICAgICAgIDogaHNsUGVyY2VudC5sICsgaHNsUGVyY2VudC5zIC0gaHNsUGVyY2VudC5sICogaHNsUGVyY2VudC5zO1xuICAgICAgICBjb25zdCBwID0gMiAqIGhzbFBlcmNlbnQubCAtIHE7XG4gICAgICAgIHJlc3VsdC5yID0gaHVlMnJnYihwLCBxLCBoc2xQZXJjZW50LmggKyAxIC8gMyk7XG4gICAgICAgIHJlc3VsdC5nID0gaHVlMnJnYihwLCBxLCBoc2xQZXJjZW50LmgpO1xuICAgICAgICByZXN1bHQuYiA9IGh1ZTJyZ2IocCwgcSwgaHNsUGVyY2VudC5oIC0gMSAvIDMpO1xuICAgIH1cbiAgICByZXN1bHQuciA9IE1hdGguZmxvb3IocmVzdWx0LnIgKiAyNTUpO1xuICAgIHJlc3VsdC5nID0gTWF0aC5mbG9vcihyZXN1bHQuZyAqIDI1NSk7XG4gICAgcmVzdWx0LmIgPSBNYXRoLmZsb29yKHJlc3VsdC5iICogMjU1KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5oc2xUb1JnYiA9IGhzbFRvUmdiO1xuZnVuY3Rpb24gaHNsYVRvUmdiYShoc2xhKSB7XG4gICAgY29uc3QgcmdiUmVzdWx0ID0gaHNsVG9SZ2IoaHNsYSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYTogaHNsYS5hLFxuICAgICAgICBiOiByZ2JSZXN1bHQuYixcbiAgICAgICAgZzogcmdiUmVzdWx0LmcsXG4gICAgICAgIHI6IHJnYlJlc3VsdC5yLFxuICAgIH07XG59XG5leHBvcnRzLmhzbGFUb1JnYmEgPSBoc2xhVG9SZ2JhO1xuZnVuY3Rpb24gaHNsVG9Ic3YoaHNsKSB7XG4gICAgY29uc3QgbCA9IGhzbC5sIC8gMTAwLCBzbCA9IGhzbC5zIC8gMTAwO1xuICAgIGNvbnN0IHYgPSBsICsgc2wgKiBNYXRoLm1pbihsLCAxIC0gbCksIHN2ID0gIXYgPyAwIDogMiAqICgxIC0gbCAvIHYpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGg6IGhzbC5oLFxuICAgICAgICBzOiBzdiAqIDEwMCxcbiAgICAgICAgdjogdiAqIDEwMCxcbiAgICB9O1xufVxuZXhwb3J0cy5oc2xUb0hzdiA9IGhzbFRvSHN2O1xuZnVuY3Rpb24gaHNsYVRvSHN2YShoc2xhKSB7XG4gICAgY29uc3QgaHN2UmVzdWx0ID0gaHNsVG9Ic3YoaHNsYSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYTogaHNsYS5hLFxuICAgICAgICBoOiBoc3ZSZXN1bHQuaCxcbiAgICAgICAgczogaHN2UmVzdWx0LnMsXG4gICAgICAgIHY6IGhzdlJlc3VsdC52LFxuICAgIH07XG59XG5leHBvcnRzLmhzbGFUb0hzdmEgPSBoc2xhVG9Ic3ZhO1xuZnVuY3Rpb24gaHN2VG9Ic2woaHN2KSB7XG4gICAgY29uc3QgdiA9IGhzdi52IC8gMTAwLCBzdiA9IGhzdi5zIC8gMTAwO1xuICAgIGNvbnN0IGwgPSB2ICogKDEgLSBzdiAvIDIpLCBzbCA9IGwgPT09IDAgfHwgbCA9PT0gMSA/IDAgOiAodiAtIGwpIC8gTWF0aC5taW4obCwgMSAtIGwpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGg6IGhzdi5oLFxuICAgICAgICBsOiBsICogMTAwLFxuICAgICAgICBzOiBzbCAqIDEwMCxcbiAgICB9O1xufVxuZXhwb3J0cy5oc3ZUb0hzbCA9IGhzdlRvSHNsO1xuZnVuY3Rpb24gaHN2YVRvSHNsYShoc3ZhKSB7XG4gICAgY29uc3QgaHNsUmVzdWx0ID0gaHN2VG9Ic2woaHN2YSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYTogaHN2YS5hLFxuICAgICAgICBoOiBoc2xSZXN1bHQuaCxcbiAgICAgICAgbDogaHNsUmVzdWx0LmwsXG4gICAgICAgIHM6IGhzbFJlc3VsdC5zLFxuICAgIH07XG59XG5leHBvcnRzLmhzdmFUb0hzbGEgPSBoc3ZhVG9Ic2xhO1xuZnVuY3Rpb24gaHN2VG9SZ2IoaHN2KSB7XG4gICAgY29uc3QgcmVzdWx0ID0geyBiOiAwLCBnOiAwLCByOiAwIH07XG4gICAgY29uc3QgaHN2UGVyY2VudCA9IHtcbiAgICAgICAgaDogaHN2LmggLyA2MCxcbiAgICAgICAgczogaHN2LnMgLyAxMDAsXG4gICAgICAgIHY6IGhzdi52IC8gMTAwLFxuICAgIH07XG4gICAgY29uc3QgYyA9IGhzdlBlcmNlbnQudiAqIGhzdlBlcmNlbnQucywgeCA9IGMgKiAoMSAtIE1hdGguYWJzKChoc3ZQZXJjZW50LmggJSAyKSAtIDEpKTtcbiAgICBsZXQgdGVtcFJnYjtcbiAgICBpZiAoaHN2UGVyY2VudC5oID49IDAgJiYgaHN2UGVyY2VudC5oIDw9IDEpIHtcbiAgICAgICAgdGVtcFJnYiA9IHtcbiAgICAgICAgICAgIHI6IGMsXG4gICAgICAgICAgICBnOiB4LFxuICAgICAgICAgICAgYjogMCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaHN2UGVyY2VudC5oID4gMSAmJiBoc3ZQZXJjZW50LmggPD0gMikge1xuICAgICAgICB0ZW1wUmdiID0ge1xuICAgICAgICAgICAgcjogeCxcbiAgICAgICAgICAgIGc6IGMsXG4gICAgICAgICAgICBiOiAwLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChoc3ZQZXJjZW50LmggPiAyICYmIGhzdlBlcmNlbnQuaCA8PSAzKSB7XG4gICAgICAgIHRlbXBSZ2IgPSB7XG4gICAgICAgICAgICByOiAwLFxuICAgICAgICAgICAgZzogYyxcbiAgICAgICAgICAgIGI6IHgsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGhzdlBlcmNlbnQuaCA+IDMgJiYgaHN2UGVyY2VudC5oIDw9IDQpIHtcbiAgICAgICAgdGVtcFJnYiA9IHtcbiAgICAgICAgICAgIHI6IDAsXG4gICAgICAgICAgICBnOiB4LFxuICAgICAgICAgICAgYjogYyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaHN2UGVyY2VudC5oID4gNCAmJiBoc3ZQZXJjZW50LmggPD0gNSkge1xuICAgICAgICB0ZW1wUmdiID0ge1xuICAgICAgICAgICAgcjogeCxcbiAgICAgICAgICAgIGc6IDAsXG4gICAgICAgICAgICBiOiBjLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChoc3ZQZXJjZW50LmggPiA1ICYmIGhzdlBlcmNlbnQuaCA8PSA2KSB7XG4gICAgICAgIHRlbXBSZ2IgPSB7XG4gICAgICAgICAgICByOiBjLFxuICAgICAgICAgICAgZzogMCxcbiAgICAgICAgICAgIGI6IHgsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0ZW1wUmdiKSB7XG4gICAgICAgIGNvbnN0IG0gPSBoc3ZQZXJjZW50LnYgLSBjO1xuICAgICAgICByZXN1bHQuciA9IE1hdGguZmxvb3IoKHRlbXBSZ2IuciArIG0pICogMjU1KTtcbiAgICAgICAgcmVzdWx0LmcgPSBNYXRoLmZsb29yKCh0ZW1wUmdiLmcgKyBtKSAqIDI1NSk7XG4gICAgICAgIHJlc3VsdC5iID0gTWF0aC5mbG9vcigodGVtcFJnYi5iICsgbSkgKiAyNTUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5oc3ZUb1JnYiA9IGhzdlRvUmdiO1xuZnVuY3Rpb24gaHN2YVRvUmdiYShoc3ZhKSB7XG4gICAgY29uc3QgcmdiUmVzdWx0ID0gaHN2VG9SZ2IoaHN2YSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYTogaHN2YS5hLFxuICAgICAgICBiOiByZ2JSZXN1bHQuYixcbiAgICAgICAgZzogcmdiUmVzdWx0LmcsXG4gICAgICAgIHI6IHJnYlJlc3VsdC5yLFxuICAgIH07XG59XG5leHBvcnRzLmhzdmFUb1JnYmEgPSBoc3ZhVG9SZ2JhO1xuZnVuY3Rpb24gcmdiVG9Ic3YocmdiKSB7XG4gICAgY29uc3QgcmdiUGVyY2VudCA9IHtcbiAgICAgICAgcjogcmdiLnIgLyAyNTUsXG4gICAgICAgIGc6IHJnYi5nIC8gMjU1LFxuICAgICAgICBiOiByZ2IuYiAvIDI1NSxcbiAgICB9LCB4TWF4ID0gTWF0aC5tYXgocmdiUGVyY2VudC5yLCByZ2JQZXJjZW50LmcsIHJnYlBlcmNlbnQuYiksIHhNaW4gPSBNYXRoLm1pbihyZ2JQZXJjZW50LnIsIHJnYlBlcmNlbnQuZywgcmdiUGVyY2VudC5iKSwgdiA9IHhNYXgsIGMgPSB4TWF4IC0geE1pbjtcbiAgICBsZXQgaCA9IDA7XG4gICAgaWYgKHYgPT09IHJnYlBlcmNlbnQucikge1xuICAgICAgICBoID0gNjAgKiAoKHJnYlBlcmNlbnQuZyAtIHJnYlBlcmNlbnQuYikgLyBjKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodiA9PT0gcmdiUGVyY2VudC5nKSB7XG4gICAgICAgIGggPSA2MCAqICgyICsgKHJnYlBlcmNlbnQuYiAtIHJnYlBlcmNlbnQucikgLyBjKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodiA9PT0gcmdiUGVyY2VudC5iKSB7XG4gICAgICAgIGggPSA2MCAqICg0ICsgKHJnYlBlcmNlbnQuciAtIHJnYlBlcmNlbnQuZykgLyBjKTtcbiAgICB9XG4gICAgY29uc3QgcyA9ICF2ID8gMCA6IGMgLyB2O1xuICAgIHJldHVybiB7XG4gICAgICAgIGgsXG4gICAgICAgIHM6IHMgKiAxMDAsXG4gICAgICAgIHY6IHYgKiAxMDAsXG4gICAgfTtcbn1cbmV4cG9ydHMucmdiVG9Ic3YgPSByZ2JUb0hzdjtcbmZ1bmN0aW9uIHJnYmFUb0hzdmEocmdiYSkge1xuICAgIGNvbnN0IGhzdlJlc3VsdCA9IHJnYlRvSHN2KHJnYmEpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGE6IHJnYmEuYSxcbiAgICAgICAgaDogaHN2UmVzdWx0LmgsXG4gICAgICAgIHM6IGhzdlJlc3VsdC5zLFxuICAgICAgICB2OiBoc3ZSZXN1bHQudixcbiAgICB9O1xufVxuZXhwb3J0cy5yZ2JhVG9Ic3ZhID0gcmdiYVRvSHN2YTtcbmZ1bmN0aW9uIGdldFJhbmRvbVJnYkNvbG9yKG1pbikge1xuICAgIGNvbnN0IGZpeGVkTWluID0gbWluICE9PSBudWxsICYmIG1pbiAhPT0gdm9pZCAwID8gbWluIDogMDtcbiAgICByZXR1cm4ge1xuICAgICAgICBiOiBNYXRoLmZsb29yKCgwLCBOdW1iZXJVdGlsc18xLnJhbmRvbUluUmFuZ2UpKCgwLCBOdW1iZXJVdGlsc18xLnNldFJhbmdlVmFsdWUpKGZpeGVkTWluLCAyNTYpKSksXG4gICAgICAgIGc6IE1hdGguZmxvb3IoKDAsIE51bWJlclV0aWxzXzEucmFuZG9tSW5SYW5nZSkoKDAsIE51bWJlclV0aWxzXzEuc2V0UmFuZ2VWYWx1ZSkoZml4ZWRNaW4sIDI1NikpKSxcbiAgICAgICAgcjogTWF0aC5mbG9vcigoMCwgTnVtYmVyVXRpbHNfMS5yYW5kb21JblJhbmdlKSgoMCwgTnVtYmVyVXRpbHNfMS5zZXRSYW5nZVZhbHVlKShmaXhlZE1pbiwgMjU2KSkpLFxuICAgIH07XG59XG5leHBvcnRzLmdldFJhbmRvbVJnYkNvbG9yID0gZ2V0UmFuZG9tUmdiQ29sb3I7XG5mdW5jdGlvbiBnZXRTdHlsZUZyb21SZ2IoY29sb3IsIG9wYWNpdHkpIHtcbiAgICByZXR1cm4gYHJnYmEoJHtjb2xvci5yfSwgJHtjb2xvci5nfSwgJHtjb2xvci5ifSwgJHtvcGFjaXR5ICE9PSBudWxsICYmIG9wYWNpdHkgIT09IHZvaWQgMCA/IG9wYWNpdHkgOiAxfSlgO1xufVxuZXhwb3J0cy5nZXRTdHlsZUZyb21SZ2IgPSBnZXRTdHlsZUZyb21SZ2I7XG5mdW5jdGlvbiBnZXRTdHlsZUZyb21Ic2woY29sb3IsIG9wYWNpdHkpIHtcbiAgICByZXR1cm4gYGhzbGEoJHtjb2xvci5ofSwgJHtjb2xvci5zfSUsICR7Y29sb3IubH0lLCAke29wYWNpdHkgIT09IG51bGwgJiYgb3BhY2l0eSAhPT0gdm9pZCAwID8gb3BhY2l0eSA6IDF9KWA7XG59XG5leHBvcnRzLmdldFN0eWxlRnJvbUhzbCA9IGdldFN0eWxlRnJvbUhzbDtcbmZ1bmN0aW9uIGdldFN0eWxlRnJvbUhzdihjb2xvciwgb3BhY2l0eSkge1xuICAgIHJldHVybiBnZXRTdHlsZUZyb21Ic2woaHN2VG9Ic2woY29sb3IpLCBvcGFjaXR5KTtcbn1cbmV4cG9ydHMuZ2V0U3R5bGVGcm9tSHN2ID0gZ2V0U3R5bGVGcm9tSHN2O1xuZnVuY3Rpb24gY29sb3JNaXgoY29sb3IxLCBjb2xvcjIsIHNpemUxLCBzaXplMikge1xuICAgIGxldCByZ2IxID0gY29sb3IxO1xuICAgIGxldCByZ2IyID0gY29sb3IyO1xuICAgIGlmIChyZ2IxLnIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZ2IxID0gaHNsVG9SZ2IoY29sb3IxKTtcbiAgICB9XG4gICAgaWYgKHJnYjIuciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJnYjIgPSBoc2xUb1JnYihjb2xvcjIpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBiOiAoMCwgTnVtYmVyVXRpbHNfMS5taXgpKHJnYjEuYiwgcmdiMi5iLCBzaXplMSwgc2l6ZTIpLFxuICAgICAgICBnOiAoMCwgTnVtYmVyVXRpbHNfMS5taXgpKHJnYjEuZywgcmdiMi5nLCBzaXplMSwgc2l6ZTIpLFxuICAgICAgICByOiAoMCwgTnVtYmVyVXRpbHNfMS5taXgpKHJnYjEuciwgcmdiMi5yLCBzaXplMSwgc2l6ZTIpLFxuICAgIH07XG59XG5leHBvcnRzLmNvbG9yTWl4ID0gY29sb3JNaXg7XG5mdW5jdGlvbiBnZXRMaW5rQ29sb3IocDEsIHAyLCBsaW5rQ29sb3IpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChsaW5rQ29sb3IgPT09IENvbnN0YW50c18xLkNvbnN0YW50cy5yYW5kb21Db2xvclZhbHVlKSB7XG4gICAgICAgIHJldHVybiBnZXRSYW5kb21SZ2JDb2xvcigpO1xuICAgIH1cbiAgICBlbHNlIGlmIChsaW5rQ29sb3IgPT09IFwibWlkXCIpIHtcbiAgICAgICAgY29uc3Qgc291cmNlQ29sb3IgPSAoX2EgPSBwMS5nZXRGaWxsQ29sb3IoKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcDEuZ2V0U3Ryb2tlQ29sb3IoKTtcbiAgICAgICAgY29uc3QgZGVzdENvbG9yID0gKF9iID0gcDIgPT09IG51bGwgfHwgcDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHAyLmdldEZpbGxDb2xvcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBwMiA9PT0gbnVsbCB8fCBwMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcDIuZ2V0U3Ryb2tlQ29sb3IoKTtcbiAgICAgICAgaWYgKHNvdXJjZUNvbG9yICYmIGRlc3RDb2xvciAmJiBwMikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yTWl4KHNvdXJjZUNvbG9yLCBkZXN0Q29sb3IsIHAxLmdldFJhZGl1cygpLCBwMi5nZXRSYWRpdXMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBoc2xDb2xvciA9IHNvdXJjZUNvbG9yICE9PSBudWxsICYmIHNvdXJjZUNvbG9yICE9PSB2b2lkIDAgPyBzb3VyY2VDb2xvciA6IGRlc3RDb2xvcjtcbiAgICAgICAgICAgIGlmIChoc2xDb2xvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBoc2xUb1JnYihoc2xDb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBsaW5rQ29sb3I7XG4gICAgfVxufVxuZXhwb3J0cy5nZXRMaW5rQ29sb3IgPSBnZXRMaW5rQ29sb3I7XG5mdW5jdGlvbiBnZXRMaW5rUmFuZG9tQ29sb3Iob3B0Q29sb3IsIGJsaW5rLCBjb25zZW50KSB7XG4gICAgY29uc3QgY29sb3IgPSB0eXBlb2Ygb3B0Q29sb3IgPT09IFwic3RyaW5nXCIgPyBvcHRDb2xvciA6IG9wdENvbG9yLnZhbHVlO1xuICAgIGlmIChjb2xvciA9PT0gQ29uc3RhbnRzXzEuQ29uc3RhbnRzLnJhbmRvbUNvbG9yVmFsdWUpIHtcbiAgICAgICAgaWYgKGNvbnNlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvclRvUmdiKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogY29sb3IsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChibGluaykge1xuICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c18xLkNvbnN0YW50cy5yYW5kb21Db2xvclZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c18xLkNvbnN0YW50cy5taWRDb2xvclZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY29sb3JUb1JnYih7XG4gICAgICAgICAgICB2YWx1ZTogY29sb3IsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuZ2V0TGlua1JhbmRvbUNvbG9yID0gZ2V0TGlua1JhbmRvbUNvbG9yO1xuZnVuY3Rpb24gZ2V0SHNsRnJvbUFuaW1hdGlvbihhbmltYXRpb24pIHtcbiAgICByZXR1cm4gYW5pbWF0aW9uICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBoOiBhbmltYXRpb24uaC52YWx1ZSxcbiAgICAgICAgICAgIHM6IGFuaW1hdGlvbi5zLnZhbHVlLFxuICAgICAgICAgICAgbDogYW5pbWF0aW9uLmwudmFsdWUsXG4gICAgICAgIH1cbiAgICAgICAgOiB1bmRlZmluZWQ7XG59XG5leHBvcnRzLmdldEhzbEZyb21BbmltYXRpb24gPSBnZXRIc2xGcm9tQW5pbWF0aW9uO1xuZnVuY3Rpb24gZ2V0SHNsQW5pbWF0aW9uRnJvbUhzbChoc2wsIGFuaW1hdGlvbk9wdGlvbnMsIHJlZHVjZUZhY3Rvcikge1xuICAgIGNvbnN0IHJlc0NvbG9yID0ge1xuICAgICAgICBoOiB7XG4gICAgICAgICAgICBlbmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IGhzbC5oLFxuICAgICAgICB9LFxuICAgICAgICBzOiB7XG4gICAgICAgICAgICBlbmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IGhzbC5zLFxuICAgICAgICB9LFxuICAgICAgICBsOiB7XG4gICAgICAgICAgICBlbmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IGhzbC5sLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgaWYgKGFuaW1hdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgc2V0Q29sb3JBbmltYXRpb24ocmVzQ29sb3IuaCwgYW5pbWF0aW9uT3B0aW9ucy5oLCByZWR1Y2VGYWN0b3IpO1xuICAgICAgICBzZXRDb2xvckFuaW1hdGlvbihyZXNDb2xvci5zLCBhbmltYXRpb25PcHRpb25zLnMsIHJlZHVjZUZhY3Rvcik7XG4gICAgICAgIHNldENvbG9yQW5pbWF0aW9uKHJlc0NvbG9yLmwsIGFuaW1hdGlvbk9wdGlvbnMubCwgcmVkdWNlRmFjdG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc0NvbG9yO1xufVxuZXhwb3J0cy5nZXRIc2xBbmltYXRpb25Gcm9tSHNsID0gZ2V0SHNsQW5pbWF0aW9uRnJvbUhzbDtcbmZ1bmN0aW9uIHNldENvbG9yQW5pbWF0aW9uKGNvbG9yVmFsdWUsIGNvbG9yQW5pbWF0aW9uLCByZWR1Y2VGYWN0b3IpIHtcbiAgICBjb2xvclZhbHVlLmVuYWJsZSA9IGNvbG9yQW5pbWF0aW9uLmVuYWJsZTtcbiAgICBpZiAoY29sb3JWYWx1ZS5lbmFibGUpIHtcbiAgICAgICAgY29sb3JWYWx1ZS52ZWxvY2l0eSA9IChjb2xvckFuaW1hdGlvbi5zcGVlZCAvIDEwMCkgKiByZWR1Y2VGYWN0b3I7XG4gICAgICAgIGlmIChjb2xvckFuaW1hdGlvbi5zeW5jKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29sb3JWYWx1ZS5zdGF0dXMgPSBFbnVtc18xLkFuaW1hdGlvblN0YXR1cy5pbmNyZWFzaW5nO1xuICAgICAgICBjb2xvclZhbHVlLnZlbG9jaXR5ICo9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgIGlmIChjb2xvclZhbHVlLnZhbHVlKSB7XG4gICAgICAgICAgICBjb2xvclZhbHVlLnZhbHVlICo9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbG9yVmFsdWUudmVsb2NpdHkgPSAwO1xuICAgIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db25zdGFudHMgPSB2b2lkIDA7XG5jbGFzcyBDb25zdGFudHMge1xufVxuZXhwb3J0cy5Db25zdGFudHMgPSBDb25zdGFudHM7XG5Db25zdGFudHMuY2FudmFzQ2xhc3MgPSBcInRzcGFydGljbGVzLWNhbnZhcy1lbFwiO1xuQ29uc3RhbnRzLnJhbmRvbUNvbG9yVmFsdWUgPSBcInJhbmRvbVwiO1xuQ29uc3RhbnRzLm1pZENvbG9yVmFsdWUgPSBcIm1pZFwiO1xuQ29uc3RhbnRzLnRvdWNoRW5kRXZlbnQgPSBcInRvdWNoZW5kXCI7XG5Db25zdGFudHMubW91c2VEb3duRXZlbnQgPSBcIm1vdXNlZG93blwiO1xuQ29uc3RhbnRzLm1vdXNlVXBFdmVudCA9IFwibW91c2V1cFwiO1xuQ29uc3RhbnRzLm1vdXNlTW92ZUV2ZW50ID0gXCJtb3VzZW1vdmVcIjtcbkNvbnN0YW50cy50b3VjaFN0YXJ0RXZlbnQgPSBcInRvdWNoc3RhcnRcIjtcbkNvbnN0YW50cy50b3VjaE1vdmVFdmVudCA9IFwidG91Y2htb3ZlXCI7XG5Db25zdGFudHMubW91c2VMZWF2ZUV2ZW50ID0gXCJtb3VzZWxlYXZlXCI7XG5Db25zdGFudHMubW91c2VPdXRFdmVudCA9IFwibW91c2VvdXRcIjtcbkNvbnN0YW50cy50b3VjaENhbmNlbEV2ZW50ID0gXCJ0b3VjaGNhbmNlbFwiO1xuQ29uc3RhbnRzLnJlc2l6ZUV2ZW50ID0gXCJyZXNpemVcIjtcbkNvbnN0YW50cy52aXNpYmlsaXR5Q2hhbmdlRXZlbnQgPSBcInZpc2liaWxpdHljaGFuZ2VcIjtcbkNvbnN0YW50cy5ub1BvbHlnb25EYXRhTG9hZGVkID0gXCJObyBwb2x5Z29uIGRhdGEgbG9hZGVkLlwiO1xuQ29uc3RhbnRzLm5vUG9seWdvbkZvdW5kID0gXCJObyBwb2x5Z29uIGZvdW5kLCB5b3UgbmVlZCB0byBzcGVjaWZ5IFNWRyB1cmwgaW4gY29uZmlnLlwiO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkV2ZW50TGlzdGVuZXJzID0gdm9pZCAwO1xuY29uc3QgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi9FbnVtc1wiKTtcbmNvbnN0IENvbnN0YW50c18xID0gcmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuL1V0aWxzXCIpO1xuZnVuY3Rpb24gbWFuYWdlTGlzdGVuZXIoZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIsIGFkZCwgb3B0aW9ucykge1xuICAgIGlmIChhZGQpIHtcbiAgICAgICAgbGV0IGFkZE9wdGlvbnMgPSB7IHBhc3NpdmU6IHRydWUgfTtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgYWRkT3B0aW9ucy5jYXB0dXJlID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFkZE9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgYWRkT3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCByZW1vdmVPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCByZW1vdmVPcHRpb25zKTtcbiAgICB9XG59XG5jbGFzcyBFdmVudExpc3RlbmVycyB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmNhblB1c2ggPSB0cnVlO1xuICAgICAgICB0aGlzLm1vdXNlTW92ZUhhbmRsZXIgPSAoZSkgPT4gdGhpcy5tb3VzZVRvdWNoTW92ZShlKTtcbiAgICAgICAgdGhpcy50b3VjaFN0YXJ0SGFuZGxlciA9IChlKSA9PiB0aGlzLm1vdXNlVG91Y2hNb3ZlKGUpO1xuICAgICAgICB0aGlzLnRvdWNoTW92ZUhhbmRsZXIgPSAoZSkgPT4gdGhpcy5tb3VzZVRvdWNoTW92ZShlKTtcbiAgICAgICAgdGhpcy50b3VjaEVuZEhhbmRsZXIgPSAoKSA9PiB0aGlzLm1vdXNlVG91Y2hGaW5pc2goKTtcbiAgICAgICAgdGhpcy5tb3VzZUxlYXZlSGFuZGxlciA9ICgpID0+IHRoaXMubW91c2VUb3VjaEZpbmlzaCgpO1xuICAgICAgICB0aGlzLnRvdWNoQ2FuY2VsSGFuZGxlciA9ICgpID0+IHRoaXMubW91c2VUb3VjaEZpbmlzaCgpO1xuICAgICAgICB0aGlzLnRvdWNoRW5kQ2xpY2tIYW5kbGVyID0gKGUpID0+IHRoaXMubW91c2VUb3VjaENsaWNrKGUpO1xuICAgICAgICB0aGlzLm1vdXNlVXBIYW5kbGVyID0gKGUpID0+IHRoaXMubW91c2VUb3VjaENsaWNrKGUpO1xuICAgICAgICB0aGlzLm1vdXNlRG93bkhhbmRsZXIgPSAoKSA9PiB0aGlzLm1vdXNlRG93bigpO1xuICAgICAgICB0aGlzLnZpc2liaWxpdHlDaGFuZ2VIYW5kbGVyID0gKCkgPT4gdGhpcy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKCk7XG4gICAgICAgIHRoaXMudGhlbWVDaGFuZ2VIYW5kbGVyID0gKGUpID0+IHRoaXMuaGFuZGxlVGhlbWVDaGFuZ2UoZSk7XG4gICAgICAgIHRoaXMub2xkVGhlbWVDaGFuZ2VIYW5kbGVyID0gKGUpID0+IHRoaXMuaGFuZGxlVGhlbWVDaGFuZ2UoZSk7XG4gICAgICAgIHRoaXMucmVzaXplSGFuZGxlciA9ICgpID0+IHRoaXMuaGFuZGxlV2luZG93UmVzaXplKCk7XG4gICAgfVxuICAgIGFkZExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VMaXN0ZW5lcnModHJ1ZSk7XG4gICAgfVxuICAgIHJlbW92ZUxpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VMaXN0ZW5lcnMoZmFsc2UpO1xuICAgIH1cbiAgICBtYW5hZ2VMaXN0ZW5lcnMoYWRkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucztcbiAgICAgICAgY29uc3QgZGV0ZWN0VHlwZSA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5kZXRlY3RzT247XG4gICAgICAgIGxldCBtb3VzZUxlYXZlRXZlbnQgPSBDb25zdGFudHNfMS5Db25zdGFudHMubW91c2VMZWF2ZUV2ZW50O1xuICAgICAgICBpZiAoZGV0ZWN0VHlwZSA9PT0gRW51bXNfMS5JbnRlcmFjdGl2aXR5RGV0ZWN0LndpbmRvdykge1xuICAgICAgICAgICAgY29udGFpbmVyLmludGVyYWN0aXZpdHkuZWxlbWVudCA9IHdpbmRvdztcbiAgICAgICAgICAgIG1vdXNlTGVhdmVFdmVudCA9IENvbnN0YW50c18xLkNvbnN0YW50cy5tb3VzZU91dEV2ZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRldGVjdFR5cGUgPT09IEVudW1zXzEuSW50ZXJhY3Rpdml0eURldGVjdC5wYXJlbnQgJiYgY29udGFpbmVyLmNhbnZhcy5lbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBjYW52YXNFbCA9IGNvbnRhaW5lci5jYW52YXMuZWxlbWVudDtcbiAgICAgICAgICAgIGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5LmVsZW1lbnQgPSAoX2EgPSBjYW52YXNFbC5wYXJlbnRFbGVtZW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjYW52YXNFbC5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGFpbmVyLmludGVyYWN0aXZpdHkuZWxlbWVudCA9IGNvbnRhaW5lci5jYW52YXMuZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZWRpYU1hdGNoID0gISgwLCBVdGlsc18xLmlzU3NyKSgpICYmIHR5cGVvZiBtYXRjaE1lZGlhICE9PSBcInVuZGVmaW5lZFwiICYmIG1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpO1xuICAgICAgICBpZiAobWVkaWFNYXRjaCkge1xuICAgICAgICAgICAgaWYgKG1lZGlhTWF0Y2guYWRkRXZlbnRMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWFuYWdlTGlzdGVuZXIobWVkaWFNYXRjaCwgXCJjaGFuZ2VcIiwgdGhpcy50aGVtZUNoYW5nZUhhbmRsZXIsIGFkZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtZWRpYU1hdGNoLmFkZExpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWRkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhTWF0Y2guYWRkTGlzdGVuZXIodGhpcy5vbGRUaGVtZUNoYW5nZUhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFNYXRjaC5yZW1vdmVMaXN0ZW5lcih0aGlzLm9sZFRoZW1lQ2hhbmdlSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGludGVyYWN0aXZpdHlFbCA9IGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5LmVsZW1lbnQ7XG4gICAgICAgIGlmICghaW50ZXJhY3Rpdml0eUVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaHRtbCA9IGludGVyYWN0aXZpdHlFbDtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25Ib3Zlci5lbmFibGUgfHwgb3B0aW9ucy5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbkNsaWNrLmVuYWJsZSkge1xuICAgICAgICAgICAgbWFuYWdlTGlzdGVuZXIoaW50ZXJhY3Rpdml0eUVsLCBDb25zdGFudHNfMS5Db25zdGFudHMubW91c2VNb3ZlRXZlbnQsIHRoaXMubW91c2VNb3ZlSGFuZGxlciwgYWRkKTtcbiAgICAgICAgICAgIG1hbmFnZUxpc3RlbmVyKGludGVyYWN0aXZpdHlFbCwgQ29uc3RhbnRzXzEuQ29uc3RhbnRzLnRvdWNoU3RhcnRFdmVudCwgdGhpcy50b3VjaFN0YXJ0SGFuZGxlciwgYWRkKTtcbiAgICAgICAgICAgIG1hbmFnZUxpc3RlbmVyKGludGVyYWN0aXZpdHlFbCwgQ29uc3RhbnRzXzEuQ29uc3RhbnRzLnRvdWNoTW92ZUV2ZW50LCB0aGlzLnRvdWNoTW92ZUhhbmRsZXIsIGFkZCk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25DbGljay5lbmFibGUpIHtcbiAgICAgICAgICAgICAgICBtYW5hZ2VMaXN0ZW5lcihpbnRlcmFjdGl2aXR5RWwsIENvbnN0YW50c18xLkNvbnN0YW50cy50b3VjaEVuZEV2ZW50LCB0aGlzLnRvdWNoRW5kSGFuZGxlciwgYWRkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1hbmFnZUxpc3RlbmVyKGludGVyYWN0aXZpdHlFbCwgQ29uc3RhbnRzXzEuQ29uc3RhbnRzLnRvdWNoRW5kRXZlbnQsIHRoaXMudG91Y2hFbmRDbGlja0hhbmRsZXIsIGFkZCk7XG4gICAgICAgICAgICAgICAgbWFuYWdlTGlzdGVuZXIoaW50ZXJhY3Rpdml0eUVsLCBDb25zdGFudHNfMS5Db25zdGFudHMubW91c2VVcEV2ZW50LCB0aGlzLm1vdXNlVXBIYW5kbGVyLCBhZGQpO1xuICAgICAgICAgICAgICAgIG1hbmFnZUxpc3RlbmVyKGludGVyYWN0aXZpdHlFbCwgQ29uc3RhbnRzXzEuQ29uc3RhbnRzLm1vdXNlRG93bkV2ZW50LCB0aGlzLm1vdXNlRG93bkhhbmRsZXIsIGFkZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYW5hZ2VMaXN0ZW5lcihpbnRlcmFjdGl2aXR5RWwsIG1vdXNlTGVhdmVFdmVudCwgdGhpcy5tb3VzZUxlYXZlSGFuZGxlciwgYWRkKTtcbiAgICAgICAgICAgIG1hbmFnZUxpc3RlbmVyKGludGVyYWN0aXZpdHlFbCwgQ29uc3RhbnRzXzEuQ29uc3RhbnRzLnRvdWNoQ2FuY2VsRXZlbnQsIHRoaXMudG91Y2hDYW5jZWxIYW5kbGVyLCBhZGQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250YWluZXIuY2FudmFzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5jYW52YXMuZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gaHRtbCA9PT0gY29udGFpbmVyLmNhbnZhcy5lbGVtZW50ID8gXCJpbml0aWFsXCIgOiBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGl2aXR5LmV2ZW50cy5yZXNpemUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNpemVPYnNlcnZlciAmJiAhYWRkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIuY2FudmFzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKGNvbnRhaW5lci5jYW52YXMuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlc2l6ZU9ic2VydmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghdGhpcy5yZXNpemVPYnNlcnZlciAmJiBhZGQgJiYgY29udGFpbmVyLmNhbnZhcy5lbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllcy5maW5kKChlKSA9PiBlLnRhcmdldCA9PT0gY29udGFpbmVyLmNhbnZhcy5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKGNvbnRhaW5lci5jYW52YXMuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWFuYWdlTGlzdGVuZXIod2luZG93LCBDb25zdGFudHNfMS5Db25zdGFudHMucmVzaXplRXZlbnQsIHRoaXMucmVzaXplSGFuZGxlciwgYWRkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIG1hbmFnZUxpc3RlbmVyKGRvY3VtZW50LCBDb25zdGFudHNfMS5Db25zdGFudHMudmlzaWJpbGl0eUNoYW5nZUV2ZW50LCB0aGlzLnZpc2liaWxpdHlDaGFuZ2VIYW5kbGVyLCBhZGQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVXaW5kb3dSZXNpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZVRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRpbWVvdXQpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucmVzaXplVGltZW91dDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdGhpcy5jb250YWluZXIuY2FudmFzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eud2luZG93UmVzaXplKCk7IH0sIDUwMCk7XG4gICAgfVxuICAgIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnM7XG4gICAgICAgIHRoaXMubW91c2VUb3VjaEZpbmlzaCgpO1xuICAgICAgICBpZiAoIW9wdGlvbnMucGF1c2VPbkJsdXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9jdW1lbnQgPT09IG51bGwgfHwgZG9jdW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICAgICAgY29udGFpbmVyLnBhZ2VIaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgY29udGFpbmVyLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250YWluZXIucGFnZUhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5nZXRBbmltYXRpb25TdGF0dXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wbGF5KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmRyYXcodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbW91c2VEb3duKCkge1xuICAgICAgICBjb25zdCBpbnRlcmFjdGl2aXR5ID0gdGhpcy5jb250YWluZXIuaW50ZXJhY3Rpdml0eTtcbiAgICAgICAgaWYgKGludGVyYWN0aXZpdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlID0gaW50ZXJhY3Rpdml0eS5tb3VzZTtcbiAgICAgICAgICAgIG1vdXNlLmNsaWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIG1vdXNlLmRvd25Qb3NpdGlvbiA9IG1vdXNlLnBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1vdXNlVG91Y2hNb3ZlKGUpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICBpZiAoKChfYSA9IGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZWxlbWVudCkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5Lm1vdXNlLmluc2lkZSA9IHRydWU7XG4gICAgICAgIGxldCBwb3M7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGNvbnRhaW5lci5jYW52YXMuZWxlbWVudDtcbiAgICAgICAgaWYgKGUudHlwZS5zdGFydHNXaXRoKFwibW91c2VcIikpIHtcbiAgICAgICAgICAgIHRoaXMuY2FuUHVzaCA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBtb3VzZUV2ZW50ID0gZTtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIuaW50ZXJhY3Rpdml0eS5lbGVtZW50ID09PSB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudFJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IG1vdXNlRXZlbnQuY2xpZW50WCAtIGNsaWVudFJlY3QubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IG1vdXNlRXZlbnQuY2xpZW50WSAtIGNsaWVudFJlY3QudG9wLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5kZXRlY3RzT24gPT09IEVudW1zXzEuSW50ZXJhY3Rpdml0eURldGVjdC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBtb3VzZUV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBtb3VzZUV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FudmFzRWwgPSBjb250YWluZXIuY2FudmFzLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZSAmJiB0YXJnZXQgJiYgY2FudmFzRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlUmVjdCA9IHNvdXJjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0UmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FudmFzUmVjdCA9IGNhbnZhc0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBwb3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBtb3VzZUV2ZW50Lm9mZnNldFggKyAyICogc291cmNlUmVjdC5sZWZ0IC0gKHRhcmdldFJlY3QubGVmdCArIGNhbnZhc1JlY3QubGVmdCksXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBtb3VzZUV2ZW50Lm9mZnNldFkgKyAyICogc291cmNlUmVjdC50b3AgLSAodGFyZ2V0UmVjdC50b3AgKyBjYW52YXNSZWN0LnRvcCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwb3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiAoX2IgPSBtb3VzZUV2ZW50Lm9mZnNldFgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG1vdXNlRXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IChfYyA9IG1vdXNlRXZlbnQub2Zmc2V0WSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogbW91c2VFdmVudC5jbGllbnRZLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChtb3VzZUV2ZW50LnRhcmdldCA9PT0gY29udGFpbmVyLmNhbnZhcy5lbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IChfZCA9IG1vdXNlRXZlbnQub2Zmc2V0WCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogbW91c2VFdmVudC5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogKF9lID0gbW91c2VFdmVudC5vZmZzZXRZKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBtb3VzZUV2ZW50LmNsaWVudFksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYW5QdXNoID0gZS50eXBlICE9PSBcInRvdWNobW92ZVwiO1xuICAgICAgICAgICAgY29uc3QgdG91Y2hFdmVudCA9IGU7XG4gICAgICAgICAgICBjb25zdCBsYXN0VG91Y2ggPSB0b3VjaEV2ZW50LnRvdWNoZXNbdG91Y2hFdmVudC50b3VjaGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgY29uc3QgY2FudmFzUmVjdCA9IGNhbnZhcyA9PT0gbnVsbCB8fCBjYW52YXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHBvcyA9IHtcbiAgICAgICAgICAgICAgICB4OiBsYXN0VG91Y2guY2xpZW50WCAtICgoX2YgPSBjYW52YXNSZWN0ID09PSBudWxsIHx8IGNhbnZhc1JlY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhbnZhc1JlY3QubGVmdCkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogMCksXG4gICAgICAgICAgICAgICAgeTogbGFzdFRvdWNoLmNsaWVudFkgLSAoKF9nID0gY2FudmFzUmVjdCA9PT0gbnVsbCB8fCBjYW52YXNSZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYW52YXNSZWN0LnRvcCkgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogMCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB4UmF0aW8gPSBjb250YWluZXIucmV0aW5hLnBpeGVsUmF0aW87XG4gICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgIHBvcy54ICo9IHB4UmF0aW87XG4gICAgICAgICAgICBwb3MueSAqPSBweFJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5Lm1vdXNlLnBvc2l0aW9uID0gcG9zO1xuICAgICAgICBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5zdGF0dXMgPSBDb25zdGFudHNfMS5Db25zdGFudHMubW91c2VNb3ZlRXZlbnQ7XG4gICAgfVxuICAgIG1vdXNlVG91Y2hGaW5pc2goKSB7XG4gICAgICAgIGNvbnN0IGludGVyYWN0aXZpdHkgPSB0aGlzLmNvbnRhaW5lci5pbnRlcmFjdGl2aXR5O1xuICAgICAgICBpZiAoaW50ZXJhY3Rpdml0eSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW91c2UgPSBpbnRlcmFjdGl2aXR5Lm1vdXNlO1xuICAgICAgICBkZWxldGUgbW91c2UucG9zaXRpb247XG4gICAgICAgIGRlbGV0ZSBtb3VzZS5jbGlja1Bvc2l0aW9uO1xuICAgICAgICBkZWxldGUgbW91c2UuZG93blBvc2l0aW9uO1xuICAgICAgICBpbnRlcmFjdGl2aXR5LnN0YXR1cyA9IENvbnN0YW50c18xLkNvbnN0YW50cy5tb3VzZUxlYXZlRXZlbnQ7XG4gICAgICAgIG1vdXNlLmluc2lkZSA9IGZhbHNlO1xuICAgICAgICBtb3VzZS5jbGlja2luZyA9IGZhbHNlO1xuICAgIH1cbiAgICBtb3VzZVRvdWNoQ2xpY2soZSkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICBjb25zdCBtb3VzZSA9IGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5Lm1vdXNlO1xuICAgICAgICBtb3VzZS5pbnNpZGUgPSB0cnVlO1xuICAgICAgICBsZXQgaGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBtb3VzZVBvc2l0aW9uID0gbW91c2UucG9zaXRpb247XG4gICAgICAgIGlmIChtb3VzZVBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgIW9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25DbGljay5lbmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgY29udGFpbmVyLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIGlmIChwbHVnaW4uY2xpY2tQb3NpdGlvblZhbGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVkID0gcGx1Z2luLmNsaWNrUG9zaXRpb25WYWxpZChtb3VzZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYW5kbGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRvTW91c2VUb3VjaENsaWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIG1vdXNlLmNsaWNraW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGRvTW91c2VUb3VjaENsaWNrKGUpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucztcbiAgICAgICAgaWYgKHRoaXMuY2FuUHVzaCkge1xuICAgICAgICAgICAgY29uc3QgbW91c2VQb3MgPSBjb250YWluZXIuaW50ZXJhY3Rpdml0eS5tb3VzZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIGlmIChtb3VzZVBvcykge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5Lm1vdXNlLmNsaWNrUG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IG1vdXNlUG9zLngsXG4gICAgICAgICAgICAgICAgICAgIHk6IG1vdXNlUG9zLnksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRhaW5lci5pbnRlcmFjdGl2aXR5Lm1vdXNlLmNsaWNrVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgY29uc3Qgb25DbGljayA9IG9wdGlvbnMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25DbGljaztcbiAgICAgICAgICAgIGlmIChvbkNsaWNrLm1vZGUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbW9kZSBvZiBvbkNsaWNrLm1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDbGlja01vZGUobW9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDbGlja01vZGUob25DbGljay5tb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZS50eXBlID09PSBcInRvdWNoZW5kXCIpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5tb3VzZVRvdWNoRmluaXNoKCksIDUwMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlVGhlbWVDaGFuZ2UoZSkge1xuICAgICAgICBjb25zdCBtZWRpYUV2ZW50ID0gZTtcbiAgICAgICAgY29uc3QgdGhlbWVOYW1lID0gbWVkaWFFdmVudC5tYXRjaGVzXG4gICAgICAgICAgICA/IHRoaXMuY29udGFpbmVyLm9wdGlvbnMuZGVmYXVsdERhcmtUaGVtZVxuICAgICAgICAgICAgOiB0aGlzLmNvbnRhaW5lci5vcHRpb25zLmRlZmF1bHRMaWdodFRoZW1lO1xuICAgICAgICBjb25zdCB0aGVtZSA9IHRoaXMuY29udGFpbmVyLm9wdGlvbnMudGhlbWVzLmZpbmQoKHRoZW1lKSA9PiB0aGVtZS5uYW1lID09PSB0aGVtZU5hbWUpO1xuICAgICAgICBpZiAodGhlbWUgJiYgdGhlbWUuZGVmYXVsdC5hdXRvKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5sb2FkVGhlbWUodGhlbWVOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVDbGlja01vZGUobW9kZSkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zO1xuICAgICAgICBjb25zdCBwdXNoTmIgPSBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMucHVzaC5xdWFudGl0eTtcbiAgICAgICAgY29uc3QgcmVtb3ZlTmIgPSBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMucmVtb3ZlLnF1YW50aXR5O1xuICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5DbGlja01vZGUucHVzaDoge1xuICAgICAgICAgICAgICAgIGlmIChwdXNoTmIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHB1c2hPcHRpb25zID0gb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLnB1c2g7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gKDAsIFV0aWxzXzEuaXRlbUZyb21BcnJheSkoW3VuZGVmaW5lZCwgLi4ucHVzaE9wdGlvbnMuZ3JvdXBzXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwT3B0aW9ucyA9IGdyb3VwICE9PSB1bmRlZmluZWQgPyBjb250YWluZXIuYWN0dWFsT3B0aW9ucy5wYXJ0aWNsZXMuZ3JvdXBzW2dyb3VwXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnBhcnRpY2xlcy5wdXNoKHB1c2hOYiwgY29udGFpbmVyLmludGVyYWN0aXZpdHkubW91c2UsIGdyb3VwT3B0aW9ucywgZ3JvdXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5DbGlja01vZGUucmVtb3ZlOlxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wYXJ0aWNsZXMucmVtb3ZlUXVhbnRpdHkocmVtb3ZlTmIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbnVtc18xLkNsaWNrTW9kZS5idWJibGU6XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmJ1YmJsZS5jbGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVudW1zXzEuQ2xpY2tNb2RlLnJlcHVsc2U6XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnJlcHVsc2UuY2xpY2tpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZXB1bHNlLmNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2xlIG9mIGNvbnRhaW5lci5yZXB1bHNlLnBhcnRpY2xlcykge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZS52ZWxvY2l0eS5zZXRUbyhwYXJ0aWNsZS5pbml0aWFsVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250YWluZXIucmVwdWxzZS5wYXJ0aWNsZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIucmVwdWxzZS5maW5pc2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWluZXIuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucmVwdWxzZS5jbGlja2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5pbnRlcmFjdGl2aXR5Lm1vZGVzLnJlcHVsc2UuZHVyYXRpb24gKiAxMDAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5DbGlja01vZGUuYXR0cmFjdDpcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXR0cmFjdC5jbGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmF0dHJhY3QuY291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFydGljbGUgb2YgY29udGFpbmVyLmF0dHJhY3QucGFydGljbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlLnZlbG9jaXR5LnNldFRvKHBhcnRpY2xlLmluaXRpYWxWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hdHRyYWN0LnBhcnRpY2xlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hdHRyYWN0LmZpbmlzaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5lci5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hdHRyYWN0LmNsaWNraW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zLmludGVyYWN0aXZpdHkubW9kZXMuYXR0cmFjdC5kdXJhdGlvbiAqIDEwMDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbnVtc18xLkNsaWNrTW9kZS5wYXVzZTpcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLmdldEFuaW1hdGlvblN0YXR1cygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnBsYXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbLCBwbHVnaW5dIG9mIGNvbnRhaW5lci5wbHVnaW5zKSB7XG4gICAgICAgICAgICBpZiAocGx1Z2luLmhhbmRsZUNsaWNrTW9kZSkge1xuICAgICAgICAgICAgICAgIHBsdWdpbi5oYW5kbGVDbGlja01vZGUobW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkV2ZW50TGlzdGVuZXJzID0gRXZlbnRMaXN0ZW5lcnM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY2FsY0Vhc2luZyA9IGV4cG9ydHMuY29sbGlzaW9uVmVsb2NpdHkgPSBleHBvcnRzLmdldFBhcnRpY2xlQmFzZVZlbG9jaXR5ID0gZXhwb3J0cy5nZXRQYXJ0aWNsZURpcmVjdGlvbkFuZ2xlID0gZXhwb3J0cy5nZXREaXN0YW5jZSA9IGV4cG9ydHMuZ2V0RGlzdGFuY2VzID0gZXhwb3J0cy5nZXRWYWx1ZSA9IGV4cG9ydHMuc2V0UmFuZ2VWYWx1ZSA9IGV4cG9ydHMuZ2V0UmFuZ2VNYXggPSBleHBvcnRzLmdldFJhbmdlTWluID0gZXhwb3J0cy5nZXRSYW5nZVZhbHVlID0gZXhwb3J0cy5yYW5kb21JblJhbmdlID0gZXhwb3J0cy5taXggPSBleHBvcnRzLmNsYW1wID0gdm9pZCAwO1xuY29uc3QgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi9FbnVtc1wiKTtcbmNvbnN0IFZlY3Rvcl8xID0gcmVxdWlyZShcIi4uL0NvcmUvUGFydGljbGUvVmVjdG9yXCIpO1xuZnVuY3Rpb24gY2xhbXAobnVtLCBtaW4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChudW0sIG1pbiksIG1heCk7XG59XG5leHBvcnRzLmNsYW1wID0gY2xhbXA7XG5mdW5jdGlvbiBtaXgoY29tcDEsIGNvbXAyLCB3ZWlnaHQxLCB3ZWlnaHQyKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoKGNvbXAxICogd2VpZ2h0MSArIGNvbXAyICogd2VpZ2h0MikgLyAod2VpZ2h0MSArIHdlaWdodDIpKTtcbn1cbmV4cG9ydHMubWl4ID0gbWl4O1xuZnVuY3Rpb24gcmFuZG9tSW5SYW5nZShyKSB7XG4gICAgY29uc3QgbWF4ID0gZ2V0UmFuZ2VNYXgocik7XG4gICAgbGV0IG1pbiA9IGdldFJhbmdlTWluKHIpO1xuICAgIGlmIChtYXggPT09IG1pbikge1xuICAgICAgICBtaW4gPSAwO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xufVxuZXhwb3J0cy5yYW5kb21JblJhbmdlID0gcmFuZG9tSW5SYW5nZTtcbmZ1bmN0aW9uIGdldFJhbmdlVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiID8gdmFsdWUgOiByYW5kb21JblJhbmdlKHZhbHVlKTtcbn1cbmV4cG9ydHMuZ2V0UmFuZ2VWYWx1ZSA9IGdldFJhbmdlVmFsdWU7XG5mdW5jdGlvbiBnZXRSYW5nZU1pbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgPyB2YWx1ZSA6IHZhbHVlLm1pbjtcbn1cbmV4cG9ydHMuZ2V0UmFuZ2VNaW4gPSBnZXRSYW5nZU1pbjtcbmZ1bmN0aW9uIGdldFJhbmdlTWF4KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiA/IHZhbHVlIDogdmFsdWUubWF4O1xufVxuZXhwb3J0cy5nZXRSYW5nZU1heCA9IGdldFJhbmdlTWF4O1xuZnVuY3Rpb24gc2V0UmFuZ2VWYWx1ZShzb3VyY2UsIHZhbHVlKSB7XG4gICAgaWYgKHNvdXJjZSA9PT0gdmFsdWUgfHwgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNvdXJjZSA9PT0gXCJudW1iZXJcIikpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG4gICAgY29uc3QgbWluID0gZ2V0UmFuZ2VNaW4oc291cmNlKSwgbWF4ID0gZ2V0UmFuZ2VNYXgoc291cmNlKTtcbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIG1pbjogTWF0aC5taW4obWluLCB2YWx1ZSksXG4gICAgICAgICAgICBtYXg6IE1hdGgubWF4KG1heCwgdmFsdWUpLFxuICAgICAgICB9XG4gICAgICAgIDogc2V0UmFuZ2VWYWx1ZShtaW4sIG1heCk7XG59XG5leHBvcnRzLnNldFJhbmdlVmFsdWUgPSBzZXRSYW5nZVZhbHVlO1xuZnVuY3Rpb24gZ2V0VmFsdWUob3B0aW9ucykge1xuICAgIGNvbnN0IHJhbmRvbSA9IG9wdGlvbnMucmFuZG9tO1xuICAgIGNvbnN0IHsgZW5hYmxlLCBtaW5pbXVtVmFsdWUgfSA9IHR5cGVvZiByYW5kb20gPT09IFwiYm9vbGVhblwiID8geyBlbmFibGU6IHJhbmRvbSwgbWluaW11bVZhbHVlOiAwIH0gOiByYW5kb207XG4gICAgcmV0dXJuIGVuYWJsZSA/IGdldFJhbmdlVmFsdWUoc2V0UmFuZ2VWYWx1ZShvcHRpb25zLnZhbHVlLCBtaW5pbXVtVmFsdWUpKSA6IGdldFJhbmdlVmFsdWUob3B0aW9ucy52YWx1ZSk7XG59XG5leHBvcnRzLmdldFZhbHVlID0gZ2V0VmFsdWU7XG5mdW5jdGlvbiBnZXREaXN0YW5jZXMocG9pbnRBLCBwb2ludEIpIHtcbiAgICBjb25zdCBkeCA9IHBvaW50QS54IC0gcG9pbnRCLng7XG4gICAgY29uc3QgZHkgPSBwb2ludEEueSAtIHBvaW50Qi55O1xuICAgIHJldHVybiB7IGR4OiBkeCwgZHk6IGR5LCBkaXN0YW5jZTogTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KSB9O1xufVxuZXhwb3J0cy5nZXREaXN0YW5jZXMgPSBnZXREaXN0YW5jZXM7XG5mdW5jdGlvbiBnZXREaXN0YW5jZShwb2ludEEsIHBvaW50Qikge1xuICAgIHJldHVybiBnZXREaXN0YW5jZXMocG9pbnRBLCBwb2ludEIpLmRpc3RhbmNlO1xufVxuZXhwb3J0cy5nZXREaXN0YW5jZSA9IGdldERpc3RhbmNlO1xuZnVuY3Rpb24gZ2V0UGFydGljbGVEaXJlY3Rpb25BbmdsZShkaXJlY3Rpb24pIHtcbiAgICBpZiAodHlwZW9mIGRpcmVjdGlvbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gKGRpcmVjdGlvbiAqIE1hdGguUEkpIC8gMTgwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5Nb3ZlRGlyZWN0aW9uLnRvcDpcbiAgICAgICAgICAgICAgICByZXR1cm4gLU1hdGguUEkgLyAyO1xuICAgICAgICAgICAgY2FzZSBFbnVtc18xLk1vdmVEaXJlY3Rpb24udG9wUmlnaHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIC1NYXRoLlBJIC8gNDtcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5Nb3ZlRGlyZWN0aW9uLnJpZ2h0OlxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgY2FzZSBFbnVtc18xLk1vdmVEaXJlY3Rpb24uYm90dG9tUmlnaHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguUEkgLyA0O1xuICAgICAgICAgICAgY2FzZSBFbnVtc18xLk1vdmVEaXJlY3Rpb24uYm90dG9tOlxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLlBJIC8gMjtcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5Nb3ZlRGlyZWN0aW9uLmJvdHRvbUxlZnQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICgzICogTWF0aC5QSSkgLyA0O1xuICAgICAgICAgICAgY2FzZSBFbnVtc18xLk1vdmVEaXJlY3Rpb24ubGVmdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5QSTtcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5Nb3ZlRGlyZWN0aW9uLnRvcExlZnQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICgtMyAqIE1hdGguUEkpIC8gNDtcbiAgICAgICAgICAgIGNhc2UgRW51bXNfMS5Nb3ZlRGlyZWN0aW9uLm5vbmU6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmdldFBhcnRpY2xlRGlyZWN0aW9uQW5nbGUgPSBnZXRQYXJ0aWNsZURpcmVjdGlvbkFuZ2xlO1xuZnVuY3Rpb24gZ2V0UGFydGljbGVCYXNlVmVsb2NpdHkoZGlyZWN0aW9uKSB7XG4gICAgY29uc3QgYmFzZVZlbG9jaXR5ID0gVmVjdG9yXzEuVmVjdG9yLm9yaWdpbjtcbiAgICBiYXNlVmVsb2NpdHkubGVuZ3RoID0gMTtcbiAgICBiYXNlVmVsb2NpdHkuYW5nbGUgPSBkaXJlY3Rpb247XG4gICAgcmV0dXJuIGJhc2VWZWxvY2l0eTtcbn1cbmV4cG9ydHMuZ2V0UGFydGljbGVCYXNlVmVsb2NpdHkgPSBnZXRQYXJ0aWNsZUJhc2VWZWxvY2l0eTtcbmZ1bmN0aW9uIGNvbGxpc2lvblZlbG9jaXR5KHYxLCB2MiwgbTEsIG0yKSB7XG4gICAgcmV0dXJuIFZlY3Rvcl8xLlZlY3Rvci5jcmVhdGUoKHYxLnggKiAobTEgLSBtMikpIC8gKG0xICsgbTIpICsgKHYyLnggKiAyICogbTIpIC8gKG0xICsgbTIpLCB2MS55KTtcbn1cbmV4cG9ydHMuY29sbGlzaW9uVmVsb2NpdHkgPSBjb2xsaXNpb25WZWxvY2l0eTtcbmZ1bmN0aW9uIGNhbGNFYXNpbmcodmFsdWUsIHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBFbnVtc18xLkVhc2luZ1R5cGUuZWFzZU91dFF1YWQ6XG4gICAgICAgICAgICByZXR1cm4gMSAtICgxIC0gdmFsdWUpICoqIDI7XG4gICAgICAgIGNhc2UgRW51bXNfMS5FYXNpbmdUeXBlLmVhc2VPdXRDdWJpYzpcbiAgICAgICAgICAgIHJldHVybiAxIC0gKDEgLSB2YWx1ZSkgKiogMztcbiAgICAgICAgY2FzZSBFbnVtc18xLkVhc2luZ1R5cGUuZWFzZU91dFF1YXJ0OlxuICAgICAgICAgICAgcmV0dXJuIDEgLSAoMSAtIHZhbHVlKSAqKiA0O1xuICAgICAgICBjYXNlIEVudW1zXzEuRWFzaW5nVHlwZS5lYXNlT3V0UXVpbnQ6XG4gICAgICAgICAgICByZXR1cm4gMSAtICgxIC0gdmFsdWUpICoqIDU7XG4gICAgICAgIGNhc2UgRW51bXNfMS5FYXNpbmdUeXBlLmVhc2VPdXRFeHBvOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSAxID8gMSA6IDEgLSBNYXRoLnBvdygyLCAtMTAgKiB2YWx1ZSk7XG4gICAgICAgIGNhc2UgRW51bXNfMS5FYXNpbmdUeXBlLmVhc2VPdXRTaW5lOlxuICAgICAgICAgICAgcmV0dXJuIE1hdGguc2luKCh2YWx1ZSAqIE1hdGguUEkpIC8gMik7XG4gICAgICAgIGNhc2UgRW51bXNfMS5FYXNpbmdUeXBlLmVhc2VPdXRCYWNrOiB7XG4gICAgICAgICAgICBjb25zdCBjMSA9IDEuNzAxNTg7XG4gICAgICAgICAgICBjb25zdCBjMyA9IGMxICsgMTtcbiAgICAgICAgICAgIHJldHVybiAxICsgYzMgKiBNYXRoLnBvdyh2YWx1ZSAtIDEsIDMpICsgYzEgKiBNYXRoLnBvdyh2YWx1ZSAtIDEsIDIpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRW51bXNfMS5FYXNpbmdUeXBlLmVhc2VPdXRDaXJjOlxuICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCgxIC0gTWF0aC5wb3codmFsdWUgLSAxLCAyKSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuZXhwb3J0cy5jYWxjRWFzaW5nID0gY2FsY0Vhc2luZztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QbHVnaW5zID0gdm9pZCAwO1xuY29uc3QgcGx1Z2lucyA9IFtdO1xuY29uc3QgaW50ZXJhY3RvcnNJbml0aWFsaXplcnMgPSBuZXcgTWFwKCk7XG5jb25zdCB1cGRhdGVyc0luaXRpYWxpemVycyA9IG5ldyBNYXAoKTtcbmNvbnN0IGludGVyYWN0b3JzID0gbmV3IE1hcCgpO1xuY29uc3QgdXBkYXRlcnMgPSBuZXcgTWFwKCk7XG5jb25zdCBwcmVzZXRzID0gbmV3IE1hcCgpO1xuY29uc3QgZHJhd2VycyA9IG5ldyBNYXAoKTtcbmNvbnN0IHBhdGhHZW5lcmF0b3JzID0gbmV3IE1hcCgpO1xuY2xhc3MgUGx1Z2lucyB7XG4gICAgc3RhdGljIGdldFBsdWdpbihwbHVnaW4pIHtcbiAgICAgICAgcmV0dXJuIHBsdWdpbnMuZmluZCgodCkgPT4gdC5pZCA9PT0gcGx1Z2luKTtcbiAgICB9XG4gICAgc3RhdGljIGFkZFBsdWdpbihwbHVnaW4pIHtcbiAgICAgICAgaWYgKCFQbHVnaW5zLmdldFBsdWdpbihwbHVnaW4uaWQpKSB7XG4gICAgICAgICAgICBwbHVnaW5zLnB1c2gocGx1Z2luKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0QXZhaWxhYmxlUGx1Z2lucyhjb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgcmVzID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHBsdWdpbiBvZiBwbHVnaW5zKSB7XG4gICAgICAgICAgICBpZiAoIXBsdWdpbi5uZWVkc1BsdWdpbihjb250YWluZXIuYWN0dWFsT3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5zZXQocGx1Z2luLmlkLCBwbHVnaW4uZ2V0UGx1Z2luKGNvbnRhaW5lcikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIHN0YXRpYyBsb2FkT3B0aW9ucyhvcHRpb25zLCBzb3VyY2VPcHRpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3QgcGx1Z2luIG9mIHBsdWdpbnMpIHtcbiAgICAgICAgICAgIHBsdWdpbi5sb2FkT3B0aW9ucyhvcHRpb25zLCBzb3VyY2VPcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0UHJlc2V0KHByZXNldCkge1xuICAgICAgICByZXR1cm4gcHJlc2V0cy5nZXQocHJlc2V0KTtcbiAgICB9XG4gICAgc3RhdGljIGFkZFByZXNldChwcmVzZXRLZXksIG9wdGlvbnMsIG92ZXJyaWRlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKG92ZXJyaWRlIHx8ICFQbHVnaW5zLmdldFByZXNldChwcmVzZXRLZXkpKSB7XG4gICAgICAgICAgICBwcmVzZXRzLnNldChwcmVzZXRLZXksIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBhZGRTaGFwZURyYXdlcih0eXBlLCBkcmF3ZXIpIHtcbiAgICAgICAgaWYgKCFQbHVnaW5zLmdldFNoYXBlRHJhd2VyKHR5cGUpKSB7XG4gICAgICAgICAgICBkcmF3ZXJzLnNldCh0eXBlLCBkcmF3ZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBnZXRTaGFwZURyYXdlcih0eXBlKSB7XG4gICAgICAgIHJldHVybiBkcmF3ZXJzLmdldCh0eXBlKTtcbiAgICB9XG4gICAgc3RhdGljIGdldFN1cHBvcnRlZFNoYXBlcygpIHtcbiAgICAgICAgcmV0dXJuIGRyYXdlcnMua2V5cygpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0UGF0aEdlbmVyYXRvcih0eXBlKSB7XG4gICAgICAgIHJldHVybiBwYXRoR2VuZXJhdG9ycy5nZXQodHlwZSk7XG4gICAgfVxuICAgIHN0YXRpYyBhZGRQYXRoR2VuZXJhdG9yKHR5cGUsIHBhdGhHZW5lcmF0b3IpIHtcbiAgICAgICAgaWYgKCFQbHVnaW5zLmdldFBhdGhHZW5lcmF0b3IodHlwZSkpIHtcbiAgICAgICAgICAgIHBhdGhHZW5lcmF0b3JzLnNldCh0eXBlLCBwYXRoR2VuZXJhdG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0SW50ZXJhY3RvcnMoY29udGFpbmVyLCBmb3JjZSA9IGZhbHNlKSB7XG4gICAgICAgIGxldCByZXMgPSBpbnRlcmFjdG9ycy5nZXQoY29udGFpbmVyKTtcbiAgICAgICAgaWYgKCFyZXMgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgIHJlcyA9IFsuLi5pbnRlcmFjdG9yc0luaXRpYWxpemVycy52YWx1ZXMoKV0ubWFwKCh0KSA9PiB0KGNvbnRhaW5lcikpO1xuICAgICAgICAgICAgaW50ZXJhY3RvcnMuc2V0KGNvbnRhaW5lciwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkSW50ZXJhY3RvcihuYW1lLCBpbml0SW50ZXJhY3Rvcikge1xuICAgICAgICBpbnRlcmFjdG9yc0luaXRpYWxpemVycy5zZXQobmFtZSwgaW5pdEludGVyYWN0b3IpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0VXBkYXRlcnMoY29udGFpbmVyLCBmb3JjZSA9IGZhbHNlKSB7XG4gICAgICAgIGxldCByZXMgPSB1cGRhdGVycy5nZXQoY29udGFpbmVyKTtcbiAgICAgICAgaWYgKCFyZXMgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgIHJlcyA9IFsuLi51cGRhdGVyc0luaXRpYWxpemVycy52YWx1ZXMoKV0ubWFwKCh0KSA9PiB0KGNvbnRhaW5lcikpO1xuICAgICAgICAgICAgdXBkYXRlcnMuc2V0KGNvbnRhaW5lciwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkUGFydGljbGVVcGRhdGVyKG5hbWUsIGluaXRVcGRhdGVyKSB7XG4gICAgICAgIHVwZGF0ZXJzSW5pdGlhbGl6ZXJzLnNldChuYW1lLCBpbml0VXBkYXRlcik7XG4gICAgfVxufVxuZXhwb3J0cy5QbHVnaW5zID0gUGx1Z2lucztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb2ludCA9IHZvaWQgMDtcbmNsYXNzIFBvaW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbiwgcGFydGljbGUpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB0aGlzLnBhcnRpY2xlID0gcGFydGljbGU7XG4gICAgfVxufVxuZXhwb3J0cy5Qb2ludCA9IFBvaW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlF1YWRUcmVlID0gdm9pZCAwO1xuY29uc3QgUmVjdGFuZ2xlXzEgPSByZXF1aXJlKFwiLi9SZWN0YW5nbGVcIik7XG5jb25zdCBDaXJjbGVfMSA9IHJlcXVpcmUoXCIuL0NpcmNsZVwiKTtcbmNvbnN0IENpcmNsZVdhcnBfMSA9IHJlcXVpcmUoXCIuL0NpcmNsZVdhcnBcIik7XG5jb25zdCBOdW1iZXJVdGlsc18xID0gcmVxdWlyZShcIi4vTnVtYmVyVXRpbHNcIik7XG5jbGFzcyBRdWFkVHJlZSB7XG4gICAgY29uc3RydWN0b3IocmVjdGFuZ2xlLCBjYXBhY2l0eSkge1xuICAgICAgICB0aGlzLnJlY3RhbmdsZSA9IHJlY3RhbmdsZTtcbiAgICAgICAgdGhpcy5jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLmRpdmlkZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgc3ViZGl2aWRlKCkge1xuICAgICAgICBjb25zdCB4ID0gdGhpcy5yZWN0YW5nbGUucG9zaXRpb24ueDtcbiAgICAgICAgY29uc3QgeSA9IHRoaXMucmVjdGFuZ2xlLnBvc2l0aW9uLnk7XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnJlY3RhbmdsZS5zaXplLndpZHRoO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5yZWN0YW5nbGUuc2l6ZS5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IGNhcGFjaXR5ID0gdGhpcy5jYXBhY2l0eTtcbiAgICAgICAgdGhpcy5ub3J0aEVhc3QgPSBuZXcgUXVhZFRyZWUobmV3IFJlY3RhbmdsZV8xLlJlY3RhbmdsZSh4LCB5LCB3IC8gMiwgaCAvIDIpLCBjYXBhY2l0eSk7XG4gICAgICAgIHRoaXMubm9ydGhXZXN0ID0gbmV3IFF1YWRUcmVlKG5ldyBSZWN0YW5nbGVfMS5SZWN0YW5nbGUoeCArIHcgLyAyLCB5LCB3IC8gMiwgaCAvIDIpLCBjYXBhY2l0eSk7XG4gICAgICAgIHRoaXMuc291dGhFYXN0ID0gbmV3IFF1YWRUcmVlKG5ldyBSZWN0YW5nbGVfMS5SZWN0YW5nbGUoeCwgeSArIGggLyAyLCB3IC8gMiwgaCAvIDIpLCBjYXBhY2l0eSk7XG4gICAgICAgIHRoaXMuc291dGhXZXN0ID0gbmV3IFF1YWRUcmVlKG5ldyBSZWN0YW5nbGVfMS5SZWN0YW5nbGUoeCArIHcgLyAyLCB5ICsgaCAvIDIsIHcgLyAyLCBoIC8gMiksIGNhcGFjaXR5KTtcbiAgICAgICAgdGhpcy5kaXZpZGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaW5zZXJ0KHBvaW50KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIGlmICghdGhpcy5yZWN0YW5nbGUuY29udGFpbnMocG9pbnQucG9zaXRpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucG9pbnRzLmxlbmd0aCA8IHRoaXMuY2FwYWNpdHkpIHtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmRpdmlkZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3ViZGl2aWRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgoX2UgPSAoKChfYSA9IHRoaXMubm9ydGhFYXN0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5zZXJ0KHBvaW50KSkgfHxcbiAgICAgICAgICAgICgoX2IgPSB0aGlzLm5vcnRoV2VzdCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmluc2VydChwb2ludCkpIHx8XG4gICAgICAgICAgICAoKF9jID0gdGhpcy5zb3V0aEVhc3QpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5pbnNlcnQocG9pbnQpKSB8fFxuICAgICAgICAgICAgKChfZCA9IHRoaXMuc291dGhXZXN0KSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuaW5zZXJ0KHBvaW50KSkpKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBmYWxzZSk7XG4gICAgfVxuICAgIHF1ZXJ5Q2lyY2xlKHBvc2l0aW9uLCByYWRpdXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcnkobmV3IENpcmNsZV8xLkNpcmNsZShwb3NpdGlvbi54LCBwb3NpdGlvbi55LCByYWRpdXMpKTtcbiAgICB9XG4gICAgcXVlcnlDaXJjbGVXYXJwKHBvc2l0aW9uLCByYWRpdXMsIGNvbnRhaW5lck9yU2l6ZSkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBjb250YWluZXJPclNpemU7XG4gICAgICAgIGNvbnN0IHNpemUgPSBjb250YWluZXJPclNpemU7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5KG5ldyBDaXJjbGVXYXJwXzEuQ2lyY2xlV2FycChwb3NpdGlvbi54LCBwb3NpdGlvbi55LCByYWRpdXMsIGNvbnRhaW5lci5jYW52YXMgIT09IHVuZGVmaW5lZCA/IGNvbnRhaW5lci5jYW52YXMuc2l6ZSA6IHNpemUpKTtcbiAgICB9XG4gICAgcXVlcnlSZWN0YW5nbGUocG9zaXRpb24sIHNpemUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcnkobmV3IFJlY3RhbmdsZV8xLlJlY3RhbmdsZShwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBzaXplLndpZHRoLCBzaXplLmhlaWdodCkpO1xuICAgIH1cbiAgICBxdWVyeShyYW5nZSwgZm91bmQpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBjb25zdCByZXMgPSBmb3VuZCAhPT0gbnVsbCAmJiBmb3VuZCAhPT0gdm9pZCAwID8gZm91bmQgOiBbXTtcbiAgICAgICAgaWYgKCFyYW5nZS5pbnRlcnNlY3RzKHRoaXMucmVjdGFuZ2xlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBwIG9mIHRoaXMucG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyYW5nZS5jb250YWlucyhwLnBvc2l0aW9uKSAmJiAoMCwgTnVtYmVyVXRpbHNfMS5nZXREaXN0YW5jZSkocmFuZ2UucG9zaXRpb24sIHAucG9zaXRpb24pID4gcC5wYXJ0aWNsZS5nZXRSYWRpdXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzLnB1c2gocC5wYXJ0aWNsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kaXZpZGVkKSB7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5ub3J0aEVhc3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5xdWVyeShyYW5nZSwgcmVzKTtcbiAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLm5vcnRoV2VzdCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnF1ZXJ5KHJhbmdlLCByZXMpO1xuICAgICAgICAgICAgICAgIChfYyA9IHRoaXMuc291dGhFYXN0KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucXVlcnkocmFuZ2UsIHJlcyk7XG4gICAgICAgICAgICAgICAgKF9kID0gdGhpcy5zb3V0aFdlc3QpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5xdWVyeShyYW5nZSwgcmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbn1cbmV4cG9ydHMuUXVhZFRyZWUgPSBRdWFkVHJlZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SYW5nZSA9IHZvaWQgMDtcbmNsYXNzIFJhbmdlIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlJhbmdlID0gUmFuZ2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVjdGFuZ2xlID0gdm9pZCAwO1xuY29uc3QgUmFuZ2VfMSA9IHJlcXVpcmUoXCIuL1JhbmdlXCIpO1xuY2xhc3MgUmVjdGFuZ2xlIGV4dGVuZHMgUmFuZ2VfMS5SYW5nZSB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBzdXBlcih4LCB5KTtcbiAgICAgICAgdGhpcy5zaXplID0ge1xuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnRhaW5zKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNpemUud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNpemUuaGVpZ2h0O1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICByZXR1cm4gcG9pbnQueCA+PSBwb3MueCAmJiBwb2ludC54IDw9IHBvcy54ICsgdyAmJiBwb2ludC55ID49IHBvcy55ICYmIHBvaW50LnkgPD0gcG9zLnkgKyBoO1xuICAgIH1cbiAgICBpbnRlcnNlY3RzKHJhbmdlKSB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSByYW5nZTtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gcmFuZ2U7XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNpemUud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNpemUuaGVpZ2h0O1xuICAgICAgICBjb25zdCBwb3MxID0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgY29uc3QgcG9zMiA9IHJhbmdlLnBvc2l0aW9uO1xuICAgICAgICBpZiAoY2lyY2xlLnJhZGl1cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2lyY2xlLmludGVyc2VjdHModGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVjdC5zaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpemUyID0gcmVjdC5zaXplO1xuICAgICAgICAgICAgY29uc3QgdzIgPSBzaXplMi53aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGgyID0gc2l6ZTIuaGVpZ2h0O1xuICAgICAgICAgICAgcmV0dXJuIHBvczIueCA8IHBvczEueCArIHcgJiYgcG9zMi54ICsgdzIgPiBwb3MxLnggJiYgcG9zMi55IDwgcG9zMS55ICsgaCAmJiBwb3MyLnkgKyBoMiA+IHBvczEueTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0cy5SZWN0YW5nbGUgPSBSZWN0YW5nbGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVjdEJvdW5jZSA9IGV4cG9ydHMuY2lyY2xlQm91bmNlID0gZXhwb3J0cy5jaXJjbGVCb3VuY2VEYXRhRnJvbVBhcnRpY2xlID0gZXhwb3J0cy5kaXZNb2RlID0gZXhwb3J0cy5zaW5nbGVEaXZNb2RlRXhlY3V0ZSA9IGV4cG9ydHMuZGl2TW9kZUV4ZWN1dGUgPSBleHBvcnRzLmlzRGl2TW9kZUVuYWJsZWQgPSBleHBvcnRzLmRlZXBFeHRlbmQgPSBleHBvcnRzLmNhbGN1bGF0ZUJvdW5kcyA9IGV4cG9ydHMuYXJlQm91bmRzSW5zaWRlID0gZXhwb3J0cy5pc1BvaW50SW5zaWRlID0gZXhwb3J0cy5pdGVtRnJvbUFycmF5ID0gZXhwb3J0cy5hcnJheVJhbmRvbUluZGV4ID0gZXhwb3J0cy5sb2FkRm9udCA9IGV4cG9ydHMuaXNJbkFycmF5ID0gZXhwb3J0cy5jYW5jZWxBbmltYXRpb24gPSBleHBvcnRzLmFuaW1hdGUgPSBleHBvcnRzLmlzU3NyID0gdm9pZCAwO1xuY29uc3QgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi9FbnVtc1wiKTtcbmNvbnN0IE51bWJlclV0aWxzXzEgPSByZXF1aXJlKFwiLi9OdW1iZXJVdGlsc1wiKTtcbmNvbnN0IFZlY3Rvcl8xID0gcmVxdWlyZShcIi4uL0NvcmUvUGFydGljbGUvVmVjdG9yXCIpO1xuZnVuY3Rpb24gcmVjdFNpZGVCb3VuY2UocFNpZGUsIHBPdGhlclNpZGUsIHJlY3RTaWRlLCByZWN0T3RoZXJTaWRlLCB2ZWxvY2l0eSwgZmFjdG9yKSB7XG4gICAgY29uc3QgcmVzID0geyBib3VuY2VkOiBmYWxzZSB9O1xuICAgIGlmIChwT3RoZXJTaWRlLm1pbiA+PSByZWN0T3RoZXJTaWRlLm1pbiAmJlxuICAgICAgICBwT3RoZXJTaWRlLm1pbiA8PSByZWN0T3RoZXJTaWRlLm1heCAmJlxuICAgICAgICBwT3RoZXJTaWRlLm1heCA+PSByZWN0T3RoZXJTaWRlLm1pbiAmJlxuICAgICAgICBwT3RoZXJTaWRlLm1heCA8PSByZWN0T3RoZXJTaWRlLm1heCkge1xuICAgICAgICBpZiAoKHBTaWRlLm1heCA+PSByZWN0U2lkZS5taW4gJiYgcFNpZGUubWF4IDw9IChyZWN0U2lkZS5tYXggKyByZWN0U2lkZS5taW4pIC8gMiAmJiB2ZWxvY2l0eSA+IDApIHx8XG4gICAgICAgICAgICAocFNpZGUubWluIDw9IHJlY3RTaWRlLm1heCAmJiBwU2lkZS5taW4gPiAocmVjdFNpZGUubWF4ICsgcmVjdFNpZGUubWluKSAvIDIgJiYgdmVsb2NpdHkgPCAwKSkge1xuICAgICAgICAgICAgcmVzLnZlbG9jaXR5ID0gdmVsb2NpdHkgKiAtZmFjdG9yO1xuICAgICAgICAgICAgcmVzLmJvdW5jZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjaGVja1NlbGVjdG9yKGVsZW1lbnQsIHNlbGVjdG9ycykge1xuICAgIGlmIChzZWxlY3RvcnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIHNlbGVjdG9ycykge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9ycyk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNTc3IoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgIXdpbmRvdyB8fCB0eXBlb2Ygd2luZG93LmRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiIHx8ICF3aW5kb3cuZG9jdW1lbnQ7XG59XG5leHBvcnRzLmlzU3NyID0gaXNTc3I7XG5mdW5jdGlvbiBhbmltYXRlKCkge1xuICAgIHJldHVybiBpc1NzcigpXG4gICAgICAgID8gKGNhbGxiYWNrKSA9PiBzZXRUaW1lb3V0KGNhbGxiYWNrKVxuICAgICAgICA6IChjYWxsYmFjaykgPT4gKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgIHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KShjYWxsYmFjayk7XG59XG5leHBvcnRzLmFuaW1hdGUgPSBhbmltYXRlO1xuZnVuY3Rpb24gY2FuY2VsQW5pbWF0aW9uKCkge1xuICAgIHJldHVybiBpc1NzcigpXG4gICAgICAgID8gKGhhbmRsZSkgPT4gY2xlYXJUaW1lb3V0KGhhbmRsZSlcbiAgICAgICAgOiAoaGFuZGxlKSA9PiAod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICB3aW5kb3cud2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICB3aW5kb3cubW96Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICB3aW5kb3cub0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgd2luZG93Lm1zQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KShoYW5kbGUpO1xufVxuZXhwb3J0cy5jYW5jZWxBbmltYXRpb24gPSBjYW5jZWxBbmltYXRpb247XG5mdW5jdGlvbiBpc0luQXJyYXkodmFsdWUsIGFycmF5KSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBhcnJheSB8fCAoYXJyYXkgaW5zdGFuY2VvZiBBcnJheSAmJiBhcnJheS5pbmRleE9mKHZhbHVlKSA+IC0xKTtcbn1cbmV4cG9ydHMuaXNJbkFycmF5ID0gaXNJbkFycmF5O1xuYXN5bmMgZnVuY3Rpb24gbG9hZEZvbnQoY2hhcmFjdGVyKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBkb2N1bWVudC5mb250cy5sb2FkKGAkeyhfYSA9IGNoYXJhY3Rlci53ZWlnaHQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFwiNDAwXCJ9IDM2cHggJyR7KF9iID0gY2hhcmFjdGVyLmZvbnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFwiVmVyZGFuYVwifSdgKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9jKSB7XG4gICAgfVxufVxuZXhwb3J0cy5sb2FkRm9udCA9IGxvYWRGb250O1xuZnVuY3Rpb24gYXJyYXlSYW5kb21JbmRleChhcnJheSkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnJheS5sZW5ndGgpO1xufVxuZXhwb3J0cy5hcnJheVJhbmRvbUluZGV4ID0gYXJyYXlSYW5kb21JbmRleDtcbmZ1bmN0aW9uIGl0ZW1Gcm9tQXJyYXkoYXJyYXksIGluZGV4LCB1c2VJbmRleCA9IHRydWUpIHtcbiAgICBjb25zdCBmaXhlZEluZGV4ID0gaW5kZXggIT09IHVuZGVmaW5lZCAmJiB1c2VJbmRleCA/IGluZGV4ICUgYXJyYXkubGVuZ3RoIDogYXJyYXlSYW5kb21JbmRleChhcnJheSk7XG4gICAgcmV0dXJuIGFycmF5W2ZpeGVkSW5kZXhdO1xufVxuZXhwb3J0cy5pdGVtRnJvbUFycmF5ID0gaXRlbUZyb21BcnJheTtcbmZ1bmN0aW9uIGlzUG9pbnRJbnNpZGUocG9pbnQsIHNpemUsIHJhZGl1cywgZGlyZWN0aW9uKSB7XG4gICAgcmV0dXJuIGFyZUJvdW5kc0luc2lkZShjYWxjdWxhdGVCb3VuZHMocG9pbnQsIHJhZGl1cyAhPT0gbnVsbCAmJiByYWRpdXMgIT09IHZvaWQgMCA/IHJhZGl1cyA6IDApLCBzaXplLCBkaXJlY3Rpb24pO1xufVxuZXhwb3J0cy5pc1BvaW50SW5zaWRlID0gaXNQb2ludEluc2lkZTtcbmZ1bmN0aW9uIGFyZUJvdW5kc0luc2lkZShib3VuZHMsIHNpemUsIGRpcmVjdGlvbikge1xuICAgIGxldCBpbnNpZGUgPSB0cnVlO1xuICAgIGlmICghZGlyZWN0aW9uIHx8IGRpcmVjdGlvbiA9PT0gRW51bXNfMS5PdXRNb2RlRGlyZWN0aW9uLmJvdHRvbSkge1xuICAgICAgICBpbnNpZGUgPSBib3VuZHMudG9wIDwgc2l6ZS5oZWlnaHQ7XG4gICAgfVxuICAgIGlmIChpbnNpZGUgJiYgKCFkaXJlY3Rpb24gfHwgZGlyZWN0aW9uID09PSBFbnVtc18xLk91dE1vZGVEaXJlY3Rpb24ubGVmdCkpIHtcbiAgICAgICAgaW5zaWRlID0gYm91bmRzLnJpZ2h0ID4gMDtcbiAgICB9XG4gICAgaWYgKGluc2lkZSAmJiAoIWRpcmVjdGlvbiB8fCBkaXJlY3Rpb24gPT09IEVudW1zXzEuT3V0TW9kZURpcmVjdGlvbi5yaWdodCkpIHtcbiAgICAgICAgaW5zaWRlID0gYm91bmRzLmxlZnQgPCBzaXplLndpZHRoO1xuICAgIH1cbiAgICBpZiAoaW5zaWRlICYmICghZGlyZWN0aW9uIHx8IGRpcmVjdGlvbiA9PT0gRW51bXNfMS5PdXRNb2RlRGlyZWN0aW9uLnRvcCkpIHtcbiAgICAgICAgaW5zaWRlID0gYm91bmRzLmJvdHRvbSA+IDA7XG4gICAgfVxuICAgIHJldHVybiBpbnNpZGU7XG59XG5leHBvcnRzLmFyZUJvdW5kc0luc2lkZSA9IGFyZUJvdW5kc0luc2lkZTtcbmZ1bmN0aW9uIGNhbGN1bGF0ZUJvdW5kcyhwb2ludCwgcmFkaXVzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYm90dG9tOiBwb2ludC55ICsgcmFkaXVzLFxuICAgICAgICBsZWZ0OiBwb2ludC54IC0gcmFkaXVzLFxuICAgICAgICByaWdodDogcG9pbnQueCArIHJhZGl1cyxcbiAgICAgICAgdG9wOiBwb2ludC55IC0gcmFkaXVzLFxuICAgIH07XG59XG5leHBvcnRzLmNhbGN1bGF0ZUJvdW5kcyA9IGNhbGN1bGF0ZUJvdW5kcztcbmZ1bmN0aW9uIGRlZXBFeHRlbmQoZGVzdGluYXRpb24sIC4uLnNvdXJjZXMpIHtcbiAgICBmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzKSB7XG4gICAgICAgIGlmIChzb3VyY2UgPT09IHVuZGVmaW5lZCB8fCBzb3VyY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbiA9IHNvdXJjZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNvdXJjZUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KHNvdXJjZSk7XG4gICAgICAgIGlmIChzb3VyY2VJc0FycmF5ICYmICh0eXBlb2YgZGVzdGluYXRpb24gIT09IFwib2JqZWN0XCIgfHwgIWRlc3RpbmF0aW9uIHx8ICFBcnJheS5pc0FycmF5KGRlc3RpbmF0aW9uKSkpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXNvdXJjZUlzQXJyYXkgJiYgKHR5cGVvZiBkZXN0aW5hdGlvbiAhPT0gXCJvYmplY3RcIiB8fCAhZGVzdGluYXRpb24gfHwgQXJyYXkuaXNBcnJheShkZXN0aW5hdGlvbikpKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbiA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJfX3Byb3RvX19cIikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc291cmNlRGljdCA9IHNvdXJjZTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc291cmNlRGljdFtrZXldO1xuICAgICAgICAgICAgY29uc3QgaXNPYmplY3QgPSB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCI7XG4gICAgICAgICAgICBjb25zdCBkZXN0RGljdCA9IGRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgZGVzdERpY3Rba2V5XSA9XG4gICAgICAgICAgICAgICAgaXNPYmplY3QgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgPyB2YWx1ZS5tYXAoKHYpID0+IGRlZXBFeHRlbmQoZGVzdERpY3Rba2V5XSwgdikpXG4gICAgICAgICAgICAgICAgICAgIDogZGVlcEV4dGVuZChkZXN0RGljdFtrZXldLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xufVxuZXhwb3J0cy5kZWVwRXh0ZW5kID0gZGVlcEV4dGVuZDtcbmZ1bmN0aW9uIGlzRGl2TW9kZUVuYWJsZWQobW9kZSwgZGl2cykge1xuICAgIHJldHVybiBkaXZzIGluc3RhbmNlb2YgQXJyYXkgPyAhIWRpdnMuZmluZCgodCkgPT4gdC5lbmFibGUgJiYgaXNJbkFycmF5KG1vZGUsIHQubW9kZSkpIDogaXNJbkFycmF5KG1vZGUsIGRpdnMubW9kZSk7XG59XG5leHBvcnRzLmlzRGl2TW9kZUVuYWJsZWQgPSBpc0Rpdk1vZGVFbmFibGVkO1xuZnVuY3Rpb24gZGl2TW9kZUV4ZWN1dGUobW9kZSwgZGl2cywgY2FsbGJhY2spIHtcbiAgICBpZiAoZGl2cyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIGZvciAoY29uc3QgZGl2IG9mIGRpdnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpdk1vZGUgPSBkaXYubW9kZTtcbiAgICAgICAgICAgIGNvbnN0IGRpdkVuYWJsZWQgPSBkaXYuZW5hYmxlO1xuICAgICAgICAgICAgaWYgKGRpdkVuYWJsZWQgJiYgaXNJbkFycmF5KG1vZGUsIGRpdk1vZGUpKSB7XG4gICAgICAgICAgICAgICAgc2luZ2xlRGl2TW9kZUV4ZWN1dGUoZGl2LCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGRpdk1vZGUgPSBkaXZzLm1vZGU7XG4gICAgICAgIGNvbnN0IGRpdkVuYWJsZWQgPSBkaXZzLmVuYWJsZTtcbiAgICAgICAgaWYgKGRpdkVuYWJsZWQgJiYgaXNJbkFycmF5KG1vZGUsIGRpdk1vZGUpKSB7XG4gICAgICAgICAgICBzaW5nbGVEaXZNb2RlRXhlY3V0ZShkaXZzLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmRpdk1vZGVFeGVjdXRlID0gZGl2TW9kZUV4ZWN1dGU7XG5mdW5jdGlvbiBzaW5nbGVEaXZNb2RlRXhlY3V0ZShkaXYsIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgc2VsZWN0b3JzID0gZGl2LnNlbGVjdG9ycztcbiAgICBpZiAoc2VsZWN0b3JzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBzZWxlY3RvcnMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHNlbGVjdG9yLCBkaXYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhzZWxlY3RvcnMsIGRpdik7XG4gICAgfVxufVxuZXhwb3J0cy5zaW5nbGVEaXZNb2RlRXhlY3V0ZSA9IHNpbmdsZURpdk1vZGVFeGVjdXRlO1xuZnVuY3Rpb24gZGl2TW9kZShkaXZzLCBlbGVtZW50KSB7XG4gICAgaWYgKCFlbGVtZW50IHx8ICFkaXZzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGRpdnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICByZXR1cm4gZGl2cy5maW5kKChkKSA9PiBjaGVja1NlbGVjdG9yKGVsZW1lbnQsIGQuc2VsZWN0b3JzKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoZWNrU2VsZWN0b3IoZWxlbWVudCwgZGl2cy5zZWxlY3RvcnMpKSB7XG4gICAgICAgIHJldHVybiBkaXZzO1xuICAgIH1cbn1cbmV4cG9ydHMuZGl2TW9kZSA9IGRpdk1vZGU7XG5mdW5jdGlvbiBjaXJjbGVCb3VuY2VEYXRhRnJvbVBhcnRpY2xlKHApIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwb3NpdGlvbjogcC5nZXRQb3NpdGlvbigpLFxuICAgICAgICByYWRpdXM6IHAuZ2V0UmFkaXVzKCksXG4gICAgICAgIG1hc3M6IHAuZ2V0TWFzcygpLFxuICAgICAgICB2ZWxvY2l0eTogcC52ZWxvY2l0eSxcbiAgICAgICAgZmFjdG9yOiBWZWN0b3JfMS5WZWN0b3IuY3JlYXRlKCgwLCBOdW1iZXJVdGlsc18xLmdldFZhbHVlKShwLm9wdGlvbnMuYm91bmNlLmhvcml6b250YWwpLCAoMCwgTnVtYmVyVXRpbHNfMS5nZXRWYWx1ZSkocC5vcHRpb25zLmJvdW5jZS52ZXJ0aWNhbCkpLFxuICAgIH07XG59XG5leHBvcnRzLmNpcmNsZUJvdW5jZURhdGFGcm9tUGFydGljbGUgPSBjaXJjbGVCb3VuY2VEYXRhRnJvbVBhcnRpY2xlO1xuZnVuY3Rpb24gY2lyY2xlQm91bmNlKHAxLCBwMikge1xuICAgIGNvbnN0IHsgeDogeFZlbG9jaXR5RGlmZiwgeTogeVZlbG9jaXR5RGlmZiB9ID0gcDEudmVsb2NpdHkuc3ViKHAyLnZlbG9jaXR5KTtcbiAgICBjb25zdCBbcG9zMSwgcG9zMl0gPSBbcDEucG9zaXRpb24sIHAyLnBvc2l0aW9uXTtcbiAgICBjb25zdCB7IGR4OiB4RGlzdCwgZHk6IHlEaXN0IH0gPSAoMCwgTnVtYmVyVXRpbHNfMS5nZXREaXN0YW5jZXMpKHBvczIsIHBvczEpO1xuICAgIGlmICh4VmVsb2NpdHlEaWZmICogeERpc3QgKyB5VmVsb2NpdHlEaWZmICogeURpc3QgPj0gMCkge1xuICAgICAgICBjb25zdCBhbmdsZSA9IC1NYXRoLmF0YW4yKHlEaXN0LCB4RGlzdCk7XG4gICAgICAgIGNvbnN0IG0xID0gcDEubWFzcztcbiAgICAgICAgY29uc3QgbTIgPSBwMi5tYXNzO1xuICAgICAgICBjb25zdCB1MSA9IHAxLnZlbG9jaXR5LnJvdGF0ZShhbmdsZSk7XG4gICAgICAgIGNvbnN0IHUyID0gcDIudmVsb2NpdHkucm90YXRlKGFuZ2xlKTtcbiAgICAgICAgY29uc3QgdjEgPSAoMCwgTnVtYmVyVXRpbHNfMS5jb2xsaXNpb25WZWxvY2l0eSkodTEsIHUyLCBtMSwgbTIpO1xuICAgICAgICBjb25zdCB2MiA9ICgwLCBOdW1iZXJVdGlsc18xLmNvbGxpc2lvblZlbG9jaXR5KSh1MiwgdTEsIG0xLCBtMik7XG4gICAgICAgIGNvbnN0IHZGaW5hbDEgPSB2MS5yb3RhdGUoLWFuZ2xlKTtcbiAgICAgICAgY29uc3QgdkZpbmFsMiA9IHYyLnJvdGF0ZSgtYW5nbGUpO1xuICAgICAgICBwMS52ZWxvY2l0eS54ID0gdkZpbmFsMS54ICogcDEuZmFjdG9yLng7XG4gICAgICAgIHAxLnZlbG9jaXR5LnkgPSB2RmluYWwxLnkgKiBwMS5mYWN0b3IueTtcbiAgICAgICAgcDIudmVsb2NpdHkueCA9IHZGaW5hbDIueCAqIHAyLmZhY3Rvci54O1xuICAgICAgICBwMi52ZWxvY2l0eS55ID0gdkZpbmFsMi55ICogcDIuZmFjdG9yLnk7XG4gICAgfVxufVxuZXhwb3J0cy5jaXJjbGVCb3VuY2UgPSBjaXJjbGVCb3VuY2U7XG5mdW5jdGlvbiByZWN0Qm91bmNlKHBhcnRpY2xlLCBkaXZCb3VuZHMpIHtcbiAgICBjb25zdCBwUG9zID0gcGFydGljbGUuZ2V0UG9zaXRpb24oKTtcbiAgICBjb25zdCBzaXplID0gcGFydGljbGUuZ2V0UmFkaXVzKCk7XG4gICAgY29uc3QgYm91bmRzID0gY2FsY3VsYXRlQm91bmRzKHBQb3MsIHNpemUpO1xuICAgIGNvbnN0IHJlc0ggPSByZWN0U2lkZUJvdW5jZSh7XG4gICAgICAgIG1pbjogYm91bmRzLmxlZnQsXG4gICAgICAgIG1heDogYm91bmRzLnJpZ2h0LFxuICAgIH0sIHtcbiAgICAgICAgbWluOiBib3VuZHMudG9wLFxuICAgICAgICBtYXg6IGJvdW5kcy5ib3R0b20sXG4gICAgfSwge1xuICAgICAgICBtaW46IGRpdkJvdW5kcy5sZWZ0LFxuICAgICAgICBtYXg6IGRpdkJvdW5kcy5yaWdodCxcbiAgICB9LCB7XG4gICAgICAgIG1pbjogZGl2Qm91bmRzLnRvcCxcbiAgICAgICAgbWF4OiBkaXZCb3VuZHMuYm90dG9tLFxuICAgIH0sIHBhcnRpY2xlLnZlbG9jaXR5LngsICgwLCBOdW1iZXJVdGlsc18xLmdldFZhbHVlKShwYXJ0aWNsZS5vcHRpb25zLmJvdW5jZS5ob3Jpem9udGFsKSk7XG4gICAgaWYgKHJlc0guYm91bmNlZCkge1xuICAgICAgICBpZiAocmVzSC52ZWxvY2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJ0aWNsZS52ZWxvY2l0eS54ID0gcmVzSC52ZWxvY2l0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzSC5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJ0aWNsZS5wb3NpdGlvbi54ID0gcmVzSC5wb3NpdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXNWID0gcmVjdFNpZGVCb3VuY2Uoe1xuICAgICAgICBtaW46IGJvdW5kcy50b3AsXG4gICAgICAgIG1heDogYm91bmRzLmJvdHRvbSxcbiAgICB9LCB7XG4gICAgICAgIG1pbjogYm91bmRzLmxlZnQsXG4gICAgICAgIG1heDogYm91bmRzLnJpZ2h0LFxuICAgIH0sIHtcbiAgICAgICAgbWluOiBkaXZCb3VuZHMudG9wLFxuICAgICAgICBtYXg6IGRpdkJvdW5kcy5ib3R0b20sXG4gICAgfSwge1xuICAgICAgICBtaW46IGRpdkJvdW5kcy5sZWZ0LFxuICAgICAgICBtYXg6IGRpdkJvdW5kcy5yaWdodCxcbiAgICB9LCBwYXJ0aWNsZS52ZWxvY2l0eS55LCAoMCwgTnVtYmVyVXRpbHNfMS5nZXRWYWx1ZSkocGFydGljbGUub3B0aW9ucy5ib3VuY2UudmVydGljYWwpKTtcbiAgICBpZiAocmVzVi5ib3VuY2VkKSB7XG4gICAgICAgIGlmIChyZXNWLnZlbG9jaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcnRpY2xlLnZlbG9jaXR5LnkgPSByZXNWLnZlbG9jaXR5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNWLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnkgPSByZXNWLnBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5yZWN0Qm91bmNlID0gcmVjdEJvdW5jZTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vQ2FudmFzVXRpbHNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0NpcmNsZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vQ2lyY2xlV2FycFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vQ29sb3JVdGlsc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9FdmVudExpc3RlbmVyc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vTnVtYmVyVXRpbHNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1BsdWdpbnNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1BvaW50XCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9RdWFkVHJlZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vUmFuZ2VcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1JlY3RhbmdsZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vVXRpbHNcIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRGdWxsID0gdm9pZCAwO1xuY29uc3Qgc2xpbV8xID0gcmVxdWlyZShcIi4vc2xpbVwiKTtcbmNvbnN0IFRyYWlsXzEgPSByZXF1aXJlKFwiLi9JbnRlcmFjdGlvbnMvRXh0ZXJuYWwvVHJhaWxcIik7XG5jb25zdCBUaWx0XzEgPSByZXF1aXJlKFwiLi9VcGRhdGVycy9UaWx0XCIpO1xuY29uc3QgV29iYmxlXzEgPSByZXF1aXJlKFwiLi9VcGRhdGVycy9Xb2JibGVcIik7XG5jb25zdCBwbHVnaW5fMSA9IHJlcXVpcmUoXCIuL1BsdWdpbnMvQWJzb3JiZXJzL3BsdWdpblwiKTtcbmNvbnN0IHBsdWdpbl8yID0gcmVxdWlyZShcIi4vUGx1Z2lucy9FbWl0dGVycy9wbHVnaW5cIik7XG5jb25zdCBwbHVnaW5fMyA9IHJlcXVpcmUoXCIuL1BsdWdpbnMvUG9seWdvbk1hc2svcGx1Z2luXCIpO1xuY29uc3QgUm9sbF8xID0gcmVxdWlyZShcIi4vVXBkYXRlcnMvUm9sbFwiKTtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRGdWxsKHRzUGFydGljbGVzKSB7XG4gICAgYXdhaXQgKDAsIHNsaW1fMS5sb2FkU2xpbSkodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBUcmFpbF8xLmxvYWRFeHRlcm5hbFRyYWlsSW50ZXJhY3Rpb24pKHRzUGFydGljbGVzKTtcbiAgICBhd2FpdCAoMCwgUm9sbF8xLmxvYWRSb2xsVXBkYXRlcikodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBUaWx0XzEubG9hZFRpbHRVcGRhdGVyKSh0c1BhcnRpY2xlcyk7XG4gICAgYXdhaXQgKDAsIFdvYmJsZV8xLmxvYWRXb2JibGVVcGRhdGVyKSh0c1BhcnRpY2xlcyk7XG4gICAgYXdhaXQgKDAsIHBsdWdpbl8xLmxvYWRBYnNvcmJlcnNQbHVnaW4pKHRzUGFydGljbGVzKTtcbiAgICBhd2FpdCAoMCwgcGx1Z2luXzIubG9hZEVtaXR0ZXJzUGx1Z2luKSh0c1BhcnRpY2xlcyk7XG4gICAgYXdhaXQgKDAsIHBsdWdpbl8zLmxvYWRQb2x5Z29uTWFza1BsdWdpbikodHNQYXJ0aWNsZXMpO1xufVxuZXhwb3J0cy5sb2FkRnVsbCA9IGxvYWRGdWxsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudHNQYXJ0aWNsZXMgPSBleHBvcnRzLnBKU0RvbSA9IGV4cG9ydHMucGFydGljbGVzSlMgPSBleHBvcnRzLk1haW4gPSBleHBvcnRzLlJlY3RhbmdsZSA9IGV4cG9ydHMuUG9pbnQgPSBleHBvcnRzLkNvbnN0YW50cyA9IGV4cG9ydHMuQ2lyY2xlV2FycCA9IGV4cG9ydHMuQ2lyY2xlID0gdm9pZCAwO1xuY29uc3QgcGpzXzEgPSByZXF1aXJlKFwiLi9wanNcIik7XG5jb25zdCBtYWluXzEgPSByZXF1aXJlKFwiLi9tYWluXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTWFpblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWFpbl8xLk1haW47IH0gfSk7XG5jb25zdCBVdGlsc18xID0gcmVxdWlyZShcIi4vVXRpbHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDaXJjbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFV0aWxzXzEuQ2lyY2xlOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2lyY2xlV2FycFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gVXRpbHNfMS5DaXJjbGVXYXJwOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ29uc3RhbnRzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBVdGlsc18xLkNvbnN0YW50czsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlBvaW50XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBVdGlsc18xLlBvaW50OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUmVjdGFuZ2xlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBVdGlsc18xLlJlY3RhbmdsZTsgfSB9KTtcbmNvbnN0IGZ1bGxfMSA9IHJlcXVpcmUoXCIuL2Z1bGxcIik7XG5jb25zdCB0c1BhcnRpY2xlcyA9IG5ldyBtYWluXzEuTWFpbigpO1xuZXhwb3J0cy50c1BhcnRpY2xlcyA9IHRzUGFydGljbGVzO1xudHNQYXJ0aWNsZXMuaW5pdCgpO1xuY29uc3QgeyBwYXJ0aWNsZXNKUywgcEpTRG9tIH0gPSAoMCwgcGpzXzEuaW5pdFBqcykodHNQYXJ0aWNsZXMpO1xuZXhwb3J0cy5wYXJ0aWNsZXNKUyA9IHBhcnRpY2xlc0pTO1xuZXhwb3J0cy5wSlNEb20gPSBwSlNEb207XG4oMCwgZnVsbF8xLmxvYWRGdWxsKSh0c1BhcnRpY2xlcyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vQ29yZS9QYXJ0aWNsZS9WZWN0b3JcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0NvcmUvQ29udGFpbmVyXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9FbnVtc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vUGx1Z2lucy9BYnNvcmJlcnMvRW51bXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1BsdWdpbnMvRW1pdHRlcnMvRW51bXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1BsdWdpbnMvUG9seWdvbk1hc2svRW51bXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1V0aWxzL0NhbnZhc1V0aWxzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9VdGlscy9Db2xvclV0aWxzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9VdGlscy9OdW1iZXJVdGlsc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vVXRpbHMvVXRpbHNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1R5cGVzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9Db3JlL0ludGVyZmFjZXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0NvcmUvUGFydGljbGVcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0NvcmUvRXh0ZXJuYWxJbnRlcmFjdG9yQmFzZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vQ29yZS9QYXJ0aWNsZXNJbnRlcmFjdG9yQmFzZVwiKSwgZXhwb3J0cyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfTWFpbl9pbml0aWFsaXplZDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTWFpbiA9IHZvaWQgMDtcbmNvbnN0IFV0aWxzXzEgPSByZXF1aXJlKFwiLi9VdGlsc1wiKTtcbmNvbnN0IExvYWRlcl8xID0gcmVxdWlyZShcIi4vQ29yZS9Mb2FkZXJcIik7XG5jbGFzcyBNYWluIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgX01haW5faW5pdGlhbGl6ZWQuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX01haW5faW5pdGlhbGl6ZWQsIGZhbHNlLCBcImZcIik7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTWFpbl9pbml0aWFsaXplZCwgXCJmXCIpKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9NYWluX2luaXRpYWxpemVkLCB0cnVlLCBcImZcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbG9hZEZyb21BcnJheSh0YWdJZCwgb3B0aW9ucywgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIExvYWRlcl8xLkxvYWRlci5sb2FkKHRhZ0lkLCBvcHRpb25zLCBpbmRleCk7XG4gICAgfVxuICAgIGFzeW5jIGxvYWQodGFnSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIExvYWRlcl8xLkxvYWRlci5sb2FkKHRhZ0lkLCBvcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgc2V0KGlkLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBMb2FkZXJfMS5Mb2FkZXIuc2V0KGlkLCBlbGVtZW50LCBvcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgbG9hZEpTT04odGFnSWQsIHBhdGhDb25maWdKc29uLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gTG9hZGVyXzEuTG9hZGVyLmxvYWRKU09OKHRhZ0lkLCBwYXRoQ29uZmlnSnNvbiwgaW5kZXgpO1xuICAgIH1cbiAgICBhc3luYyBzZXRKU09OKGlkLCBlbGVtZW50LCBwYXRoQ29uZmlnSnNvbiwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIExvYWRlcl8xLkxvYWRlci5zZXRKU09OKGlkLCBlbGVtZW50LCBwYXRoQ29uZmlnSnNvbiwgaW5kZXgpO1xuICAgIH1cbiAgICBzZXRPbkNsaWNrSGFuZGxlcihjYWxsYmFjaykge1xuICAgICAgICBMb2FkZXJfMS5Mb2FkZXIuc2V0T25DbGlja0hhbmRsZXIoY2FsbGJhY2spO1xuICAgIH1cbiAgICBkb20oKSB7XG4gICAgICAgIHJldHVybiBMb2FkZXJfMS5Mb2FkZXIuZG9tKCk7XG4gICAgfVxuICAgIGRvbUl0ZW0oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIExvYWRlcl8xLkxvYWRlci5kb21JdGVtKGluZGV4KTtcbiAgICB9XG4gICAgYXN5bmMgcmVmcmVzaCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBpbnN0YW5jZSBvZiB0aGlzLmRvbSgpKSB7XG4gICAgICAgICAgICBhd2FpdCBpbnN0YW5jZS5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgYWRkU2hhcGUoc2hhcGUsIGRyYXdlciwgaW5pdCwgYWZ0ZXJFZmZlY3QsIGRlc3Ryb3kpIHtcbiAgICAgICAgbGV0IGN1c3RvbURyYXdlcjtcbiAgICAgICAgaWYgKHR5cGVvZiBkcmF3ZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgY3VzdG9tRHJhd2VyID0ge1xuICAgICAgICAgICAgICAgIGFmdGVyRWZmZWN0OiBhZnRlckVmZmVjdCxcbiAgICAgICAgICAgICAgICBkZXN0cm95OiBkZXN0cm95LFxuICAgICAgICAgICAgICAgIGRyYXc6IGRyYXdlcixcbiAgICAgICAgICAgICAgICBpbml0OiBpbml0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1c3RvbURyYXdlciA9IGRyYXdlcjtcbiAgICAgICAgfVxuICAgICAgICBVdGlsc18xLlBsdWdpbnMuYWRkU2hhcGVEcmF3ZXIoc2hhcGUsIGN1c3RvbURyYXdlcik7XG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaCgpO1xuICAgIH1cbiAgICBhc3luYyBhZGRQcmVzZXQocHJlc2V0LCBvcHRpb25zLCBvdmVycmlkZSA9IGZhbHNlKSB7XG4gICAgICAgIFV0aWxzXzEuUGx1Z2lucy5hZGRQcmVzZXQocHJlc2V0LCBvcHRpb25zLCBvdmVycmlkZSk7XG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaCgpO1xuICAgIH1cbiAgICBhc3luYyBhZGRQbHVnaW4ocGx1Z2luKSB7XG4gICAgICAgIFV0aWxzXzEuUGx1Z2lucy5hZGRQbHVnaW4ocGx1Z2luKTtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuICAgIGFzeW5jIGFkZFBhdGhHZW5lcmF0b3IobmFtZSwgZ2VuZXJhdG9yKSB7XG4gICAgICAgIFV0aWxzXzEuUGx1Z2lucy5hZGRQYXRoR2VuZXJhdG9yKG5hbWUsIGdlbmVyYXRvcik7XG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaCgpO1xuICAgIH1cbiAgICBhc3luYyBhZGRJbnRlcmFjdG9yKG5hbWUsIGludGVyYWN0b3JJbml0aWFsaXplcikge1xuICAgICAgICBVdGlsc18xLlBsdWdpbnMuYWRkSW50ZXJhY3RvcihuYW1lLCBpbnRlcmFjdG9ySW5pdGlhbGl6ZXIpO1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG4gICAgYXN5bmMgYWRkUGFydGljbGVVcGRhdGVyKG5hbWUsIHVwZGF0ZXJJbml0aWFsaXplcikge1xuICAgICAgICBVdGlsc18xLlBsdWdpbnMuYWRkUGFydGljbGVVcGRhdGVyKG5hbWUsIHVwZGF0ZXJJbml0aWFsaXplcik7XG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuTWFpbiA9IE1haW47XG5fTWFpbl9pbml0aWFsaXplZCA9IG5ldyBXZWFrTWFwKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaW5pdFBqcyA9IHZvaWQgMDtcbmNvbnN0IGluaXRQanMgPSAobWFpbikgPT4ge1xuICAgIGNvbnN0IHBhcnRpY2xlc0pTID0gKHRhZ0lkLCBvcHRpb25zKSA9PiB7XG4gICAgICAgIHJldHVybiBtYWluLmxvYWQodGFnSWQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgcGFydGljbGVzSlMubG9hZCA9ICh0YWdJZCwgcGF0aENvbmZpZ0pzb24sIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIG1haW4ubG9hZEpTT04odGFnSWQsIHBhdGhDb25maWdKc29uKVxuICAgICAgICAgICAgLnRoZW4oKGNvbnRhaW5lcikgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2sodW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBwYXJ0aWNsZXNKUy5zZXRPbkNsaWNrSGFuZGxlciA9IChjYWxsYmFjaykgPT4ge1xuICAgICAgICBtYWluLnNldE9uQ2xpY2tIYW5kbGVyKGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIGNvbnN0IHBKU0RvbSA9IG1haW4uZG9tKCk7XG4gICAgcmV0dXJuIHsgcGFydGljbGVzSlMsIHBKU0RvbSB9O1xufTtcbmV4cG9ydHMuaW5pdFBqcyA9IGluaXRQanM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZFNsaW0gPSB2b2lkIDA7XG5jb25zdCBDaXJjbGVfMSA9IHJlcXVpcmUoXCIuL1NoYXBlcy9DaXJjbGVcIik7XG5jb25zdCBMaWZlXzEgPSByZXF1aXJlKFwiLi9VcGRhdGVycy9MaWZlXCIpO1xuY29uc3QgQ29ubmVjdF8xID0gcmVxdWlyZShcIi4vSW50ZXJhY3Rpb25zL0V4dGVybmFsL0Nvbm5lY3RcIik7XG5jb25zdCBPcGFjaXR5XzEgPSByZXF1aXJlKFwiLi9VcGRhdGVycy9PcGFjaXR5XCIpO1xuY29uc3QgSW1hZ2VfMSA9IHJlcXVpcmUoXCIuL1NoYXBlcy9JbWFnZVwiKTtcbmNvbnN0IFBvbHlnb25fMSA9IHJlcXVpcmUoXCIuL1NoYXBlcy9Qb2x5Z29uXCIpO1xuY29uc3QgQnViYmxlXzEgPSByZXF1aXJlKFwiLi9JbnRlcmFjdGlvbnMvRXh0ZXJuYWwvQnViYmxlXCIpO1xuY29uc3QgQXR0cmFjdF8xID0gcmVxdWlyZShcIi4vSW50ZXJhY3Rpb25zL0V4dGVybmFsL0F0dHJhY3RcIik7XG5jb25zdCBHcmFiXzEgPSByZXF1aXJlKFwiLi9JbnRlcmFjdGlvbnMvRXh0ZXJuYWwvR3JhYlwiKTtcbmNvbnN0IFN0YXJfMSA9IHJlcXVpcmUoXCIuL1NoYXBlcy9TdGFyXCIpO1xuY29uc3QgQXR0cmFjdF8yID0gcmVxdWlyZShcIi4vSW50ZXJhY3Rpb25zL1BhcnRpY2xlcy9BdHRyYWN0XCIpO1xuY29uc3QgU3F1YXJlXzEgPSByZXF1aXJlKFwiLi9TaGFwZXMvU3F1YXJlXCIpO1xuY29uc3QgU3Ryb2tlQ29sb3JfMSA9IHJlcXVpcmUoXCIuL1VwZGF0ZXJzL1N0cm9rZUNvbG9yXCIpO1xuY29uc3QgQ29sb3JfMSA9IHJlcXVpcmUoXCIuL1VwZGF0ZXJzL0NvbG9yXCIpO1xuY29uc3QgQ29sbGlzaW9uc18xID0gcmVxdWlyZShcIi4vSW50ZXJhY3Rpb25zL1BhcnRpY2xlcy9Db2xsaXNpb25zXCIpO1xuY29uc3QgQW5nbGVfMSA9IHJlcXVpcmUoXCIuL1VwZGF0ZXJzL0FuZ2xlXCIpO1xuY29uc3QgT3V0TW9kZXNfMSA9IHJlcXVpcmUoXCIuL1VwZGF0ZXJzL091dE1vZGVzXCIpO1xuY29uc3QgUmVwdWxzZV8xID0gcmVxdWlyZShcIi4vSW50ZXJhY3Rpb25zL0V4dGVybmFsL1JlcHVsc2VcIik7XG5jb25zdCBMaW5lXzEgPSByZXF1aXJlKFwiLi9TaGFwZXMvTGluZVwiKTtcbmNvbnN0IEJvdW5jZV8xID0gcmVxdWlyZShcIi4vSW50ZXJhY3Rpb25zL0V4dGVybmFsL0JvdW5jZVwiKTtcbmNvbnN0IFRleHRfMSA9IHJlcXVpcmUoXCIuL1NoYXBlcy9UZXh0XCIpO1xuY29uc3QgTGlua3NfMSA9IHJlcXVpcmUoXCIuL0ludGVyYWN0aW9ucy9QYXJ0aWNsZXMvTGlua3NcIik7XG5jb25zdCBTaXplXzEgPSByZXF1aXJlKFwiLi9VcGRhdGVycy9TaXplXCIpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZFNsaW0odHNQYXJ0aWNsZXMpIHtcbiAgICBhd2FpdCAoMCwgQXR0cmFjdF8xLmxvYWRFeHRlcm5hbEF0dHJhY3RJbnRlcmFjdGlvbikodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBCb3VuY2VfMS5sb2FkRXh0ZXJuYWxCb3VuY2VJbnRlcmFjdGlvbikodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBCdWJibGVfMS5sb2FkRXh0ZXJuYWxCdWJibGVJbnRlcmFjdGlvbikodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBDb25uZWN0XzEubG9hZEV4dGVybmFsQ29ubmVjdEludGVyYWN0aW9uKSh0c1BhcnRpY2xlcyk7XG4gICAgYXdhaXQgKDAsIEdyYWJfMS5sb2FkRXh0ZXJuYWxHcmFiSW50ZXJhY3Rpb24pKHRzUGFydGljbGVzKTtcbiAgICBhd2FpdCAoMCwgUmVwdWxzZV8xLmxvYWRFeHRlcm5hbFJlcHVsc2VJbnRlcmFjdGlvbikodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBBdHRyYWN0XzIubG9hZFBhcnRpY2xlc0F0dHJhY3RJbnRlcmFjdGlvbikodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBDb2xsaXNpb25zXzEubG9hZFBhcnRpY2xlc0NvbGxpc2lvbnNJbnRlcmFjdGlvbikodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBMaW5rc18xLmxvYWRQYXJ0aWNsZXNMaW5rc0ludGVyYWN0aW9uKSh0c1BhcnRpY2xlcyk7XG4gICAgYXdhaXQgKDAsIENpcmNsZV8xLmxvYWRDaXJjbGVTaGFwZSkodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBJbWFnZV8xLmxvYWRJbWFnZVNoYXBlKSh0c1BhcnRpY2xlcyk7XG4gICAgYXdhaXQgKDAsIExpbmVfMS5sb2FkTGluZVNoYXBlKSh0c1BhcnRpY2xlcyk7XG4gICAgYXdhaXQgKDAsIFBvbHlnb25fMS5sb2FkUG9seWdvblNoYXBlKSh0c1BhcnRpY2xlcyk7XG4gICAgYXdhaXQgKDAsIFNxdWFyZV8xLmxvYWRTcXVhcmVTaGFwZSkodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBTdGFyXzEubG9hZFN0YXJTaGFwZSkodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBUZXh0XzEubG9hZFRleHRTaGFwZSkodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBMaWZlXzEubG9hZExpZmVVcGRhdGVyKSh0c1BhcnRpY2xlcyk7XG4gICAgYXdhaXQgKDAsIE9wYWNpdHlfMS5sb2FkT3BhY2l0eVVwZGF0ZXIpKHRzUGFydGljbGVzKTtcbiAgICBhd2FpdCAoMCwgU2l6ZV8xLmxvYWRTaXplVXBkYXRlcikodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBBbmdsZV8xLmxvYWRBbmdsZVVwZGF0ZXIpKHRzUGFydGljbGVzKTtcbiAgICBhd2FpdCAoMCwgQ29sb3JfMS5sb2FkQ29sb3JVcGRhdGVyKSh0c1BhcnRpY2xlcyk7XG4gICAgYXdhaXQgKDAsIFN0cm9rZUNvbG9yXzEubG9hZFN0cm9rZUNvbG9yVXBkYXRlcikodHNQYXJ0aWNsZXMpO1xuICAgIGF3YWl0ICgwLCBPdXRNb2Rlc18xLmxvYWRPdXRNb2Rlc1VwZGF0ZXIpKHRzUGFydGljbGVzKTtcbn1cbmV4cG9ydHMubG9hZFNsaW0gPSBsb2FkU2xpbTtcbiIsImNvbnN0IGFwaUhhbmRsZXIgPSAoKCkgPT4ge1xuICBjb25zdCBhcGlMaW5rID0gXCJodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9cIjtcbiAgY29uc3QgYXBpS2V5ID0gXCI5NGEyYWFkNGEzODEyMWU3OTQ3MzVhOTVlZTQxNWE3NlwiO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGNhbGxBcGkoY2l0eU5hbWUpIHtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxvYWRpbmdIYW5kbGVyLnJldHVybkxvYWRpbmcoKSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlMaW5rICsgYHE9JHtjaXR5TmFtZX0mYXBwaWQ9JHthcGlLZXl9YCwge1xuICAgICAgbW9kZTogXCJjb3JzXCIsXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRpbmctYmVnaW5cIikpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNhbGxBcGksXG4gIH07XG59KSgpO1xuXG5jb25zdCBsb2FkaW5nSGFuZGxlciA9ICgoKSA9PiB7XG4gIGNvbnN0IHJldHVybkxvYWRpbmcgPSAoKSA9PiB7XG4gICAgY29uc3QgbG9hZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3QgZmV0Y2hEYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGxvYWRpbmcuY2xhc3NMaXN0LmFkZChcImxvYWRpbmctYmVnaW5cIik7XG4gICAgZmV0Y2hEYXRhLmNsYXNzTGlzdC5hZGQoXCJ0ZXh0XCIpO1xuXG4gICAgZmV0Y2hEYXRhLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwibG9hZGVyXCI+XG4gICAgPC9kaXY+YDtcblxuICAgIGxvYWRpbmcuYXBwZW5kQ2hpbGQoZmV0Y2hEYXRhKTtcbiAgICByZXR1cm4gbG9hZGluZztcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICByZXR1cm5Mb2FkaW5nLFxuICB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgYXBpSGFuZGxlcjtcbiIsImltcG9ydCBVcFRyaWFuZ2xlIGZyb20gXCIuL2Fzc2V0cy91cC10cmlhbmdsZS5zdmdcIjtcbmltcG9ydCBEb3duVHJpYW5nbGUgZnJvbSBcIi4vYXNzZXRzL2Rvd24tdHJpYW5nbGUuc3ZnXCI7XG5cbmNvbnN0IGltYWdlSGFuZGxlciA9ICgpID0+IHtcbiAgYXN5bmMgZnVuY3Rpb24gZ2V0VXBUcmlhbmdsZSgpIHtcbiAgICByZXR1cm4gVXBUcmlhbmdsZTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBnZXREb3duVHJpYW5nbGUoKSB7XG4gICAgcmV0dXJuIERvd25UcmlhbmdsZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGdldFVwVHJpYW5nbGUsXG4gICAgZ2V0RG93blRyaWFuZ2xlLFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaW1hZ2VIYW5kbGVyO1xuIiwiaW1wb3J0IHsgdHNQYXJ0aWNsZXMgfSBmcm9tIFwidHNwYXJ0aWNsZXNcIjtcblxuY29uc3QgaGFuZGxlUGFydGljbGVzID0gKCkgPT4ge1xuICBmdW5jdGlvbiBhZGRSYWluUGFydGljbGVzKCkge1xuICAgIHRzUGFydGljbGVzLmxvYWQoXCJ0c3BhcnRpY2xlc1wiLCB7XG4gICAgICBwYXJ0aWNsZXM6IHtcbiAgICAgICAgbnVtYmVyOiB7XG4gICAgICAgICAgdmFsdWU6IDcwLFxuICAgICAgICAgIGRlbnNpdHk6IHtcbiAgICAgICAgICAgIHZhbHVlX2FyZWE6IDQwMCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIHZhbHVlOiBcIiNmZmZcIixcbiAgICAgICAgfSxcbiAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXBlOiB7XG4gICAgICAgICAgdHlwZTogXCJwb2x5Z29uXCIsXG4gICAgICAgICAgcG9seWdvbjoge1xuICAgICAgICAgICAgc2lkZXM6IDEsXG4gICAgICAgICAgICBuYl9zaWRlczogMSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICByb3RhdGU6IHtcbiAgICAgICAgICB2YWx1ZTogOTAsXG4gICAgICAgIH0sXG4gICAgICAgIHNpemU6IHtcbiAgICAgICAgICB2YWx1ZTogMyxcbiAgICAgICAgfSxcbiAgICAgICAgbW92ZToge1xuICAgICAgICAgIGVuYWJsZTogdHJ1ZSxcbiAgICAgICAgICBkaXJlY3Rpb246IFwiYm90dG9tXCIsXG4gICAgICAgICAgc3RyYWlnaHQ6IHRydWUsXG4gICAgICAgICAgc3BlZWQ6IDIwLFxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGFkZFNub3dQYXJ0aWNsZXMoKSB7XG4gICAgdHNQYXJ0aWNsZXMubG9hZChcInRzcGFydGljbGVzXCIsIHtcbiAgICAgIHBhcnRpY2xlczoge1xuICAgICAgICBudW1iZXI6IHtcbiAgICAgICAgICB2YWx1ZTogNjAsXG4gICAgICAgICAgZGVuc2l0eToge1xuICAgICAgICAgICAgZW5hYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWVfYXJlYTogODAwLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHNpemU6IHtcbiAgICAgICAgICB2YWx1ZTogNixcbiAgICAgICAgICByYW5kb206IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgICB2YWx1ZTogNSxcbiAgICAgICAgICByYW5kb206IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIG1vdmU6IHtcbiAgICAgICAgICBlbmFibGU6IHRydWUsXG4gICAgICAgICAgZGlyZWN0aW9uOiBcImJvdHRvbVwiLFxuICAgICAgICB9LFxuICAgICAgICBzaGFwZToge1xuICAgICAgICAgIHZhbHVlOiBcImNpcmNsZVwiLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFBhcnRpY2xlcyhjb25kKSB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXYuaWQgPSBcInRzcGFydGljbGVzXCI7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuICAgIGlmIChjb25kID09IFwiUmFpblwiKSB7XG4gICAgICBhZGRSYWluUGFydGljbGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZFNub3dQYXJ0aWNsZXMoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVQYXJ0aWNsZXMoKSB7XG4gICAgY29uc3QgcGFydGljbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RzcGFydGljbGVzXCIpO1xuICAgIGlmIChwYXJ0aWNsZSkgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwYXJ0aWNsZSk7XG4gIH1cblxuICBmdW5jdGlvbiBldmFsdWF0ZShjb25kKSB7XG4gICAgaWYgKGNvbmQgPT0gXCJSYWluXCIgfHwgY29uZCA9PSBcIlNub3dcIikge1xuICAgICAgYWRkUGFydGljbGVzKGNvbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkhpXCIpO1xuICAgICAgcmVtb3ZlUGFydGljbGVzKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgZXZhbHVhdGUsXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVQYXJ0aWNsZXMoKTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdFwibWFpblwiOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwiaW1wb3J0IGFwaUhhbmRsZXIgZnJvbSBcIi4vYXBpTG9hZGluZ0hhbmRsZXJcIjtcbmltcG9ydCBoYW5kbGVQYXJ0aWNsZXMgZnJvbSBcIi4vcGFydGljbGVIYW5kbGVyXCI7XG5pbXBvcnQgaW1hZ2VIYW5kbGVyIGZyb20gXCIuL2ltYWdlSGFuZGxlclwiO1xuaW1wb3J0IFwiLi9tYWluLmNzc1wiO1xuXG5jb25zdCBkaXNwbGF5SGFuZGxlciA9ICgpID0+IHtcbiAgY29uc3Qgd2VhdGhlckRpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndlYXRoZXItZGlzcGxheVwiKTtcblxuICBjb25zdCByZXR1cm5Db25kaXRpb24gPSAoY29uZCkgPT4ge1xuICAgIGNvbnN0IGNvbmREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbmREaXYudGV4dENvbnRlbnQgPSBjb25kO1xuICAgIGNvbmREaXYuY2xhc3NMaXN0LmFkZChcImRpc3BsYXktY29uZGl0aW9uXCIpO1xuICAgIHJldHVybiBjb25kRGl2O1xuICB9O1xuXG4gIGNvbnN0IHJldHVybkNpdHlOYW1lID0gKG5hbWUpID0+IHtcbiAgICBjb25zdCBuYW1lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBuYW1lRGl2LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBuYW1lRGl2LmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LWNpdHktbmFtZVwiKTtcbiAgICByZXR1cm4gbmFtZURpdjtcbiAgfTtcbiAgY29uc3QgcmV0dXJuQ3VycmVudFRlbXAgPSAodGVtcCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKHRlbXApO1xuICAgIGNvbnN0IGN1cnJlbnRUZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjdXJyZW50VGVtcC5jbGFzc0xpc3QuYWRkKFwiZGlzcGxheS1jdXJyZW50LXRlbXBcIik7XG4gICAgY3VycmVudFRlbXAudGV4dENvbnRlbnQgPSBgJHtNYXRoLnJvdW5kKHRlbXAgLSAyNzMpfcKwQ2A7XG4gICAgcmV0dXJuIGN1cnJlbnRUZW1wO1xuICB9O1xuXG4gIGNvbnN0IHJldHVybk1heFRlbXAgPSAodGVtcCkgPT4ge1xuICAgIGNvbnN0IG1heFRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1heFRlbXAuY2xhc3NMaXN0LmFkZChcIm1heC10ZW1wXCIpO1xuXG4gICAgaW1hZ2VIYW5kbGVyKClcbiAgICAgIC5nZXRVcFRyaWFuZ2xlKClcbiAgICAgIC50aGVuKChkYXQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3SW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgbmV3SW1hZ2Uuc3JjID0gZGF0O1xuICAgICAgICBuZXdJbWFnZS5jbGFzc0xpc3QuYWRkKFwibWF4LXRlbXAtbG9nb1wiKTtcbiAgICAgICAgbWF4VGVtcC5hcHBlbmRDaGlsZChuZXdJbWFnZSk7XG4gICAgICB9KTtcbiAgICBtYXhUZW1wLnRleHRDb250ZW50ID0gYCR7TWF0aC5yb3VuZCh0ZW1wIC0gMjczKX3CsENgO1xuICAgIHJldHVybiBtYXhUZW1wO1xuICB9O1xuXG4gIGNvbnN0IHJldHVybk1pblRlbXAgPSAodGVtcCkgPT4ge1xuICAgIGNvbnN0IG1pblRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1pblRlbXAuY2xhc3NMaXN0LmFkZChcIm1pbi10ZW1wXCIpO1xuICAgIGltYWdlSGFuZGxlcigpXG4gICAgICAuZ2V0RG93blRyaWFuZ2xlKClcbiAgICAgIC50aGVuKChkYXQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3SW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgbmV3SW1hZ2Uuc3JjID0gZGF0O1xuICAgICAgICBuZXdJbWFnZS5jbGFzc0xpc3QuYWRkKFwibWluLXRlbXAtbG9nb1wiKTtcbiAgICAgICAgbWluVGVtcC5hcHBlbmRDaGlsZChuZXdJbWFnZSk7XG4gICAgICB9KTtcbiAgICBtaW5UZW1wLnRleHRDb250ZW50ID0gYCR7TWF0aC5yb3VuZCh0ZW1wIC0gMjczKX3CsENgO1xuICAgIHJldHVybiBtaW5UZW1wO1xuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZUJhY2tncm91bmQgPSAoY29uZCkgPT4ge1xuICAgIGNvbnN0IHN1biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VuXCIpO1xuICAgIHN1bi5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICBpZiAoY29uZCA9PSBcIkhhemVcIiB8fCBjb25kID09IFwiU21va2VcIikge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kID1cbiAgICAgICAgXCJsaW5lYXItZ3JhZGllbnQocmdiKDE5OCAxOTggMTk4IC8gNTAlKSwgcmdiKDAgMTEzIDE5NSAvIDczJSksIHJnYigxNywgMTUyLCAyNTApKVwiO1xuICAgICAgc3VuLnN0eWxlLmJveFNoYWRvdyA9IFwiMCAwIDJweCAwIHJnYigyNTUsMjU1LDApXCI7XG4gICAgfSBlbHNlIGlmIChjb25kID09IFwiTWlzdFwiKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmQgPSBcImxpbmVhci1ncmFkaWVudChzaWx2ZXIsICMwMDk1ZmYpXCI7XG4gICAgICBzdW4uc3R5bGUuYm94U2hhZG93ID0gXCIwIDAgM3B4IDAgcmdiKDI1NSwyNTUsMClcIjtcbiAgICB9IGVsc2UgaWYgKGNvbmQgPT0gXCJTbm93XCIpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZCA9IFwicmdiKDEzOSwxNzUsMTk5KVwiO1xuICAgICAgc3VuLnN0eWxlLm9wYWNpdHkgPSAwLjk7XG4gICAgfSBlbHNlIGlmIChjb25kID09IFwiQ2xvdWRzXCIpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZCA9XG4gICAgICAgIFwibGluZWFyLWdyYWRpZW50KHJnYig4NywgOTIsIDk1KSwgcmdiKDEyMSwxMTcsMTE3KSlcIjtcbiAgICAgIHN1bi5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIFwic3R5bGVcIixcbiAgICAgICAgXCJvcGFjaXR5OiAwLjc7IGJveC1zaGFkb3c6MCAwIDJweCAwcHggcmdiKDI1NSwyNTUsMCk7XCJcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChjb25kID09IFwiUmFpblwiKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmQgPSBcInJnYig1LCA0MywgNjkpXCI7XG4gICAgICBzdW4uc2V0QXR0cmlidXRlKFxuICAgICAgICBcInN0eWxlXCIsXG4gICAgICAgIFwib3BhY2l0eTogMC44OyBib3gtc2hhZG93OjAgMCAycHggMHB4IHJnYigyNTUsMjU1LDApO1wiXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoY29uZCA9PSBcIkRyaXp6bGVcIikge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kID0gXCJyZ2IoNjcsODksMTA0KVwiO1xuICAgICAgc3VuLnNldEF0dHJpYnV0ZShcbiAgICAgICAgXCJzdHlsZVwiLFxuICAgICAgICBgb3BhY2l0eTogMC44O1xuICAgICAgYm94LXNoYWRvdzogMCAwIDJweCAxcHggcmdiKDI1NSwyNTUsMClgXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmQgPSBcIiMwMDk1ZmZcIjtcbiAgICB9XG4gICAgaGFuZGxlUGFydGljbGVzLmV2YWx1YXRlKGNvbmQpO1xuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZURhdGEgPSAoZGF0YSkgPT4ge1xuICAgIHdlYXRoZXJEaXNwbGF5LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICBjb25zdCB0ZW1wSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGVtcEluZm8uY2xhc3NMaXN0LmFkZChcInRlbXAtaW5mb1wiKTtcblxuICAgIGNvbnN0IHN1biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgc3VuLmNsYXNzTGlzdC5hZGQoXCJzdW5cIik7XG5cbiAgICBjb25zdCB0ZW1wRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0ZW1wRGl2LmNsYXNzTGlzdC5hZGQoXCJ0ZW1wLWRhdGFcIik7XG4gICAgdGVtcERpdi5hcHBlbmRDaGlsZChyZXR1cm5DdXJyZW50VGVtcChkYXRhW1wibWFpblwiXVtcInRlbXBcIl0pKTtcbiAgICB0ZW1wRGl2LmFwcGVuZENoaWxkKHJldHVybk1pblRlbXAoZGF0YVtcIm1haW5cIl1bXCJ0ZW1wX21pblwiXSkpO1xuICAgIHRlbXBEaXYuYXBwZW5kQ2hpbGQocmV0dXJuTWF4VGVtcChkYXRhW1wibWFpblwiXVtcInRlbXBfbWF4XCJdKSk7XG5cbiAgICB0ZW1wSW5mby5hcHBlbmRDaGlsZCh0ZW1wRGl2KTtcbiAgICB0ZW1wSW5mby5hcHBlbmRDaGlsZChyZXR1cm5Db25kaXRpb24oZGF0YVtcIndlYXRoZXJcIl1bMF1bXCJtYWluXCJdKSk7XG4gICAgdGVtcEluZm8uYXBwZW5kQ2hpbGQocmV0dXJuQ2l0eU5hbWUoZGF0YVtcIm5hbWVcIl0pKTtcblxuICAgIHdlYXRoZXJEaXNwbGF5LmFwcGVuZENoaWxkKHN1bik7XG4gICAgd2VhdGhlckRpc3BsYXkuYXBwZW5kQ2hpbGQodGVtcEluZm8pO1xuXG4gICAgdXBkYXRlQmFja2dyb3VuZChkYXRhW1wid2VhdGhlclwiXVswXVtcIm1haW5cIl0pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRpbmctYmVnaW5cIikpO1xuICAgIHJldHVybjtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGVEYXRhLFxuICB9O1xufTtcblxuY29uc3QgZm9ybUhhbmRsZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGlucHV0Rm9ybSA9IGRvY3VtZW50LmZvcm1zWzBdO1xuICBpbnB1dEZvcm0ub25zdWJtaXQgPSBwYXNzQ2l0eU5hbWU7XG5cbiAgZnVuY3Rpb24gZ2V0Q2l0eU5hbWUoKSB7XG4gICAgcmV0dXJuIGlucHV0Rm9ybS5lbGVtZW50c1swXS52YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycikge1xuICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgY29uc3QgZXJyb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGlmIChlcnIubWVzc2FnZSA9PSBcIjQwNFwiKSB7XG4gICAgICBlcnJvckRpdi50ZXh0Q29udGVudCA9IFwiSW52YWxpZCBDaXR5IE5hbWVcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgZXJyb3JEaXYudGV4dENvbnRlbnQgPSBcIkVtcHR5IElucHV0XCI7XG4gICAgfVxuICAgIGVycm9yRGl2LmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LWVycm9yXCIpO1xuICAgIGVycm9yRGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgKGUpID0+IHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZXJyb3JEaXYpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZXJyb3JEaXYpO1xuICAgIHJldHVybjtcbiAgfVxuICBmdW5jdGlvbiBwYXNzQ2l0eU5hbWUoZSkge1xuICAgIGNvbnN0IGNpdHlOYW1lID0gZ2V0Q2l0eU5hbWUoKTtcbiAgICBjb25zdCBlcnJvckRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGlzcGxheS1lcnJvclwiKTtcbiAgICBpZiAoZXJyb3JEaXYpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZXJyb3JEaXYpO1xuICAgIH1cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoY2l0eU5hbWUgPT0gXCJcIikge1xuICAgICAgaGFuZGxlRXJyb3IobmV3IEVycm9yKFwiRW1wdHlcIikpO1xuICAgICAgaW5wdXRGb3JtLnJlc2V0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFwaUhhbmRsZXJcbiAgICAgIC5jYWxsQXBpKGNpdHlOYW1lKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgZGlzcGxheUhhbmRsZXIoKS51cGRhdGVEYXRhKGRhdGEpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgfSk7XG4gICAgaW5wdXRGb3JtLnJlc2V0KCk7XG4gIH1cbn07XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gIGFwaUhhbmRsZXJcbiAgICAuY2FsbEFwaShcIk5ldyBEZWxoaVwiKVxuICAgIC50aGVuKChkYXRhKSA9PiBkaXNwbGF5SGFuZGxlcigpLnVwZGF0ZURhdGEoZGF0YSkpXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge30pO1xufSk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZm9ybUhhbmRsZXIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9